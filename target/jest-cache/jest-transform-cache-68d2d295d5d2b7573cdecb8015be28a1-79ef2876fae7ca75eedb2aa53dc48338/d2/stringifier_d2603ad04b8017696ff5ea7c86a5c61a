e786968455f410db54b36a6957b3c3e3
'use strict';

const DEFAULT_RAW = {
  after: '\n',
  beforeClose: '\n',
  beforeComment: '\n',
  beforeDecl: '\n',
  beforeOpen: ' ',
  beforeRule: '\n',
  colon: ': ',
  commentLeft: ' ',
  commentRight: ' ',
  emptyBody: '',
  indent: '    ',
  semicolon: false
};
function capitalize(str) {
  return str[0].toUpperCase() + str.slice(1);
}
class Stringifier {
  constructor(builder) {
    this.builder = builder;
  }
  atrule(node, semicolon) {
    let name = '@' + node.name;
    let params = node.params ? this.rawValue(node, 'params') : '';
    if (typeof node.raws.afterName !== 'undefined') {
      name += node.raws.afterName;
    } else if (params) {
      name += ' ';
    }
    if (node.nodes) {
      this.block(node, name + params);
    } else {
      let end = (node.raws.between || '') + (semicolon ? ';' : '');
      this.builder(name + params + end, node);
    }
  }
  beforeAfter(node, detect) {
    let value;
    if (node.type === 'decl') {
      value = this.raw(node, null, 'beforeDecl');
    } else if (node.type === 'comment') {
      value = this.raw(node, null, 'beforeComment');
    } else if (detect === 'before') {
      value = this.raw(node, null, 'beforeRule');
    } else {
      value = this.raw(node, null, 'beforeClose');
    }
    let buf = node.parent;
    let depth = 0;
    while (buf && buf.type !== 'root') {
      depth += 1;
      buf = buf.parent;
    }
    if (value.includes('\n')) {
      let indent = this.raw(node, null, 'indent');
      if (indent.length) {
        for (let step = 0; step < depth; step++) value += indent;
      }
    }
    return value;
  }
  block(node, start) {
    let between = this.raw(node, 'between', 'beforeOpen');
    this.builder(start + between + '{', node, 'start');
    let after;
    if (node.nodes && node.nodes.length) {
      this.body(node);
      after = this.raw(node, 'after');
    } else {
      after = this.raw(node, 'after', 'emptyBody');
    }
    if (after) this.builder(after);
    this.builder('}', node, 'end');
  }
  body(node) {
    let last = node.nodes.length - 1;
    while (last > 0) {
      if (node.nodes[last].type !== 'comment') break;
      last -= 1;
    }
    let semicolon = this.raw(node, 'semicolon');
    for (let i = 0; i < node.nodes.length; i++) {
      let child = node.nodes[i];
      let before = this.raw(child, 'before');
      if (before) this.builder(before);
      this.stringify(child, last !== i || semicolon);
    }
  }
  comment(node) {
    let left = this.raw(node, 'left', 'commentLeft');
    let right = this.raw(node, 'right', 'commentRight');
    this.builder('/*' + left + node.text + right + '*/', node);
  }
  decl(node, semicolon) {
    let between = this.raw(node, 'between', 'colon');
    let string = node.prop + between + this.rawValue(node, 'value');
    if (node.important) {
      string += node.raws.important || ' !important';
    }
    if (semicolon) string += ';';
    this.builder(string, node);
  }
  document(node) {
    this.body(node);
  }
  raw(node, own, detect) {
    let value;
    if (!detect) detect = own;

    // Already had
    if (own) {
      value = node.raws[own];
      if (typeof value !== 'undefined') return value;
    }
    let parent = node.parent;
    if (detect === 'before') {
      // Hack for first rule in CSS
      if (!parent || parent.type === 'root' && parent.first === node) {
        return '';
      }

      // `root` nodes in `document` should use only their own raws
      if (parent && parent.type === 'document') {
        return '';
      }
    }

    // Floating child without parent
    if (!parent) return DEFAULT_RAW[detect];

    // Detect style by other nodes
    let root = node.root();
    if (!root.rawCache) root.rawCache = {};
    if (typeof root.rawCache[detect] !== 'undefined') {
      return root.rawCache[detect];
    }
    if (detect === 'before' || detect === 'after') {
      return this.beforeAfter(node, detect);
    } else {
      let method = 'raw' + capitalize(detect);
      if (this[method]) {
        value = this[method](root, node);
      } else {
        root.walk(i => {
          value = i.raws[own];
          if (typeof value !== 'undefined') return false;
        });
      }
    }
    if (typeof value === 'undefined') value = DEFAULT_RAW[detect];
    root.rawCache[detect] = value;
    return value;
  }
  rawBeforeClose(root) {
    let value;
    root.walk(i => {
      if (i.nodes && i.nodes.length > 0) {
        if (typeof i.raws.after !== 'undefined') {
          value = i.raws.after;
          if (value.includes('\n')) {
            value = value.replace(/[^\n]+$/, '');
          }
          return false;
        }
      }
    });
    if (value) value = value.replace(/\S/g, '');
    return value;
  }
  rawBeforeComment(root, node) {
    let value;
    root.walkComments(i => {
      if (typeof i.raws.before !== 'undefined') {
        value = i.raws.before;
        if (value.includes('\n')) {
          value = value.replace(/[^\n]+$/, '');
        }
        return false;
      }
    });
    if (typeof value === 'undefined') {
      value = this.raw(node, null, 'beforeDecl');
    } else if (value) {
      value = value.replace(/\S/g, '');
    }
    return value;
  }
  rawBeforeDecl(root, node) {
    let value;
    root.walkDecls(i => {
      if (typeof i.raws.before !== 'undefined') {
        value = i.raws.before;
        if (value.includes('\n')) {
          value = value.replace(/[^\n]+$/, '');
        }
        return false;
      }
    });
    if (typeof value === 'undefined') {
      value = this.raw(node, null, 'beforeRule');
    } else if (value) {
      value = value.replace(/\S/g, '');
    }
    return value;
  }
  rawBeforeOpen(root) {
    let value;
    root.walk(i => {
      if (i.type !== 'decl') {
        value = i.raws.between;
        if (typeof value !== 'undefined') return false;
      }
    });
    return value;
  }
  rawBeforeRule(root) {
    let value;
    root.walk(i => {
      if (i.nodes && (i.parent !== root || root.first !== i)) {
        if (typeof i.raws.before !== 'undefined') {
          value = i.raws.before;
          if (value.includes('\n')) {
            value = value.replace(/[^\n]+$/, '');
          }
          return false;
        }
      }
    });
    if (value) value = value.replace(/\S/g, '');
    return value;
  }
  rawColon(root) {
    let value;
    root.walkDecls(i => {
      if (typeof i.raws.between !== 'undefined') {
        value = i.raws.between.replace(/[^\s:]/g, '');
        return false;
      }
    });
    return value;
  }
  rawEmptyBody(root) {
    let value;
    root.walk(i => {
      if (i.nodes && i.nodes.length === 0) {
        value = i.raws.after;
        if (typeof value !== 'undefined') return false;
      }
    });
    return value;
  }
  rawIndent(root) {
    if (root.raws.indent) return root.raws.indent;
    let value;
    root.walk(i => {
      let p = i.parent;
      if (p && p !== root && p.parent && p.parent === root) {
        if (typeof i.raws.before !== 'undefined') {
          let parts = i.raws.before.split('\n');
          value = parts[parts.length - 1];
          value = value.replace(/\S/g, '');
          return false;
        }
      }
    });
    return value;
  }
  rawSemicolon(root) {
    let value;
    root.walk(i => {
      if (i.nodes && i.nodes.length && i.last.type === 'decl') {
        value = i.raws.semicolon;
        if (typeof value !== 'undefined') return false;
      }
    });
    return value;
  }
  rawValue(node, prop) {
    let value = node[prop];
    let raw = node.raws[prop];
    if (raw && raw.value === value) {
      return raw.raw;
    }
    return value;
  }
  root(node) {
    this.body(node);
    if (node.raws.after) this.builder(node.raws.after);
  }
  rule(node) {
    this.block(node, this.rawValue(node, 'selector'));
    if (node.raws.ownSemicolon) {
      this.builder(node.raws.ownSemicolon, node, 'end');
    }
  }
  stringify(node, semicolon) {
    /* c8 ignore start */
    if (!this[node.type]) {
      throw new Error('Unknown AST node type ' + node.type + '. ' + 'Maybe you need to change PostCSS stringifier.');
    }
    /* c8 ignore stop */
    this[node.type](node, semicolon);
  }
}
module.exports = Stringifier;
Stringifier.default = Stringifier;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJERUZBVUxUX1JBVyIsImFmdGVyIiwiYmVmb3JlQ2xvc2UiLCJiZWZvcmVDb21tZW50IiwiYmVmb3JlRGVjbCIsImJlZm9yZU9wZW4iLCJiZWZvcmVSdWxlIiwiY29sb24iLCJjb21tZW50TGVmdCIsImNvbW1lbnRSaWdodCIsImVtcHR5Qm9keSIsImluZGVudCIsInNlbWljb2xvbiIsImNhcGl0YWxpemUiLCJzdHIiLCJ0b1VwcGVyQ2FzZSIsInNsaWNlIiwiU3RyaW5naWZpZXIiLCJjb25zdHJ1Y3RvciIsImJ1aWxkZXIiLCJhdHJ1bGUiLCJub2RlIiwibmFtZSIsInBhcmFtcyIsInJhd1ZhbHVlIiwicmF3cyIsImFmdGVyTmFtZSIsIm5vZGVzIiwiYmxvY2siLCJlbmQiLCJiZXR3ZWVuIiwiYmVmb3JlQWZ0ZXIiLCJkZXRlY3QiLCJ2YWx1ZSIsInR5cGUiLCJyYXciLCJidWYiLCJwYXJlbnQiLCJkZXB0aCIsImluY2x1ZGVzIiwibGVuZ3RoIiwic3RlcCIsInN0YXJ0IiwiYm9keSIsImxhc3QiLCJpIiwiY2hpbGQiLCJiZWZvcmUiLCJzdHJpbmdpZnkiLCJjb21tZW50IiwibGVmdCIsInJpZ2h0IiwidGV4dCIsImRlY2wiLCJzdHJpbmciLCJwcm9wIiwiaW1wb3J0YW50IiwiZG9jdW1lbnQiLCJvd24iLCJmaXJzdCIsInJvb3QiLCJyYXdDYWNoZSIsIm1ldGhvZCIsIndhbGsiLCJyYXdCZWZvcmVDbG9zZSIsInJlcGxhY2UiLCJyYXdCZWZvcmVDb21tZW50Iiwid2Fsa0NvbW1lbnRzIiwicmF3QmVmb3JlRGVjbCIsIndhbGtEZWNscyIsInJhd0JlZm9yZU9wZW4iLCJyYXdCZWZvcmVSdWxlIiwicmF3Q29sb24iLCJyYXdFbXB0eUJvZHkiLCJyYXdJbmRlbnQiLCJwIiwicGFydHMiLCJzcGxpdCIsInJhd1NlbWljb2xvbiIsInJ1bGUiLCJvd25TZW1pY29sb24iLCJFcnJvciIsIm1vZHVsZSIsImV4cG9ydHMiLCJkZWZhdWx0Il0sInNvdXJjZXMiOlsic3RyaW5naWZpZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnXG5cbmNvbnN0IERFRkFVTFRfUkFXID0ge1xuICBhZnRlcjogJ1xcbicsXG4gIGJlZm9yZUNsb3NlOiAnXFxuJyxcbiAgYmVmb3JlQ29tbWVudDogJ1xcbicsXG4gIGJlZm9yZURlY2w6ICdcXG4nLFxuICBiZWZvcmVPcGVuOiAnICcsXG4gIGJlZm9yZVJ1bGU6ICdcXG4nLFxuICBjb2xvbjogJzogJyxcbiAgY29tbWVudExlZnQ6ICcgJyxcbiAgY29tbWVudFJpZ2h0OiAnICcsXG4gIGVtcHR5Qm9keTogJycsXG4gIGluZGVudDogJyAgICAnLFxuICBzZW1pY29sb246IGZhbHNlXG59XG5cbmZ1bmN0aW9uIGNhcGl0YWxpemUoc3RyKSB7XG4gIHJldHVybiBzdHJbMF0udG9VcHBlckNhc2UoKSArIHN0ci5zbGljZSgxKVxufVxuXG5jbGFzcyBTdHJpbmdpZmllciB7XG4gIGNvbnN0cnVjdG9yKGJ1aWxkZXIpIHtcbiAgICB0aGlzLmJ1aWxkZXIgPSBidWlsZGVyXG4gIH1cblxuICBhdHJ1bGUobm9kZSwgc2VtaWNvbG9uKSB7XG4gICAgbGV0IG5hbWUgPSAnQCcgKyBub2RlLm5hbWVcbiAgICBsZXQgcGFyYW1zID0gbm9kZS5wYXJhbXMgPyB0aGlzLnJhd1ZhbHVlKG5vZGUsICdwYXJhbXMnKSA6ICcnXG5cbiAgICBpZiAodHlwZW9mIG5vZGUucmF3cy5hZnRlck5hbWUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBuYW1lICs9IG5vZGUucmF3cy5hZnRlck5hbWVcbiAgICB9IGVsc2UgaWYgKHBhcmFtcykge1xuICAgICAgbmFtZSArPSAnICdcbiAgICB9XG5cbiAgICBpZiAobm9kZS5ub2Rlcykge1xuICAgICAgdGhpcy5ibG9jayhub2RlLCBuYW1lICsgcGFyYW1zKVxuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgZW5kID0gKG5vZGUucmF3cy5iZXR3ZWVuIHx8ICcnKSArIChzZW1pY29sb24gPyAnOycgOiAnJylcbiAgICAgIHRoaXMuYnVpbGRlcihuYW1lICsgcGFyYW1zICsgZW5kLCBub2RlKVxuICAgIH1cbiAgfVxuXG4gIGJlZm9yZUFmdGVyKG5vZGUsIGRldGVjdCkge1xuICAgIGxldCB2YWx1ZVxuICAgIGlmIChub2RlLnR5cGUgPT09ICdkZWNsJykge1xuICAgICAgdmFsdWUgPSB0aGlzLnJhdyhub2RlLCBudWxsLCAnYmVmb3JlRGVjbCcpXG4gICAgfSBlbHNlIGlmIChub2RlLnR5cGUgPT09ICdjb21tZW50Jykge1xuICAgICAgdmFsdWUgPSB0aGlzLnJhdyhub2RlLCBudWxsLCAnYmVmb3JlQ29tbWVudCcpXG4gICAgfSBlbHNlIGlmIChkZXRlY3QgPT09ICdiZWZvcmUnKSB7XG4gICAgICB2YWx1ZSA9IHRoaXMucmF3KG5vZGUsIG51bGwsICdiZWZvcmVSdWxlJylcbiAgICB9IGVsc2Uge1xuICAgICAgdmFsdWUgPSB0aGlzLnJhdyhub2RlLCBudWxsLCAnYmVmb3JlQ2xvc2UnKVxuICAgIH1cblxuICAgIGxldCBidWYgPSBub2RlLnBhcmVudFxuICAgIGxldCBkZXB0aCA9IDBcbiAgICB3aGlsZSAoYnVmICYmIGJ1Zi50eXBlICE9PSAncm9vdCcpIHtcbiAgICAgIGRlcHRoICs9IDFcbiAgICAgIGJ1ZiA9IGJ1Zi5wYXJlbnRcbiAgICB9XG5cbiAgICBpZiAodmFsdWUuaW5jbHVkZXMoJ1xcbicpKSB7XG4gICAgICBsZXQgaW5kZW50ID0gdGhpcy5yYXcobm9kZSwgbnVsbCwgJ2luZGVudCcpXG4gICAgICBpZiAoaW5kZW50Lmxlbmd0aCkge1xuICAgICAgICBmb3IgKGxldCBzdGVwID0gMDsgc3RlcCA8IGRlcHRoOyBzdGVwKyspIHZhbHVlICs9IGluZGVudFxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB2YWx1ZVxuICB9XG5cbiAgYmxvY2sobm9kZSwgc3RhcnQpIHtcbiAgICBsZXQgYmV0d2VlbiA9IHRoaXMucmF3KG5vZGUsICdiZXR3ZWVuJywgJ2JlZm9yZU9wZW4nKVxuICAgIHRoaXMuYnVpbGRlcihzdGFydCArIGJldHdlZW4gKyAneycsIG5vZGUsICdzdGFydCcpXG5cbiAgICBsZXQgYWZ0ZXJcbiAgICBpZiAobm9kZS5ub2RlcyAmJiBub2RlLm5vZGVzLmxlbmd0aCkge1xuICAgICAgdGhpcy5ib2R5KG5vZGUpXG4gICAgICBhZnRlciA9IHRoaXMucmF3KG5vZGUsICdhZnRlcicpXG4gICAgfSBlbHNlIHtcbiAgICAgIGFmdGVyID0gdGhpcy5yYXcobm9kZSwgJ2FmdGVyJywgJ2VtcHR5Qm9keScpXG4gICAgfVxuXG4gICAgaWYgKGFmdGVyKSB0aGlzLmJ1aWxkZXIoYWZ0ZXIpXG4gICAgdGhpcy5idWlsZGVyKCd9Jywgbm9kZSwgJ2VuZCcpXG4gIH1cblxuICBib2R5KG5vZGUpIHtcbiAgICBsZXQgbGFzdCA9IG5vZGUubm9kZXMubGVuZ3RoIC0gMVxuICAgIHdoaWxlIChsYXN0ID4gMCkge1xuICAgICAgaWYgKG5vZGUubm9kZXNbbGFzdF0udHlwZSAhPT0gJ2NvbW1lbnQnKSBicmVha1xuICAgICAgbGFzdCAtPSAxXG4gICAgfVxuXG4gICAgbGV0IHNlbWljb2xvbiA9IHRoaXMucmF3KG5vZGUsICdzZW1pY29sb24nKVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbm9kZS5ub2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IGNoaWxkID0gbm9kZS5ub2Rlc1tpXVxuICAgICAgbGV0IGJlZm9yZSA9IHRoaXMucmF3KGNoaWxkLCAnYmVmb3JlJylcbiAgICAgIGlmIChiZWZvcmUpIHRoaXMuYnVpbGRlcihiZWZvcmUpXG4gICAgICB0aGlzLnN0cmluZ2lmeShjaGlsZCwgbGFzdCAhPT0gaSB8fCBzZW1pY29sb24pXG4gICAgfVxuICB9XG5cbiAgY29tbWVudChub2RlKSB7XG4gICAgbGV0IGxlZnQgPSB0aGlzLnJhdyhub2RlLCAnbGVmdCcsICdjb21tZW50TGVmdCcpXG4gICAgbGV0IHJpZ2h0ID0gdGhpcy5yYXcobm9kZSwgJ3JpZ2h0JywgJ2NvbW1lbnRSaWdodCcpXG4gICAgdGhpcy5idWlsZGVyKCcvKicgKyBsZWZ0ICsgbm9kZS50ZXh0ICsgcmlnaHQgKyAnKi8nLCBub2RlKVxuICB9XG5cbiAgZGVjbChub2RlLCBzZW1pY29sb24pIHtcbiAgICBsZXQgYmV0d2VlbiA9IHRoaXMucmF3KG5vZGUsICdiZXR3ZWVuJywgJ2NvbG9uJylcbiAgICBsZXQgc3RyaW5nID0gbm9kZS5wcm9wICsgYmV0d2VlbiArIHRoaXMucmF3VmFsdWUobm9kZSwgJ3ZhbHVlJylcblxuICAgIGlmIChub2RlLmltcG9ydGFudCkge1xuICAgICAgc3RyaW5nICs9IG5vZGUucmF3cy5pbXBvcnRhbnQgfHwgJyAhaW1wb3J0YW50J1xuICAgIH1cblxuICAgIGlmIChzZW1pY29sb24pIHN0cmluZyArPSAnOydcbiAgICB0aGlzLmJ1aWxkZXIoc3RyaW5nLCBub2RlKVxuICB9XG5cbiAgZG9jdW1lbnQobm9kZSkge1xuICAgIHRoaXMuYm9keShub2RlKVxuICB9XG5cbiAgcmF3KG5vZGUsIG93biwgZGV0ZWN0KSB7XG4gICAgbGV0IHZhbHVlXG4gICAgaWYgKCFkZXRlY3QpIGRldGVjdCA9IG93blxuXG4gICAgLy8gQWxyZWFkeSBoYWRcbiAgICBpZiAob3duKSB7XG4gICAgICB2YWx1ZSA9IG5vZGUucmF3c1tvd25dXG4gICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAndW5kZWZpbmVkJykgcmV0dXJuIHZhbHVlXG4gICAgfVxuXG4gICAgbGV0IHBhcmVudCA9IG5vZGUucGFyZW50XG5cbiAgICBpZiAoZGV0ZWN0ID09PSAnYmVmb3JlJykge1xuICAgICAgLy8gSGFjayBmb3IgZmlyc3QgcnVsZSBpbiBDU1NcbiAgICAgIGlmICghcGFyZW50IHx8IChwYXJlbnQudHlwZSA9PT0gJ3Jvb3QnICYmIHBhcmVudC5maXJzdCA9PT0gbm9kZSkpIHtcbiAgICAgICAgcmV0dXJuICcnXG4gICAgICB9XG5cbiAgICAgIC8vIGByb290YCBub2RlcyBpbiBgZG9jdW1lbnRgIHNob3VsZCB1c2Ugb25seSB0aGVpciBvd24gcmF3c1xuICAgICAgaWYgKHBhcmVudCAmJiBwYXJlbnQudHlwZSA9PT0gJ2RvY3VtZW50Jykge1xuICAgICAgICByZXR1cm4gJydcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBGbG9hdGluZyBjaGlsZCB3aXRob3V0IHBhcmVudFxuICAgIGlmICghcGFyZW50KSByZXR1cm4gREVGQVVMVF9SQVdbZGV0ZWN0XVxuXG4gICAgLy8gRGV0ZWN0IHN0eWxlIGJ5IG90aGVyIG5vZGVzXG4gICAgbGV0IHJvb3QgPSBub2RlLnJvb3QoKVxuICAgIGlmICghcm9vdC5yYXdDYWNoZSkgcm9vdC5yYXdDYWNoZSA9IHt9XG4gICAgaWYgKHR5cGVvZiByb290LnJhd0NhY2hlW2RldGVjdF0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICByZXR1cm4gcm9vdC5yYXdDYWNoZVtkZXRlY3RdXG4gICAgfVxuXG4gICAgaWYgKGRldGVjdCA9PT0gJ2JlZm9yZScgfHwgZGV0ZWN0ID09PSAnYWZ0ZXInKSB7XG4gICAgICByZXR1cm4gdGhpcy5iZWZvcmVBZnRlcihub2RlLCBkZXRlY3QpXG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBtZXRob2QgPSAncmF3JyArIGNhcGl0YWxpemUoZGV0ZWN0KVxuICAgICAgaWYgKHRoaXNbbWV0aG9kXSkge1xuICAgICAgICB2YWx1ZSA9IHRoaXNbbWV0aG9kXShyb290LCBub2RlKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcm9vdC53YWxrKGkgPT4ge1xuICAgICAgICAgIHZhbHVlID0gaS5yYXdzW293bl1cbiAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAndW5kZWZpbmVkJykgcmV0dXJuIGZhbHNlXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3VuZGVmaW5lZCcpIHZhbHVlID0gREVGQVVMVF9SQVdbZGV0ZWN0XVxuXG4gICAgcm9vdC5yYXdDYWNoZVtkZXRlY3RdID0gdmFsdWVcbiAgICByZXR1cm4gdmFsdWVcbiAgfVxuXG4gIHJhd0JlZm9yZUNsb3NlKHJvb3QpIHtcbiAgICBsZXQgdmFsdWVcbiAgICByb290LndhbGsoaSA9PiB7XG4gICAgICBpZiAoaS5ub2RlcyAmJiBpLm5vZGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpLnJhd3MuYWZ0ZXIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgdmFsdWUgPSBpLnJhd3MuYWZ0ZXJcbiAgICAgICAgICBpZiAodmFsdWUuaW5jbHVkZXMoJ1xcbicpKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UoL1teXFxuXSskLywgJycpXG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSlcbiAgICBpZiAodmFsdWUpIHZhbHVlID0gdmFsdWUucmVwbGFjZSgvXFxTL2csICcnKVxuICAgIHJldHVybiB2YWx1ZVxuICB9XG5cbiAgcmF3QmVmb3JlQ29tbWVudChyb290LCBub2RlKSB7XG4gICAgbGV0IHZhbHVlXG4gICAgcm9vdC53YWxrQ29tbWVudHMoaSA9PiB7XG4gICAgICBpZiAodHlwZW9mIGkucmF3cy5iZWZvcmUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHZhbHVlID0gaS5yYXdzLmJlZm9yZVxuICAgICAgICBpZiAodmFsdWUuaW5jbHVkZXMoJ1xcbicpKSB7XG4gICAgICAgICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKC9bXlxcbl0rJC8sICcnKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuICAgIH0pXG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHZhbHVlID0gdGhpcy5yYXcobm9kZSwgbnVsbCwgJ2JlZm9yZURlY2wnKVxuICAgIH0gZWxzZSBpZiAodmFsdWUpIHtcbiAgICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZSgvXFxTL2csICcnKVxuICAgIH1cbiAgICByZXR1cm4gdmFsdWVcbiAgfVxuXG4gIHJhd0JlZm9yZURlY2wocm9vdCwgbm9kZSkge1xuICAgIGxldCB2YWx1ZVxuICAgIHJvb3Qud2Fsa0RlY2xzKGkgPT4ge1xuICAgICAgaWYgKHR5cGVvZiBpLnJhd3MuYmVmb3JlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICB2YWx1ZSA9IGkucmF3cy5iZWZvcmVcbiAgICAgICAgaWYgKHZhbHVlLmluY2x1ZGVzKCdcXG4nKSkge1xuICAgICAgICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZSgvW15cXG5dKyQvLCAnJylcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cbiAgICB9KVxuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB2YWx1ZSA9IHRoaXMucmF3KG5vZGUsIG51bGwsICdiZWZvcmVSdWxlJylcbiAgICB9IGVsc2UgaWYgKHZhbHVlKSB7XG4gICAgICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UoL1xcUy9nLCAnJylcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlXG4gIH1cblxuICByYXdCZWZvcmVPcGVuKHJvb3QpIHtcbiAgICBsZXQgdmFsdWVcbiAgICByb290LndhbGsoaSA9PiB7XG4gICAgICBpZiAoaS50eXBlICE9PSAnZGVjbCcpIHtcbiAgICAgICAgdmFsdWUgPSBpLnJhd3MuYmV0d2VlblxuICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAndW5kZWZpbmVkJykgcmV0dXJuIGZhbHNlXG4gICAgICB9XG4gICAgfSlcbiAgICByZXR1cm4gdmFsdWVcbiAgfVxuXG4gIHJhd0JlZm9yZVJ1bGUocm9vdCkge1xuICAgIGxldCB2YWx1ZVxuICAgIHJvb3Qud2FsayhpID0+IHtcbiAgICAgIGlmIChpLm5vZGVzICYmIChpLnBhcmVudCAhPT0gcm9vdCB8fCByb290LmZpcnN0ICE9PSBpKSkge1xuICAgICAgICBpZiAodHlwZW9mIGkucmF3cy5iZWZvcmUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgdmFsdWUgPSBpLnJhd3MuYmVmb3JlXG4gICAgICAgICAgaWYgKHZhbHVlLmluY2x1ZGVzKCdcXG4nKSkge1xuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKC9bXlxcbl0rJC8sICcnKVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pXG4gICAgaWYgKHZhbHVlKSB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UoL1xcUy9nLCAnJylcbiAgICByZXR1cm4gdmFsdWVcbiAgfVxuXG4gIHJhd0NvbG9uKHJvb3QpIHtcbiAgICBsZXQgdmFsdWVcbiAgICByb290LndhbGtEZWNscyhpID0+IHtcbiAgICAgIGlmICh0eXBlb2YgaS5yYXdzLmJldHdlZW4gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHZhbHVlID0gaS5yYXdzLmJldHdlZW4ucmVwbGFjZSgvW15cXHM6XS9nLCAnJylcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG4gICAgfSlcbiAgICByZXR1cm4gdmFsdWVcbiAgfVxuXG4gIHJhd0VtcHR5Qm9keShyb290KSB7XG4gICAgbGV0IHZhbHVlXG4gICAgcm9vdC53YWxrKGkgPT4ge1xuICAgICAgaWYgKGkubm9kZXMgJiYgaS5ub2Rlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdmFsdWUgPSBpLnJhd3MuYWZ0ZXJcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3VuZGVmaW5lZCcpIHJldHVybiBmYWxzZVxuICAgICAgfVxuICAgIH0pXG4gICAgcmV0dXJuIHZhbHVlXG4gIH1cblxuICByYXdJbmRlbnQocm9vdCkge1xuICAgIGlmIChyb290LnJhd3MuaW5kZW50KSByZXR1cm4gcm9vdC5yYXdzLmluZGVudFxuICAgIGxldCB2YWx1ZVxuICAgIHJvb3Qud2FsayhpID0+IHtcbiAgICAgIGxldCBwID0gaS5wYXJlbnRcbiAgICAgIGlmIChwICYmIHAgIT09IHJvb3QgJiYgcC5wYXJlbnQgJiYgcC5wYXJlbnQgPT09IHJvb3QpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpLnJhd3MuYmVmb3JlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIGxldCBwYXJ0cyA9IGkucmF3cy5iZWZvcmUuc3BsaXQoJ1xcbicpXG4gICAgICAgICAgdmFsdWUgPSBwYXJ0c1twYXJ0cy5sZW5ndGggLSAxXVxuICAgICAgICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZSgvXFxTL2csICcnKVxuICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSlcbiAgICByZXR1cm4gdmFsdWVcbiAgfVxuXG4gIHJhd1NlbWljb2xvbihyb290KSB7XG4gICAgbGV0IHZhbHVlXG4gICAgcm9vdC53YWxrKGkgPT4ge1xuICAgICAgaWYgKGkubm9kZXMgJiYgaS5ub2Rlcy5sZW5ndGggJiYgaS5sYXN0LnR5cGUgPT09ICdkZWNsJykge1xuICAgICAgICB2YWx1ZSA9IGkucmF3cy5zZW1pY29sb25cbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3VuZGVmaW5lZCcpIHJldHVybiBmYWxzZVxuICAgICAgfVxuICAgIH0pXG4gICAgcmV0dXJuIHZhbHVlXG4gIH1cblxuICByYXdWYWx1ZShub2RlLCBwcm9wKSB7XG4gICAgbGV0IHZhbHVlID0gbm9kZVtwcm9wXVxuICAgIGxldCByYXcgPSBub2RlLnJhd3NbcHJvcF1cbiAgICBpZiAocmF3ICYmIHJhdy52YWx1ZSA9PT0gdmFsdWUpIHtcbiAgICAgIHJldHVybiByYXcucmF3XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbHVlXG4gIH1cblxuICByb290KG5vZGUpIHtcbiAgICB0aGlzLmJvZHkobm9kZSlcbiAgICBpZiAobm9kZS5yYXdzLmFmdGVyKSB0aGlzLmJ1aWxkZXIobm9kZS5yYXdzLmFmdGVyKVxuICB9XG5cbiAgcnVsZShub2RlKSB7XG4gICAgdGhpcy5ibG9jayhub2RlLCB0aGlzLnJhd1ZhbHVlKG5vZGUsICdzZWxlY3RvcicpKVxuICAgIGlmIChub2RlLnJhd3Mub3duU2VtaWNvbG9uKSB7XG4gICAgICB0aGlzLmJ1aWxkZXIobm9kZS5yYXdzLm93blNlbWljb2xvbiwgbm9kZSwgJ2VuZCcpXG4gICAgfVxuICB9XG5cbiAgc3RyaW5naWZ5KG5vZGUsIHNlbWljb2xvbikge1xuICAgIC8qIGM4IGlnbm9yZSBzdGFydCAqL1xuICAgIGlmICghdGhpc1tub2RlLnR5cGVdKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdVbmtub3duIEFTVCBub2RlIHR5cGUgJyArXG4gICAgICAgICAgbm9kZS50eXBlICtcbiAgICAgICAgICAnLiAnICtcbiAgICAgICAgICAnTWF5YmUgeW91IG5lZWQgdG8gY2hhbmdlIFBvc3RDU1Mgc3RyaW5naWZpZXIuJ1xuICAgICAgKVxuICAgIH1cbiAgICAvKiBjOCBpZ25vcmUgc3RvcCAqL1xuICAgIHRoaXNbbm9kZS50eXBlXShub2RlLCBzZW1pY29sb24pXG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBTdHJpbmdpZmllclxuU3RyaW5naWZpZXIuZGVmYXVsdCA9IFN0cmluZ2lmaWVyXG4iXSwibWFwcGluZ3MiOiJBQUFBLFlBQVk7O0FBRVosTUFBTUEsV0FBVyxHQUFHO0VBQ2xCQyxLQUFLLEVBQUUsSUFBSTtFQUNYQyxXQUFXLEVBQUUsSUFBSTtFQUNqQkMsYUFBYSxFQUFFLElBQUk7RUFDbkJDLFVBQVUsRUFBRSxJQUFJO0VBQ2hCQyxVQUFVLEVBQUUsR0FBRztFQUNmQyxVQUFVLEVBQUUsSUFBSTtFQUNoQkMsS0FBSyxFQUFFLElBQUk7RUFDWEMsV0FBVyxFQUFFLEdBQUc7RUFDaEJDLFlBQVksRUFBRSxHQUFHO0VBQ2pCQyxTQUFTLEVBQUUsRUFBRTtFQUNiQyxNQUFNLEVBQUUsTUFBTTtFQUNkQyxTQUFTLEVBQUU7QUFDYixDQUFDO0FBRUQsU0FBU0MsVUFBVUEsQ0FBQ0MsR0FBRyxFQUFFO0VBQ3ZCLE9BQU9BLEdBQUcsQ0FBQyxDQUFDLENB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