6f5cdbd68b4e97cd5ea6b636fcbdb8c2
"use strict";

var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all) __defProp(target, name, {
    get: all[name],
    enumerable: true
  });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from)) if (!__hasOwnProp.call(to, key) && key !== except) __defProp(to, key, {
      get: () => from[key],
      enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable
    });
  }
  return to;
};
var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
// If the importer is in node compatibility mode or this is not an ESM
// file that has been converted to a CommonJS file using a Babel-
// compatible transform (i.e. "__esModule" has not been set), then set
// "default" to the CommonJS "module.exports" for node compatibility.
isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", {
  value: mod,
  enumerable: true
}) : target, mod));
var __toCommonJS = mod => __copyProps(__defProp({}, "__esModule", {
  value: true
}), mod);

// src/index.ts
var src_exports = {};
__export(src_exports, {
  Provider: () => Provider_default,
  ReactReduxContext: () => ReactReduxContext,
  batch: () => batch,
  connect: () => connect_default,
  createDispatchHook: () => createDispatchHook,
  createSelectorHook: () => createSelectorHook,
  createStoreHook: () => createStoreHook,
  shallowEqual: () => shallowEqual,
  useDispatch: () => useDispatch,
  useSelector: () => useSelector,
  useStore: () => useStore
});
module.exports = __toCommonJS(src_exports);
var React2 = __toESM(require("react"));
var import_with_selector = require("use-sync-external-store/with-selector.js");

// src/utils/react.ts
var ReactOriginal = __toESM(require("react"));
var React =
// prettier-ignore
// @ts-ignore
"default" in ReactOriginal ? ReactOriginal["default"] : ReactOriginal;

// src/components/Context.ts
var ContextKey = Symbol.for(`react-redux-context`);
var gT = typeof globalThis !== "undefined" ? globalThis : ( /* fall back to a per-module scope (pre-8.1 behaviour) if `globalThis` is not available */
{});
function getContext() {
  if (!React.createContext) return {};
  const contextMap = gT[ContextKey] ?? (gT[ContextKey] = /* @__PURE__ */new Map());
  let realContext = contextMap.get(React.createContext);
  if (!realContext) {
    realContext = React.createContext(null);
    if (true) {
      realContext.displayName = "ReactRedux";
    }
    contextMap.set(React.createContext, realContext);
  }
  return realContext;
}
var ReactReduxContext = /* @__PURE__ */getContext();

// src/utils/useSyncExternalStore.ts
var notInitialized = () => {
  throw new Error("uSES not initialized!");
};

// src/hooks/useReduxContext.ts
function createReduxContextHook(context = ReactReduxContext) {
  return function useReduxContext2() {
    const contextValue = React.useContext(context);
    if (!contextValue) {
      throw new Error("could not find react-redux context value; please ensure the component is wrapped in a <Provider>");
    }
    return contextValue;
  };
}
var useReduxContext = /* @__PURE__ */createReduxContextHook();

// src/hooks/useSelector.ts
var useSyncExternalStoreWithSelector = notInitialized;
var initializeUseSelector = fn => {
  useSyncExternalStoreWithSelector = fn;
};
var refEquality = (a, b) => a === b;
function createSelectorHook(context = ReactReduxContext) {
  const useReduxContext2 = context === ReactReduxContext ? useReduxContext : createReduxContextHook(context);
  const useSelector2 = (selector, equalityFnOrOptions = {}) => {
    const {
      equalityFn = refEquality,
      devModeChecks = {}
    } = typeof equalityFnOrOptions === "function" ? {
      equalityFn: equalityFnOrOptions
    } : equalityFnOrOptions;
    if (true) {
      if (!selector) {
        throw new Error(`You must pass a selector to useSelector`);
      }
      if (typeof selector !== "function") {
        throw new Error(`You must pass a function as a selector to useSelector`);
      }
      if (typeof equalityFn !== "function") {
        throw new Error(`You must pass a function as an equality function to useSelector`);
      }
    }
    const {
      store,
      subscription,
      getServerState,
      stabilityCheck,
      identityFunctionCheck
    } = useReduxContext2();
    const firstRun = React.useRef(true);
    const wrappedSelector = React.useCallback({
      [selector.name](state) {
        const selected = selector(state);
        if (true) {
          const {
            identityFunctionCheck: finalIdentityFunctionCheck,
            stabilityCheck: finalStabilityCheck
          } = {
            stabilityCheck,
            identityFunctionCheck,
            ...devModeChecks
          };
          if (finalStabilityCheck === "always" || finalStabilityCheck === "once" && firstRun.current) {
            const toCompare = selector(state);
            if (!equalityFn(selected, toCompare)) {
              let stack = void 0;
              try {
                throw new Error();
              } catch (e) {
                ;
                ({
                  stack
                } = e);
              }
              console.warn("Selector " + (selector.name || "unknown") + " returned a different result when called with the same parameters. This can lead to unnecessary rerenders.\nSelectors that return a new reference (such as an object or an array) should be memoized: https://redux.js.org/usage/deriving-data-selectors#optimizing-selectors-with-memoization", {
                state,
                selected,
                selected2: toCompare,
                stack
              });
            }
          }
          if (finalIdentityFunctionCheck === "always" || finalIdentityFunctionCheck === "once" && firstRun.current) {
            if (selected === state) {
              let stack = void 0;
              try {
                throw new Error();
              } catch (e) {
                ;
                ({
                  stack
                } = e);
              }
              console.warn("Selector " + (selector.name || "unknown") + " returned the root state when called. This can lead to unnecessary rerenders.\nSelectors that return the entire state are almost certainly a mistake, as they will cause a rerender whenever *anything* in state changes.", {
                stack
              });
            }
          }
          if (firstRun.current) firstRun.current = false;
        }
        return selected;
      }
    }[selector.name], [selector, stabilityCheck, devModeChecks.stabilityCheck]);
    const selectedState = useSyncExternalStoreWithSelector(subscription.addNestedSub, store.getState, getServerState || store.getState, wrappedSelector, equalityFn);
    React.useDebugValue(selectedState);
    return selectedState;
  };
  Object.assign(useSelector2, {
    withTypes: () => useSelector2
  });
  return useSelector2;
}
var useSelector = /* @__PURE__ */createSelectorHook();

// src/utils/react-is.ts
var REACT_ELEMENT_TYPE = Symbol.for("react.element");
var REACT_PORTAL_TYPE = Symbol.for("react.portal");
var REACT_FRAGMENT_TYPE = Symbol.for("react.fragment");
var REACT_STRICT_MODE_TYPE = Symbol.for("react.strict_mode");
var REACT_PROFILER_TYPE = Symbol.for("react.profiler");
var REACT_PROVIDER_TYPE = Symbol.for("react.provider");
var REACT_CONTEXT_TYPE = Symbol.for("react.context");
var REACT_SERVER_CONTEXT_TYPE = Symbol.for("react.server_context");
var REACT_FORWARD_REF_TYPE = Symbol.for("react.forward_ref");
var REACT_SUSPENSE_TYPE = Symbol.for("react.suspense");
var REACT_SUSPENSE_LIST_TYPE = Symbol.for("react.suspense_list");
var REACT_MEMO_TYPE = Symbol.for("react.memo");
var REACT_LAZY_TYPE = Symbol.for("react.lazy");
var REACT_OFFSCREEN_TYPE = Symbol.for("react.offscreen");
var REACT_CLIENT_REFERENCE = Symbol.for("react.client.reference");
var ForwardRef = REACT_FORWARD_REF_TYPE;
var Memo = REACT_MEMO_TYPE;
function isValidElementType(type) {
  if (typeof type === "string" || typeof type === "function") {
    return true;
  }
  if (type === REACT_FRAGMENT_TYPE || type === REACT_PROFILER_TYPE || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || type === REACT_SUSPENSE_LIST_TYPE || type === REACT_OFFSCREEN_TYPE) {
    return true;
  }
  if (typeof type === "object" && type !== null) {
    if (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE ||
    // This needs to include all possible module reference object
    // types supported by any Flight configuration anywhere since
    // we don't know which Flight build this will end up being used
    // with.
    type.$$typeof === REACT_CLIENT_REFERENCE || type.getModuleId !== void 0) {
      return true;
    }
  }
  return false;
}
function typeOf(object) {
  if (typeof object === "object" && object !== null) {
    const $$typeof = object.$$typeof;
    switch ($$typeof) {
      case REACT_ELEMENT_TYPE:
        {
          const type = object.type;
          switch (type) {
            case REACT_FRAGMENT_TYPE:
            case REACT_PROFILER_TYPE:
            case REACT_STRICT_MODE_TYPE:
            case REACT_SUSPENSE_TYPE:
            case REACT_SUSPENSE_LIST_TYPE:
              return type;
            default:
              {
                const $$typeofType = type && type.$$typeof;
                switch ($$typeofType) {
                  case REACT_SERVER_CONTEXT_TYPE:
                  case REACT_CONTEXT_TYPE:
                  case REACT_FORWARD_REF_TYPE:
                  case REACT_LAZY_TYPE:
                  case REACT_MEMO_TYPE:
                  case REACT_PROVIDER_TYPE:
                    return $$typeofType;
                  default:
                    return $$typeof;
                }
              }
          }
        }
      case REACT_PORTAL_TYPE:
        {
          return $$typeof;
        }
    }
  }
  return void 0;
}
function isContextConsumer(object) {
  return typeOf(object) === REACT_CONTEXT_TYPE;
}
function isMemo(object) {
  return typeOf(object) === REACT_MEMO_TYPE;
}

// src/utils/warning.ts
function warning(message) {
  if (typeof console !== "undefined" && typeof console.error === "function") {
    console.error(message);
  }
  try {
    throw new Error(message);
  } catch (e) {}
}

// src/connect/verifySubselectors.ts
function verify(selector, methodName) {
  if (!selector) {
    throw new Error(`Unexpected value for ${methodName} in connect.`);
  } else if (methodName === "mapStateToProps" || methodName === "mapDispatchToProps") {
    if (!Object.prototype.hasOwnProperty.call(selector, "dependsOnOwnProps")) {
      warning(`The selector for ${methodName} of connect did not specify a value for dependsOnOwnProps.`);
    }
  }
}
function verifySubselectors(mapStateToProps, mapDispatchToProps, mergeProps) {
  verify(mapStateToProps, "mapStateToProps");
  verify(mapDispatchToProps, "mapDispatchToProps");
  verify(mergeProps, "mergeProps");
}

// src/connect/selectorFactory.ts
function pureFinalPropsSelectorFactory(mapStateToProps, mapDispatchToProps, mergeProps, dispatch, {
  areStatesEqual,
  areOwnPropsEqual,
  areStatePropsEqual
}) {
  let hasRunAtLeastOnce = false;
  let state;
  let ownProps;
  let stateProps;
  let dispatchProps;
  let mergedProps;
  function handleFirstCall(firstState, firstOwnProps) {
    state = firstState;
    ownProps = firstOwnProps;
    stateProps = mapStateToProps(state, ownProps);
    dispatchProps = mapDispatchToProps(dispatch, ownProps);
    mergedProps = mergeProps(stateProps, dispatchProps, ownProps);
    hasRunAtLeastOnce = true;
    return mergedProps;
  }
  function handleNewPropsAndNewState() {
    stateProps = mapStateToProps(state, ownProps);
    if (mapDispatchToProps.dependsOnOwnProps) dispatchProps = mapDispatchToProps(dispatch, ownProps);
    mergedProps = mergeProps(stateProps, dispatchProps, ownProps);
    return mergedProps;
  }
  function handleNewProps() {
    if (mapStateToProps.dependsOnOwnProps) stateProps = mapStateToProps(state, ownProps);
    if (mapDispatchToProps.dependsOnOwnProps) dispatchProps = mapDispatchToProps(dispatch, ownProps);
    mergedProps = mergeProps(stateProps, dispatchProps, ownProps);
    return mergedProps;
  }
  function handleNewState() {
    const nextStateProps = mapStateToProps(state, ownProps);
    const statePropsChanged = !areStatePropsEqual(nextStateProps, stateProps);
    stateProps = nextStateProps;
    if (statePropsChanged) mergedProps = mergeProps(stateProps, dispatchProps, ownProps);
    return mergedProps;
  }
  function handleSubsequentCalls(nextState, nextOwnProps) {
    const propsChanged = !areOwnPropsEqual(nextOwnProps, ownProps);
    const stateChanged = !areStatesEqual(nextState, state, nextOwnProps, ownProps);
    state = nextState;
    ownProps = nextOwnProps;
    if (propsChanged && stateChanged) return handleNewPropsAndNewState();
    if (propsChanged) return handleNewProps();
    if (stateChanged) return handleNewState();
    return mergedProps;
  }
  return function pureFinalPropsSelector(nextState, nextOwnProps) {
    return hasRunAtLeastOnce ? handleSubsequentCalls(nextState, nextOwnProps) : handleFirstCall(nextState, nextOwnProps);
  };
}
function finalPropsSelectorFactory(dispatch, {
  initMapStateToProps,
  initMapDispatchToProps,
  initMergeProps,
  ...options
}) {
  const mapStateToProps = initMapStateToProps(dispatch, options);
  const mapDispatchToProps = initMapDispatchToProps(dispatch, options);
  const mergeProps = initMergeProps(dispatch, options);
  if (true) {
    verifySubselectors(mapStateToProps, mapDispatchToProps, mergeProps);
  }
  return pureFinalPropsSelectorFactory(mapStateToProps, mapDispatchToProps, mergeProps, dispatch, options);
}

// src/utils/bindActionCreators.ts
function bindActionCreators(actionCreators, dispatch) {
  const boundActionCreators = {};
  for (const key in actionCreators) {
    const actionCreator = actionCreators[key];
    if (typeof actionCreator === "function") {
      boundActionCreators[key] = (...args) => dispatch(actionCreator(...args));
    }
  }
  return boundActionCreators;
}

// src/utils/isPlainObject.ts
function isPlainObject(obj) {
  if (typeof obj !== "object" || obj === null) return false;
  const proto = Object.getPrototypeOf(obj);
  if (proto === null) return true;
  let baseProto = proto;
  while (Object.getPrototypeOf(baseProto) !== null) {
    baseProto = Object.getPrototypeOf(baseProto);
  }
  return proto === baseProto;
}

// src/utils/verifyPlainObject.ts
function verifyPlainObject(value, displayName, methodName) {
  if (!isPlainObject(value)) {
    warning(`${methodName}() in ${displayName} must return a plain object. Instead received ${value}.`);
  }
}

// src/connect/wrapMapToProps.ts
function wrapMapToPropsConstant(getConstant) {
  return function initConstantSelector(dispatch) {
    const constant = getConstant(dispatch);
    function constantSelector() {
      return constant;
    }
    constantSelector.dependsOnOwnProps = false;
    return constantSelector;
  };
}
function getDependsOnOwnProps(mapToProps) {
  return mapToProps.dependsOnOwnProps ? Boolean(mapToProps.dependsOnOwnProps) : mapToProps.length !== 1;
}
function wrapMapToPropsFunc(mapToProps, methodName) {
  return function initProxySelector(dispatch, {
    displayName
  }) {
    const proxy = function mapToPropsProxy(stateOrDispatch, ownProps) {
      return proxy.dependsOnOwnProps ? proxy.mapToProps(stateOrDispatch, ownProps) : proxy.mapToProps(stateOrDispatch, void 0);
    };
    proxy.dependsOnOwnProps = true;
    proxy.mapToProps = function detectFactoryAndVerify(stateOrDispatch, ownProps) {
      proxy.mapToProps = mapToProps;
      proxy.dependsOnOwnProps = getDependsOnOwnProps(mapToProps);
      let props = proxy(stateOrDispatch, ownProps);
      if (typeof props === "function") {
        proxy.mapToProps = props;
        proxy.dependsOnOwnProps = getDependsOnOwnProps(props);
        props = proxy(stateOrDispatch, ownProps);
      }
      if (true) verifyPlainObject(props, displayName, methodName);
      return props;
    };
    return proxy;
  };
}

// src/connect/invalidArgFactory.ts
function createInvalidArgFactory(arg, name) {
  return (dispatch, options) => {
    throw new Error(`Invalid value of type ${typeof arg} for ${name} argument when connecting component ${options.wrappedComponentName}.`);
  };
}

// src/connect/mapDispatchToProps.ts
function mapDispatchToPropsFactory(mapDispatchToProps) {
  return mapDispatchToProps && typeof mapDispatchToProps === "object" ? wrapMapToPropsConstant(dispatch =>
  // @ts-ignore
  bindActionCreators(mapDispatchToProps, dispatch)) : !mapDispatchToProps ? wrapMapToPropsConstant(dispatch => ({
    dispatch
  })) : typeof mapDispatchToProps === "function" ?
  // @ts-ignore
  wrapMapToPropsFunc(mapDispatchToProps, "mapDispatchToProps") : createInvalidArgFactory(mapDispatchToProps, "mapDispatchToProps");
}

// src/connect/mapStateToProps.ts
function mapStateToPropsFactory(mapStateToProps) {
  return !mapStateToProps ? wrapMapToPropsConstant(() => ({})) : typeof mapStateToProps === "function" ?
  // @ts-ignore
  wrapMapToPropsFunc(mapStateToProps, "mapStateToProps") : createInvalidArgFactory(mapStateToProps, "mapStateToProps");
}

// src/connect/mergeProps.ts
function defaultMergeProps(stateProps, dispatchProps, ownProps) {
  return {
    ...ownProps,
    ...stateProps,
    ...dispatchProps
  };
}
function wrapMergePropsFunc(mergeProps) {
  return function initMergePropsProxy(dispatch, {
    displayName,
    areMergedPropsEqual
  }) {
    let hasRunOnce = false;
    let mergedProps;
    return function mergePropsProxy(stateProps, dispatchProps, ownProps) {
      const nextMergedProps = mergeProps(stateProps, dispatchProps, ownProps);
      if (hasRunOnce) {
        if (!areMergedPropsEqual(nextMergedProps, mergedProps)) mergedProps = nextMergedProps;
      } else {
        hasRunOnce = true;
        mergedProps = nextMergedProps;
        if (true) verifyPlainObject(mergedProps, displayName, "mergeProps");
      }
      return mergedProps;
    };
  };
}
function mergePropsFactory(mergeProps) {
  return !mergeProps ? () => defaultMergeProps : typeof mergeProps === "function" ? wrapMergePropsFunc(mergeProps) : createInvalidArgFactory(mergeProps, "mergeProps");
}

// src/utils/batch.ts
function defaultNoopBatch(callback) {
  callback();
}

// src/utils/Subscription.ts
function createListenerCollection() {
  let first = null;
  let last = null;
  return {
    clear() {
      first = null;
      last = null;
    },
    notify() {
      defaultNoopBatch(() => {
        let listener = first;
        while (listener) {
          listener.callback();
          listener = listener.next;
        }
      });
    },
    get() {
      const listeners = [];
      let listener = first;
      while (listener) {
        listeners.push(listener);
        listener = listener.next;
      }
      return listeners;
    },
    subscribe(callback) {
      let isSubscribed = true;
      const listener = last = {
        callback,
        next: null,
        prev: last
      };
      if (listener.prev) {
        listener.prev.next = listener;
      } else {
        first = listener;
      }
      return function unsubscribe() {
        if (!isSubscribed || first === null) return;
        isSubscribed = false;
        if (listener.next) {
          listener.next.prev = listener.prev;
        } else {
          last = listener.prev;
        }
        if (listener.prev) {
          listener.prev.next = listener.next;
        } else {
          first = listener.next;
        }
      };
    }
  };
}
var nullListeners = {
  notify() {},
  get: () => []
};
function createSubscription(store, parentSub) {
  let unsubscribe;
  let listeners = nullListeners;
  let subscriptionsAmount = 0;
  let selfSubscribed = false;
  function addNestedSub(listener) {
    trySubscribe();
    const cleanupListener = listeners.subscribe(listener);
    let removed = false;
    return () => {
      if (!removed) {
        removed = true;
        cleanupListener();
        tryUnsubscribe();
      }
    };
  }
  function notifyNestedSubs() {
    listeners.notify();
  }
  function handleChangeWrapper() {
    if (subscription.onStateChange) {
      subscription.onStateChange();
    }
  }
  function isSubscribed() {
    return selfSubscribed;
  }
  function trySubscribe() {
    subscriptionsAmount++;
    if (!unsubscribe) {
      unsubscribe = parentSub ? parentSub.addNestedSub(handleChangeWrapper) : store.subscribe(handleChangeWrapper);
      listeners = createListenerCollection();
    }
  }
  function tryUnsubscribe() {
    subscriptionsAmount--;
    if (unsubscribe && subscriptionsAmount === 0) {
      unsubscribe();
      unsubscribe = void 0;
      listeners.clear();
      listeners = nullListeners;
    }
  }
  function trySubscribeSelf() {
    if (!selfSubscribed) {
      selfSubscribed = true;
      trySubscribe();
    }
  }
  function tryUnsubscribeSelf() {
    if (selfSubscribed) {
      selfSubscribed = false;
      tryUnsubscribe();
    }
  }
  const subscription = {
    addNestedSub,
    notifyNestedSubs,
    handleChangeWrapper,
    isSubscribed,
    trySubscribe: trySubscribeSelf,
    tryUnsubscribe: tryUnsubscribeSelf,
    getListeners: () => listeners
  };
  return subscription;
}

// src/utils/useIsomorphicLayoutEffect.ts
var canUseDOM = !!(typeof window !== "undefined" && typeof window.document !== "undefined" && typeof window.document.createElement !== "undefined");
var isReactNative = typeof navigator !== "undefined" && navigator.product === "ReactNative";
var useIsomorphicLayoutEffect = canUseDOM || isReactNative ? React.useLayoutEffect : React.useEffect;

// src/utils/shallowEqual.ts
function is(x, y) {
  if (x === y) {
    return x !== 0 || y !== 0 || 1 / x === 1 / y;
  } else {
    return x !== x && y !== y;
  }
}
function shallowEqual(objA, objB) {
  if (is(objA, objB)) return true;
  if (typeof objA !== "object" || objA === null || typeof objB !== "object" || objB === null) {
    return false;
  }
  const keysA = Object.keys(objA);
  const keysB = Object.keys(objB);
  if (keysA.length !== keysB.length) return false;
  for (let i = 0; i < keysA.length; i++) {
    if (!Object.prototype.hasOwnProperty.call(objB, keysA[i]) || !is(objA[keysA[i]], objB[keysA[i]])) {
      return false;
    }
  }
  return true;
}

// src/utils/hoistStatics.ts
var REACT_STATICS = {
  childContextTypes: true,
  contextType: true,
  contextTypes: true,
  defaultProps: true,
  displayName: true,
  getDefaultProps: true,
  getDerivedStateFromError: true,
  getDerivedStateFromProps: true,
  mixins: true,
  propTypes: true,
  type: true
};
var KNOWN_STATICS = {
  name: true,
  length: true,
  prototype: true,
  caller: true,
  callee: true,
  arguments: true,
  arity: true
};
var FORWARD_REF_STATICS = {
  $$typeof: true,
  render: true,
  defaultProps: true,
  displayName: true,
  propTypes: true
};
var MEMO_STATICS = {
  $$typeof: true,
  compare: true,
  defaultProps: true,
  displayName: true,
  propTypes: true,
  type: true
};
var TYPE_STATICS = {
  [ForwardRef]: FORWARD_REF_STATICS,
  [Memo]: MEMO_STATICS
};
function getStatics(component) {
  if (isMemo(component)) {
    return MEMO_STATICS;
  }
  return TYPE_STATICS[component["$$typeof"]] || REACT_STATICS;
}
var defineProperty = Object.defineProperty;
var getOwnPropertyNames = Object.getOwnPropertyNames;
var getOwnPropertySymbols = Object.getOwnPropertySymbols;
var getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;
var getPrototypeOf = Object.getPrototypeOf;
var objectPrototype = Object.prototype;
function hoistNonReactStatics(targetComponent, sourceComponent) {
  if (typeof sourceComponent !== "string") {
    if (objectPrototype) {
      const inheritedComponent = getPrototypeOf(sourceComponent);
      if (inheritedComponent && inheritedComponent !== objectPrototype) {
        hoistNonReactStatics(targetComponent, inheritedComponent);
      }
    }
    let keys = getOwnPropertyNames(sourceComponent);
    if (getOwnPropertySymbols) {
      keys = keys.concat(getOwnPropertySymbols(sourceComponent));
    }
    const targetStatics = getStatics(targetComponent);
    const sourceStatics = getStatics(sourceComponent);
    for (let i = 0; i < keys.length; ++i) {
      const key = keys[i];
      if (!KNOWN_STATICS[key] && !(sourceStatics && sourceStatics[key]) && !(targetStatics && targetStatics[key])) {
        const descriptor = getOwnPropertyDescriptor(sourceComponent, key);
        try {
          defineProperty(targetComponent, key, descriptor);
        } catch (e) {}
      }
    }
  }
  return targetComponent;
}

// src/components/connect.tsx
var useSyncExternalStore = notInitialized;
var initializeConnect = fn => {
  useSyncExternalStore = fn;
};
var NO_SUBSCRIPTION_ARRAY = [null, null];
var stringifyComponent = Comp => {
  try {
    return JSON.stringify(Comp);
  } catch (err) {
    return String(Comp);
  }
};
function useIsomorphicLayoutEffectWithArgs(effectFunc, effectArgs, dependencies) {
  useIsomorphicLayoutEffect(() => effectFunc(...effectArgs), dependencies);
}
function captureWrapperProps(lastWrapperProps, lastChildProps, renderIsScheduled, wrapperProps, childPropsFromStoreUpdate, notifyNestedSubs) {
  lastWrapperProps.current = wrapperProps;
  renderIsScheduled.current = false;
  if (childPropsFromStoreUpdate.current) {
    childPropsFromStoreUpdate.current = null;
    notifyNestedSubs();
  }
}
function subscribeUpdates(shouldHandleStateChanges, store, subscription, childPropsSelector, lastWrapperProps, lastChildProps, renderIsScheduled, isMounted, childPropsFromStoreUpdate, notifyNestedSubs, additionalSubscribeListener) {
  if (!shouldHandleStateChanges) return () => {};
  let didUnsubscribe = false;
  let lastThrownError = null;
  const checkForUpdates = () => {
    if (didUnsubscribe || !isMounted.current) {
      return;
    }
    const latestStoreState = store.getState();
    let newChildProps, error;
    try {
      newChildProps = childPropsSelector(latestStoreState, lastWrapperProps.current);
    } catch (e) {
      error = e;
      lastThrownError = e;
    }
    if (!error) {
      lastThrownError = null;
    }
    if (newChildProps === lastChildProps.current) {
      if (!renderIsScheduled.current) {
        notifyNestedSubs();
      }
    } else {
      lastChildProps.current = newChildProps;
      childPropsFromStoreUpdate.current = newChildProps;
      renderIsScheduled.current = true;
      additionalSubscribeListener();
    }
  };
  subscription.onStateChange = checkForUpdates;
  subscription.trySubscribe();
  checkForUpdates();
  const unsubscribeWrapper = () => {
    didUnsubscribe = true;
    subscription.tryUnsubscribe();
    subscription.onStateChange = null;
    if (lastThrownError) {
      throw lastThrownError;
    }
  };
  return unsubscribeWrapper;
}
function strictEqual(a, b) {
  return a === b;
}
var hasWarnedAboutDeprecatedPureOption = false;
function connect(mapStateToProps, mapDispatchToProps, mergeProps, {
  // The `pure` option has been removed, so TS doesn't like us destructuring this to check its existence.
  // @ts-ignore
  pure,
  areStatesEqual = strictEqual,
  areOwnPropsEqual = shallowEqual,
  areStatePropsEqual = shallowEqual,
  areMergedPropsEqual = shallowEqual,
  // use React's forwardRef to expose a ref of the wrapped component
  forwardRef = false,
  // the context consumer to use
  context = ReactReduxContext
} = {}) {
  if (true) {
    if (pure !== void 0 && !hasWarnedAboutDeprecatedPureOption) {
      hasWarnedAboutDeprecatedPureOption = true;
      warning('The `pure` option has been removed. `connect` is now always a "pure/memoized" component');
    }
  }
  const Context = context;
  const initMapStateToProps = mapStateToPropsFactory(mapStateToProps);
  const initMapDispatchToProps = mapDispatchToPropsFactory(mapDispatchToProps);
  const initMergeProps = mergePropsFactory(mergeProps);
  const shouldHandleStateChanges = Boolean(mapStateToProps);
  const wrapWithConnect = WrappedComponent => {
    if (true) {
      const isValid = /* @__PURE__ */isValidElementType(WrappedComponent);
      if (!isValid) throw new Error(`You must pass a component to the function returned by connect. Instead received ${stringifyComponent(WrappedComponent)}`);
    }
    const wrappedComponentName = WrappedComponent.displayName || WrappedComponent.name || "Component";
    const displayName = `Connect(${wrappedComponentName})`;
    const selectorFactoryOptions = {
      shouldHandleStateChanges,
      displayName,
      wrappedComponentName,
      WrappedComponent,
      // @ts-ignore
      initMapStateToProps,
      // @ts-ignore
      initMapDispatchToProps,
      initMergeProps,
      areStatesEqual,
      areStatePropsEqual,
      areOwnPropsEqual,
      areMergedPropsEqual
    };
    function ConnectFunction(props) {
      const [propsContext, reactReduxForwardedRef, wrapperProps] = React.useMemo(() => {
        const {
          reactReduxForwardedRef: reactReduxForwardedRef2,
          ...wrapperProps2
        } = props;
        return [props.context, reactReduxForwardedRef2, wrapperProps2];
      }, [props]);
      const ContextToUse = React.useMemo(() => {
        let ResultContext = Context;
        if (propsContext?.Consumer) {
          if (true) {
            const isValid = /* @__PURE__ */isContextConsumer(
            // @ts-ignore
            /* @__PURE__ */
            React.createElement(propsContext.Consumer, null));
            if (!isValid) {
              throw new Error("You must pass a valid React context consumer as `props.context`");
            }
            ResultContext = propsContext;
          }
        }
        return ResultContext;
      }, [propsContext, Context]);
      const contextValue = React.useContext(ContextToUse);
      const didStoreComeFromProps = Boolean(props.store) && Boolean(props.store.getState) && Boolean(props.store.dispatch);
      const didStoreComeFromContext = Boolean(contextValue) && Boolean(contextValue.store);
      if (!didStoreComeFromProps && !didStoreComeFromContext) {
        throw new Error(`Could not find "store" in the context of "${displayName}". Either wrap the root component in a <Provider>, or pass a custom React context provider to <Provider> and the corresponding React context consumer to ${displayName} in connect options.`);
      }
      const store = didStoreComeFromProps ? props.store : contextValue.store;
      const getServerState = didStoreComeFromContext ? contextValue.getServerState : store.getState;
      const childPropsSelector = React.useMemo(() => {
        return finalPropsSelectorFactory(store.dispatch, selectorFactoryOptions);
      }, [store]);
      const [subscription, notifyNestedSubs] = React.useMemo(() => {
        if (!shouldHandleStateChanges) return NO_SUBSCRIPTION_ARRAY;
        const subscription2 = createSubscription(store, didStoreComeFromProps ? void 0 : contextValue.subscription);
        const notifyNestedSubs2 = subscription2.notifyNestedSubs.bind(subscription2);
        return [subscription2, notifyNestedSubs2];
      }, [store, didStoreComeFromProps, contextValue]);
      const overriddenContextValue = React.useMemo(() => {
        if (didStoreComeFromProps) {
          return contextValue;
        }
        return {
          ...contextValue,
          subscription
        };
      }, [didStoreComeFromProps, contextValue, subscription]);
      const lastChildProps = React.useRef(void 0);
      const lastWrapperProps = React.useRef(wrapperProps);
      const childPropsFromStoreUpdate = React.useRef(void 0);
      const renderIsScheduled = React.useRef(false);
      const isMounted = React.useRef(false);
      const latestSubscriptionCallbackError = React.useRef(void 0);
      useIsomorphicLayoutEffect(() => {
        isMounted.current = true;
        return () => {
          isMounted.current = false;
        };
      }, []);
      const actualChildPropsSelector = React.useMemo(() => {
        const selector = () => {
          if (childPropsFromStoreUpdate.current && wrapperProps === lastWrapperProps.current) {
            return childPropsFromStoreUpdate.current;
          }
          return childPropsSelector(store.getState(), wrapperProps);
        };
        return selector;
      }, [store, wrapperProps]);
      const subscribeForReact = React.useMemo(() => {
        const subscribe = reactListener => {
          if (!subscription) {
            return () => {};
          }
          return subscribeUpdates(shouldHandleStateChanges, store, subscription,
          // @ts-ignore
          childPropsSelector, lastWrapperProps, lastChildProps, renderIsScheduled, isMounted, childPropsFromStoreUpdate, notifyNestedSubs, reactListener);
        };
        return subscribe;
      }, [subscription]);
      useIsomorphicLayoutEffectWithArgs(captureWrapperProps, [lastWrapperProps, lastChildProps, renderIsScheduled, wrapperProps, childPropsFromStoreUpdate, notifyNestedSubs]);
      let actualChildProps;
      try {
        actualChildProps = useSyncExternalStore(
        // TODO We're passing through a big wrapper that does a bunch of extra side effects besides subscribing
        subscribeForReact,
        // TODO This is incredibly hacky. We've already processed the store update and calculated new child props,
        // TODO and we're just passing that through so it triggers a re-render for us rather than relying on `uSES`.
        actualChildPropsSelector, getServerState ? () => childPropsSelector(getServerState(), wrapperProps) : actualChildPropsSelector);
      } catch (err) {
        if (latestSubscriptionCallbackError.current) {
          ;
          err.message += `
The error may be correlated with this previous error:
${latestSubscriptionCallbackError.current.stack}

`;
        }
        throw err;
      }
      useIsomorphicLayoutEffect(() => {
        latestSubscriptionCallbackError.current = void 0;
        childPropsFromStoreUpdate.current = void 0;
        lastChildProps.current = actualChildProps;
      });
      const renderedWrappedComponent = React.useMemo(() => {
        return (
          // @ts-ignore
          /* @__PURE__ */
          React.createElement(WrappedComponent, {
            ...actualChildProps,
            ref: reactReduxForwardedRef
          })
        );
      }, [reactReduxForwardedRef, WrappedComponent, actualChildProps]);
      const renderedChild = React.useMemo(() => {
        if (shouldHandleStateChanges) {
          return /* @__PURE__ */React.createElement(ContextToUse.Provider, {
            value: overriddenContextValue
          }, renderedWrappedComponent);
        }
        return renderedWrappedComponent;
      }, [ContextToUse, renderedWrappedComponent, overriddenContextValue]);
      return renderedChild;
    }
    const _Connect = React.memo(ConnectFunction);
    const Connect = _Connect;
    Connect.WrappedComponent = WrappedComponent;
    Connect.displayName = ConnectFunction.displayName = displayName;
    if (forwardRef) {
      const _forwarded = React.forwardRef(function forwardConnectRef(props, ref) {
        return /* @__PURE__ */React.createElement(Connect, {
          ...props,
          reactReduxForwardedRef: ref
        });
      });
      const forwarded = _forwarded;
      forwarded.displayName = displayName;
      forwarded.WrappedComponent = WrappedComponent;
      return /* @__PURE__ */hoistNonReactStatics(forwarded, WrappedComponent);
    }
    return /* @__PURE__ */hoistNonReactStatics(Connect, WrappedComponent);
  };
  return wrapWithConnect;
}
var connect_default = connect;

// src/components/Provider.tsx
function Provider({
  store,
  context,
  children,
  serverState,
  stabilityCheck = "once",
  identityFunctionCheck = "once"
}) {
  const contextValue = React.useMemo(() => {
    const subscription = createSubscription(store);
    return {
      store,
      subscription,
      getServerState: serverState ? () => serverState : void 0,
      stabilityCheck,
      identityFunctionCheck
    };
  }, [store, serverState, stabilityCheck, identityFunctionCheck]);
  const previousState = React.useMemo(() => store.getState(), [store]);
  useIsomorphicLayoutEffect(() => {
    const {
      subscription
    } = contextValue;
    subscription.onStateChange = subscription.notifyNestedSubs;
    subscription.trySubscribe();
    if (previousState !== store.getState()) {
      subscription.notifyNestedSubs();
    }
    return () => {
      subscription.tryUnsubscribe();
      subscription.onStateChange = void 0;
    };
  }, [contextValue, previousState]);
  const Context = context || ReactReduxContext;
  return /* @__PURE__ */React.createElement(Context.Provider, {
    value: contextValue
  }, children);
}
var Provider_default = Provider;

// src/hooks/useStore.ts
function createStoreHook(context = ReactReduxContext) {
  const useReduxContext2 = context === ReactReduxContext ? useReduxContext :
  // @ts-ignore
  createReduxContextHook(context);
  const useStore2 = () => {
    const {
      store
    } = useReduxContext2();
    return store;
  };
  Object.assign(useStore2, {
    withTypes: () => useStore2
  });
  return useStore2;
}
var useStore = /* @__PURE__ */createStoreHook();

// src/hooks/useDispatch.ts
function createDispatchHook(context = ReactReduxContext) {
  const useStore2 = context === ReactReduxContext ? useStore : createStoreHook(context);
  const useDispatch2 = () => {
    const store = useStore2();
    return store.dispatch;
  };
  Object.assign(useDispatch2, {
    withTypes: () => useDispatch2
  });
  return useDispatch2;
}
var useDispatch = /* @__PURE__ */createDispatchHook();

// src/exports.ts
var batch = defaultNoopBatch;

// src/index.ts
initializeUseSelector(import_with_selector.useSyncExternalStoreWithSelector);
initializeConnect(React2.useSyncExternalStore);
// Annotate the CommonJS export names for ESM import in node:
0 && (module.exports = {
  Provider,
  ReactReduxContext,
  batch,
  connect,
  createDispatchHook,
  createSelectorHook,
  createStoreHook,
  shallowEqual,
  useDispatch,
  useSelector,
  useStore
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJzcmNfZXhwb3J0cyIsIl9fZXhwb3J0IiwiUHJvdmlkZXIiLCJQcm92aWRlcl9kZWZhdWx0IiwiUmVhY3RSZWR1eENvbnRleHQiLCJiYXRjaCIsImNvbm5lY3QiLCJjb25uZWN0X2RlZmF1bHQiLCJjcmVhdGVEaXNwYXRjaEhvb2siLCJjcmVhdGVTZWxlY3Rvckhvb2siLCJjcmVhdGVTdG9yZUhvb2siLCJzaGFsbG93RXF1YWwiLCJ1c2VEaXNwYXRjaCIsInVzZVNlbGVjdG9yIiwidXNlU3RvcmUiLCJtb2R1bGUiLCJleHBvcnRzIiwiX190b0NvbW1vbkpTIiwiUmVhY3QyIiwiX190b0VTTSIsInJlcXVpcmUiLCJpbXBvcnRfd2l0aF9zZWxlY3RvciIsIlJlYWN0T3JpZ2luYWwiLCJSZWFjdCIsIkNvbnRleHRLZXkiLCJTeW1ib2wiLCJmb3IiLCJnVCIsImdsb2JhbFRoaXMiLCJnZXRDb250ZXh0IiwiY3JlYXRlQ29udGV4dCIsImNvbnRleHRNYXAiLCJNYXAiLCJyZWFsQ29udGV4dCIsImdldCIsImRpc3BsYXlOYW1lIiwic2V0Iiwibm90SW5pdGlhbGl6ZWQiLCJFcnJvciIsImNyZWF0ZVJlZHV4Q29udGV4dEhvb2siLCJjb250ZXh0IiwidXNlUmVkdXhDb250ZXh0MiIsImNvbnRleHRWYWx1ZSIsInVzZUNvbnRleHQiLCJ1c2VSZWR1eENvbnRleHQiLCJ1c2VTeW5jRXh0ZXJuYWxTdG9yZVdpdGhTZWxlY3RvciIsImluaXRpYWxpemVVc2VTZWxlY3RvciIsImZuIiwicmVmRXF1YWxpdHkiLCJhIiwiYiIsInVzZVNlbGVjdG9yMiIsInNlbGVjdG9yIiwiZXF1YWxpdHlGbk9yT3B0aW9ucyIsImVxdWFsaXR5Rm4iLCJkZXZNb2RlQ2hlY2tzIiwic3RvcmUiLCJzdWJzY3JpcHRpb24iLCJnZXRTZXJ2ZXJTdGF0ZSIsInN0YWJpbGl0eUNoZWNrIiwiaWRlbnRpdHlGdW5jdGlvbkNoZWNrIiwiZmlyc3RSdW4iLCJ1c2VSZWYiLCJ3cmFwcGVkU2VsZWN0b3IiLCJ1c2VDYWxsYmFjayIsIm5hbWUiLCJzdGF0ZSIsInNlbGVjdGVkIiwiZmluYWxJZGVudGl0eUZ1bmN0aW9uQ2hlY2siLCJmaW5hbFN0YWJpbGl0eUNoZWNrIiwiY3VycmVudCIsInRvQ29tcGFyZSIsInN0YWNrIiwiZSIsImNvbnNvbGUiLCJ3YXJuIiwic2VsZWN0ZWQyIiwic2VsZWN0ZWRTdGF0ZSIsImFkZE5lc3RlZFN1YiIsImdldFN0YXRlIiwidXNlRGVidWdWYWx1ZSIsIk9iamVjdCIsImFzc2lnbiIsIndpdGhUeXBlcyIsIlJFQUNUX0VMRU1FTlRfVFlQRSIsIlJFQUNUX1BPUlRBTF9UWVBFIiwiUkVBQ1RfRlJBR01FTlRfVFlQRSIsIlJFQUNUX1NUUklDVF9NT0RFX1RZUEUiLCJSRUFDVF9QUk9GSUxFUl9UWVBFIiwiUkVBQ1RfUFJPVklERVJfVFlQRSIsIlJFQUNUX0NPTlRFWFRfVFlQRSIsIlJFQUNUX1NFUlZFUl9DT05URVhUX1RZUEUiLCJSRUFDVF9GT1JXQVJEX1JFRl9UWVBFIiwiUkVBQ1RfU1VTUEVOU0VfVFlQRSIsIlJFQUNUX1NVU1BFTlNFX0xJU1RfVFlQRSIsIlJFQUNUX01FTU9fVFlQRSIsIlJFQUNUX0xBWllfVFlQRSIsIlJFQUNUX09GRlNDUkVFTl9UWVBFIiwiUkVBQ1RfQ0xJRU5UX1JFRkVSRU5DRSIsIkZvcndhcmRSZWYiLCJNZW1vIiwiaXNWYWxpZEVsZW1lbnRUeXBlIiwidHlwZSIsIiQkdHlwZW9mIiwiZ2V0TW9kdWxlSWQiLCJ0eXBlT2YiLCJvYmplY3QiLCIkJHR5cGVvZlR5cGUiLCJpc0NvbnRleHRDb25zdW1lciIsImlzTWVtbyIsIndhcm5pbmciLCJtZXNzYWdlIiwiZXJyb3IiLCJ2ZXJpZnkiLCJtZXRob2ROYW1lIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwidmVyaWZ5U3Vic2VsZWN0b3JzIiwibWFwU3RhdGVUb1Byb3BzIiwibWFwRGlzcGF0Y2hUb1Byb3BzIiwibWVyZ2VQcm9wcyIsInB1cmVGaW5hbFByb3BzU2VsZWN0b3JGYWN0b3J5IiwiZGlzcGF0Y2giLCJhcmVTdGF0ZXNFcXVhbCIsImFyZU93blByb3BzRXF1YWwiLCJhcmVTdGF0ZVByb3BzRXF1YWwiLCJoYXNSdW5BdExlYXN0T25jZSIsIm93blByb3BzIiwic3RhdGVQcm9wcyIsImRpc3BhdGNoUHJvcHMiLCJtZXJnZWRQcm9wcyIsImhhbmRsZUZpcnN0Q2FsbCIsImZpcnN0U3RhdGUiLCJmaXJzdE93blByb3BzIiwiaGFuZGxlTmV3UHJvcHNBbmROZXdTdGF0ZSIsImRlcGVuZHNPbk93blByb3BzIiwiaGFuZGxlTmV3UHJvcHMiLCJoYW5kbGVOZXdTdGF0ZSIsIm5leHRTdGF0ZVByb3BzIiwic3RhdGVQcm9wc0NoYW5nZWQiLCJoYW5kbGVTdWJzZXF1ZW50Q2FsbHMiLCJuZXh0U3RhdGUiLCJuZXh0T3duUHJvcHMiLCJwcm9wc0NoYW5nZWQiLCJzdGF0ZUNoYW5nZWQiLCJwdXJlRmluYWxQcm9wc1NlbGVjdG9yIiwiZmluYWxQcm9wc1NlbGVjdG9yRmFjdG9yeSIsImluaXRNYXBTdGF0ZVRvUHJvcHMiLCJpbml0TWFwRGlzcGF0Y2hUb1Byb3BzIiwiaW5pdE1lcmdlUHJvcHMiLCJvcHRpb25zIiwiYmluZEFjdGlvbkNyZWF0b3JzIiwiYWN0aW9uQ3JlYXRvcnMiLCJib3VuZEFjdGlvbkNyZWF0b3JzIiwia2V5IiwiYWN0aW9uQ3JlYXRvciIsImFyZ3MiLCJpc1BsYWluT2JqZWN0Iiwib2JqIiwicHJvdG8iLCJnZXRQcm90b3R5cGVPZiIsImJhc2VQcm90byIsInZlcmlmeVBsYWluT2JqZWN0IiwidmFsdWUiLCJ3cmFwTWFwVG9Qcm9wc0NvbnN0YW50IiwiZ2V0Q29uc3RhbnQiLCJpbml0Q29uc3RhbnRTZWxlY3RvciIsImNvbnN0YW50IiwiY29uc3RhbnRTZWxlY3RvciIsImdldERlcGVuZHNPbk93blByb3BzIiwibWFwVG9Qcm9wcyIsIkJvb2xlYW4iLCJsZW5ndGgiLCJ3cmFwTWFwVG9Qcm9wc0Z1bmMiLCJpbml0UHJveHlTZWxlY3RvciIsInByb3h5IiwibWFwVG9Qcm9wc1Byb3h5Iiwic3RhdGVPckRpc3BhdGNoIiwiZGV0ZWN0RmFjdG9yeUFuZFZlcmlmeSIsInByb3BzIiwiY3JlYXRlSW52YWxpZEFyZ0ZhY3RvcnkiLCJhcmciLCJ3cmFwcGVkQ29tcG9uZW50TmFtZSIsIm1hcERpc3BhdGNoVG9Qcm9wc0ZhY3RvcnkiLCJtYXBTdGF0ZVRvUHJvcHNGYWN0b3J5IiwiZGVmYXVsdE1lcmdlUHJvcHMiLCJ3cmFwTWVyZ2VQcm9wc0Z1bmMiLCJpbml0TWVyZ2VQcm9wc1Byb3h5IiwiYXJlTWVyZ2VkUHJvcHNFcXVhbCIsImhhc1J1bk9uY2UiLCJtZXJnZVByb3BzUHJveHkiLCJuZXh0TWVyZ2VkUHJvcHMiLCJtZXJnZVByb3BzRmFjdG9yeSIsImRlZmF1bHROb29wQmF0Y2giLCJjYWxsYmFjayIsImNyZWF0ZUxpc3RlbmVyQ29sbGVjdGlvbiIsImZpcnN0IiwibGFzdCIsImNsZWFyIiwibm90aWZ5IiwibGlzdGVuZXIiLCJuZXh0IiwibGlzdGVuZXJzIiwicHVzaCIsInN1YnNjcmliZSIsImlzU3Vic2NyaWJlZCIsInByZXYiLCJ1bnN1YnNjcmliZSIsIm51bGxMaXN0ZW5lcnMiLCJjcmVhdGVTdWJzY3JpcHRpb24iLCJwYXJlbnRTdWIiLCJzdWJzY3JpcHRpb25zQW1vdW50Iiwic2VsZlN1YnNjcmliZWQiLCJ0cnlTdWJzY3JpYmUiLCJjbGVhbnVwTGlzdGVuZXIiLCJyZW1vdmVkIiwidHJ5VW5zdWJzY3JpYmUiLCJub3RpZnlOZXN0ZWRTdWJzIiwiaGFuZGxlQ2hhbmdlV3JhcHBlciIsIm9uU3RhdGVDaGFuZ2UiLCJ0cnlTdWJzY3JpYmVTZWxmIiwidHJ5VW5zdWJzY3JpYmVTZWxmIiwiZ2V0TGlzdGVuZXJzIiwiY2FuVXNlRE9NIiwid2luZG93IiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiaXNSZWFjdE5hdGl2ZSIsIm5hdmlnYXRvciIsInByb2R1Y3QiLCJ1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0IiwidXNlTGF5b3V0RWZmZWN0IiwidXNlRWZmZWN0IiwiaXMiLCJ4IiwieSIsIm9iakEiLCJvYmpCIiwia2V5c0EiLCJrZXlzIiwia2V5c0IiLCJpIiwiUkVBQ1RfU1RBVElDUyIsImNoaWxkQ29udGV4dFR5cGVzIiwiY29udGV4dFR5cGUiLCJjb250ZXh0VHlwZXMiLCJkZWZhdWx0UHJvcHMiLCJnZXREZWZhdWx0UHJvcHMiLCJnZXREZXJpdmVkU3RhdGVGcm9tRXJyb3IiLCJnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMiLCJtaXhpbnMiLCJwcm9wVHlwZXMiLCJLTk9XTl9TVEFUSUNTIiwiY2FsbGVyIiwiY2FsbGVlIiwiYXJndW1lbnRzIiwiYXJpdHkiLCJGT1JXQVJEX1JFRl9TVEFUSUNTIiwicmVuZGVyIiwiTUVNT19TVEFUSUNTIiwiY29tcGFyZSIsIlRZUEVfU1RBVElDUyIsImdldFN0YXRpY3MiLCJjb21wb25lbnQiLCJkZWZpbmVQcm9wZXJ0eSIsImdldE93blByb3BlcnR5TmFtZXMiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJvYmplY3RQcm90b3R5cGUiLCJob2lzdE5vblJlYWN0U3RhdGljcyIsInRhcmdldENvbXBvbmVudCIsInNvdXJjZUNvbXBvbmVudCIsImluaGVyaXRlZENvbXBvbmVudCIsImNvbmNhdCIsInRhcmdldFN0YXRpY3MiLCJzb3VyY2VTdGF0aWNzIiwiZGVzY3JpcHRvciIsInVzZVN5bmNFeHRlcm5hbFN0b3JlIiwiaW5pdGlhbGl6ZUNvbm5lY3QiLCJOT19TVUJTQ1JJUFRJT05fQVJSQVkiLCJzdHJpbmdpZnlDb21wb25lbnQiLCJDb21wIiwiSlNPTiIsInN0cmluZ2lmeSIsImVyciIsIlN0cmluZyIsInVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3RXaXRoQXJncyIsImVmZmVjdEZ1bmMiLCJlZmZlY3RBcmdzIiwiZGVwZW5kZW5jaWVzIiwiY2FwdHVyZVdyYXBwZXJQcm9wcyIsImxhc3RXcmFwcGVyUHJvcHMiLCJsYXN0Q2hpbGRQcm9wcyIsInJlbmRlcklzU2NoZWR1bGVkIiwid3JhcHBlclByb3BzIiwiY2hpbGRQcm9wc0Zyb21TdG9yZVVwZGF0ZSIsInN1YnNjcmliZVVwZGF0ZXMiLCJzaG91bGRIYW5kbGVTdGF0ZUNoYW5nZXMiLCJjaGlsZFByb3BzU2VsZWN0b3IiLCJpc01vdW50ZWQiLCJhZGRpdGlvbmFsU3Vic2NyaWJlTGlzdGVuZXIiLCJkaWRVbnN1YnNjcmliZSIsImxhc3RUaHJvd25FcnJvciIsImNoZWNrRm9yVXBkYXRlcyIsImxhdGVzdFN0b3JlU3RhdGUiLCJuZXdDaGlsZFByb3BzIiwidW5zdWJzY3JpYmVXcmFwcGVyIiwic3RyaWN0RXF1YWwiLCJoYXNXYXJuZWRBYm91dERlcHJlY2F0ZWRQdXJlT3B0aW9uIiwicHVyZSIsImZvcndhcmRSZWYiLCJDb250ZXh0Iiwid3JhcFdpdGhDb25uZWN0IiwiV3JhcHBlZENvbXBvbmVudCIsImlzVmFsaWQiLCJzZWxlY3RvckZhY3RvcnlPcHRpb25zIiwiQ29ubmVjdEZ1bmN0aW9uIiwicHJvcHNDb250ZXh0IiwicmVhY3RSZWR1eEZvcndhcmRlZFJlZiIsInVzZU1lbW8iLCJyZWFjdFJlZHV4Rm9yd2FyZGVkUmVmMiIsIndyYXBwZXJQcm9wczIiLCJDb250ZXh0VG9Vc2UiLCJSZXN1bHRDb250ZXh0IiwiQ29uc3VtZXIiLCJkaWRTdG9yZUNvbWVGcm9tUHJvcHMiLCJkaWRTdG9yZUNvbWVGcm9tQ29udGV4dCIsInN1YnNjcmlwdGlvbjIiLCJub3RpZnlOZXN0ZWRTdWJzMiIsImJpbmQiLCJvdmVycmlkZGVuQ29udGV4dFZhbHVlIiwibGF0ZXN0U3Vic2NyaXB0aW9uQ2FsbGJhY2tFcnJvciIsImFjdHVhbENoaWxkUHJvcHNTZWxlY3RvciIsInN1YnNjcmliZUZvclJlYWN0IiwicmVhY3RMaXN0ZW5lciIsImFjdHVhbENoaWxkUHJvcHMiLCJyZW5kZXJlZFdyYXBwZWRDb21wb25lbnQiLCJyZWYiLCJyZW5kZXJlZENoaWxkIiwiX0Nvbm5lY3QiLCJtZW1vIiwiQ29ubmVjdCIsIl9mb3J3YXJkZWQiLCJmb3J3YXJkQ29ubmVjdFJlZiIsImZvcndhcmRlZCIsImNoaWxkcmVuIiwic2VydmVyU3RhdGUiLCJwcmV2aW91c1N0YXRlIiwidXNlU3RvcmUyIiwidXNlRGlzcGF0Y2gyIl0sInNvdXJjZXMiOlsiLi4vLi4vc3JjL2luZGV4LnRzIiwiLi4vLi4vc3JjL3V0aWxzL3JlYWN0LnRzIiwiLi4vLi4vc3JjL2NvbXBvbmVudHMvQ29udGV4dC50cyIsIi4uLy4uL3NyYy91dGlscy91c2VTeW5jRXh0ZXJuYWxTdG9yZS50cyIsIi4uLy4uL3NyYy9ob29rcy91c2VSZWR1eENvbnRleHQudHMiLCIuLi8uLi9zcmMvaG9va3MvdXNlU2VsZWN0b3IudHMiLCIuLi8uLi9zcmMvdXRpbHMvcmVhY3QtaXMudHMiLCIuLi8uLi9zcmMvdXRpbHMvd2FybmluZy50cyIsIi4uLy4uL3NyYy9jb25uZWN0L3ZlcmlmeVN1YnNlbGVjdG9ycy50cyIsIi4uLy4uL3NyYy9jb25uZWN0L3NlbGVjdG9yRmFjdG9yeS50cyIsIi4uLy4uL3NyYy91dGlscy9iaW5kQWN0aW9uQ3JlYXRvcnMudHMiLCIuLi8uLi9zcmMvdXRpbHMvaXNQbGFpbk9iamVjdC50cyIsIi4uLy4uL3NyYy91dGlscy92ZXJpZnlQbGFpbk9iamVjdC50cyIsIi4uLy4uL3NyYy9jb25uZWN0L3dyYXBNYXBUb1Byb3BzLnRzIiwiLi4vLi4vc3JjL2Nvbm5lY3QvaW52YWxpZEFyZ0ZhY3RvcnkudHMiLCIuLi8uLi9zcmMvY29ubmVjdC9tYXBEaXNwYXRjaFRvUHJvcHMudHMiLCIuLi8uLi9zcmMvY29ubmVjdC9tYXBTdGF0ZVRvUHJvcHMudHMiLCIuLi8uLi9zcmMvY29ubmVjdC9tZXJnZVByb3BzLnRzIiwiLi4vLi4vc3JjL3V0aWxzL2JhdGNoLnRzIiwiLi4vLi4vc3JjL3V0aWxzL1N1YnNjcmlwdGlvbi50cyIsIi4uLy4uL3NyYy91dGlscy91c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0LnRzIiwiLi4vLi4vc3JjL3V0aWxzL3NoYWxsb3dFcXVhbC50cyIsIi4uLy4uL3NyYy91dGlscy9ob2lzdFN0YXRpY3MudHMiLCIuLi8uLi9zcmMvY29tcG9uZW50cy9jb25uZWN0LnRzeCIsIi4uLy4uL3NyYy9jb21wb25lbnRzL1Byb3ZpZGVyLnRzeCIsIi4uLy4uL3NyYy9ob29rcy91c2VTdG9yZS50cyIsIi4uLy4uL3NyYy9ob29rcy91c2VEaXNwYXRjaC50cyIsIi4uLy4uL3NyYy9leHBvcnRzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSBwcmltYXJ5IGVudHJ5IHBvaW50IGFzc3VtZXMgd2UgYXJlIHdvcmtpbmcgd2l0aCBSZWFjdCAxOCwgYW5kIHRodXMgaGF2ZVxyXG4vLyB1c2VTeW5jRXh0ZXJuYWxTdG9yZSBhdmFpbGFibGUuIFdlIGNhbiBpbXBvcnQgdGhhdCBkaXJlY3RseSBmcm9tIFJlYWN0IGl0c2VsZi5cclxuLy8gVGhlIHVzZVN5bmNFeHRlcm5hbFN0b3JlV2l0aFNlbGVjdG9yIGhhcyB0byBiZSBpbXBvcnRlZCwgYnV0IHdlIGNhbiB1c2UgdGhlXHJcbi8vIG5vbi1zaGltIHZlcnNpb24uIFRoaXMgc2hhdmVzIG9mZiB0aGUgYnl0ZSBzaXplIG9mIHRoZSBzaGltLlxyXG5cclxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnXHJcbmltcG9ydCB7IHVzZVN5bmNFeHRlcm5hbFN0b3JlV2l0aFNlbGVjdG9yIH0gZnJvbSAndXNlLXN5bmMtZXh0ZXJuYWwtc3RvcmUvd2l0aC1zZWxlY3Rvci5qcydcclxuXHJcbmltcG9ydCB7IGluaXRpYWxpemVVc2VTZWxlY3RvciB9IGZyb20gJy4vaG9va3MvdXNlU2VsZWN0b3InXHJcbmltcG9ydCB7IGluaXRpYWxpemVDb25uZWN0IH0gZnJvbSAnLi9jb21wb25lbnRzL2Nvbm5lY3QnXHJcblxyXG5pbml0aWFsaXplVXNlU2VsZWN0b3IodXNlU3luY0V4dGVybmFsU3RvcmVXaXRoU2VsZWN0b3IpXHJcbmluaXRpYWxpemVDb25uZWN0KFJlYWN0LnVzZVN5bmNFeHRlcm5hbFN0b3JlKVxyXG5cclxuZXhwb3J0ICogZnJvbSAnLi9leHBvcnRzJ1xyXG4iLCJpbXBvcnQgKiBhcyBSZWFjdE9yaWdpbmFsIGZyb20gJ3JlYWN0J1xyXG5pbXBvcnQgdHlwZSAqIGFzIFJlYWN0TmFtZXNwYWNlIGZyb20gJ3JlYWN0J1xyXG5cclxuZXhwb3J0IGNvbnN0IFJlYWN0OiB0eXBlb2YgUmVhY3ROYW1lc3BhY2UgPVxyXG4gIC8vIHByZXR0aWVyLWlnbm9yZVxyXG4gIC8vIEB0cy1pZ25vcmVcclxuICAnZGVmYXVsdCcgaW4gUmVhY3RPcmlnaW5hbCA/IFJlYWN0T3JpZ2luYWxbJ2RlZmF1bHQnXSA6IFJlYWN0T3JpZ2luYWwgYXMgYW55XHJcbiIsImltcG9ydCB0eXBlIHsgQ29udGV4dCB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgUmVhY3QgfSBmcm9tICcuLi91dGlscy9yZWFjdCdcbmltcG9ydCB0eXBlIHsgQWN0aW9uLCBTdG9yZSwgVW5rbm93bkFjdGlvbiB9IGZyb20gJ3JlZHV4J1xuaW1wb3J0IHR5cGUgeyBTdWJzY3JpcHRpb24gfSBmcm9tICcuLi91dGlscy9TdWJzY3JpcHRpb24nXG5pbXBvcnQgdHlwZSB7IFByb3ZpZGVyUHJvcHMgfSBmcm9tICcuL1Byb3ZpZGVyJ1xuXG5leHBvcnQgaW50ZXJmYWNlIFJlYWN0UmVkdXhDb250ZXh0VmFsdWU8XG4gIFNTID0gYW55LFxuICBBIGV4dGVuZHMgQWN0aW9uPHN0cmluZz4gPSBVbmtub3duQWN0aW9uLFxuPiBleHRlbmRzIFBpY2s8UHJvdmlkZXJQcm9wcywgJ3N0YWJpbGl0eUNoZWNrJyB8ICdpZGVudGl0eUZ1bmN0aW9uQ2hlY2snPiB7XG4gIHN0b3JlOiBTdG9yZTxTUywgQT5cbiAgc3Vic2NyaXB0aW9uOiBTdWJzY3JpcHRpb25cbiAgZ2V0U2VydmVyU3RhdGU/OiAoKSA9PiBTU1xufVxuXG5jb25zdCBDb250ZXh0S2V5ID0gU3ltYm9sLmZvcihgcmVhY3QtcmVkdXgtY29udGV4dGApXG5jb25zdCBnVDoge1xuICBbQ29udGV4dEtleV0/OiBNYXA8XG4gICAgdHlwZW9mIFJlYWN0LmNyZWF0ZUNvbnRleHQsXG4gICAgQ29udGV4dDxSZWFjdFJlZHV4Q29udGV4dFZhbHVlIHwgbnVsbD5cbiAgPlxufSA9IChcbiAgdHlwZW9mIGdsb2JhbFRoaXMgIT09ICd1bmRlZmluZWQnXG4gICAgPyBnbG9iYWxUaGlzXG4gICAgOiAvKiBmYWxsIGJhY2sgdG8gYSBwZXItbW9kdWxlIHNjb3BlIChwcmUtOC4xIGJlaGF2aW91cikgaWYgYGdsb2JhbFRoaXNgIGlzIG5vdCBhdmFpbGFibGUgKi8ge31cbikgYXMgYW55XG5cbmZ1bmN0aW9uIGdldENvbnRleHQoKTogQ29udGV4dDxSZWFjdFJlZHV4Q29udGV4dFZhbHVlIHwgbnVsbD4ge1xuICBpZiAoIVJlYWN0LmNyZWF0ZUNvbnRleHQpIHJldHVybiB7fSBhcyBhbnlcblxuICBjb25zdCBjb250ZXh0TWFwID0gKGdUW0NvbnRleHRLZXldID8/PSBuZXcgTWFwPFxuICAgIHR5cGVvZiBSZWFjdC5jcmVhdGVDb250ZXh0LFxuICAgIENvbnRleHQ8UmVhY3RSZWR1eENvbnRleHRWYWx1ZSB8IG51bGw+XG4gID4oKSlcbiAgbGV0IHJlYWxDb250ZXh0ID0gY29udGV4dE1hcC5nZXQoUmVhY3QuY3JlYXRlQ29udGV4dClcbiAgaWYgKCFyZWFsQ29udGV4dCkge1xuICAgIHJlYWxDb250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dDxSZWFjdFJlZHV4Q29udGV4dFZhbHVlIHwgbnVsbD4oXG4gICAgICBudWxsIGFzIGFueSxcbiAgICApXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHJlYWxDb250ZXh0LmRpc3BsYXlOYW1lID0gJ1JlYWN0UmVkdXgnXG4gICAgfVxuICAgIGNvbnRleHRNYXAuc2V0KFJlYWN0LmNyZWF0ZUNvbnRleHQsIHJlYWxDb250ZXh0KVxuICB9XG4gIHJldHVybiByZWFsQ29udGV4dFxufVxuXG5leHBvcnQgY29uc3QgUmVhY3RSZWR1eENvbnRleHQgPSAvKiNfX1BVUkVfXyovIGdldENvbnRleHQoKVxuXG5leHBvcnQgdHlwZSBSZWFjdFJlZHV4Q29udGV4dEluc3RhbmNlID0gdHlwZW9mIFJlYWN0UmVkdXhDb250ZXh0XG5cbmV4cG9ydCBkZWZhdWx0IFJlYWN0UmVkdXhDb250ZXh0XG4iLCJpbXBvcnQgdHlwZSB7IHVzZVN5bmNFeHRlcm5hbFN0b3JlIH0gZnJvbSAndXNlLXN5bmMtZXh0ZXJuYWwtc3RvcmUnXHJcbmltcG9ydCB0eXBlIHsgdXNlU3luY0V4dGVybmFsU3RvcmVXaXRoU2VsZWN0b3IgfSBmcm9tICd1c2Utc3luYy1leHRlcm5hbC1zdG9yZS93aXRoLXNlbGVjdG9yJ1xyXG5cclxuZXhwb3J0IGNvbnN0IG5vdEluaXRpYWxpemVkID0gKCkgPT4ge1xyXG4gIHRocm93IG5ldyBFcnJvcigndVNFUyBub3QgaW5pdGlhbGl6ZWQhJylcclxufVxyXG5cclxuZXhwb3J0IHR5cGUgdVNFUyA9IHR5cGVvZiB1c2VTeW5jRXh0ZXJuYWxTdG9yZVxyXG5leHBvcnQgdHlwZSB1U0VTV1MgPSB0eXBlb2YgdXNlU3luY0V4dGVybmFsU3RvcmVXaXRoU2VsZWN0b3JcclxuIiwiaW1wb3J0IHsgUmVhY3QgfSBmcm9tICcuLi91dGlscy9yZWFjdCdcbmltcG9ydCB7IFJlYWN0UmVkdXhDb250ZXh0IH0gZnJvbSAnLi4vY29tcG9uZW50cy9Db250ZXh0J1xuaW1wb3J0IHR5cGUgeyBSZWFjdFJlZHV4Q29udGV4dFZhbHVlIH0gZnJvbSAnLi4vY29tcG9uZW50cy9Db250ZXh0J1xuXG4vKipcbiAqIEhvb2sgZmFjdG9yeSwgd2hpY2ggY3JlYXRlcyBhIGB1c2VSZWR1eENvbnRleHRgIGhvb2sgYm91bmQgdG8gYSBnaXZlbiBjb250ZXh0LiBUaGlzIGlzIGEgbG93LWxldmVsXG4gKiBob29rIHRoYXQgeW91IHNob3VsZCB1c3VhbGx5IG5vdCBuZWVkIHRvIGNhbGwgZGlyZWN0bHkuXG4gKlxuICogQHBhcmFtIHtSZWFjdC5Db250ZXh0fSBbY29udGV4dD1SZWFjdFJlZHV4Q29udGV4dF0gQ29udGV4dCBwYXNzZWQgdG8geW91ciBgPFByb3ZpZGVyPmAuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IEEgYHVzZVJlZHV4Q29udGV4dGAgaG9vayBib3VuZCB0byB0aGUgc3BlY2lmaWVkIGNvbnRleHQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVSZWR1eENvbnRleHRIb29rKGNvbnRleHQgPSBSZWFjdFJlZHV4Q29udGV4dCkge1xuICByZXR1cm4gZnVuY3Rpb24gdXNlUmVkdXhDb250ZXh0KCk6IFJlYWN0UmVkdXhDb250ZXh0VmFsdWUge1xuICAgIGNvbnN0IGNvbnRleHRWYWx1ZSA9IFJlYWN0LnVzZUNvbnRleHQoY29udGV4dClcblxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmICFjb250ZXh0VmFsdWUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ2NvdWxkIG5vdCBmaW5kIHJlYWN0LXJlZHV4IGNvbnRleHQgdmFsdWU7IHBsZWFzZSBlbnN1cmUgdGhlIGNvbXBvbmVudCBpcyB3cmFwcGVkIGluIGEgPFByb3ZpZGVyPicsXG4gICAgICApXG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbnRleHRWYWx1ZSFcbiAgfVxufVxuXG4vKipcbiAqIEEgaG9vayB0byBhY2Nlc3MgdGhlIHZhbHVlIG9mIHRoZSBgUmVhY3RSZWR1eENvbnRleHRgLiBUaGlzIGlzIGEgbG93LWxldmVsXG4gKiBob29rIHRoYXQgeW91IHNob3VsZCB1c3VhbGx5IG5vdCBuZWVkIHRvIGNhbGwgZGlyZWN0bHkuXG4gKlxuICogQHJldHVybnMge2FueX0gdGhlIHZhbHVlIG9mIHRoZSBgUmVhY3RSZWR1eENvbnRleHRgXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiBpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG4gKiBpbXBvcnQgeyB1c2VSZWR1eENvbnRleHQgfSBmcm9tICdyZWFjdC1yZWR1eCdcbiAqXG4gKiBleHBvcnQgY29uc3QgQ291bnRlckNvbXBvbmVudCA9ICgpID0+IHtcbiAqICAgY29uc3QgeyBzdG9yZSB9ID0gdXNlUmVkdXhDb250ZXh0KClcbiAqICAgcmV0dXJuIDxkaXY+e3N0b3JlLmdldFN0YXRlKCl9PC9kaXY+XG4gKiB9XG4gKi9cbmV4cG9ydCBjb25zdCB1c2VSZWR1eENvbnRleHQgPSAvKiNfX1BVUkVfXyovIGNyZWF0ZVJlZHV4Q29udGV4dEhvb2soKVxuIiwiLy9pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCdcbmltcG9ydCB7IFJlYWN0IH0gZnJvbSAnLi4vdXRpbHMvcmVhY3QnXG5cbmltcG9ydCB0eXBlIHsgUmVhY3RSZWR1eENvbnRleHRWYWx1ZSB9IGZyb20gJy4uL2NvbXBvbmVudHMvQ29udGV4dCdcbmltcG9ydCB7IFJlYWN0UmVkdXhDb250ZXh0IH0gZnJvbSAnLi4vY29tcG9uZW50cy9Db250ZXh0J1xuaW1wb3J0IHR5cGUgeyBFcXVhbGl0eUZuLCBOb0luZmVyIH0gZnJvbSAnLi4vdHlwZXMnXG5pbXBvcnQgdHlwZSB7IHVTRVNXUyB9IGZyb20gJy4uL3V0aWxzL3VzZVN5bmNFeHRlcm5hbFN0b3JlJ1xuaW1wb3J0IHsgbm90SW5pdGlhbGl6ZWQgfSBmcm9tICcuLi91dGlscy91c2VTeW5jRXh0ZXJuYWxTdG9yZSdcbmltcG9ydCB7XG4gIGNyZWF0ZVJlZHV4Q29udGV4dEhvb2ssXG4gIHVzZVJlZHV4Q29udGV4dCBhcyB1c2VEZWZhdWx0UmVkdXhDb250ZXh0LFxufSBmcm9tICcuL3VzZVJlZHV4Q29udGV4dCdcblxuLyoqXG4gKiBUaGUgZnJlcXVlbmN5IG9mIGRldmVsb3BtZW50IG1vZGUgY2hlY2tzLlxuICpcbiAqIEBzaW5jZSA4LjEuMFxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCB0eXBlIERldk1vZGVDaGVja0ZyZXF1ZW5jeSA9ICduZXZlcicgfCAnb25jZScgfCAnYWx3YXlzJ1xuXG4vKipcbiAqIFJlcHJlc2VudHMgdGhlIGNvbmZpZ3VyYXRpb24gZm9yIGRldmVsb3BtZW50IG1vZGUgY2hlY2tzLlxuICpcbiAqIEBzaW5jZSA5LjAuMFxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRGV2TW9kZUNoZWNrcyB7XG4gIC8qKlxuICAgKiBPdmVycmlkZXMgdGhlIGdsb2JhbCBzdGFiaWxpdHkgY2hlY2sgZm9yIHRoZSBzZWxlY3Rvci5cbiAgICogLSBgb25jZWAgLSBSdW4gb25seSB0aGUgZmlyc3QgdGltZSB0aGUgc2VsZWN0b3IgaXMgY2FsbGVkLlxuICAgKiAtIGBhbHdheXNgIC0gUnVuIGV2ZXJ5IHRpbWUgdGhlIHNlbGVjdG9yIGlzIGNhbGxlZC5cbiAgICogLSBgbmV2ZXJgIC0gTmV2ZXIgcnVuIHRoZSBzdGFiaWxpdHkgY2hlY2suXG4gICAqXG4gICAqIEBkZWZhdWx0ICdvbmNlJ1xuICAgKlxuICAgKiBAc2luY2UgOC4xLjBcbiAgICovXG4gIHN0YWJpbGl0eUNoZWNrOiBEZXZNb2RlQ2hlY2tGcmVxdWVuY3lcblxuICAvKipcbiAgICogT3ZlcnJpZGVzIHRoZSBnbG9iYWwgaWRlbnRpdHkgZnVuY3Rpb24gY2hlY2sgZm9yIHRoZSBzZWxlY3Rvci5cbiAgICogLSBgb25jZWAgLSBSdW4gb25seSB0aGUgZmlyc3QgdGltZSB0aGUgc2VsZWN0b3IgaXMgY2FsbGVkLlxuICAgKiAtIGBhbHdheXNgIC0gUnVuIGV2ZXJ5IHRpbWUgdGhlIHNlbGVjdG9yIGlzIGNhbGxlZC5cbiAgICogLSBgbmV2ZXJgIC0gTmV2ZXIgcnVuIHRoZSBpZGVudGl0eSBmdW5jdGlvbiBjaGVjay5cbiAgICpcbiAgICogKipOb3RlKio6IFByZXZpb3VzbHkgcmVmZXJyZWQgdG8gYXMgYG5vb3BDaGVja2AuXG4gICAqXG4gICAqIEBkZWZhdWx0ICdvbmNlJ1xuICAgKlxuICAgKiBAc2luY2UgOS4wLjBcbiAgICovXG4gIGlkZW50aXR5RnVuY3Rpb25DaGVjazogRGV2TW9kZUNoZWNrRnJlcXVlbmN5XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXNlU2VsZWN0b3JPcHRpb25zPFNlbGVjdGVkID0gdW5rbm93bj4ge1xuICBlcXVhbGl0eUZuPzogRXF1YWxpdHlGbjxTZWxlY3RlZD5cblxuICAvKipcbiAgICogYHVzZVNlbGVjdG9yYCBwZXJmb3JtcyBhZGRpdGlvbmFsIGNoZWNrcyBpbiBkZXZlbG9wbWVudCBtb2RlIHRvIGhlbHBcbiAgICogaWRlbnRpZnkgYW5kIHdhcm4gYWJvdXQgcG90ZW50aWFsIGlzc3VlcyBpbiBzZWxlY3RvciBiZWhhdmlvci4gVGhpc1xuICAgKiBvcHRpb24gYWxsb3dzIHlvdSB0byBjdXN0b21pemUgdGhlIGJlaGF2aW9yIG9mIHRoZXNlIGNoZWNrcyBwZXIgc2VsZWN0b3IuXG4gICAqXG4gICAqIEBzaW5jZSA5LjAuMFxuICAgKi9cbiAgZGV2TW9kZUNoZWNrcz86IFBhcnRpYWw8RGV2TW9kZUNoZWNrcz5cbn1cblxuLyoqXG4gKiBSZXByZXNlbnRzIGEgY3VzdG9tIGhvb2sgdGhhdCBhbGxvd3MgeW91IHRvIGV4dHJhY3QgZGF0YSBmcm9tIHRoZVxuICogUmVkdXggc3RvcmUgc3RhdGUsIHVzaW5nIGEgc2VsZWN0b3IgZnVuY3Rpb24uIFRoZSBzZWxlY3RvciBmdW5jdGlvblxuICogdGFrZXMgdGhlIGN1cnJlbnQgc3RhdGUgYXMgYW4gYXJndW1lbnQgYW5kIHJldHVybnMgYSBwYXJ0IG9mIHRoZSBzdGF0ZVxuICogb3Igc29tZSBkZXJpdmVkIGRhdGEuIFRoZSBob29rIGFsc28gc3VwcG9ydHMgYW4gb3B0aW9uYWwgZXF1YWxpdHlcbiAqIGZ1bmN0aW9uIG9yIG9wdGlvbnMgb2JqZWN0IHRvIGN1c3RvbWl6ZSBpdHMgYmVoYXZpb3IuXG4gKlxuICogQHRlbXBsYXRlIFN0YXRlVHlwZSAtIFRoZSBzcGVjaWZpYyB0eXBlIG9mIHN0YXRlIHRoaXMgaG9vayBvcGVyYXRlcyBvbi5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVXNlU2VsZWN0b3I8U3RhdGVUeXBlID0gdW5rbm93bj4ge1xuICAvKipcbiAgICogQSBmdW5jdGlvbiB0aGF0IHRha2VzIGEgc2VsZWN0b3IgZnVuY3Rpb24gYXMgaXRzIGZpcnN0IGFyZ3VtZW50LlxuICAgKiBUaGUgc2VsZWN0b3IgZnVuY3Rpb24gaXMgcmVzcG9uc2libGUgZm9yIHNlbGVjdGluZyBhIHBhcnQgb2ZcbiAgICogdGhlIFJlZHV4IHN0b3JlJ3Mgc3RhdGUgb3IgY29tcHV0aW5nIGRlcml2ZWQgZGF0YS5cbiAgICpcbiAgICogQHBhcmFtIHNlbGVjdG9yIC0gQSBmdW5jdGlvbiB0aGF0IHJlY2VpdmVzIHRoZSBjdXJyZW50IHN0YXRlIGFuZCByZXR1cm5zIGEgcGFydCBvZiB0aGUgc3RhdGUgb3Igc29tZSBkZXJpdmVkIGRhdGEuXG4gICAqIEBwYXJhbSBlcXVhbGl0eUZuT3JPcHRpb25zIC0gQW4gb3B0aW9uYWwgZXF1YWxpdHkgZnVuY3Rpb24gb3Igb3B0aW9ucyBvYmplY3QgZm9yIGN1c3RvbWl6aW5nIHRoZSBiZWhhdmlvciBvZiB0aGUgc2VsZWN0b3IuXG4gICAqIEByZXR1cm5zIFRoZSBzZWxlY3RlZCBwYXJ0IG9mIHRoZSBzdGF0ZSBvciBkZXJpdmVkIGRhdGEuXG4gICAqXG4gICAqIEB0ZW1wbGF0ZSBUU3RhdGUgLSBUaGUgc3BlY2lmaWMgdHlwZSBvZiBzdGF0ZSB0aGlzIGhvb2sgb3BlcmF0ZXMgb24uXG4gICAqIEB0ZW1wbGF0ZSBTZWxlY3RlZCAtIFRoZSB0eXBlIG9mIHRoZSB2YWx1ZSB0aGF0IHRoZSBzZWxlY3RvciBmdW5jdGlvbiB3aWxsIHJldHVybi5cbiAgICovXG4gIDxUU3RhdGUgZXh0ZW5kcyBTdGF0ZVR5cGUgPSBTdGF0ZVR5cGUsIFNlbGVjdGVkID0gdW5rbm93bj4oXG4gICAgc2VsZWN0b3I6IChzdGF0ZTogVFN0YXRlKSA9PiBTZWxlY3RlZCxcbiAgICBlcXVhbGl0eUZuT3JPcHRpb25zPzogRXF1YWxpdHlGbjxTZWxlY3RlZD4gfCBVc2VTZWxlY3Rvck9wdGlvbnM8U2VsZWN0ZWQ+LFxuICApOiBTZWxlY3RlZFxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgXCJwcmUtdHlwZWRcIiB2ZXJzaW9uIG9mIHtAbGlua2NvZGUgdXNlU2VsZWN0b3IgdXNlU2VsZWN0b3J9XG4gICAqIHdoZXJlIHRoZSBgc3RhdGVgIHR5cGUgaXMgcHJlZGVmaW5lZC5cbiAgICpcbiAgICogVGhpcyBhbGxvd3MgeW91IHRvIHNldCB0aGUgYHN0YXRlYCB0eXBlIG9uY2UsIGVsaW1pbmF0aW5nIHRoZSBuZWVkIHRvXG4gICAqIHNwZWNpZnkgaXQgd2l0aCBldmVyeSB7QGxpbmtjb2RlIHVzZVNlbGVjdG9yIHVzZVNlbGVjdG9yfSBjYWxsLlxuICAgKlxuICAgKiBAcmV0dXJucyBBIHByZS10eXBlZCBgdXNlU2VsZWN0b3JgIHdpdGggdGhlIHN0YXRlIHR5cGUgYWxyZWFkeSBkZWZpbmVkLlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0c1xuICAgKiBleHBvcnQgY29uc3QgdXNlQXBwU2VsZWN0b3IgPSB1c2VTZWxlY3Rvci53aXRoVHlwZXM8Um9vdFN0YXRlPigpXG4gICAqIGBgYFxuICAgKlxuICAgKiBAdGVtcGxhdGUgT3ZlcnJpZGVTdGF0ZVR5cGUgLSBUaGUgc3BlY2lmaWMgdHlwZSBvZiBzdGF0ZSB0aGlzIGhvb2sgb3BlcmF0ZXMgb24uXG4gICAqXG4gICAqIEBzaW5jZSA5LjEuMFxuICAgKi9cbiAgd2l0aFR5cGVzOiA8XG4gICAgT3ZlcnJpZGVTdGF0ZVR5cGUgZXh0ZW5kcyBTdGF0ZVR5cGUsXG4gID4oKSA9PiBVc2VTZWxlY3RvcjxPdmVycmlkZVN0YXRlVHlwZT5cbn1cblxubGV0IHVzZVN5bmNFeHRlcm5hbFN0b3JlV2l0aFNlbGVjdG9yID0gbm90SW5pdGlhbGl6ZWQgYXMgdVNFU1dTXG5leHBvcnQgY29uc3QgaW5pdGlhbGl6ZVVzZVNlbGVjdG9yID0gKGZuOiB1U0VTV1MpID0+IHtcbiAgdXNlU3luY0V4dGVybmFsU3RvcmVXaXRoU2VsZWN0b3IgPSBmblxufVxuXG5jb25zdCByZWZFcXVhbGl0eTogRXF1YWxpdHlGbjxhbnk+ID0gKGEsIGIpID0+IGEgPT09IGJcblxuLyoqXG4gKiBIb29rIGZhY3RvcnksIHdoaWNoIGNyZWF0ZXMgYSBgdXNlU2VsZWN0b3JgIGhvb2sgYm91bmQgdG8gYSBnaXZlbiBjb250ZXh0LlxuICpcbiAqIEBwYXJhbSB7UmVhY3QuQ29udGV4dH0gW2NvbnRleHQ9UmVhY3RSZWR1eENvbnRleHRdIENvbnRleHQgcGFzc2VkIHRvIHlvdXIgYDxQcm92aWRlcj5gLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBBIGB1c2VTZWxlY3RvcmAgaG9vayBib3VuZCB0byB0aGUgc3BlY2lmaWVkIGNvbnRleHQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTZWxlY3Rvckhvb2soXG4gIGNvbnRleHQ6IFJlYWN0LkNvbnRleHQ8UmVhY3RSZWR1eENvbnRleHRWYWx1ZTxcbiAgICBhbnksXG4gICAgYW55XG4gID4gfCBudWxsPiA9IFJlYWN0UmVkdXhDb250ZXh0LFxuKTogVXNlU2VsZWN0b3Ige1xuICBjb25zdCB1c2VSZWR1eENvbnRleHQgPVxuICAgIGNvbnRleHQgPT09IFJlYWN0UmVkdXhDb250ZXh0XG4gICAgICA/IHVzZURlZmF1bHRSZWR1eENvbnRleHRcbiAgICAgIDogY3JlYXRlUmVkdXhDb250ZXh0SG9vayhjb250ZXh0KVxuXG4gIGNvbnN0IHVzZVNlbGVjdG9yID0gPFRTdGF0ZSwgU2VsZWN0ZWQgZXh0ZW5kcyB1bmtub3duPihcbiAgICBzZWxlY3RvcjogKHN0YXRlOiBUU3RhdGUpID0+IFNlbGVjdGVkLFxuICAgIGVxdWFsaXR5Rm5Pck9wdGlvbnM6XG4gICAgICB8IEVxdWFsaXR5Rm48Tm9JbmZlcjxTZWxlY3RlZD4+XG4gICAgICB8IFVzZVNlbGVjdG9yT3B0aW9uczxOb0luZmVyPFNlbGVjdGVkPj4gPSB7fSxcbiAgKTogU2VsZWN0ZWQgPT4ge1xuICAgIGNvbnN0IHsgZXF1YWxpdHlGbiA9IHJlZkVxdWFsaXR5LCBkZXZNb2RlQ2hlY2tzID0ge30gfSA9XG4gICAgICB0eXBlb2YgZXF1YWxpdHlGbk9yT3B0aW9ucyA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICA/IHsgZXF1YWxpdHlGbjogZXF1YWxpdHlGbk9yT3B0aW9ucyB9XG4gICAgICAgIDogZXF1YWxpdHlGbk9yT3B0aW9uc1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICBpZiAoIXNlbGVjdG9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgWW91IG11c3QgcGFzcyBhIHNlbGVjdG9yIHRvIHVzZVNlbGVjdG9yYClcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2Ygc2VsZWN0b3IgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBZb3UgbXVzdCBwYXNzIGEgZnVuY3Rpb24gYXMgYSBzZWxlY3RvciB0byB1c2VTZWxlY3RvcmApXG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGVxdWFsaXR5Rm4gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIGBZb3UgbXVzdCBwYXNzIGEgZnVuY3Rpb24gYXMgYW4gZXF1YWxpdHkgZnVuY3Rpb24gdG8gdXNlU2VsZWN0b3JgLFxuICAgICAgICApXG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3Qge1xuICAgICAgc3RvcmUsXG4gICAgICBzdWJzY3JpcHRpb24sXG4gICAgICBnZXRTZXJ2ZXJTdGF0ZSxcbiAgICAgIHN0YWJpbGl0eUNoZWNrLFxuICAgICAgaWRlbnRpdHlGdW5jdGlvbkNoZWNrLFxuICAgIH0gPSB1c2VSZWR1eENvbnRleHQoKVxuXG4gICAgY29uc3QgZmlyc3RSdW4gPSBSZWFjdC51c2VSZWYodHJ1ZSlcblxuICAgIGNvbnN0IHdyYXBwZWRTZWxlY3RvciA9IFJlYWN0LnVzZUNhbGxiYWNrPHR5cGVvZiBzZWxlY3Rvcj4oXG4gICAgICB7XG4gICAgICAgIFtzZWxlY3Rvci5uYW1lXShzdGF0ZTogVFN0YXRlKSB7XG4gICAgICAgICAgY29uc3Qgc2VsZWN0ZWQgPSBzZWxlY3RvcihzdGF0ZSlcbiAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgICBpZGVudGl0eUZ1bmN0aW9uQ2hlY2s6IGZpbmFsSWRlbnRpdHlGdW5jdGlvbkNoZWNrLFxuICAgICAgICAgICAgICBzdGFiaWxpdHlDaGVjazogZmluYWxTdGFiaWxpdHlDaGVjayxcbiAgICAgICAgICAgIH0gPSB7XG4gICAgICAgICAgICAgIHN0YWJpbGl0eUNoZWNrLFxuICAgICAgICAgICAgICBpZGVudGl0eUZ1bmN0aW9uQ2hlY2ssXG4gICAgICAgICAgICAgIC4uLmRldk1vZGVDaGVja3MsXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIGZpbmFsU3RhYmlsaXR5Q2hlY2sgPT09ICdhbHdheXMnIHx8XG4gICAgICAgICAgICAgIChmaW5hbFN0YWJpbGl0eUNoZWNrID09PSAnb25jZScgJiYgZmlyc3RSdW4uY3VycmVudClcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBjb25zdCB0b0NvbXBhcmUgPSBzZWxlY3RvcihzdGF0ZSlcbiAgICAgICAgICAgICAgaWYgKCFlcXVhbGl0eUZuKHNlbGVjdGVkLCB0b0NvbXBhcmUpKSB7XG4gICAgICAgICAgICAgICAgbGV0IHN0YWNrOiBzdHJpbmcgfCB1bmRlZmluZWQgPSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKClcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZXh0cmEtc2VtaVxuICAgICAgICAgICAgICAgICAgOyh7IHN0YWNrIH0gPSBlIGFzIEVycm9yKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgICAgICAgICAnU2VsZWN0b3IgJyArXG4gICAgICAgICAgICAgICAgICAgIChzZWxlY3Rvci5uYW1lIHx8ICd1bmtub3duJykgK1xuICAgICAgICAgICAgICAgICAgICAnIHJldHVybmVkIGEgZGlmZmVyZW50IHJlc3VsdCB3aGVuIGNhbGxlZCB3aXRoIHRoZSBzYW1lIHBhcmFtZXRlcnMuIFRoaXMgY2FuIGxlYWQgdG8gdW5uZWNlc3NhcnkgcmVyZW5kZXJzLicgK1xuICAgICAgICAgICAgICAgICAgICAnXFxuU2VsZWN0b3JzIHRoYXQgcmV0dXJuIGEgbmV3IHJlZmVyZW5jZSAoc3VjaCBhcyBhbiBvYmplY3Qgb3IgYW4gYXJyYXkpIHNob3VsZCBiZSBtZW1vaXplZDogaHR0cHM6Ly9yZWR1eC5qcy5vcmcvdXNhZ2UvZGVyaXZpbmctZGF0YS1zZWxlY3RvcnMjb3B0aW1pemluZy1zZWxlY3RvcnMtd2l0aC1tZW1vaXphdGlvbicsXG4gICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLFxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZCxcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWQyOiB0b0NvbXBhcmUsXG4gICAgICAgICAgICAgICAgICAgIHN0YWNrLFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgZmluYWxJZGVudGl0eUZ1bmN0aW9uQ2hlY2sgPT09ICdhbHdheXMnIHx8XG4gICAgICAgICAgICAgIChmaW5hbElkZW50aXR5RnVuY3Rpb25DaGVjayA9PT0gJ29uY2UnICYmIGZpcnN0UnVuLmN1cnJlbnQpXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgICBpZiAoc2VsZWN0ZWQgPT09IHN0YXRlKSB7XG4gICAgICAgICAgICAgICAgbGV0IHN0YWNrOiBzdHJpbmcgfCB1bmRlZmluZWQgPSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKClcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZXh0cmEtc2VtaVxuICAgICAgICAgICAgICAgICAgOyh7IHN0YWNrIH0gPSBlIGFzIEVycm9yKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgICAgICAgICAnU2VsZWN0b3IgJyArXG4gICAgICAgICAgICAgICAgICAgIChzZWxlY3Rvci5uYW1lIHx8ICd1bmtub3duJykgK1xuICAgICAgICAgICAgICAgICAgICAnIHJldHVybmVkIHRoZSByb290IHN0YXRlIHdoZW4gY2FsbGVkLiBUaGlzIGNhbiBsZWFkIHRvIHVubmVjZXNzYXJ5IHJlcmVuZGVycy4nICtcbiAgICAgICAgICAgICAgICAgICAgJ1xcblNlbGVjdG9ycyB0aGF0IHJldHVybiB0aGUgZW50aXJlIHN0YXRlIGFyZSBhbG1vc3QgY2VydGFpbmx5IGEgbWlzdGFrZSwgYXMgdGhleSB3aWxsIGNhdXNlIGEgcmVyZW5kZXIgd2hlbmV2ZXIgKmFueXRoaW5nKiBpbiBzdGF0ZSBjaGFuZ2VzLicsXG4gICAgICAgICAgICAgICAgICB7IHN0YWNrIH0sXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZmlyc3RSdW4uY3VycmVudCkgZmlyc3RSdW4uY3VycmVudCA9IGZhbHNlXG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBzZWxlY3RlZFxuICAgICAgICB9LFxuICAgICAgfVtzZWxlY3Rvci5uYW1lXSxcbiAgICAgIFtzZWxlY3Rvciwgc3RhYmlsaXR5Q2hlY2ssIGRldk1vZGVDaGVja3Muc3RhYmlsaXR5Q2hlY2tdLFxuICAgIClcblxuICAgIGNvbnN0IHNlbGVjdGVkU3RhdGUgPSB1c2VTeW5jRXh0ZXJuYWxTdG9yZVdpdGhTZWxlY3RvcihcbiAgICAgIHN1YnNjcmlwdGlvbi5hZGROZXN0ZWRTdWIsXG4gICAgICBzdG9yZS5nZXRTdGF0ZSxcbiAgICAgIGdldFNlcnZlclN0YXRlIHx8IHN0b3JlLmdldFN0YXRlLFxuICAgICAgd3JhcHBlZFNlbGVjdG9yLFxuICAgICAgZXF1YWxpdHlGbixcbiAgICApXG5cbiAgICBSZWFjdC51c2VEZWJ1Z1ZhbHVlKHNlbGVjdGVkU3RhdGUpXG5cbiAgICByZXR1cm4gc2VsZWN0ZWRTdGF0ZVxuICB9XG5cbiAgT2JqZWN0LmFzc2lnbih1c2VTZWxlY3Rvciwge1xuICAgIHdpdGhUeXBlczogKCkgPT4gdXNlU2VsZWN0b3IsXG4gIH0pXG5cbiAgcmV0dXJuIHVzZVNlbGVjdG9yIGFzIFVzZVNlbGVjdG9yXG59XG5cbi8qKlxuICogQSBob29rIHRvIGFjY2VzcyB0aGUgcmVkdXggc3RvcmUncyBzdGF0ZS4gVGhpcyBob29rIHRha2VzIGEgc2VsZWN0b3IgZnVuY3Rpb25cbiAqIGFzIGFuIGFyZ3VtZW50LiBUaGUgc2VsZWN0b3IgaXMgY2FsbGVkIHdpdGggdGhlIHN0b3JlIHN0YXRlLlxuICpcbiAqIFRoaXMgaG9vayB0YWtlcyBhbiBvcHRpb25hbCBlcXVhbGl0eSBjb21wYXJpc29uIGZ1bmN0aW9uIGFzIHRoZSBzZWNvbmQgcGFyYW1ldGVyXG4gKiB0aGF0IGFsbG93cyB5b3UgdG8gY3VzdG9taXplIHRoZSB3YXkgdGhlIHNlbGVjdGVkIHN0YXRlIGlzIGNvbXBhcmVkIHRvIGRldGVybWluZVxuICogd2hldGhlciB0aGUgY29tcG9uZW50IG5lZWRzIHRvIGJlIHJlLXJlbmRlcmVkLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHNlbGVjdG9yIHRoZSBzZWxlY3RvciBmdW5jdGlvblxuICogQHBhcmFtIHtGdW5jdGlvbj19IGVxdWFsaXR5Rm4gdGhlIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSB1c2VkIHRvIGRldGVybWluZSBlcXVhbGl0eVxuICpcbiAqIEByZXR1cm5zIHthbnl9IHRoZSBzZWxlY3RlZCBzdGF0ZVxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuICogaW1wb3J0IHsgdXNlU2VsZWN0b3IgfSBmcm9tICdyZWFjdC1yZWR1eCdcbiAqXG4gKiBleHBvcnQgY29uc3QgQ291bnRlckNvbXBvbmVudCA9ICgpID0+IHtcbiAqICAgY29uc3QgY291bnRlciA9IHVzZVNlbGVjdG9yKHN0YXRlID0+IHN0YXRlLmNvdW50ZXIpXG4gKiAgIHJldHVybiA8ZGl2Pntjb3VudGVyfTwvZGl2PlxuICogfVxuICovXG5leHBvcnQgY29uc3QgdXNlU2VsZWN0b3IgPSAvKiNfX1BVUkVfXyovIGNyZWF0ZVNlbGVjdG9ySG9vaygpXG4iLCJpbXBvcnQgdHlwZSB7IEVsZW1lbnRUeXBlLCBNZW1vRXhvdGljQ29tcG9uZW50LCBSZWFjdEVsZW1lbnQgfSBmcm9tICdyZWFjdCdcclxuXHJcbi8vIERpcmVjdGx5IHBvcnRlZCBmcm9tOlxyXG4vLyBodHRwczovL3VucGtnLmNvbS9icm93c2UvcmVhY3QtaXNAMTguMy4wLWNhbmFyeS1lZTY4NDQ2ZmYtMjAyMzExMTUvY2pzL3JlYWN0LWlzLnByb2R1Y3Rpb24uanNcclxuLy8gSXQncyB2ZXJ5IHBvc3NpYmxlIHRoaXMgY291bGQgY2hhbmdlIGluIHRoZSBmdXR1cmUsIGJ1dCBnaXZlbiB0aGF0XHJcbi8vIHdlIG9ubHkgdXNlIHRoZXNlIGluIGBjb25uZWN0YCwgdGhpcyBpcyBhIGxvdyBwcmlvcml0eS5cclxuXHJcbmNvbnN0IFJFQUNUX0VMRU1FTlRfVFlQRSA9IFN5bWJvbC5mb3IoJ3JlYWN0LmVsZW1lbnQnKVxyXG5jb25zdCBSRUFDVF9QT1JUQUxfVFlQRSA9IFN5bWJvbC5mb3IoJ3JlYWN0LnBvcnRhbCcpXHJcbmNvbnN0IFJFQUNUX0ZSQUdNRU5UX1RZUEUgPSBTeW1ib2wuZm9yKCdyZWFjdC5mcmFnbWVudCcpXHJcbmNvbnN0IFJFQUNUX1NUUklDVF9NT0RFX1RZUEUgPSBTeW1ib2wuZm9yKCdyZWFjdC5zdHJpY3RfbW9kZScpXHJcbmNvbnN0IFJFQUNUX1BST0ZJTEVSX1RZUEUgPSBTeW1ib2wuZm9yKCdyZWFjdC5wcm9maWxlcicpXHJcbmNvbnN0IFJFQUNUX1BST1ZJREVSX1RZUEUgPSBTeW1ib2wuZm9yKCdyZWFjdC5wcm92aWRlcicpXHJcbmNvbnN0IFJFQUNUX0NPTlRFWFRfVFlQRSA9IFN5bWJvbC5mb3IoJ3JlYWN0LmNvbnRleHQnKVxyXG5jb25zdCBSRUFDVF9TRVJWRVJfQ09OVEVYVF9UWVBFID0gU3ltYm9sLmZvcigncmVhY3Quc2VydmVyX2NvbnRleHQnKVxyXG5jb25zdCBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFID0gU3ltYm9sLmZvcigncmVhY3QuZm9yd2FyZF9yZWYnKVxyXG5jb25zdCBSRUFDVF9TVVNQRU5TRV9UWVBFID0gU3ltYm9sLmZvcigncmVhY3Quc3VzcGVuc2UnKVxyXG5jb25zdCBSRUFDVF9TVVNQRU5TRV9MSVNUX1RZUEUgPSBTeW1ib2wuZm9yKCdyZWFjdC5zdXNwZW5zZV9saXN0JylcclxuY29uc3QgUkVBQ1RfTUVNT19UWVBFID0gU3ltYm9sLmZvcigncmVhY3QubWVtbycpXHJcbmNvbnN0IFJFQUNUX0xBWllfVFlQRSA9IFN5bWJvbC5mb3IoJ3JlYWN0LmxhenknKVxyXG5jb25zdCBSRUFDVF9PRkZTQ1JFRU5fVFlQRSA9IFN5bWJvbC5mb3IoJ3JlYWN0Lm9mZnNjcmVlbicpXHJcbmNvbnN0IFJFQUNUX0NMSUVOVF9SRUZFUkVOQ0UgPSBTeW1ib2wuZm9yKCdyZWFjdC5jbGllbnQucmVmZXJlbmNlJylcclxuXHJcbmV4cG9ydCBjb25zdCBGb3J3YXJkUmVmID0gUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRVxyXG5leHBvcnQgY29uc3QgTWVtbyA9IFJFQUNUX01FTU9fVFlQRVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzVmFsaWRFbGVtZW50VHlwZSh0eXBlOiBhbnkpOiB0eXBlIGlzIEVsZW1lbnRUeXBlIHtcclxuICBpZiAodHlwZW9mIHR5cGUgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiB0eXBlID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICByZXR1cm4gdHJ1ZVxyXG4gIH0gLy8gTm90ZTogdHlwZW9mIG1pZ2h0IGJlIG90aGVyIHRoYW4gJ3N5bWJvbCcgb3IgJ251bWJlcicgKGUuZy4gaWYgaXQncyBhIHBvbHlmaWxsKS5cclxuXHJcbiAgaWYgKFxyXG4gICAgdHlwZSA9PT0gUkVBQ1RfRlJBR01FTlRfVFlQRSB8fFxyXG4gICAgdHlwZSA9PT0gUkVBQ1RfUFJPRklMRVJfVFlQRSB8fFxyXG4gICAgdHlwZSA9PT0gUkVBQ1RfU1RSSUNUX01PREVfVFlQRSB8fFxyXG4gICAgdHlwZSA9PT0gUkVBQ1RfU1VTUEVOU0VfVFlQRSB8fFxyXG4gICAgdHlwZSA9PT0gUkVBQ1RfU1VTUEVOU0VfTElTVF9UWVBFIHx8XHJcbiAgICB0eXBlID09PSBSRUFDVF9PRkZTQ1JFRU5fVFlQRVxyXG4gICkge1xyXG4gICAgcmV0dXJuIHRydWVcclxuICB9XHJcblxyXG4gIGlmICh0eXBlb2YgdHlwZSA9PT0gJ29iamVjdCcgJiYgdHlwZSAhPT0gbnVsbCkge1xyXG4gICAgaWYgKFxyXG4gICAgICB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9MQVpZX1RZUEUgfHxcclxuICAgICAgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfTUVNT19UWVBFIHx8XHJcbiAgICAgIHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX1BST1ZJREVSX1RZUEUgfHxcclxuICAgICAgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfQ09OVEVYVF9UWVBFIHx8XHJcbiAgICAgIHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0ZPUldBUkRfUkVGX1RZUEUgfHwgLy8gVGhpcyBuZWVkcyB0byBpbmNsdWRlIGFsbCBwb3NzaWJsZSBtb2R1bGUgcmVmZXJlbmNlIG9iamVjdFxyXG4gICAgICAvLyB0eXBlcyBzdXBwb3J0ZWQgYnkgYW55IEZsaWdodCBjb25maWd1cmF0aW9uIGFueXdoZXJlIHNpbmNlXHJcbiAgICAgIC8vIHdlIGRvbid0IGtub3cgd2hpY2ggRmxpZ2h0IGJ1aWxkIHRoaXMgd2lsbCBlbmQgdXAgYmVpbmcgdXNlZFxyXG4gICAgICAvLyB3aXRoLlxyXG4gICAgICB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9DTElFTlRfUkVGRVJFTkNFIHx8XHJcbiAgICAgIHR5cGUuZ2V0TW9kdWxlSWQgIT09IHVuZGVmaW5lZFxyXG4gICAgKSB7XHJcbiAgICAgIHJldHVybiB0cnVlXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gZmFsc2VcclxufVxyXG5cclxuZnVuY3Rpb24gdHlwZU9mKG9iamVjdDogYW55KTogc3ltYm9sIHwgdW5kZWZpbmVkIHtcclxuICBpZiAodHlwZW9mIG9iamVjdCA9PT0gJ29iamVjdCcgJiYgb2JqZWN0ICE9PSBudWxsKSB7XHJcbiAgICBjb25zdCAkJHR5cGVvZiA9IG9iamVjdC4kJHR5cGVvZlxyXG5cclxuICAgIHN3aXRjaCAoJCR0eXBlb2YpIHtcclxuICAgICAgY2FzZSBSRUFDVF9FTEVNRU5UX1RZUEU6IHtcclxuICAgICAgICBjb25zdCB0eXBlID0gb2JqZWN0LnR5cGVcclxuXHJcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XHJcbiAgICAgICAgICBjYXNlIFJFQUNUX0ZSQUdNRU5UX1RZUEU6XHJcbiAgICAgICAgICBjYXNlIFJFQUNUX1BST0ZJTEVSX1RZUEU6XHJcbiAgICAgICAgICBjYXNlIFJFQUNUX1NUUklDVF9NT0RFX1RZUEU6XHJcbiAgICAgICAgICBjYXNlIFJFQUNUX1NVU1BFTlNFX1RZUEU6XHJcbiAgICAgICAgICBjYXNlIFJFQUNUX1NVU1BFTlNFX0xJU1RfVFlQRTpcclxuICAgICAgICAgICAgcmV0dXJuIHR5cGVcclxuXHJcbiAgICAgICAgICBkZWZhdWx0OiB7XHJcbiAgICAgICAgICAgIGNvbnN0ICQkdHlwZW9mVHlwZSA9IHR5cGUgJiYgdHlwZS4kJHR5cGVvZlxyXG5cclxuICAgICAgICAgICAgc3dpdGNoICgkJHR5cGVvZlR5cGUpIHtcclxuICAgICAgICAgICAgICBjYXNlIFJFQUNUX1NFUlZFUl9DT05URVhUX1RZUEU6XHJcbiAgICAgICAgICAgICAgY2FzZSBSRUFDVF9DT05URVhUX1RZUEU6XHJcbiAgICAgICAgICAgICAgY2FzZSBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFOlxyXG4gICAgICAgICAgICAgIGNhc2UgUkVBQ1RfTEFaWV9UWVBFOlxyXG4gICAgICAgICAgICAgIGNhc2UgUkVBQ1RfTUVNT19UWVBFOlxyXG4gICAgICAgICAgICAgIGNhc2UgUkVBQ1RfUFJPVklERVJfVFlQRTpcclxuICAgICAgICAgICAgICAgIHJldHVybiAkJHR5cGVvZlR5cGVcclxuXHJcbiAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHJldHVybiAkJHR5cGVvZlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBjYXNlIFJFQUNUX1BPUlRBTF9UWVBFOiB7XHJcbiAgICAgICAgcmV0dXJuICQkdHlwZW9mXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiB1bmRlZmluZWRcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzQ29udGV4dENvbnN1bWVyKG9iamVjdDogYW55KTogb2JqZWN0IGlzIFJlYWN0RWxlbWVudCB7XHJcbiAgcmV0dXJuIHR5cGVPZihvYmplY3QpID09PSBSRUFDVF9DT05URVhUX1RZUEVcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzTWVtbyhvYmplY3Q6IGFueSk6IG9iamVjdCBpcyBNZW1vRXhvdGljQ29tcG9uZW50PGFueT4ge1xyXG4gIHJldHVybiB0eXBlT2Yob2JqZWN0KSA9PT0gUkVBQ1RfTUVNT19UWVBFXHJcbn1cclxuIiwiLyoqXHJcbiAqIFByaW50cyBhIHdhcm5pbmcgaW4gdGhlIGNvbnNvbGUgaWYgaXQgZXhpc3RzLlxyXG4gKlxyXG4gKiBAcGFyYW0ge1N0cmluZ30gbWVzc2FnZSBUaGUgd2FybmluZyBtZXNzYWdlLlxyXG4gKiBAcmV0dXJucyB7dm9pZH1cclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHdhcm5pbmcobWVzc2FnZTogc3RyaW5nKSB7XHJcbiAgLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqL1xyXG4gIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGNvbnNvbGUuZXJyb3IgPT09ICdmdW5jdGlvbicpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IobWVzc2FnZSlcclxuICB9XHJcbiAgLyogZXNsaW50LWVuYWJsZSBuby1jb25zb2xlICovXHJcbiAgdHJ5IHtcclxuICAgIC8vIFRoaXMgZXJyb3Igd2FzIHRocm93biBhcyBhIGNvbnZlbmllbmNlIHNvIHRoYXQgaWYgeW91IGVuYWJsZVxyXG4gICAgLy8gXCJicmVhayBvbiBhbGwgZXhjZXB0aW9uc1wiIGluIHlvdXIgY29uc29sZSxcclxuICAgIC8vIGl0IHdvdWxkIHBhdXNlIHRoZSBleGVjdXRpb24gYXQgdGhpcyBsaW5lLlxyXG4gICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpXHJcbiAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1lbXB0eSAqL1xyXG4gIH0gY2F0Y2ggKGUpIHt9XHJcbiAgLyogZXNsaW50LWVuYWJsZSBuby1lbXB0eSAqL1xyXG59XHJcbiIsImltcG9ydCB3YXJuaW5nIGZyb20gJy4uL3V0aWxzL3dhcm5pbmcnXG5cbmZ1bmN0aW9uIHZlcmlmeShzZWxlY3RvcjogdW5rbm93biwgbWV0aG9kTmFtZTogc3RyaW5nKTogdm9pZCB7XG4gIGlmICghc2VsZWN0b3IpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYFVuZXhwZWN0ZWQgdmFsdWUgZm9yICR7bWV0aG9kTmFtZX0gaW4gY29ubmVjdC5gKVxuICB9IGVsc2UgaWYgKFxuICAgIG1ldGhvZE5hbWUgPT09ICdtYXBTdGF0ZVRvUHJvcHMnIHx8XG4gICAgbWV0aG9kTmFtZSA9PT0gJ21hcERpc3BhdGNoVG9Qcm9wcydcbiAgKSB7XG4gICAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc2VsZWN0b3IsICdkZXBlbmRzT25Pd25Qcm9wcycpKSB7XG4gICAgICB3YXJuaW5nKFxuICAgICAgICBgVGhlIHNlbGVjdG9yIGZvciAke21ldGhvZE5hbWV9IG9mIGNvbm5lY3QgZGlkIG5vdCBzcGVjaWZ5IGEgdmFsdWUgZm9yIGRlcGVuZHNPbk93blByb3BzLmAsXG4gICAgICApXG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHZlcmlmeVN1YnNlbGVjdG9ycyhcbiAgbWFwU3RhdGVUb1Byb3BzOiB1bmtub3duLFxuICBtYXBEaXNwYXRjaFRvUHJvcHM6IHVua25vd24sXG4gIG1lcmdlUHJvcHM6IHVua25vd24sXG4pOiB2b2lkIHtcbiAgdmVyaWZ5KG1hcFN0YXRlVG9Qcm9wcywgJ21hcFN0YXRlVG9Qcm9wcycpXG4gIHZlcmlmeShtYXBEaXNwYXRjaFRvUHJvcHMsICdtYXBEaXNwYXRjaFRvUHJvcHMnKVxuICB2ZXJpZnkobWVyZ2VQcm9wcywgJ21lcmdlUHJvcHMnKVxufVxuIiwiaW1wb3J0IHR5cGUgeyBEaXNwYXRjaCwgQWN0aW9uIH0gZnJvbSAncmVkdXgnXG5pbXBvcnQgdHlwZSB7IENvbXBvbmVudFR5cGUgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB2ZXJpZnlTdWJzZWxlY3RvcnMgZnJvbSAnLi92ZXJpZnlTdWJzZWxlY3RvcnMnXG5pbXBvcnQgdHlwZSB7IEVxdWFsaXR5Rm4sIEV4dGVuZGVkRXF1YWxpdHlGbiB9IGZyb20gJy4uL3R5cGVzJ1xuXG5leHBvcnQgdHlwZSBTZWxlY3RvckZhY3Rvcnk8UywgVFByb3BzLCBUT3duUHJvcHMsIFRGYWN0b3J5T3B0aW9ucz4gPSAoXG4gIGRpc3BhdGNoOiBEaXNwYXRjaDxBY3Rpb248c3RyaW5nPj4sXG4gIGZhY3RvcnlPcHRpb25zOiBURmFjdG9yeU9wdGlvbnMsXG4pID0+IFNlbGVjdG9yPFMsIFRQcm9wcywgVE93blByb3BzPlxuXG5leHBvcnQgdHlwZSBTZWxlY3RvcjxTLCBUUHJvcHMsIFRPd25Qcm9wcyA9IG51bGw+ID0gVE93blByb3BzIGV4dGVuZHNcbiAgfCBudWxsXG4gIHwgdW5kZWZpbmVkXG4gID8gKHN0YXRlOiBTKSA9PiBUUHJvcHNcbiAgOiAoc3RhdGU6IFMsIG93blByb3BzOiBUT3duUHJvcHMpID0+IFRQcm9wc1xuXG5leHBvcnQgdHlwZSBNYXBTdGF0ZVRvUHJvcHM8VFN0YXRlUHJvcHMsIFRPd25Qcm9wcywgU3RhdGU+ID0gKFxuICBzdGF0ZTogU3RhdGUsXG4gIG93blByb3BzOiBUT3duUHJvcHMsXG4pID0+IFRTdGF0ZVByb3BzXG5cbmV4cG9ydCB0eXBlIE1hcFN0YXRlVG9Qcm9wc0ZhY3Rvcnk8VFN0YXRlUHJvcHMsIFRPd25Qcm9wcywgU3RhdGU+ID0gKFxuICBpbml0aWFsU3RhdGU6IFN0YXRlLFxuICBvd25Qcm9wczogVE93blByb3BzLFxuKSA9PiBNYXBTdGF0ZVRvUHJvcHM8VFN0YXRlUHJvcHMsIFRPd25Qcm9wcywgU3RhdGU+XG5cbmV4cG9ydCB0eXBlIE1hcFN0YXRlVG9Qcm9wc1BhcmFtPFRTdGF0ZVByb3BzLCBUT3duUHJvcHMsIFN0YXRlPiA9XG4gIHwgTWFwU3RhdGVUb1Byb3BzRmFjdG9yeTxUU3RhdGVQcm9wcywgVE93blByb3BzLCBTdGF0ZT5cbiAgfCBNYXBTdGF0ZVRvUHJvcHM8VFN0YXRlUHJvcHMsIFRPd25Qcm9wcywgU3RhdGU+XG4gIHwgbnVsbFxuICB8IHVuZGVmaW5lZFxuXG5leHBvcnQgdHlwZSBNYXBEaXNwYXRjaFRvUHJvcHNGdW5jdGlvbjxURGlzcGF0Y2hQcm9wcywgVE93blByb3BzPiA9IChcbiAgZGlzcGF0Y2g6IERpc3BhdGNoPEFjdGlvbjxzdHJpbmc+PixcbiAgb3duUHJvcHM6IFRPd25Qcm9wcyxcbikgPT4gVERpc3BhdGNoUHJvcHNcblxuZXhwb3J0IHR5cGUgTWFwRGlzcGF0Y2hUb1Byb3BzPFREaXNwYXRjaFByb3BzLCBUT3duUHJvcHM+ID1cbiAgfCBNYXBEaXNwYXRjaFRvUHJvcHNGdW5jdGlvbjxURGlzcGF0Y2hQcm9wcywgVE93blByb3BzPlxuICB8IFREaXNwYXRjaFByb3BzXG5cbmV4cG9ydCB0eXBlIE1hcERpc3BhdGNoVG9Qcm9wc0ZhY3Rvcnk8VERpc3BhdGNoUHJvcHMsIFRPd25Qcm9wcz4gPSAoXG4gIGRpc3BhdGNoOiBEaXNwYXRjaDxBY3Rpb248c3RyaW5nPj4sXG4gIG93blByb3BzOiBUT3duUHJvcHMsXG4pID0+IE1hcERpc3BhdGNoVG9Qcm9wc0Z1bmN0aW9uPFREaXNwYXRjaFByb3BzLCBUT3duUHJvcHM+XG5cbmV4cG9ydCB0eXBlIE1hcERpc3BhdGNoVG9Qcm9wc1BhcmFtPFREaXNwYXRjaFByb3BzLCBUT3duUHJvcHM+ID1cbiAgfCBNYXBEaXNwYXRjaFRvUHJvcHNGYWN0b3J5PFREaXNwYXRjaFByb3BzLCBUT3duUHJvcHM+XG4gIHwgTWFwRGlzcGF0Y2hUb1Byb3BzPFREaXNwYXRjaFByb3BzLCBUT3duUHJvcHM+XG5cbmV4cG9ydCB0eXBlIE1hcERpc3BhdGNoVG9Qcm9wc05vbk9iamVjdDxURGlzcGF0Y2hQcm9wcywgVE93blByb3BzPiA9XG4gIHwgTWFwRGlzcGF0Y2hUb1Byb3BzRmFjdG9yeTxURGlzcGF0Y2hQcm9wcywgVE93blByb3BzPlxuICB8IE1hcERpc3BhdGNoVG9Qcm9wc0Z1bmN0aW9uPFREaXNwYXRjaFByb3BzLCBUT3duUHJvcHM+XG5cbmV4cG9ydCB0eXBlIE1lcmdlUHJvcHM8VFN0YXRlUHJvcHMsIFREaXNwYXRjaFByb3BzLCBUT3duUHJvcHMsIFRNZXJnZWRQcm9wcz4gPSAoXG4gIHN0YXRlUHJvcHM6IFRTdGF0ZVByb3BzLFxuICBkaXNwYXRjaFByb3BzOiBURGlzcGF0Y2hQcm9wcyxcbiAgb3duUHJvcHM6IFRPd25Qcm9wcyxcbikgPT4gVE1lcmdlZFByb3BzXG5cbmludGVyZmFjZSBQdXJlU2VsZWN0b3JGYWN0b3J5Q29tcGFyaXNvbk9wdGlvbnM8VFN0YXRlUHJvcHMsIFRPd25Qcm9wcywgU3RhdGU+IHtcbiAgcmVhZG9ubHkgYXJlU3RhdGVzRXF1YWw6IEV4dGVuZGVkRXF1YWxpdHlGbjxTdGF0ZSwgVE93blByb3BzPlxuICByZWFkb25seSBhcmVTdGF0ZVByb3BzRXF1YWw6IEVxdWFsaXR5Rm48VFN0YXRlUHJvcHM+XG4gIHJlYWRvbmx5IGFyZU93blByb3BzRXF1YWw6IEVxdWFsaXR5Rm48VE93blByb3BzPlxufVxuXG5leHBvcnQgZnVuY3Rpb24gcHVyZUZpbmFsUHJvcHNTZWxlY3RvckZhY3Rvcnk8XG4gIFRTdGF0ZVByb3BzLFxuICBUT3duUHJvcHMsXG4gIFREaXNwYXRjaFByb3BzLFxuICBUTWVyZ2VkUHJvcHMsXG4gIFN0YXRlLFxuPihcbiAgbWFwU3RhdGVUb1Byb3BzOiBXcmFwcGVkTWFwU3RhdGVUb1Byb3BzPFRTdGF0ZVByb3BzLCBUT3duUHJvcHMsIFN0YXRlPixcbiAgbWFwRGlzcGF0Y2hUb1Byb3BzOiBXcmFwcGVkTWFwRGlzcGF0Y2hUb1Byb3BzPFREaXNwYXRjaFByb3BzLCBUT3duUHJvcHM+LFxuICBtZXJnZVByb3BzOiBNZXJnZVByb3BzPFRTdGF0ZVByb3BzLCBURGlzcGF0Y2hQcm9wcywgVE93blByb3BzLCBUTWVyZ2VkUHJvcHM+LFxuICBkaXNwYXRjaDogRGlzcGF0Y2g8QWN0aW9uPHN0cmluZz4+LFxuICB7XG4gICAgYXJlU3RhdGVzRXF1YWwsXG4gICAgYXJlT3duUHJvcHNFcXVhbCxcbiAgICBhcmVTdGF0ZVByb3BzRXF1YWwsXG4gIH06IFB1cmVTZWxlY3RvckZhY3RvcnlDb21wYXJpc29uT3B0aW9uczxUU3RhdGVQcm9wcywgVE93blByb3BzLCBTdGF0ZT4sXG4pIHtcbiAgbGV0IGhhc1J1bkF0TGVhc3RPbmNlID0gZmFsc2VcbiAgbGV0IHN0YXRlOiBTdGF0ZVxuICBsZXQgb3duUHJvcHM6IFRPd25Qcm9wc1xuICBsZXQgc3RhdGVQcm9wczogVFN0YXRlUHJvcHNcbiAgbGV0IGRpc3BhdGNoUHJvcHM6IFREaXNwYXRjaFByb3BzXG4gIGxldCBtZXJnZWRQcm9wczogVE1lcmdlZFByb3BzXG5cbiAgZnVuY3Rpb24gaGFuZGxlRmlyc3RDYWxsKGZpcnN0U3RhdGU6IFN0YXRlLCBmaXJzdE93blByb3BzOiBUT3duUHJvcHMpIHtcbiAgICBzdGF0ZSA9IGZpcnN0U3RhdGVcbiAgICBvd25Qcm9wcyA9IGZpcnN0T3duUHJvcHNcbiAgICBzdGF0ZVByb3BzID0gbWFwU3RhdGVUb1Byb3BzKHN0YXRlLCBvd25Qcm9wcylcbiAgICBkaXNwYXRjaFByb3BzID0gbWFwRGlzcGF0Y2hUb1Byb3BzKGRpc3BhdGNoLCBvd25Qcm9wcylcbiAgICBtZXJnZWRQcm9wcyA9IG1lcmdlUHJvcHMoc3RhdGVQcm9wcywgZGlzcGF0Y2hQcm9wcywgb3duUHJvcHMpXG4gICAgaGFzUnVuQXRMZWFzdE9uY2UgPSB0cnVlXG4gICAgcmV0dXJuIG1lcmdlZFByb3BzXG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVOZXdQcm9wc0FuZE5ld1N0YXRlKCkge1xuICAgIHN0YXRlUHJvcHMgPSBtYXBTdGF0ZVRvUHJvcHMoc3RhdGUsIG93blByb3BzKVxuXG4gICAgaWYgKG1hcERpc3BhdGNoVG9Qcm9wcy5kZXBlbmRzT25Pd25Qcm9wcylcbiAgICAgIGRpc3BhdGNoUHJvcHMgPSBtYXBEaXNwYXRjaFRvUHJvcHMoZGlzcGF0Y2gsIG93blByb3BzKVxuXG4gICAgbWVyZ2VkUHJvcHMgPSBtZXJnZVByb3BzKHN0YXRlUHJvcHMsIGRpc3BhdGNoUHJvcHMsIG93blByb3BzKVxuICAgIHJldHVybiBtZXJnZWRQcm9wc1xuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlTmV3UHJvcHMoKSB7XG4gICAgaWYgKG1hcFN0YXRlVG9Qcm9wcy5kZXBlbmRzT25Pd25Qcm9wcylcbiAgICAgIHN0YXRlUHJvcHMgPSBtYXBTdGF0ZVRvUHJvcHMoc3RhdGUsIG93blByb3BzKVxuXG4gICAgaWYgKG1hcERpc3BhdGNoVG9Qcm9wcy5kZXBlbmRzT25Pd25Qcm9wcylcbiAgICAgIGRpc3BhdGNoUHJvcHMgPSBtYXBEaXNwYXRjaFRvUHJvcHMoZGlzcGF0Y2gsIG93blByb3BzKVxuXG4gICAgbWVyZ2VkUHJvcHMgPSBtZXJnZVByb3BzKHN0YXRlUHJvcHMsIGRpc3BhdGNoUHJvcHMsIG93blByb3BzKVxuICAgIHJldHVybiBtZXJnZWRQcm9wc1xuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlTmV3U3RhdGUoKSB7XG4gICAgY29uc3QgbmV4dFN0YXRlUHJvcHMgPSBtYXBTdGF0ZVRvUHJvcHMoc3RhdGUsIG93blByb3BzKVxuICAgIGNvbnN0IHN0YXRlUHJvcHNDaGFuZ2VkID0gIWFyZVN0YXRlUHJvcHNFcXVhbChuZXh0U3RhdGVQcm9wcywgc3RhdGVQcm9wcylcbiAgICBzdGF0ZVByb3BzID0gbmV4dFN0YXRlUHJvcHNcblxuICAgIGlmIChzdGF0ZVByb3BzQ2hhbmdlZClcbiAgICAgIG1lcmdlZFByb3BzID0gbWVyZ2VQcm9wcyhzdGF0ZVByb3BzLCBkaXNwYXRjaFByb3BzLCBvd25Qcm9wcylcblxuICAgIHJldHVybiBtZXJnZWRQcm9wc1xuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlU3Vic2VxdWVudENhbGxzKG5leHRTdGF0ZTogU3RhdGUsIG5leHRPd25Qcm9wczogVE93blByb3BzKSB7XG4gICAgY29uc3QgcHJvcHNDaGFuZ2VkID0gIWFyZU93blByb3BzRXF1YWwobmV4dE93blByb3BzLCBvd25Qcm9wcylcbiAgICBjb25zdCBzdGF0ZUNoYW5nZWQgPSAhYXJlU3RhdGVzRXF1YWwoXG4gICAgICBuZXh0U3RhdGUsXG4gICAgICBzdGF0ZSxcbiAgICAgIG5leHRPd25Qcm9wcyxcbiAgICAgIG93blByb3BzLFxuICAgIClcbiAgICBzdGF0ZSA9IG5leHRTdGF0ZVxuICAgIG93blByb3BzID0gbmV4dE93blByb3BzXG5cbiAgICBpZiAocHJvcHNDaGFuZ2VkICYmIHN0YXRlQ2hhbmdlZCkgcmV0dXJuIGhhbmRsZU5ld1Byb3BzQW5kTmV3U3RhdGUoKVxuICAgIGlmIChwcm9wc0NoYW5nZWQpIHJldHVybiBoYW5kbGVOZXdQcm9wcygpXG4gICAgaWYgKHN0YXRlQ2hhbmdlZCkgcmV0dXJuIGhhbmRsZU5ld1N0YXRlKClcbiAgICByZXR1cm4gbWVyZ2VkUHJvcHNcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiBwdXJlRmluYWxQcm9wc1NlbGVjdG9yKFxuICAgIG5leHRTdGF0ZTogU3RhdGUsXG4gICAgbmV4dE93blByb3BzOiBUT3duUHJvcHMsXG4gICkge1xuICAgIHJldHVybiBoYXNSdW5BdExlYXN0T25jZVxuICAgICAgPyBoYW5kbGVTdWJzZXF1ZW50Q2FsbHMobmV4dFN0YXRlLCBuZXh0T3duUHJvcHMpXG4gICAgICA6IGhhbmRsZUZpcnN0Q2FsbChuZXh0U3RhdGUsIG5leHRPd25Qcm9wcylcbiAgfVxufVxuXG5pbnRlcmZhY2UgV3JhcHBlZE1hcFN0YXRlVG9Qcm9wczxUU3RhdGVQcm9wcywgVE93blByb3BzLCBTdGF0ZT4ge1xuICAoc3RhdGU6IFN0YXRlLCBvd25Qcm9wczogVE93blByb3BzKTogVFN0YXRlUHJvcHNcbiAgcmVhZG9ubHkgZGVwZW5kc09uT3duUHJvcHM6IGJvb2xlYW5cbn1cblxuaW50ZXJmYWNlIFdyYXBwZWRNYXBEaXNwYXRjaFRvUHJvcHM8VERpc3BhdGNoUHJvcHMsIFRPd25Qcm9wcz4ge1xuICAoZGlzcGF0Y2g6IERpc3BhdGNoPEFjdGlvbjxzdHJpbmc+Piwgb3duUHJvcHM6IFRPd25Qcm9wcyk6IFREaXNwYXRjaFByb3BzXG4gIHJlYWRvbmx5IGRlcGVuZHNPbk93blByb3BzOiBib29sZWFuXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSW5pdE9wdGlvbnM8VFN0YXRlUHJvcHMsIFRPd25Qcm9wcywgVE1lcmdlZFByb3BzLCBTdGF0ZT5cbiAgZXh0ZW5kcyBQdXJlU2VsZWN0b3JGYWN0b3J5Q29tcGFyaXNvbk9wdGlvbnM8VFN0YXRlUHJvcHMsIFRPd25Qcm9wcywgU3RhdGU+IHtcbiAgcmVhZG9ubHkgc2hvdWxkSGFuZGxlU3RhdGVDaGFuZ2VzOiBib29sZWFuXG4gIHJlYWRvbmx5IGRpc3BsYXlOYW1lOiBzdHJpbmdcbiAgcmVhZG9ubHkgd3JhcHBlZENvbXBvbmVudE5hbWU6IHN0cmluZ1xuICByZWFkb25seSBXcmFwcGVkQ29tcG9uZW50OiBDb21wb25lbnRUeXBlPFRPd25Qcm9wcz5cbiAgcmVhZG9ubHkgYXJlTWVyZ2VkUHJvcHNFcXVhbDogRXF1YWxpdHlGbjxUTWVyZ2VkUHJvcHM+XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2VsZWN0b3JGYWN0b3J5T3B0aW9uczxcbiAgVFN0YXRlUHJvcHMsXG4gIFRPd25Qcm9wcyxcbiAgVERpc3BhdGNoUHJvcHMsXG4gIFRNZXJnZWRQcm9wcyxcbiAgU3RhdGUsXG4+IGV4dGVuZHMgSW5pdE9wdGlvbnM8VFN0YXRlUHJvcHMsIFRPd25Qcm9wcywgVE1lcmdlZFByb3BzLCBTdGF0ZT4ge1xuICByZWFkb25seSBpbml0TWFwU3RhdGVUb1Byb3BzOiAoXG4gICAgZGlzcGF0Y2g6IERpc3BhdGNoPEFjdGlvbjxzdHJpbmc+PixcbiAgICBvcHRpb25zOiBJbml0T3B0aW9uczxUU3RhdGVQcm9wcywgVE93blByb3BzLCBUTWVyZ2VkUHJvcHMsIFN0YXRlPixcbiAgKSA9PiBXcmFwcGVkTWFwU3RhdGVUb1Byb3BzPFRTdGF0ZVByb3BzLCBUT3duUHJvcHMsIFN0YXRlPlxuICByZWFkb25seSBpbml0TWFwRGlzcGF0Y2hUb1Byb3BzOiAoXG4gICAgZGlzcGF0Y2g6IERpc3BhdGNoPEFjdGlvbjxzdHJpbmc+PixcbiAgICBvcHRpb25zOiBJbml0T3B0aW9uczxUU3RhdGVQcm9wcywgVE93blByb3BzLCBUTWVyZ2VkUHJvcHMsIFN0YXRlPixcbiAgKSA9PiBXcmFwcGVkTWFwRGlzcGF0Y2hUb1Byb3BzPFREaXNwYXRjaFByb3BzLCBUT3duUHJvcHM+XG4gIHJlYWRvbmx5IGluaXRNZXJnZVByb3BzOiAoXG4gICAgZGlzcGF0Y2g6IERpc3BhdGNoPEFjdGlvbjxzdHJpbmc+PixcbiAgICBvcHRpb25zOiBJbml0T3B0aW9uczxUU3RhdGVQcm9wcywgVE93blByb3BzLCBUTWVyZ2VkUHJvcHMsIFN0YXRlPixcbiAgKSA9PiBNZXJnZVByb3BzPFRTdGF0ZVByb3BzLCBURGlzcGF0Y2hQcm9wcywgVE93blByb3BzLCBUTWVyZ2VkUHJvcHM+XG59XG5cbi8vIFRPRE86IEFkZCBtb3JlIGNvbW1lbnRzXG5cbi8vIFRoZSBzZWxlY3RvciByZXR1cm5lZCBieSBzZWxlY3RvckZhY3Rvcnkgd2lsbCBtZW1vaXplIGl0cyByZXN1bHRzLFxuLy8gYWxsb3dpbmcgY29ubmVjdCdzIHNob3VsZENvbXBvbmVudFVwZGF0ZSB0byByZXR1cm4gZmFsc2UgaWYgZmluYWxcbi8vIHByb3BzIGhhdmUgbm90IGNoYW5nZWQuXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGZpbmFsUHJvcHNTZWxlY3RvckZhY3Rvcnk8XG4gIFRTdGF0ZVByb3BzLFxuICBUT3duUHJvcHMsXG4gIFREaXNwYXRjaFByb3BzLFxuICBUTWVyZ2VkUHJvcHMsXG4gIFN0YXRlLFxuPihcbiAgZGlzcGF0Y2g6IERpc3BhdGNoPEFjdGlvbjxzdHJpbmc+PixcbiAge1xuICAgIGluaXRNYXBTdGF0ZVRvUHJvcHMsXG4gICAgaW5pdE1hcERpc3BhdGNoVG9Qcm9wcyxcbiAgICBpbml0TWVyZ2VQcm9wcyxcbiAgICAuLi5vcHRpb25zXG4gIH06IFNlbGVjdG9yRmFjdG9yeU9wdGlvbnM8XG4gICAgVFN0YXRlUHJvcHMsXG4gICAgVE93blByb3BzLFxuICAgIFREaXNwYXRjaFByb3BzLFxuICAgIFRNZXJnZWRQcm9wcyxcbiAgICBTdGF0ZVxuICA+LFxuKSB7XG4gIGNvbnN0IG1hcFN0YXRlVG9Qcm9wcyA9IGluaXRNYXBTdGF0ZVRvUHJvcHMoZGlzcGF0Y2gsIG9wdGlvbnMpXG4gIGNvbnN0IG1hcERpc3BhdGNoVG9Qcm9wcyA9IGluaXRNYXBEaXNwYXRjaFRvUHJvcHMoZGlzcGF0Y2gsIG9wdGlvbnMpXG4gIGNvbnN0IG1lcmdlUHJvcHMgPSBpbml0TWVyZ2VQcm9wcyhkaXNwYXRjaCwgb3B0aW9ucylcblxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIHZlcmlmeVN1YnNlbGVjdG9ycyhtYXBTdGF0ZVRvUHJvcHMsIG1hcERpc3BhdGNoVG9Qcm9wcywgbWVyZ2VQcm9wcylcbiAgfVxuXG4gIHJldHVybiBwdXJlRmluYWxQcm9wc1NlbGVjdG9yRmFjdG9yeTxcbiAgICBUU3RhdGVQcm9wcyxcbiAgICBUT3duUHJvcHMsXG4gICAgVERpc3BhdGNoUHJvcHMsXG4gICAgVE1lcmdlZFByb3BzLFxuICAgIFN0YXRlXG4gID4obWFwU3RhdGVUb1Byb3BzLCBtYXBEaXNwYXRjaFRvUHJvcHMsIG1lcmdlUHJvcHMsIGRpc3BhdGNoLCBvcHRpb25zKVxufVxuIiwiaW1wb3J0IHR5cGUgeyBBY3Rpb25DcmVhdG9yc01hcE9iamVjdCwgRGlzcGF0Y2ggfSBmcm9tICdyZWR1eCdcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYmluZEFjdGlvbkNyZWF0b3JzKFxuICBhY3Rpb25DcmVhdG9yczogQWN0aW9uQ3JlYXRvcnNNYXBPYmplY3QsXG4gIGRpc3BhdGNoOiBEaXNwYXRjaCxcbik6IEFjdGlvbkNyZWF0b3JzTWFwT2JqZWN0IHtcbiAgY29uc3QgYm91bmRBY3Rpb25DcmVhdG9yczogQWN0aW9uQ3JlYXRvcnNNYXBPYmplY3QgPSB7fVxuXG4gIGZvciAoY29uc3Qga2V5IGluIGFjdGlvbkNyZWF0b3JzKSB7XG4gICAgY29uc3QgYWN0aW9uQ3JlYXRvciA9IGFjdGlvbkNyZWF0b3JzW2tleV1cbiAgICBpZiAodHlwZW9mIGFjdGlvbkNyZWF0b3IgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGJvdW5kQWN0aW9uQ3JlYXRvcnNba2V5XSA9ICguLi5hcmdzKSA9PiBkaXNwYXRjaChhY3Rpb25DcmVhdG9yKC4uLmFyZ3MpKVxuICAgIH1cbiAgfVxuICByZXR1cm4gYm91bmRBY3Rpb25DcmVhdG9yc1xufVxuIiwiLyoqXG4gKiBAcGFyYW0ge2FueX0gb2JqIFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSBhcmd1bWVudCBhcHBlYXJzIHRvIGJlIGEgcGxhaW4gb2JqZWN0LlxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpc1BsYWluT2JqZWN0KG9iajogdW5rbm93bikge1xuICBpZiAodHlwZW9mIG9iaiAhPT0gJ29iamVjdCcgfHwgb2JqID09PSBudWxsKSByZXR1cm4gZmFsc2VcblxuICBjb25zdCBwcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmopXG4gIGlmIChwcm90byA9PT0gbnVsbCkgcmV0dXJuIHRydWVcblxuICBsZXQgYmFzZVByb3RvID0gcHJvdG9cbiAgd2hpbGUgKE9iamVjdC5nZXRQcm90b3R5cGVPZihiYXNlUHJvdG8pICE9PSBudWxsKSB7XG4gICAgYmFzZVByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKGJhc2VQcm90bylcbiAgfVxuXG4gIHJldHVybiBwcm90byA9PT0gYmFzZVByb3RvXG59XG4iLCJpbXBvcnQgaXNQbGFpbk9iamVjdCBmcm9tICcuL2lzUGxhaW5PYmplY3QnXG5pbXBvcnQgd2FybmluZyBmcm9tICcuL3dhcm5pbmcnXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHZlcmlmeVBsYWluT2JqZWN0KFxuICB2YWx1ZTogdW5rbm93bixcbiAgZGlzcGxheU5hbWU6IHN0cmluZyxcbiAgbWV0aG9kTmFtZTogc3RyaW5nLFxuKSB7XG4gIGlmICghaXNQbGFpbk9iamVjdCh2YWx1ZSkpIHtcbiAgICB3YXJuaW5nKFxuICAgICAgYCR7bWV0aG9kTmFtZX0oKSBpbiAke2Rpc3BsYXlOYW1lfSBtdXN0IHJldHVybiBhIHBsYWluIG9iamVjdC4gSW5zdGVhZCByZWNlaXZlZCAke3ZhbHVlfS5gLFxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IHR5cGUgeyBBY3Rpb25DcmVhdG9yc01hcE9iamVjdCwgRGlzcGF0Y2gsIEFjdGlvbkNyZWF0b3IgfSBmcm9tICdyZWR1eCdcblxuaW1wb3J0IHR5cGUgeyBGaXhUeXBlTGF0ZXIgfSBmcm9tICcuLi90eXBlcydcbmltcG9ydCB2ZXJpZnlQbGFpbk9iamVjdCBmcm9tICcuLi91dGlscy92ZXJpZnlQbGFpbk9iamVjdCdcblxudHlwZSBBbnlTdGF0ZSA9IHsgW2tleTogc3RyaW5nXTogYW55IH1cbnR5cGUgU3RhdGVPckRpc3BhdGNoPFMgZXh0ZW5kcyBBbnlTdGF0ZSA9IEFueVN0YXRlPiA9IFMgfCBEaXNwYXRjaFxuXG50eXBlIEFueVByb3BzID0geyBba2V5OiBzdHJpbmddOiBhbnkgfVxuXG5leHBvcnQgdHlwZSBNYXBUb1Byb3BzPFAgZXh0ZW5kcyBBbnlQcm9wcyA9IEFueVByb3BzPiA9IHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gIChzdGF0ZU9yRGlzcGF0Y2g6IFN0YXRlT3JEaXNwYXRjaCwgb3duUHJvcHM/OiBQKTogRml4VHlwZUxhdGVyXG4gIGRlcGVuZHNPbk93blByb3BzPzogYm9vbGVhblxufVxuXG5leHBvcnQgZnVuY3Rpb24gd3JhcE1hcFRvUHJvcHNDb25zdGFudChcbiAgLy8gKiBOb3RlOlxuICAvLyAgSXQgc2VlbXMgdGhhdCB0aGUgZGlzcGF0Y2ggYXJndW1lbnRcbiAgLy8gIGNvdWxkIGJlIGEgZGlzcGF0Y2ggZnVuY3Rpb24gaW4gc29tZSBjYXNlcyAoZXg6IHdoZW5NYXBEaXNwYXRjaFRvUHJvcHNJc01pc3NpbmcpXG4gIC8vICBhbmQgYSBzdGF0ZSBvYmplY3QgaW4gc29tZSBvdGhlcnMgKGV4OiB3aGVuTWFwU3RhdGVUb1Byb3BzSXNNaXNzaW5nKVxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgZ2V0Q29uc3RhbnQ6IChkaXNwYXRjaDogRGlzcGF0Y2gpID0+XG4gICAgfCB7XG4gICAgICAgIGRpc3BhdGNoPzogRGlzcGF0Y2hcbiAgICAgICAgZGVwZW5kc09uT3duUHJvcHM/OiBib29sZWFuXG4gICAgICB9XG4gICAgfCBBY3Rpb25DcmVhdG9yc01hcE9iamVjdFxuICAgIHwgQWN0aW9uQ3JlYXRvcjxhbnk+LFxuKSB7XG4gIHJldHVybiBmdW5jdGlvbiBpbml0Q29uc3RhbnRTZWxlY3RvcihkaXNwYXRjaDogRGlzcGF0Y2gpIHtcbiAgICBjb25zdCBjb25zdGFudCA9IGdldENvbnN0YW50KGRpc3BhdGNoKVxuXG4gICAgZnVuY3Rpb24gY29uc3RhbnRTZWxlY3RvcigpIHtcbiAgICAgIHJldHVybiBjb25zdGFudFxuICAgIH1cbiAgICBjb25zdGFudFNlbGVjdG9yLmRlcGVuZHNPbk93blByb3BzID0gZmFsc2VcbiAgICByZXR1cm4gY29uc3RhbnRTZWxlY3RvclxuICB9XG59XG5cbi8vIGRlcGVuZHNPbk93blByb3BzIGlzIHVzZWQgYnkgY3JlYXRlTWFwVG9Qcm9wc1Byb3h5IHRvIGRldGVybWluZSB3aGV0aGVyIHRvIHBhc3MgcHJvcHMgYXMgYXJnc1xuLy8gdG8gdGhlIG1hcFRvUHJvcHMgZnVuY3Rpb24gYmVpbmcgd3JhcHBlZC4gSXQgaXMgYWxzbyB1c2VkIGJ5IG1ha2VQdXJlUHJvcHNTZWxlY3RvciB0byBkZXRlcm1pbmVcbi8vIHdoZXRoZXIgbWFwVG9Qcm9wcyBuZWVkcyB0byBiZSBpbnZva2VkIHdoZW4gcHJvcHMgaGF2ZSBjaGFuZ2VkLlxuLy9cbi8vIEEgbGVuZ3RoIG9mIG9uZSBzaWduYWxzIHRoYXQgbWFwVG9Qcm9wcyBkb2VzIG5vdCBkZXBlbmQgb24gcHJvcHMgZnJvbSB0aGUgcGFyZW50IGNvbXBvbmVudC5cbi8vIEEgbGVuZ3RoIG9mIHplcm8gaXMgYXNzdW1lZCB0byBtZWFuIG1hcFRvUHJvcHMgaXMgZ2V0dGluZyBhcmdzIHZpYSBhcmd1bWVudHMgb3IgLi4uYXJncyBhbmRcbi8vIHRoZXJlZm9yZSBub3QgcmVwb3J0aW5nIGl0cyBsZW5ndGggYWNjdXJhdGVseS4uXG4vLyBUT0RPIENhbiB0aGlzIGdldCBwdWxsZWQgb3V0IHNvIHRoYXQgd2UgY2FuIHN1YnNjcmliZSBkaXJlY3RseSB0byB0aGUgc3RvcmUgaWYgd2UgZG9uJ3QgbmVlZCBvd25Qcm9wcz9cbmV4cG9ydCBmdW5jdGlvbiBnZXREZXBlbmRzT25Pd25Qcm9wcyhtYXBUb1Byb3BzOiBNYXBUb1Byb3BzKSB7XG4gIHJldHVybiBtYXBUb1Byb3BzLmRlcGVuZHNPbk93blByb3BzXG4gICAgPyBCb29sZWFuKG1hcFRvUHJvcHMuZGVwZW5kc09uT3duUHJvcHMpXG4gICAgOiBtYXBUb1Byb3BzLmxlbmd0aCAhPT0gMVxufVxuXG4vLyBVc2VkIGJ5IHdoZW5NYXBTdGF0ZVRvUHJvcHNJc0Z1bmN0aW9uIGFuZCB3aGVuTWFwRGlzcGF0Y2hUb1Byb3BzSXNGdW5jdGlvbixcbi8vIHRoaXMgZnVuY3Rpb24gd3JhcHMgbWFwVG9Qcm9wcyBpbiBhIHByb3h5IGZ1bmN0aW9uIHdoaWNoIGRvZXMgc2V2ZXJhbCB0aGluZ3M6XG4vL1xuLy8gICogRGV0ZWN0cyB3aGV0aGVyIHRoZSBtYXBUb1Byb3BzIGZ1bmN0aW9uIGJlaW5nIGNhbGxlZCBkZXBlbmRzIG9uIHByb3BzLCB3aGljaFxuLy8gICAgaXMgdXNlZCBieSBzZWxlY3RvckZhY3RvcnkgdG8gZGVjaWRlIGlmIGl0IHNob3VsZCByZWludm9rZSBvbiBwcm9wcyBjaGFuZ2VzLlxuLy9cbi8vICAqIE9uIGZpcnN0IGNhbGwsIGhhbmRsZXMgbWFwVG9Qcm9wcyBpZiByZXR1cm5zIGFub3RoZXIgZnVuY3Rpb24sIGFuZCB0cmVhdHMgdGhhdFxuLy8gICAgbmV3IGZ1bmN0aW9uIGFzIHRoZSB0cnVlIG1hcFRvUHJvcHMgZm9yIHN1YnNlcXVlbnQgY2FsbHMuXG4vL1xuLy8gICogT24gZmlyc3QgY2FsbCwgdmVyaWZpZXMgdGhlIGZpcnN0IHJlc3VsdCBpcyBhIHBsYWluIG9iamVjdCwgaW4gb3JkZXIgdG8gd2FyblxuLy8gICAgdGhlIGRldmVsb3BlciB0aGF0IHRoZWlyIG1hcFRvUHJvcHMgZnVuY3Rpb24gaXMgbm90IHJldHVybmluZyBhIHZhbGlkIHJlc3VsdC5cbi8vXG5leHBvcnQgZnVuY3Rpb24gd3JhcE1hcFRvUHJvcHNGdW5jPFAgZXh0ZW5kcyBBbnlQcm9wcyA9IEFueVByb3BzPihcbiAgbWFwVG9Qcm9wczogTWFwVG9Qcm9wcyxcbiAgbWV0aG9kTmFtZTogc3RyaW5nLFxuKSB7XG4gIHJldHVybiBmdW5jdGlvbiBpbml0UHJveHlTZWxlY3RvcihcbiAgICBkaXNwYXRjaDogRGlzcGF0Y2gsXG4gICAgeyBkaXNwbGF5TmFtZSB9OiB7IGRpc3BsYXlOYW1lOiBzdHJpbmcgfSxcbiAgKSB7XG4gICAgY29uc3QgcHJveHkgPSBmdW5jdGlvbiBtYXBUb1Byb3BzUHJveHkoXG4gICAgICBzdGF0ZU9yRGlzcGF0Y2g6IFN0YXRlT3JEaXNwYXRjaCxcbiAgICAgIG93blByb3BzPzogUCxcbiAgICApOiBNYXBUb1Byb3BzIHtcbiAgICAgIHJldHVybiBwcm94eS5kZXBlbmRzT25Pd25Qcm9wc1xuICAgICAgICA/IHByb3h5Lm1hcFRvUHJvcHMoc3RhdGVPckRpc3BhdGNoLCBvd25Qcm9wcylcbiAgICAgICAgOiBwcm94eS5tYXBUb1Byb3BzKHN0YXRlT3JEaXNwYXRjaCwgdW5kZWZpbmVkKVxuICAgIH1cblxuICAgIC8vIGFsbG93IGRldGVjdEZhY3RvcnlBbmRWZXJpZnkgdG8gZ2V0IG93blByb3BzXG4gICAgcHJveHkuZGVwZW5kc09uT3duUHJvcHMgPSB0cnVlXG5cbiAgICBwcm94eS5tYXBUb1Byb3BzID0gZnVuY3Rpb24gZGV0ZWN0RmFjdG9yeUFuZFZlcmlmeShcbiAgICAgIHN0YXRlT3JEaXNwYXRjaDogU3RhdGVPckRpc3BhdGNoLFxuICAgICAgb3duUHJvcHM/OiBQLFxuICAgICk6IE1hcFRvUHJvcHMge1xuICAgICAgcHJveHkubWFwVG9Qcm9wcyA9IG1hcFRvUHJvcHNcbiAgICAgIHByb3h5LmRlcGVuZHNPbk93blByb3BzID0gZ2V0RGVwZW5kc09uT3duUHJvcHMobWFwVG9Qcm9wcylcbiAgICAgIGxldCBwcm9wcyA9IHByb3h5KHN0YXRlT3JEaXNwYXRjaCwgb3duUHJvcHMpXG5cbiAgICAgIGlmICh0eXBlb2YgcHJvcHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcHJveHkubWFwVG9Qcm9wcyA9IHByb3BzXG4gICAgICAgIHByb3h5LmRlcGVuZHNPbk93blByb3BzID0gZ2V0RGVwZW5kc09uT3duUHJvcHMocHJvcHMpXG4gICAgICAgIHByb3BzID0gcHJveHkoc3RhdGVPckRpc3BhdGNoLCBvd25Qcm9wcylcbiAgICAgIH1cblxuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpXG4gICAgICAgIHZlcmlmeVBsYWluT2JqZWN0KHByb3BzLCBkaXNwbGF5TmFtZSwgbWV0aG9kTmFtZSlcblxuICAgICAgcmV0dXJuIHByb3BzXG4gICAgfVxuXG4gICAgcmV0dXJuIHByb3h5XG4gIH1cbn1cbiIsImltcG9ydCB0eXBlIHsgQWN0aW9uLCBEaXNwYXRjaCB9IGZyb20gJ3JlZHV4J1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlSW52YWxpZEFyZ0ZhY3RvcnkoYXJnOiB1bmtub3duLCBuYW1lOiBzdHJpbmcpIHtcbiAgcmV0dXJuIChcbiAgICBkaXNwYXRjaDogRGlzcGF0Y2g8QWN0aW9uPHN0cmluZz4+LFxuICAgIG9wdGlvbnM6IHsgcmVhZG9ubHkgd3JhcHBlZENvbXBvbmVudE5hbWU6IHN0cmluZyB9LFxuICApID0+IHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBgSW52YWxpZCB2YWx1ZSBvZiB0eXBlICR7dHlwZW9mIGFyZ30gZm9yICR7bmFtZX0gYXJndW1lbnQgd2hlbiBjb25uZWN0aW5nIGNvbXBvbmVudCAke1xuICAgICAgICBvcHRpb25zLndyYXBwZWRDb21wb25lbnROYW1lXG4gICAgICB9LmAsXG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgdHlwZSB7IEFjdGlvbiwgRGlzcGF0Y2ggfSBmcm9tICdyZWR1eCdcbmltcG9ydCBiaW5kQWN0aW9uQ3JlYXRvcnMgZnJvbSAnLi4vdXRpbHMvYmluZEFjdGlvbkNyZWF0b3JzJ1xuaW1wb3J0IHsgd3JhcE1hcFRvUHJvcHNDb25zdGFudCwgd3JhcE1hcFRvUHJvcHNGdW5jIH0gZnJvbSAnLi93cmFwTWFwVG9Qcm9wcydcbmltcG9ydCB7IGNyZWF0ZUludmFsaWRBcmdGYWN0b3J5IH0gZnJvbSAnLi9pbnZhbGlkQXJnRmFjdG9yeSdcbmltcG9ydCB0eXBlIHsgTWFwRGlzcGF0Y2hUb1Byb3BzUGFyYW0gfSBmcm9tICcuL3NlbGVjdG9yRmFjdG9yeSdcblxuZXhwb3J0IGZ1bmN0aW9uIG1hcERpc3BhdGNoVG9Qcm9wc0ZhY3Rvcnk8VERpc3BhdGNoUHJvcHMsIFRPd25Qcm9wcz4oXG4gIG1hcERpc3BhdGNoVG9Qcm9wczpcbiAgICB8IE1hcERpc3BhdGNoVG9Qcm9wc1BhcmFtPFREaXNwYXRjaFByb3BzLCBUT3duUHJvcHM+XG4gICAgfCB1bmRlZmluZWQsXG4pIHtcbiAgcmV0dXJuIG1hcERpc3BhdGNoVG9Qcm9wcyAmJiB0eXBlb2YgbWFwRGlzcGF0Y2hUb1Byb3BzID09PSAnb2JqZWN0J1xuICAgID8gd3JhcE1hcFRvUHJvcHNDb25zdGFudCgoZGlzcGF0Y2g6IERpc3BhdGNoPEFjdGlvbjxzdHJpbmc+PikgPT5cbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBiaW5kQWN0aW9uQ3JlYXRvcnMobWFwRGlzcGF0Y2hUb1Byb3BzLCBkaXNwYXRjaCksXG4gICAgICApXG4gICAgOiAhbWFwRGlzcGF0Y2hUb1Byb3BzXG4gICAgICA/IHdyYXBNYXBUb1Byb3BzQ29uc3RhbnQoKGRpc3BhdGNoOiBEaXNwYXRjaDxBY3Rpb248c3RyaW5nPj4pID0+ICh7XG4gICAgICAgICAgZGlzcGF0Y2gsXG4gICAgICAgIH0pKVxuICAgICAgOiB0eXBlb2YgbWFwRGlzcGF0Y2hUb1Byb3BzID09PSAnZnVuY3Rpb24nXG4gICAgICAgID8gLy8gQHRzLWlnbm9yZVxuICAgICAgICAgIHdyYXBNYXBUb1Byb3BzRnVuYyhtYXBEaXNwYXRjaFRvUHJvcHMsICdtYXBEaXNwYXRjaFRvUHJvcHMnKVxuICAgICAgICA6IGNyZWF0ZUludmFsaWRBcmdGYWN0b3J5KG1hcERpc3BhdGNoVG9Qcm9wcywgJ21hcERpc3BhdGNoVG9Qcm9wcycpXG59XG4iLCJpbXBvcnQgeyB3cmFwTWFwVG9Qcm9wc0NvbnN0YW50LCB3cmFwTWFwVG9Qcm9wc0Z1bmMgfSBmcm9tICcuL3dyYXBNYXBUb1Byb3BzJ1xuaW1wb3J0IHsgY3JlYXRlSW52YWxpZEFyZ0ZhY3RvcnkgfSBmcm9tICcuL2ludmFsaWRBcmdGYWN0b3J5J1xuaW1wb3J0IHR5cGUgeyBNYXBTdGF0ZVRvUHJvcHNQYXJhbSB9IGZyb20gJy4vc2VsZWN0b3JGYWN0b3J5J1xuXG5leHBvcnQgZnVuY3Rpb24gbWFwU3RhdGVUb1Byb3BzRmFjdG9yeTxUU3RhdGVQcm9wcywgVE93blByb3BzLCBTdGF0ZT4oXG4gIG1hcFN0YXRlVG9Qcm9wczogTWFwU3RhdGVUb1Byb3BzUGFyYW08VFN0YXRlUHJvcHMsIFRPd25Qcm9wcywgU3RhdGU+LFxuKSB7XG4gIHJldHVybiAhbWFwU3RhdGVUb1Byb3BzXG4gICAgPyB3cmFwTWFwVG9Qcm9wc0NvbnN0YW50KCgpID0+ICh7fSkpXG4gICAgOiB0eXBlb2YgbWFwU3RhdGVUb1Byb3BzID09PSAnZnVuY3Rpb24nXG4gICAgICA/IC8vIEB0cy1pZ25vcmVcbiAgICAgICAgd3JhcE1hcFRvUHJvcHNGdW5jKG1hcFN0YXRlVG9Qcm9wcywgJ21hcFN0YXRlVG9Qcm9wcycpXG4gICAgICA6IGNyZWF0ZUludmFsaWRBcmdGYWN0b3J5KG1hcFN0YXRlVG9Qcm9wcywgJ21hcFN0YXRlVG9Qcm9wcycpXG59XG4iLCJpbXBvcnQgdHlwZSB7IEFjdGlvbiwgRGlzcGF0Y2ggfSBmcm9tICdyZWR1eCdcbmltcG9ydCB2ZXJpZnlQbGFpbk9iamVjdCBmcm9tICcuLi91dGlscy92ZXJpZnlQbGFpbk9iamVjdCdcbmltcG9ydCB7IGNyZWF0ZUludmFsaWRBcmdGYWN0b3J5IH0gZnJvbSAnLi9pbnZhbGlkQXJnRmFjdG9yeSdcbmltcG9ydCB0eXBlIHsgTWVyZ2VQcm9wcyB9IGZyb20gJy4vc2VsZWN0b3JGYWN0b3J5J1xuaW1wb3J0IHR5cGUgeyBFcXVhbGl0eUZuIH0gZnJvbSAnLi4vdHlwZXMnXG5cbmV4cG9ydCBmdW5jdGlvbiBkZWZhdWx0TWVyZ2VQcm9wczxcbiAgVFN0YXRlUHJvcHMsXG4gIFREaXNwYXRjaFByb3BzLFxuICBUT3duUHJvcHMsXG4gIFRNZXJnZWRQcm9wcyxcbj4oXG4gIHN0YXRlUHJvcHM6IFRTdGF0ZVByb3BzLFxuICBkaXNwYXRjaFByb3BzOiBURGlzcGF0Y2hQcm9wcyxcbiAgb3duUHJvcHM6IFRPd25Qcm9wcyxcbik6IFRNZXJnZWRQcm9wcyB7XG4gIC8vIEB0cy1pZ25vcmVcbiAgcmV0dXJuIHsgLi4ub3duUHJvcHMsIC4uLnN0YXRlUHJvcHMsIC4uLmRpc3BhdGNoUHJvcHMgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gd3JhcE1lcmdlUHJvcHNGdW5jPFxuICBUU3RhdGVQcm9wcyxcbiAgVERpc3BhdGNoUHJvcHMsXG4gIFRPd25Qcm9wcyxcbiAgVE1lcmdlZFByb3BzLFxuPihcbiAgbWVyZ2VQcm9wczogTWVyZ2VQcm9wczxUU3RhdGVQcm9wcywgVERpc3BhdGNoUHJvcHMsIFRPd25Qcm9wcywgVE1lcmdlZFByb3BzPixcbik6IChcbiAgZGlzcGF0Y2g6IERpc3BhdGNoPEFjdGlvbjxzdHJpbmc+PixcbiAgb3B0aW9uczoge1xuICAgIHJlYWRvbmx5IGRpc3BsYXlOYW1lOiBzdHJpbmdcbiAgICByZWFkb25seSBhcmVNZXJnZWRQcm9wc0VxdWFsOiBFcXVhbGl0eUZuPFRNZXJnZWRQcm9wcz5cbiAgfSxcbikgPT4gTWVyZ2VQcm9wczxUU3RhdGVQcm9wcywgVERpc3BhdGNoUHJvcHMsIFRPd25Qcm9wcywgVE1lcmdlZFByb3BzPiB7XG4gIHJldHVybiBmdW5jdGlvbiBpbml0TWVyZ2VQcm9wc1Byb3h5KFxuICAgIGRpc3BhdGNoLFxuICAgIHsgZGlzcGxheU5hbWUsIGFyZU1lcmdlZFByb3BzRXF1YWwgfSxcbiAgKSB7XG4gICAgbGV0IGhhc1J1bk9uY2UgPSBmYWxzZVxuICAgIGxldCBtZXJnZWRQcm9wczogVE1lcmdlZFByb3BzXG5cbiAgICByZXR1cm4gZnVuY3Rpb24gbWVyZ2VQcm9wc1Byb3h5KFxuICAgICAgc3RhdGVQcm9wczogVFN0YXRlUHJvcHMsXG4gICAgICBkaXNwYXRjaFByb3BzOiBURGlzcGF0Y2hQcm9wcyxcbiAgICAgIG93blByb3BzOiBUT3duUHJvcHMsXG4gICAgKSB7XG4gICAgICBjb25zdCBuZXh0TWVyZ2VkUHJvcHMgPSBtZXJnZVByb3BzKHN0YXRlUHJvcHMsIGRpc3BhdGNoUHJvcHMsIG93blByb3BzKVxuXG4gICAgICBpZiAoaGFzUnVuT25jZSkge1xuICAgICAgICBpZiAoIWFyZU1lcmdlZFByb3BzRXF1YWwobmV4dE1lcmdlZFByb3BzLCBtZXJnZWRQcm9wcykpXG4gICAgICAgICAgbWVyZ2VkUHJvcHMgPSBuZXh0TWVyZ2VkUHJvcHNcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGhhc1J1bk9uY2UgPSB0cnVlXG4gICAgICAgIG1lcmdlZFByb3BzID0gbmV4dE1lcmdlZFByb3BzXG5cbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpXG4gICAgICAgICAgdmVyaWZ5UGxhaW5PYmplY3QobWVyZ2VkUHJvcHMsIGRpc3BsYXlOYW1lLCAnbWVyZ2VQcm9wcycpXG4gICAgICB9XG5cbiAgICAgIHJldHVybiBtZXJnZWRQcm9wc1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gbWVyZ2VQcm9wc0ZhY3Rvcnk8XG4gIFRTdGF0ZVByb3BzLFxuICBURGlzcGF0Y2hQcm9wcyxcbiAgVE93blByb3BzLFxuICBUTWVyZ2VkUHJvcHMsXG4+KFxuICBtZXJnZVByb3BzPzogTWVyZ2VQcm9wczxUU3RhdGVQcm9wcywgVERpc3BhdGNoUHJvcHMsIFRPd25Qcm9wcywgVE1lcmdlZFByb3BzPixcbikge1xuICByZXR1cm4gIW1lcmdlUHJvcHNcbiAgICA/ICgpID0+IGRlZmF1bHRNZXJnZVByb3BzXG4gICAgOiB0eXBlb2YgbWVyZ2VQcm9wcyA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgPyB3cmFwTWVyZ2VQcm9wc0Z1bmMobWVyZ2VQcm9wcylcbiAgICAgIDogY3JlYXRlSW52YWxpZEFyZ0ZhY3RvcnkobWVyZ2VQcm9wcywgJ21lcmdlUHJvcHMnKVxufVxuIiwiLy8gRGVmYXVsdCB0byBhIGR1bW15IFwiYmF0Y2hcIiBpbXBsZW1lbnRhdGlvbiB0aGF0IGp1c3QgcnVucyB0aGUgY2FsbGJhY2tcclxuZXhwb3J0IGZ1bmN0aW9uIGRlZmF1bHROb29wQmF0Y2goY2FsbGJhY2s6ICgpID0+IHZvaWQpIHtcclxuICBjYWxsYmFjaygpXHJcbn1cclxuIiwiaW1wb3J0IHsgZGVmYXVsdE5vb3BCYXRjaCBhcyBiYXRjaCB9IGZyb20gJy4vYmF0Y2gnXG5cbi8vIGVuY2Fwc3VsYXRlcyB0aGUgc3Vic2NyaXB0aW9uIGxvZ2ljIGZvciBjb25uZWN0aW5nIGEgY29tcG9uZW50IHRvIHRoZSByZWR1eCBzdG9yZSwgYXNcbi8vIHdlbGwgYXMgbmVzdGluZyBzdWJzY3JpcHRpb25zIG9mIGRlc2NlbmRhbnQgY29tcG9uZW50cywgc28gdGhhdCB3ZSBjYW4gZW5zdXJlIHRoZVxuLy8gYW5jZXN0b3IgY29tcG9uZW50cyByZS1yZW5kZXIgYmVmb3JlIGRlc2NlbmRhbnRzXG5cbnR5cGUgVm9pZEZ1bmMgPSAoKSA9PiB2b2lkXG5cbnR5cGUgTGlzdGVuZXIgPSB7XG4gIGNhbGxiYWNrOiBWb2lkRnVuY1xuICBuZXh0OiBMaXN0ZW5lciB8IG51bGxcbiAgcHJldjogTGlzdGVuZXIgfCBudWxsXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUxpc3RlbmVyQ29sbGVjdGlvbigpIHtcbiAgbGV0IGZpcnN0OiBMaXN0ZW5lciB8IG51bGwgPSBudWxsXG4gIGxldCBsYXN0OiBMaXN0ZW5lciB8IG51bGwgPSBudWxsXG5cbiAgcmV0dXJuIHtcbiAgICBjbGVhcigpIHtcbiAgICAgIGZpcnN0ID0gbnVsbFxuICAgICAgbGFzdCA9IG51bGxcbiAgICB9LFxuXG4gICAgbm90aWZ5KCkge1xuICAgICAgYmF0Y2goKCkgPT4ge1xuICAgICAgICBsZXQgbGlzdGVuZXIgPSBmaXJzdFxuICAgICAgICB3aGlsZSAobGlzdGVuZXIpIHtcbiAgICAgICAgICBsaXN0ZW5lci5jYWxsYmFjaygpXG4gICAgICAgICAgbGlzdGVuZXIgPSBsaXN0ZW5lci5uZXh0XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfSxcblxuICAgIGdldCgpIHtcbiAgICAgIGNvbnN0IGxpc3RlbmVyczogTGlzdGVuZXJbXSA9IFtdXG4gICAgICBsZXQgbGlzdGVuZXIgPSBmaXJzdFxuICAgICAgd2hpbGUgKGxpc3RlbmVyKSB7XG4gICAgICAgIGxpc3RlbmVycy5wdXNoKGxpc3RlbmVyKVxuICAgICAgICBsaXN0ZW5lciA9IGxpc3RlbmVyLm5leHRcbiAgICAgIH1cbiAgICAgIHJldHVybiBsaXN0ZW5lcnNcbiAgICB9LFxuXG4gICAgc3Vic2NyaWJlKGNhbGxiYWNrOiAoKSA9PiB2b2lkKSB7XG4gICAgICBsZXQgaXNTdWJzY3JpYmVkID0gdHJ1ZVxuXG4gICAgICBjb25zdCBsaXN0ZW5lcjogTGlzdGVuZXIgPSAobGFzdCA9IHtcbiAgICAgICAgY2FsbGJhY2ssXG4gICAgICAgIG5leHQ6IG51bGwsXG4gICAgICAgIHByZXY6IGxhc3QsXG4gICAgICB9KVxuXG4gICAgICBpZiAobGlzdGVuZXIucHJldikge1xuICAgICAgICBsaXN0ZW5lci5wcmV2Lm5leHQgPSBsaXN0ZW5lclxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZmlyc3QgPSBsaXN0ZW5lclxuICAgICAgfVxuXG4gICAgICByZXR1cm4gZnVuY3Rpb24gdW5zdWJzY3JpYmUoKSB7XG4gICAgICAgIGlmICghaXNTdWJzY3JpYmVkIHx8IGZpcnN0ID09PSBudWxsKSByZXR1cm5cbiAgICAgICAgaXNTdWJzY3JpYmVkID0gZmFsc2VcblxuICAgICAgICBpZiAobGlzdGVuZXIubmV4dCkge1xuICAgICAgICAgIGxpc3RlbmVyLm5leHQucHJldiA9IGxpc3RlbmVyLnByZXZcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsYXN0ID0gbGlzdGVuZXIucHJldlxuICAgICAgICB9XG4gICAgICAgIGlmIChsaXN0ZW5lci5wcmV2KSB7XG4gICAgICAgICAgbGlzdGVuZXIucHJldi5uZXh0ID0gbGlzdGVuZXIubmV4dFxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGZpcnN0ID0gbGlzdGVuZXIubmV4dFxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgfVxufVxuXG50eXBlIExpc3RlbmVyQ29sbGVjdGlvbiA9IFJldHVyblR5cGU8dHlwZW9mIGNyZWF0ZUxpc3RlbmVyQ29sbGVjdGlvbj5cblxuZXhwb3J0IGludGVyZmFjZSBTdWJzY3JpcHRpb24ge1xuICBhZGROZXN0ZWRTdWI6IChsaXN0ZW5lcjogVm9pZEZ1bmMpID0+IFZvaWRGdW5jXG4gIG5vdGlmeU5lc3RlZFN1YnM6IFZvaWRGdW5jXG4gIGhhbmRsZUNoYW5nZVdyYXBwZXI6IFZvaWRGdW5jXG4gIGlzU3Vic2NyaWJlZDogKCkgPT4gYm9vbGVhblxuICBvblN0YXRlQ2hhbmdlPzogVm9pZEZ1bmMgfCBudWxsXG4gIHRyeVN1YnNjcmliZTogVm9pZEZ1bmNcbiAgdHJ5VW5zdWJzY3JpYmU6IFZvaWRGdW5jXG4gIGdldExpc3RlbmVyczogKCkgPT4gTGlzdGVuZXJDb2xsZWN0aW9uXG59XG5cbmNvbnN0IG51bGxMaXN0ZW5lcnMgPSB7XG4gIG5vdGlmeSgpIHt9LFxuICBnZXQ6ICgpID0+IFtdLFxufSBhcyB1bmtub3duIGFzIExpc3RlbmVyQ29sbGVjdGlvblxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU3Vic2NyaXB0aW9uKHN0b3JlOiBhbnksIHBhcmVudFN1Yj86IFN1YnNjcmlwdGlvbikge1xuICBsZXQgdW5zdWJzY3JpYmU6IFZvaWRGdW5jIHwgdW5kZWZpbmVkXG4gIGxldCBsaXN0ZW5lcnM6IExpc3RlbmVyQ29sbGVjdGlvbiA9IG51bGxMaXN0ZW5lcnNcblxuICAvLyBSZWFzb25zIHRvIGtlZXAgdGhlIHN1YnNjcmlwdGlvbiBhY3RpdmVcbiAgbGV0IHN1YnNjcmlwdGlvbnNBbW91bnQgPSAwXG5cbiAgLy8gSXMgdGhpcyBzcGVjaWZpYyBzdWJzY3JpcHRpb24gc3Vic2NyaWJlZCAob3Igb25seSBuZXN0ZWQgb25lcz8pXG4gIGxldCBzZWxmU3Vic2NyaWJlZCA9IGZhbHNlXG5cbiAgZnVuY3Rpb24gYWRkTmVzdGVkU3ViKGxpc3RlbmVyOiAoKSA9PiB2b2lkKSB7XG4gICAgdHJ5U3Vic2NyaWJlKClcblxuICAgIGNvbnN0IGNsZWFudXBMaXN0ZW5lciA9IGxpc3RlbmVycy5zdWJzY3JpYmUobGlzdGVuZXIpXG5cbiAgICAvLyBjbGVhbnVwIG5lc3RlZCBzdWJcbiAgICBsZXQgcmVtb3ZlZCA9IGZhbHNlXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlmICghcmVtb3ZlZCkge1xuICAgICAgICByZW1vdmVkID0gdHJ1ZVxuICAgICAgICBjbGVhbnVwTGlzdGVuZXIoKVxuICAgICAgICB0cnlVbnN1YnNjcmliZSgpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gbm90aWZ5TmVzdGVkU3VicygpIHtcbiAgICBsaXN0ZW5lcnMubm90aWZ5KClcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZUNoYW5nZVdyYXBwZXIoKSB7XG4gICAgaWYgKHN1YnNjcmlwdGlvbi5vblN0YXRlQ2hhbmdlKSB7XG4gICAgICBzdWJzY3JpcHRpb24ub25TdGF0ZUNoYW5nZSgpXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaXNTdWJzY3JpYmVkKCkge1xuICAgIHJldHVybiBzZWxmU3Vic2NyaWJlZFxuICB9XG5cbiAgZnVuY3Rpb24gdHJ5U3Vic2NyaWJlKCkge1xuICAgIHN1YnNjcmlwdGlvbnNBbW91bnQrK1xuICAgIGlmICghdW5zdWJzY3JpYmUpIHtcbiAgICAgIHVuc3Vic2NyaWJlID0gcGFyZW50U3ViXG4gICAgICAgID8gcGFyZW50U3ViLmFkZE5lc3RlZFN1YihoYW5kbGVDaGFuZ2VXcmFwcGVyKVxuICAgICAgICA6IHN0b3JlLnN1YnNjcmliZShoYW5kbGVDaGFuZ2VXcmFwcGVyKVxuXG4gICAgICBsaXN0ZW5lcnMgPSBjcmVhdGVMaXN0ZW5lckNvbGxlY3Rpb24oKVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHRyeVVuc3Vic2NyaWJlKCkge1xuICAgIHN1YnNjcmlwdGlvbnNBbW91bnQtLVxuICAgIGlmICh1bnN1YnNjcmliZSAmJiBzdWJzY3JpcHRpb25zQW1vdW50ID09PSAwKSB7XG4gICAgICB1bnN1YnNjcmliZSgpXG4gICAgICB1bnN1YnNjcmliZSA9IHVuZGVmaW5lZFxuICAgICAgbGlzdGVuZXJzLmNsZWFyKClcbiAgICAgIGxpc3RlbmVycyA9IG51bGxMaXN0ZW5lcnNcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB0cnlTdWJzY3JpYmVTZWxmKCkge1xuICAgIGlmICghc2VsZlN1YnNjcmliZWQpIHtcbiAgICAgIHNlbGZTdWJzY3JpYmVkID0gdHJ1ZVxuICAgICAgdHJ5U3Vic2NyaWJlKClcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB0cnlVbnN1YnNjcmliZVNlbGYoKSB7XG4gICAgaWYgKHNlbGZTdWJzY3JpYmVkKSB7XG4gICAgICBzZWxmU3Vic2NyaWJlZCA9IGZhbHNlXG4gICAgICB0cnlVbnN1YnNjcmliZSgpXG4gICAgfVxuICB9XG5cbiAgY29uc3Qgc3Vic2NyaXB0aW9uOiBTdWJzY3JpcHRpb24gPSB7XG4gICAgYWRkTmVzdGVkU3ViLFxuICAgIG5vdGlmeU5lc3RlZFN1YnMsXG4gICAgaGFuZGxlQ2hhbmdlV3JhcHBlcixcbiAgICBpc1N1YnNjcmliZWQsXG4gICAgdHJ5U3Vic2NyaWJlOiB0cnlTdWJzY3JpYmVTZWxmLFxuICAgIHRyeVVuc3Vic2NyaWJlOiB0cnlVbnN1YnNjcmliZVNlbGYsXG4gICAgZ2V0TGlzdGVuZXJzOiAoKSA9PiBsaXN0ZW5lcnMsXG4gIH1cblxuICByZXR1cm4gc3Vic2NyaXB0aW9uXG59XG4iLCJpbXBvcnQgeyBSZWFjdCB9IGZyb20gJy4uL3V0aWxzL3JlYWN0J1xuXG4vLyBSZWFjdCBjdXJyZW50bHkgdGhyb3dzIGEgd2FybmluZyB3aGVuIHVzaW5nIHVzZUxheW91dEVmZmVjdCBvbiB0aGUgc2VydmVyLlxuLy8gVG8gZ2V0IGFyb3VuZCBpdCwgd2UgY2FuIGNvbmRpdGlvbmFsbHkgdXNlRWZmZWN0IG9uIHRoZSBzZXJ2ZXIgKG5vLW9wKSBhbmRcbi8vIHVzZUxheW91dEVmZmVjdCBpbiB0aGUgYnJvd3Nlci4gV2UgbmVlZCB1c2VMYXlvdXRFZmZlY3QgdG8gZW5zdXJlIHRoZSBzdG9yZVxuLy8gc3Vic2NyaXB0aW9uIGNhbGxiYWNrIGFsd2F5cyBoYXMgdGhlIHNlbGVjdG9yIGZyb20gdGhlIGxhdGVzdCByZW5kZXIgY29tbWl0XG4vLyBhdmFpbGFibGUsIG90aGVyd2lzZSBhIHN0b3JlIHVwZGF0ZSBtYXkgaGFwcGVuIGJldHdlZW4gcmVuZGVyIGFuZCB0aGUgZWZmZWN0LFxuLy8gd2hpY2ggbWF5IGNhdXNlIG1pc3NlZCB1cGRhdGVzOyB3ZSBhbHNvIG11c3QgZW5zdXJlIHRoZSBzdG9yZSBzdWJzY3JpcHRpb25cbi8vIGlzIGNyZWF0ZWQgc3luY2hyb25vdXNseSwgb3RoZXJ3aXNlIGEgc3RvcmUgdXBkYXRlIG1heSBvY2N1ciBiZWZvcmUgdGhlXG4vLyBzdWJzY3JpcHRpb24gaXMgY3JlYXRlZCBhbmQgYW4gaW5jb25zaXN0ZW50IHN0YXRlIG1heSBiZSBvYnNlcnZlZFxuXG4vLyBNYXRjaGVzIGxvZ2ljIGluIFJlYWN0J3MgYHNoYXJlZC9FeGVjdXRpb25FbnZpcm9ubWVudGAgZmlsZVxuZXhwb3J0IGNvbnN0IGNhblVzZURPTSA9ICEhKFxuICB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJlxuICB0eXBlb2Ygd2luZG93LmRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJlxuICB0eXBlb2Ygd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgIT09ICd1bmRlZmluZWQnXG4pXG5cbi8vIFVuZGVyIFJlYWN0IE5hdGl2ZSwgd2Uga25vdyB0aGF0IHdlIGFsd2F5cyB3YW50IHRvIHVzZSB1c2VMYXlvdXRFZmZlY3RcblxuLyoqXG4gKiBDaGVja3MgaWYgdGhlIGNvZGUgaXMgcnVubmluZyBpbiBhIFJlYWN0IE5hdGl2ZSBlbnZpcm9ubWVudC5cbiAqXG4gKiBAc2VlIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QtbmF0aXZlL2lzc3Vlcy8xMzMxIFJlZmVyZW5jZX1cbiAqL1xuZXhwb3J0IGNvbnN0IGlzUmVhY3ROYXRpdmUgPVxuICB0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiBuYXZpZ2F0b3IucHJvZHVjdCA9PT0gJ1JlYWN0TmF0aXZlJ1xuXG5leHBvcnQgY29uc3QgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCA9XG4gIGNhblVzZURPTSB8fCBpc1JlYWN0TmF0aXZlID8gUmVhY3QudXNlTGF5b3V0RWZmZWN0IDogUmVhY3QudXNlRWZmZWN0XG4iLCJmdW5jdGlvbiBpcyh4OiB1bmtub3duLCB5OiB1bmtub3duKSB7XHJcbiAgaWYgKHggPT09IHkpIHtcclxuICAgIHJldHVybiB4ICE9PSAwIHx8IHkgIT09IDAgfHwgMSAvIHggPT09IDEgLyB5XHJcbiAgfSBlbHNlIHtcclxuICAgIHJldHVybiB4ICE9PSB4ICYmIHkgIT09IHlcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNoYWxsb3dFcXVhbChvYmpBOiBhbnksIG9iakI6IGFueSkge1xyXG4gIGlmIChpcyhvYmpBLCBvYmpCKSkgcmV0dXJuIHRydWVcclxuXHJcbiAgaWYgKFxyXG4gICAgdHlwZW9mIG9iakEgIT09ICdvYmplY3QnIHx8XHJcbiAgICBvYmpBID09PSBudWxsIHx8XHJcbiAgICB0eXBlb2Ygb2JqQiAhPT0gJ29iamVjdCcgfHxcclxuICAgIG9iakIgPT09IG51bGxcclxuICApIHtcclxuICAgIHJldHVybiBmYWxzZVxyXG4gIH1cclxuXHJcbiAgY29uc3Qga2V5c0EgPSBPYmplY3Qua2V5cyhvYmpBKVxyXG4gIGNvbnN0IGtleXNCID0gT2JqZWN0LmtleXMob2JqQilcclxuXHJcbiAgaWYgKGtleXNBLmxlbmd0aCAhPT0ga2V5c0IubGVuZ3RoKSByZXR1cm4gZmFsc2VcclxuXHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBrZXlzQS5sZW5ndGg7IGkrKykge1xyXG4gICAgaWYgKFxyXG4gICAgICAhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iakIsIGtleXNBW2ldKSB8fFxyXG4gICAgICAhaXMob2JqQVtrZXlzQVtpXV0sIG9iakJba2V5c0FbaV1dKVxyXG4gICAgKSB7XHJcbiAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHRydWVcclxufVxyXG4iLCIvLyBDb3BpZWQgZGlyZWN0bHkgZnJvbTpcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9tcmlkZ3dheS9ob2lzdC1ub24tcmVhY3Qtc3RhdGljcy9ibG9iL21haW4vc3JjL2luZGV4LmpzXG4vLyBodHRwczovL3VucGtnLmNvbS9icm93c2UvQHR5cGVzL2hvaXN0LW5vbi1yZWFjdC1zdGF0aWNzQDMuMy4xL2luZGV4LmQudHNcblxuLyoqXG4gKiBDb3B5cmlnaHQgMjAxNSwgWWFob28hIEluYy5cbiAqIENvcHlyaWdodHMgbGljZW5zZWQgdW5kZXIgdGhlIE5ldyBCU0QgTGljZW5zZS4gU2VlIHRoZSBhY2NvbXBhbnlpbmcgTElDRU5TRSBmaWxlIGZvciB0ZXJtcy5cbiAqL1xuaW1wb3J0IHR5cGUgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCdcbmltcG9ydCB7IEZvcndhcmRSZWYsIE1lbW8sIGlzTWVtbyB9IGZyb20gJy4uL3V0aWxzL3JlYWN0LWlzJ1xuXG5jb25zdCBSRUFDVF9TVEFUSUNTID0ge1xuICBjaGlsZENvbnRleHRUeXBlczogdHJ1ZSxcbiAgY29udGV4dFR5cGU6IHRydWUsXG4gIGNvbnRleHRUeXBlczogdHJ1ZSxcbiAgZGVmYXVsdFByb3BzOiB0cnVlLFxuICBkaXNwbGF5TmFtZTogdHJ1ZSxcbiAgZ2V0RGVmYXVsdFByb3BzOiB0cnVlLFxuICBnZXREZXJpdmVkU3RhdGVGcm9tRXJyb3I6IHRydWUsXG4gIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wczogdHJ1ZSxcbiAgbWl4aW5zOiB0cnVlLFxuICBwcm9wVHlwZXM6IHRydWUsXG4gIHR5cGU6IHRydWUsXG59IGFzIGNvbnN0XG5cbmNvbnN0IEtOT1dOX1NUQVRJQ1MgPSB7XG4gIG5hbWU6IHRydWUsXG4gIGxlbmd0aDogdHJ1ZSxcbiAgcHJvdG90eXBlOiB0cnVlLFxuICBjYWxsZXI6IHRydWUsXG4gIGNhbGxlZTogdHJ1ZSxcbiAgYXJndW1lbnRzOiB0cnVlLFxuICBhcml0eTogdHJ1ZSxcbn0gYXMgY29uc3RcblxuY29uc3QgRk9SV0FSRF9SRUZfU1RBVElDUyA9IHtcbiAgJCR0eXBlb2Y6IHRydWUsXG4gIHJlbmRlcjogdHJ1ZSxcbiAgZGVmYXVsdFByb3BzOiB0cnVlLFxuICBkaXNwbGF5TmFtZTogdHJ1ZSxcbiAgcHJvcFR5cGVzOiB0cnVlLFxufSBhcyBjb25zdFxuXG5jb25zdCBNRU1PX1NUQVRJQ1MgPSB7XG4gICQkdHlwZW9mOiB0cnVlLFxuICBjb21wYXJlOiB0cnVlLFxuICBkZWZhdWx0UHJvcHM6IHRydWUsXG4gIGRpc3BsYXlOYW1lOiB0cnVlLFxuICBwcm9wVHlwZXM6IHRydWUsXG4gIHR5cGU6IHRydWUsXG59IGFzIGNvbnN0XG5cbmNvbnN0IFRZUEVfU1RBVElDUyA9IHtcbiAgW0ZvcndhcmRSZWZdOiBGT1JXQVJEX1JFRl9TVEFUSUNTLFxuICBbTWVtb106IE1FTU9fU1RBVElDUyxcbn0gYXMgY29uc3RcblxuZnVuY3Rpb24gZ2V0U3RhdGljcyhjb21wb25lbnQ6IGFueSkge1xuICAvLyBSZWFjdCB2MTYuMTEgYW5kIGJlbG93XG4gIGlmIChpc01lbW8oY29tcG9uZW50KSkge1xuICAgIHJldHVybiBNRU1PX1NUQVRJQ1NcbiAgfVxuXG4gIC8vIFJlYWN0IHYxNi4xMiBhbmQgYWJvdmVcbiAgcmV0dXJuIFRZUEVfU1RBVElDU1tjb21wb25lbnRbJyQkdHlwZW9mJ11dIHx8IFJFQUNUX1NUQVRJQ1Ncbn1cblxuZXhwb3J0IHR5cGUgTm9uUmVhY3RTdGF0aWNzPFxuICBTIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50VHlwZTxhbnk+LFxuICBDIGV4dGVuZHMge1xuICAgIFtrZXk6IHN0cmluZ106IHRydWVcbiAgfSA9IHt9LFxuPiA9IHtcbiAgW2tleSBpbiBFeGNsdWRlPFxuICAgIGtleW9mIFMsXG4gICAgUyBleHRlbmRzIFJlYWN0Lk1lbW9FeG90aWNDb21wb25lbnQ8YW55PlxuICAgICAgPyBrZXlvZiB0eXBlb2YgTUVNT19TVEFUSUNTIHwga2V5b2YgQ1xuICAgICAgOiBTIGV4dGVuZHMgUmVhY3QuRm9yd2FyZFJlZkV4b3RpY0NvbXBvbmVudDxhbnk+XG4gICAgICAgID8ga2V5b2YgdHlwZW9mIEZPUldBUkRfUkVGX1NUQVRJQ1MgfCBrZXlvZiBDXG4gICAgICAgIDoga2V5b2YgdHlwZW9mIFJFQUNUX1NUQVRJQ1MgfCBrZXlvZiB0eXBlb2YgS05PV05fU1RBVElDUyB8IGtleW9mIENcbiAgPl06IFNba2V5XVxufVxuXG5jb25zdCBkZWZpbmVQcm9wZXJ0eSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eVxuY29uc3QgZ2V0T3duUHJvcGVydHlOYW1lcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzXG5jb25zdCBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzXG5jb25zdCBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yXG5jb25zdCBnZXRQcm90b3R5cGVPZiA9IE9iamVjdC5nZXRQcm90b3R5cGVPZlxuY29uc3Qgb2JqZWN0UHJvdG90eXBlID0gT2JqZWN0LnByb3RvdHlwZVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBob2lzdE5vblJlYWN0U3RhdGljczxcbiAgVCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudFR5cGU8YW55PixcbiAgUyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudFR5cGU8YW55PixcbiAgQyBleHRlbmRzIHtcbiAgICBba2V5OiBzdHJpbmddOiB0cnVlXG4gIH0gPSB7fSxcbj4odGFyZ2V0Q29tcG9uZW50OiBULCBzb3VyY2VDb21wb25lbnQ6IFMpOiBUICYgTm9uUmVhY3RTdGF0aWNzPFMsIEM+IHtcbiAgaWYgKHR5cGVvZiBzb3VyY2VDb21wb25lbnQgIT09ICdzdHJpbmcnKSB7XG4gICAgLy8gZG9uJ3QgaG9pc3Qgb3ZlciBzdHJpbmcgKGh0bWwpIGNvbXBvbmVudHNcblxuICAgIGlmIChvYmplY3RQcm90b3R5cGUpIHtcbiAgICAgIGNvbnN0IGluaGVyaXRlZENvbXBvbmVudCA9IGdldFByb3RvdHlwZU9mKHNvdXJjZUNvbXBvbmVudClcbiAgICAgIGlmIChpbmhlcml0ZWRDb21wb25lbnQgJiYgaW5oZXJpdGVkQ29tcG9uZW50ICE9PSBvYmplY3RQcm90b3R5cGUpIHtcbiAgICAgICAgaG9pc3ROb25SZWFjdFN0YXRpY3ModGFyZ2V0Q29tcG9uZW50LCBpbmhlcml0ZWRDb21wb25lbnQpXG4gICAgICB9XG4gICAgfVxuXG4gICAgbGV0IGtleXM6IChzdHJpbmcgfCBzeW1ib2wpW10gPSBnZXRPd25Qcm9wZXJ0eU5hbWVzKHNvdXJjZUNvbXBvbmVudClcblxuICAgIGlmIChnZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcbiAgICAgIGtleXMgPSBrZXlzLmNvbmNhdChnZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc291cmNlQ29tcG9uZW50KSlcbiAgICB9XG5cbiAgICBjb25zdCB0YXJnZXRTdGF0aWNzID0gZ2V0U3RhdGljcyh0YXJnZXRDb21wb25lbnQpXG4gICAgY29uc3Qgc291cmNlU3RhdGljcyA9IGdldFN0YXRpY3Moc291cmNlQ29tcG9uZW50KVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKSB7XG4gICAgICBjb25zdCBrZXkgPSBrZXlzW2ldXG4gICAgICBpZiAoXG4gICAgICAgICFLTk9XTl9TVEFUSUNTW2tleSBhcyBrZXlvZiB0eXBlb2YgS05PV05fU1RBVElDU10gJiZcbiAgICAgICAgIShzb3VyY2VTdGF0aWNzICYmIHNvdXJjZVN0YXRpY3Nba2V5IGFzIGtleW9mIHR5cGVvZiBzb3VyY2VTdGF0aWNzXSkgJiZcbiAgICAgICAgISh0YXJnZXRTdGF0aWNzICYmIHRhcmdldFN0YXRpY3Nba2V5IGFzIGtleW9mIHR5cGVvZiB0YXJnZXRTdGF0aWNzXSlcbiAgICAgICkge1xuICAgICAgICBjb25zdCBkZXNjcmlwdG9yID0gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZUNvbXBvbmVudCwga2V5KVxuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIEF2b2lkIGZhaWx1cmVzIGZyb20gcmVhZC1vbmx5IHByb3BlcnRpZXNcbiAgICAgICAgICBkZWZpbmVQcm9wZXJ0eSh0YXJnZXRDb21wb25lbnQsIGtleSwgZGVzY3JpcHRvciEpXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAvLyBpZ25vcmVcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0YXJnZXRDb21wb25lbnQgYXMgYW55XG59XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSB2YWxpZC1qc2RvYywgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzICovXG5pbXBvcnQgdHlwZSB7IENvbXBvbmVudFR5cGUgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IFJlYWN0IH0gZnJvbSAnLi4vdXRpbHMvcmVhY3QnXG5pbXBvcnQgeyBpc1ZhbGlkRWxlbWVudFR5cGUsIGlzQ29udGV4dENvbnN1bWVyIH0gZnJvbSAnLi4vdXRpbHMvcmVhY3QtaXMnXG5cbmltcG9ydCB0eXBlIHsgU3RvcmUgfSBmcm9tICdyZWR1eCdcblxuaW1wb3J0IHR5cGUge1xuICBDb25uZWN0ZWRDb21wb25lbnQsXG4gIEluZmVyYWJsZUNvbXBvbmVudEVuaGFuY2VyLFxuICBJbmZlcmFibGVDb21wb25lbnRFbmhhbmNlcldpdGhQcm9wcyxcbiAgUmVzb2x2ZVRodW5rcyxcbiAgRGlzcGF0Y2hQcm9wLFxuICBDb25uZWN0UHJvcHNNYXliZVdpdGhvdXRDb250ZXh0LFxufSBmcm9tICcuLi90eXBlcydcblxuaW1wb3J0IHR5cGUge1xuICBNYXBTdGF0ZVRvUHJvcHNQYXJhbSxcbiAgTWFwRGlzcGF0Y2hUb1Byb3BzUGFyYW0sXG4gIE1lcmdlUHJvcHMsXG4gIE1hcERpc3BhdGNoVG9Qcm9wc05vbk9iamVjdCxcbiAgU2VsZWN0b3JGYWN0b3J5T3B0aW9ucyxcbn0gZnJvbSAnLi4vY29ubmVjdC9zZWxlY3RvckZhY3RvcnknXG5pbXBvcnQgZGVmYXVsdFNlbGVjdG9yRmFjdG9yeSBmcm9tICcuLi9jb25uZWN0L3NlbGVjdG9yRmFjdG9yeSdcbmltcG9ydCB7IG1hcERpc3BhdGNoVG9Qcm9wc0ZhY3RvcnkgfSBmcm9tICcuLi9jb25uZWN0L21hcERpc3BhdGNoVG9Qcm9wcydcbmltcG9ydCB7IG1hcFN0YXRlVG9Qcm9wc0ZhY3RvcnkgfSBmcm9tICcuLi9jb25uZWN0L21hcFN0YXRlVG9Qcm9wcydcbmltcG9ydCB7IG1lcmdlUHJvcHNGYWN0b3J5IH0gZnJvbSAnLi4vY29ubmVjdC9tZXJnZVByb3BzJ1xuXG5pbXBvcnQgdHlwZSB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJy4uL3V0aWxzL1N1YnNjcmlwdGlvbidcbmltcG9ydCB7IGNyZWF0ZVN1YnNjcmlwdGlvbiB9IGZyb20gJy4uL3V0aWxzL1N1YnNjcmlwdGlvbidcbmltcG9ydCB7IHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QgfSBmcm9tICcuLi91dGlscy91c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0J1xuaW1wb3J0IHNoYWxsb3dFcXVhbCBmcm9tICcuLi91dGlscy9zaGFsbG93RXF1YWwnXG5pbXBvcnQgaG9pc3RTdGF0aWNzIGZyb20gJy4uL3V0aWxzL2hvaXN0U3RhdGljcydcbmltcG9ydCB3YXJuaW5nIGZyb20gJy4uL3V0aWxzL3dhcm5pbmcnXG5cbmltcG9ydCB0eXBlIHtcbiAgUmVhY3RSZWR1eENvbnRleHRWYWx1ZSxcbiAgUmVhY3RSZWR1eENvbnRleHRJbnN0YW5jZSxcbn0gZnJvbSAnLi9Db250ZXh0J1xuaW1wb3J0IHsgUmVhY3RSZWR1eENvbnRleHQgfSBmcm9tICcuL0NvbnRleHQnXG5cbmltcG9ydCB0eXBlIHsgdVNFUyB9IGZyb20gJy4uL3V0aWxzL3VzZVN5bmNFeHRlcm5hbFN0b3JlJ1xuaW1wb3J0IHsgbm90SW5pdGlhbGl6ZWQgfSBmcm9tICcuLi91dGlscy91c2VTeW5jRXh0ZXJuYWxTdG9yZSdcblxubGV0IHVzZVN5bmNFeHRlcm5hbFN0b3JlID0gbm90SW5pdGlhbGl6ZWQgYXMgdVNFU1xuZXhwb3J0IGNvbnN0IGluaXRpYWxpemVDb25uZWN0ID0gKGZuOiB1U0VTKSA9PiB7XG4gIHVzZVN5bmNFeHRlcm5hbFN0b3JlID0gZm5cbn1cblxuLy8gRGVmaW5lIHNvbWUgY29uc3RhbnQgYXJyYXlzIGp1c3QgdG8gYXZvaWQgcmUtY3JlYXRpbmcgdGhlc2VcbmNvbnN0IEVNUFRZX0FSUkFZOiBbdW5rbm93biwgbnVtYmVyXSA9IFtudWxsLCAwXVxuY29uc3QgTk9fU1VCU0NSSVBUSU9OX0FSUkFZID0gW251bGwsIG51bGxdXG5cbi8vIEF0dGVtcHRzIHRvIHN0cmluZ2lmeSB3aGF0ZXZlciBub3QtcmVhbGx5LWEtY29tcG9uZW50IHZhbHVlIHdlIHdlcmUgZ2l2ZW5cbi8vIGZvciBsb2dnaW5nIGluIGFuIGVycm9yIG1lc3NhZ2VcbmNvbnN0IHN0cmluZ2lmeUNvbXBvbmVudCA9IChDb21wOiB1bmtub3duKSA9PiB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KENvbXApXG4gIH0gY2F0Y2ggKGVycikge1xuICAgIHJldHVybiBTdHJpbmcoQ29tcClcbiAgfVxufVxuXG50eXBlIEVmZmVjdEZ1bmMgPSAoLi4uYXJnczogYW55W10pID0+IHZvaWQgfCBSZXR1cm5UeXBlPFJlYWN0LkVmZmVjdENhbGxiYWNrPlxuXG4vLyBUaGlzIGlzIFwianVzdFwiIGEgYHVzZUxheW91dEVmZmVjdGAsIGJ1dCB3aXRoIHR3byBtb2RpZmljYXRpb25zOlxuLy8gLSB3ZSBuZWVkIHRvIGZhbGwgYmFjayB0byBgdXNlRWZmZWN0YCBpbiBTU1IgdG8gYXZvaWQgYW5ub3lpbmcgd2FybmluZ3Ncbi8vIC0gd2UgZXh0cmFjdCB0aGlzIHRvIGEgc2VwYXJhdGUgZnVuY3Rpb24gdG8gYXZvaWQgY2xvc2luZyBvdmVyIHZhbHVlc1xuLy8gICBhbmQgY2F1c2luZyBtZW1vcnkgbGVha3NcbmZ1bmN0aW9uIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3RXaXRoQXJncyhcbiAgZWZmZWN0RnVuYzogRWZmZWN0RnVuYyxcbiAgZWZmZWN0QXJnczogYW55W10sXG4gIGRlcGVuZGVuY2llcz86IFJlYWN0LkRlcGVuZGVuY3lMaXN0LFxuKSB7XG4gIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QoKCkgPT4gZWZmZWN0RnVuYyguLi5lZmZlY3RBcmdzKSwgZGVwZW5kZW5jaWVzKVxufVxuXG4vLyBFZmZlY3QgY2FsbGJhY2ssIGV4dHJhY3RlZDogYXNzaWduIHRoZSBsYXRlc3QgcHJvcHMgdmFsdWVzIHRvIHJlZnMgZm9yIGxhdGVyIHVzYWdlXG5mdW5jdGlvbiBjYXB0dXJlV3JhcHBlclByb3BzKFxuICBsYXN0V3JhcHBlclByb3BzOiBSZWFjdC5NdXRhYmxlUmVmT2JqZWN0PHVua25vd24+LFxuICBsYXN0Q2hpbGRQcm9wczogUmVhY3QuTXV0YWJsZVJlZk9iamVjdDx1bmtub3duPixcbiAgcmVuZGVySXNTY2hlZHVsZWQ6IFJlYWN0Lk11dGFibGVSZWZPYmplY3Q8Ym9vbGVhbj4sXG4gIHdyYXBwZXJQcm9wczogdW5rbm93bixcbiAgLy8gYWN0dWFsQ2hpbGRQcm9wczogdW5rbm93bixcbiAgY2hpbGRQcm9wc0Zyb21TdG9yZVVwZGF0ZTogUmVhY3QuTXV0YWJsZVJlZk9iamVjdDx1bmtub3duPixcbiAgbm90aWZ5TmVzdGVkU3ViczogKCkgPT4gdm9pZCxcbikge1xuICAvLyBXZSB3YW50IHRvIGNhcHR1cmUgdGhlIHdyYXBwZXIgcHJvcHMgYW5kIGNoaWxkIHByb3BzIHdlIHVzZWQgZm9yIGxhdGVyIGNvbXBhcmlzb25zXG4gIGxhc3RXcmFwcGVyUHJvcHMuY3VycmVudCA9IHdyYXBwZXJQcm9wc1xuICByZW5kZXJJc1NjaGVkdWxlZC5jdXJyZW50ID0gZmFsc2VcblxuICAvLyBJZiB0aGUgcmVuZGVyIHdhcyBmcm9tIGEgc3RvcmUgdXBkYXRlLCBjbGVhciBvdXQgdGhhdCByZWZlcmVuY2UgYW5kIGNhc2NhZGUgdGhlIHN1YnNjcmliZXIgdXBkYXRlXG4gIGlmIChjaGlsZFByb3BzRnJvbVN0b3JlVXBkYXRlLmN1cnJlbnQpIHtcbiAgICBjaGlsZFByb3BzRnJvbVN0b3JlVXBkYXRlLmN1cnJlbnQgPSBudWxsXG4gICAgbm90aWZ5TmVzdGVkU3VicygpXG4gIH1cbn1cblxuLy8gRWZmZWN0IGNhbGxiYWNrLCBleHRyYWN0ZWQ6IHN1YnNjcmliZSB0byB0aGUgUmVkdXggc3RvcmUgb3IgbmVhcmVzdCBjb25uZWN0ZWQgYW5jZXN0b3IsXG4vLyBjaGVjayBmb3IgdXBkYXRlcyBhZnRlciBkaXNwYXRjaGVkIGFjdGlvbnMsIGFuZCB0cmlnZ2VyIHJlLXJlbmRlcnMuXG5mdW5jdGlvbiBzdWJzY3JpYmVVcGRhdGVzKFxuICBzaG91bGRIYW5kbGVTdGF0ZUNoYW5nZXM6IGJvb2xlYW4sXG4gIHN0b3JlOiBTdG9yZSxcbiAgc3Vic2NyaXB0aW9uOiBTdWJzY3JpcHRpb24sXG4gIGNoaWxkUHJvcHNTZWxlY3RvcjogKHN0YXRlOiB1bmtub3duLCBwcm9wczogdW5rbm93bikgPT4gdW5rbm93bixcbiAgbGFzdFdyYXBwZXJQcm9wczogUmVhY3QuTXV0YWJsZVJlZk9iamVjdDx1bmtub3duPixcbiAgbGFzdENoaWxkUHJvcHM6IFJlYWN0Lk11dGFibGVSZWZPYmplY3Q8dW5rbm93bj4sXG4gIHJlbmRlcklzU2NoZWR1bGVkOiBSZWFjdC5NdXRhYmxlUmVmT2JqZWN0PGJvb2xlYW4+LFxuICBpc01vdW50ZWQ6IFJlYWN0Lk11dGFibGVSZWZPYmplY3Q8Ym9vbGVhbj4sXG4gIGNoaWxkUHJvcHNGcm9tU3RvcmVVcGRhdGU6IFJlYWN0Lk11dGFibGVSZWZPYmplY3Q8dW5rbm93bj4sXG4gIG5vdGlmeU5lc3RlZFN1YnM6ICgpID0+IHZvaWQsXG4gIC8vIGZvcmNlQ29tcG9uZW50VXBkYXRlRGlzcGF0Y2g6IFJlYWN0LkRpc3BhdGNoPGFueT4sXG4gIGFkZGl0aW9uYWxTdWJzY3JpYmVMaXN0ZW5lcjogKCkgPT4gdm9pZCxcbikge1xuICAvLyBJZiB3ZSdyZSBub3Qgc3Vic2NyaWJlZCB0byB0aGUgc3RvcmUsIG5vdGhpbmcgdG8gZG8gaGVyZVxuICBpZiAoIXNob3VsZEhhbmRsZVN0YXRlQ2hhbmdlcykgcmV0dXJuICgpID0+IHt9XG5cbiAgLy8gQ2FwdHVyZSB2YWx1ZXMgZm9yIGNoZWNraW5nIGlmIGFuZCB3aGVuIHRoaXMgY29tcG9uZW50IHVubW91bnRzXG4gIGxldCBkaWRVbnN1YnNjcmliZSA9IGZhbHNlXG4gIGxldCBsYXN0VGhyb3duRXJyb3I6IEVycm9yIHwgbnVsbCA9IG51bGxcblxuICAvLyBXZSdsbCBydW4gdGhpcyBjYWxsYmFjayBldmVyeSB0aW1lIGEgc3RvcmUgc3Vic2NyaXB0aW9uIHVwZGF0ZSBwcm9wYWdhdGVzIHRvIHRoaXMgY29tcG9uZW50XG4gIGNvbnN0IGNoZWNrRm9yVXBkYXRlcyA9ICgpID0+IHtcbiAgICBpZiAoZGlkVW5zdWJzY3JpYmUgfHwgIWlzTW91bnRlZC5jdXJyZW50KSB7XG4gICAgICAvLyBEb24ndCBydW4gc3RhbGUgbGlzdGVuZXJzLlxuICAgICAgLy8gUmVkdXggZG9lc24ndCBndWFyYW50ZWUgdW5zdWJzY3JpcHRpb25zIGhhcHBlbiB1bnRpbCBuZXh0IGRpc3BhdGNoLlxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgLy8gVE9ETyBXZSdyZSBjdXJyZW50bHkgY2FsbGluZyBnZXRTdGF0ZSBvdXJzZWx2ZXMgaGVyZSwgcmF0aGVyIHRoYW4gbGV0dGluZyBgdVNFU2AgZG8gaXRcbiAgICBjb25zdCBsYXRlc3RTdG9yZVN0YXRlID0gc3RvcmUuZ2V0U3RhdGUoKVxuXG4gICAgbGV0IG5ld0NoaWxkUHJvcHMsIGVycm9yXG4gICAgdHJ5IHtcbiAgICAgIC8vIEFjdHVhbGx5IHJ1biB0aGUgc2VsZWN0b3Igd2l0aCB0aGUgbW9zdCByZWNlbnQgc3RvcmUgc3RhdGUgYW5kIHdyYXBwZXIgcHJvcHNcbiAgICAgIC8vIHRvIGRldGVybWluZSB3aGF0IHRoZSBjaGlsZCBwcm9wcyBzaG91bGQgYmVcbiAgICAgIG5ld0NoaWxkUHJvcHMgPSBjaGlsZFByb3BzU2VsZWN0b3IoXG4gICAgICAgIGxhdGVzdFN0b3JlU3RhdGUsXG4gICAgICAgIGxhc3RXcmFwcGVyUHJvcHMuY3VycmVudCxcbiAgICAgIClcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBlcnJvciA9IGVcbiAgICAgIGxhc3RUaHJvd25FcnJvciA9IGUgYXMgRXJyb3IgfCBudWxsXG4gICAgfVxuXG4gICAgaWYgKCFlcnJvcikge1xuICAgICAgbGFzdFRocm93bkVycm9yID0gbnVsbFxuICAgIH1cblxuICAgIC8vIElmIHRoZSBjaGlsZCBwcm9wcyBoYXZlbid0IGNoYW5nZWQsIG5vdGhpbmcgdG8gZG8gaGVyZSAtIGNhc2NhZGUgdGhlIHN1YnNjcmlwdGlvbiB1cGRhdGVcbiAgICBpZiAobmV3Q2hpbGRQcm9wcyA9PT0gbGFzdENoaWxkUHJvcHMuY3VycmVudCkge1xuICAgICAgaWYgKCFyZW5kZXJJc1NjaGVkdWxlZC5jdXJyZW50KSB7XG4gICAgICAgIG5vdGlmeU5lc3RlZFN1YnMoKVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBTYXZlIHJlZmVyZW5jZXMgdG8gdGhlIG5ldyBjaGlsZCBwcm9wcy4gIE5vdGUgdGhhdCB3ZSB0cmFjayB0aGUgXCJjaGlsZCBwcm9wcyBmcm9tIHN0b3JlIHVwZGF0ZVwiXG4gICAgICAvLyBhcyBhIHJlZiBpbnN0ZWFkIG9mIGEgdXNlU3RhdGUvdXNlUmVkdWNlciBiZWNhdXNlIHdlIG5lZWQgYSB3YXkgdG8gZGV0ZXJtaW5lIGlmIHRoYXQgdmFsdWUgaGFzXG4gICAgICAvLyBiZWVuIHByb2Nlc3NlZC4gIElmIHRoaXMgd2VudCBpbnRvIHVzZVN0YXRlL3VzZVJlZHVjZXIsIHdlIGNvdWxkbid0IGNsZWFyIG91dCB0aGUgdmFsdWUgd2l0aG91dFxuICAgICAgLy8gZm9yY2luZyBhbm90aGVyIHJlLXJlbmRlciwgd2hpY2ggd2UgZG9uJ3Qgd2FudC5cbiAgICAgIGxhc3RDaGlsZFByb3BzLmN1cnJlbnQgPSBuZXdDaGlsZFByb3BzXG4gICAgICBjaGlsZFByb3BzRnJvbVN0b3JlVXBkYXRlLmN1cnJlbnQgPSBuZXdDaGlsZFByb3BzXG4gICAgICByZW5kZXJJc1NjaGVkdWxlZC5jdXJyZW50ID0gdHJ1ZVxuXG4gICAgICAvLyBUT0RPIFRoaXMgaXMgaGFja3kgYW5kIG5vdCBob3cgYHVTRVNgIGlzIG1lYW50IHRvIGJlIHVzZWRcbiAgICAgIC8vIFRyaWdnZXIgdGhlIFJlYWN0IGB1c2VTeW5jRXh0ZXJuYWxTdG9yZWAgc3Vic2NyaWJlclxuICAgICAgYWRkaXRpb25hbFN1YnNjcmliZUxpc3RlbmVyKClcbiAgICB9XG4gIH1cblxuICAvLyBBY3R1YWxseSBzdWJzY3JpYmUgdG8gdGhlIG5lYXJlc3QgY29ubmVjdGVkIGFuY2VzdG9yIChvciBzdG9yZSlcbiAgc3Vic2NyaXB0aW9uLm9uU3RhdGVDaGFuZ2UgPSBjaGVja0ZvclVwZGF0ZXNcbiAgc3Vic2NyaXB0aW9uLnRyeVN1YnNjcmliZSgpXG5cbiAgLy8gUHVsbCBkYXRhIGZyb20gdGhlIHN0b3JlIGFmdGVyIGZpcnN0IHJlbmRlciBpbiBjYXNlIHRoZSBzdG9yZSBoYXNcbiAgLy8gY2hhbmdlZCBzaW5jZSB3ZSBiZWdhbi5cbiAgY2hlY2tGb3JVcGRhdGVzKClcblxuICBjb25zdCB1bnN1YnNjcmliZVdyYXBwZXIgPSAoKSA9PiB7XG4gICAgZGlkVW5zdWJzY3JpYmUgPSB0cnVlXG4gICAgc3Vic2NyaXB0aW9uLnRyeVVuc3Vic2NyaWJlKClcbiAgICBzdWJzY3JpcHRpb24ub25TdGF0ZUNoYW5nZSA9IG51bGxcblxuICAgIGlmIChsYXN0VGhyb3duRXJyb3IpIHtcbiAgICAgIC8vIEl0J3MgcG9zc2libGUgdGhhdCB3ZSBjYXVnaHQgYW4gZXJyb3IgZHVlIHRvIGEgYmFkIG1hcFN0YXRlIGZ1bmN0aW9uLCBidXQgdGhlXG4gICAgICAvLyBwYXJlbnQgcmUtcmVuZGVyZWQgd2l0aG91dCB0aGlzIGNvbXBvbmVudCBhbmQgd2UncmUgYWJvdXQgdG8gdW5tb3VudC5cbiAgICAgIC8vIFRoaXMgc2hvdWxkbid0IGhhcHBlbiBhcyBsb25nIGFzIHdlIGRvIHRvcC1kb3duIHN1YnNjcmlwdGlvbnMgY29ycmVjdGx5LCBidXRcbiAgICAgIC8vIGlmIHdlIGV2ZXIgZG8gdGhvc2Ugd3JvbmcsIHRoaXMgdGhyb3cgd2lsbCBzdXJmYWNlIHRoZSBlcnJvciBpbiBvdXIgdGVzdHMuXG4gICAgICAvLyBJbiB0aGF0IGNhc2UsIHRocm93IHRoZSBlcnJvciBmcm9tIGhlcmUgc28gaXQgZG9lc24ndCBnZXQgbG9zdC5cbiAgICAgIHRocm93IGxhc3RUaHJvd25FcnJvclxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB1bnN1YnNjcmliZVdyYXBwZXJcbn1cblxuLy8gUmVkdWNlciBpbml0aWFsIHN0YXRlIGNyZWF0aW9uIGZvciBvdXIgdXBkYXRlIHJlZHVjZXJcbmNvbnN0IGluaXRTdGF0ZVVwZGF0ZXMgPSAoKSA9PiBFTVBUWV9BUlJBWVxuXG5leHBvcnQgaW50ZXJmYWNlIENvbm5lY3RQcm9wcyB7XG4gIC8qKiBBIGN1c3RvbSBDb250ZXh0IGluc3RhbmNlIHRoYXQgdGhlIGNvbXBvbmVudCBjYW4gdXNlIHRvIGFjY2VzcyB0aGUgc3RvcmUgZnJvbSBhbiBhbHRlcm5hdGUgUHJvdmlkZXIgdXNpbmcgdGhhdCBzYW1lIENvbnRleHQgaW5zdGFuY2UgKi9cbiAgY29udGV4dD86IFJlYWN0UmVkdXhDb250ZXh0SW5zdGFuY2VcbiAgLyoqIEEgUmVkdXggc3RvcmUgaW5zdGFuY2UgdG8gYmUgdXNlZCBmb3Igc3Vic2NyaXB0aW9ucyBpbnN0ZWFkIG9mIHRoZSBzdG9yZSBmcm9tIGEgUHJvdmlkZXIgKi9cbiAgc3RvcmU/OiBTdG9yZVxufVxuXG5pbnRlcmZhY2UgSW50ZXJuYWxDb25uZWN0UHJvcHMgZXh0ZW5kcyBDb25uZWN0UHJvcHMge1xuICByZWFjdFJlZHV4Rm9yd2FyZGVkUmVmPzogUmVhY3QuRm9yd2FyZGVkUmVmPHVua25vd24+XG59XG5cbmZ1bmN0aW9uIHN0cmljdEVxdWFsKGE6IHVua25vd24sIGI6IHVua25vd24pIHtcbiAgcmV0dXJuIGEgPT09IGJcbn1cblxuLyoqXG4gKiBJbmZlcnMgdGhlIHR5cGUgb2YgcHJvcHMgdGhhdCBhIGNvbm5lY3RvciB3aWxsIGluamVjdCBpbnRvIGEgY29tcG9uZW50LlxuICovXG5leHBvcnQgdHlwZSBDb25uZWN0ZWRQcm9wczxUQ29ubmVjdG9yPiA9XG4gIFRDb25uZWN0b3IgZXh0ZW5kcyBJbmZlcmFibGVDb21wb25lbnRFbmhhbmNlcldpdGhQcm9wczxcbiAgICBpbmZlciBUSW5qZWN0ZWRQcm9wcyxcbiAgICBhbnlcbiAgPlxuICAgID8gdW5rbm93biBleHRlbmRzIFRJbmplY3RlZFByb3BzXG4gICAgICA/IFRDb25uZWN0b3IgZXh0ZW5kcyBJbmZlcmFibGVDb21wb25lbnRFbmhhbmNlcjxpbmZlciBUSW5qZWN0ZWRQcm9wcz5cbiAgICAgICAgPyBUSW5qZWN0ZWRQcm9wc1xuICAgICAgICA6IG5ldmVyXG4gICAgICA6IFRJbmplY3RlZFByb3BzXG4gICAgOiBuZXZlclxuXG5leHBvcnQgaW50ZXJmYWNlIENvbm5lY3RPcHRpb25zPFxuICBTdGF0ZSA9IHVua25vd24sXG4gIFRTdGF0ZVByb3BzID0ge30sXG4gIFRPd25Qcm9wcyA9IHt9LFxuICBUTWVyZ2VkUHJvcHMgPSB7fSxcbj4ge1xuICBmb3J3YXJkUmVmPzogYm9vbGVhblxuICBjb250ZXh0PzogdHlwZW9mIFJlYWN0UmVkdXhDb250ZXh0XG4gIGFyZVN0YXRlc0VxdWFsPzogKFxuICAgIG5leHRTdGF0ZTogU3RhdGUsXG4gICAgcHJldlN0YXRlOiBTdGF0ZSxcbiAgICBuZXh0T3duUHJvcHM6IFRPd25Qcm9wcyxcbiAgICBwcmV2T3duUHJvcHM6IFRPd25Qcm9wcyxcbiAgKSA9PiBib29sZWFuXG5cbiAgYXJlT3duUHJvcHNFcXVhbD86IChcbiAgICBuZXh0T3duUHJvcHM6IFRPd25Qcm9wcyxcbiAgICBwcmV2T3duUHJvcHM6IFRPd25Qcm9wcyxcbiAgKSA9PiBib29sZWFuXG5cbiAgYXJlU3RhdGVQcm9wc0VxdWFsPzogKFxuICAgIG5leHRTdGF0ZVByb3BzOiBUU3RhdGVQcm9wcyxcbiAgICBwcmV2U3RhdGVQcm9wczogVFN0YXRlUHJvcHMsXG4gICkgPT4gYm9vbGVhblxuICBhcmVNZXJnZWRQcm9wc0VxdWFsPzogKFxuICAgIG5leHRNZXJnZWRQcm9wczogVE1lcmdlZFByb3BzLFxuICAgIHByZXZNZXJnZWRQcm9wczogVE1lcmdlZFByb3BzLFxuICApID0+IGJvb2xlYW5cbn1cblxuLyoqXG4gKiBDb25uZWN0cyBhIFJlYWN0IGNvbXBvbmVudCB0byBhIFJlZHV4IHN0b3JlLlxuICpcbiAqIC0gV2l0aG91dCBhcmd1bWVudHMsIGp1c3Qgd3JhcHMgdGhlIGNvbXBvbmVudCwgd2l0aG91dCBjaGFuZ2luZyB0aGUgYmVoYXZpb3IgLyBwcm9wc1xuICpcbiAqIC0gSWYgMiBwYXJhbXMgYXJlIHBhc3NlZCAoM3JkIHBhcmFtLCBtZXJnZVByb3BzLCBpcyBza2lwcGVkKSwgZGVmYXVsdCBiZWhhdmlvclxuICogaXMgdG8gb3ZlcnJpZGUgb3duUHJvcHMgKGFzIHN0YXRlZCBpbiB0aGUgZG9jcyksIHNvIHdoYXQgcmVtYWlucyBpcyBldmVyeXRoaW5nIHRoYXQnc1xuICogbm90IGEgc3RhdGUgb3IgZGlzcGF0Y2ggcHJvcFxuICpcbiAqIC0gV2hlbiAzcmQgcGFyYW0gaXMgcGFzc2VkLCB3ZSBkb24ndCBrbm93IGlmIG93blByb3BzIHByb3BhZ2F0ZSBhbmQgd2hldGhlciB0aGV5XG4gKiBzaG91bGQgYmUgdmFsaWQgY29tcG9uZW50IHByb3BzLCBiZWNhdXNlIGl0IGRlcGVuZHMgb24gbWVyZ2VQcm9wcyBpbXBsZW1lbnRhdGlvbi5cbiAqIEFzIHN1Y2gsIGl0IGlzIHRoZSB1c2VyJ3MgcmVzcG9uc2liaWxpdHkgdG8gZXh0ZW5kIG93blByb3BzIGludGVyZmFjZSBmcm9tIHN0YXRlIG9yXG4gKiBkaXNwYXRjaCBwcm9wcyBvciBib3RoIHdoZW4gYXBwbGljYWJsZVxuICpcbiAqIEBwYXJhbSBtYXBTdGF0ZVRvUHJvcHNcbiAqIEBwYXJhbSBtYXBEaXNwYXRjaFRvUHJvcHNcbiAqIEBwYXJhbSBtZXJnZVByb3BzXG4gKiBAcGFyYW0gb3B0aW9uc1xuICovXG5leHBvcnQgaW50ZXJmYWNlIENvbm5lY3Q8RGVmYXVsdFN0YXRlID0gdW5rbm93bj4ge1xuICAvLyB0c2xpbnQ6ZGlzYWJsZTpuby11bm5lY2Vzc2FyeS1nZW5lcmljc1xuICAoKTogSW5mZXJhYmxlQ29tcG9uZW50RW5oYW5jZXI8RGlzcGF0Y2hQcm9wPlxuXG4gIC8qKiBtYXBTdGF0ZSBvbmx5ICovXG4gIDxUU3RhdGVQcm9wcyA9IHt9LCBub19kaXNwYXRjaCA9IHt9LCBUT3duUHJvcHMgPSB7fSwgU3RhdGUgPSBEZWZhdWx0U3RhdGU+KFxuICAgIG1hcFN0YXRlVG9Qcm9wczogTWFwU3RhdGVUb1Byb3BzUGFyYW08VFN0YXRlUHJvcHMsIFRPd25Qcm9wcywgU3RhdGU+LFxuICApOiBJbmZlcmFibGVDb21wb25lbnRFbmhhbmNlcldpdGhQcm9wczxUU3RhdGVQcm9wcyAmIERpc3BhdGNoUHJvcCwgVE93blByb3BzPlxuXG4gIC8qKiBtYXBEaXNwYXRjaCBvbmx5IChhcyBhIGZ1bmN0aW9uKSAqL1xuICA8bm9fc3RhdGUgPSB7fSwgVERpc3BhdGNoUHJvcHMgPSB7fSwgVE93blByb3BzID0ge30+KFxuICAgIG1hcFN0YXRlVG9Qcm9wczogbnVsbCB8IHVuZGVmaW5lZCxcbiAgICBtYXBEaXNwYXRjaFRvUHJvcHM6IE1hcERpc3BhdGNoVG9Qcm9wc05vbk9iamVjdDxURGlzcGF0Y2hQcm9wcywgVE93blByb3BzPixcbiAgKTogSW5mZXJhYmxlQ29tcG9uZW50RW5oYW5jZXJXaXRoUHJvcHM8VERpc3BhdGNoUHJvcHMsIFRPd25Qcm9wcz5cblxuICAvKiogbWFwRGlzcGF0Y2ggb25seSAoYXMgYW4gb2JqZWN0KSAqL1xuICA8bm9fc3RhdGUgPSB7fSwgVERpc3BhdGNoUHJvcHMgPSB7fSwgVE93blByb3BzID0ge30+KFxuICAgIG1hcFN0YXRlVG9Qcm9wczogbnVsbCB8IHVuZGVmaW5lZCxcbiAgICBtYXBEaXNwYXRjaFRvUHJvcHM6IE1hcERpc3BhdGNoVG9Qcm9wc1BhcmFtPFREaXNwYXRjaFByb3BzLCBUT3duUHJvcHM+LFxuICApOiBJbmZlcmFibGVDb21wb25lbnRFbmhhbmNlcldpdGhQcm9wczxcbiAgICBSZXNvbHZlVGh1bmtzPFREaXNwYXRjaFByb3BzPixcbiAgICBUT3duUHJvcHNcbiAgPlxuXG4gIC8qKiBtYXBTdGF0ZSBhbmQgbWFwRGlzcGF0Y2ggKGFzIGEgZnVuY3Rpb24pKi9cbiAgPFRTdGF0ZVByb3BzID0ge30sIFREaXNwYXRjaFByb3BzID0ge30sIFRPd25Qcm9wcyA9IHt9LCBTdGF0ZSA9IERlZmF1bHRTdGF0ZT4oXG4gICAgbWFwU3RhdGVUb1Byb3BzOiBNYXBTdGF0ZVRvUHJvcHNQYXJhbTxUU3RhdGVQcm9wcywgVE93blByb3BzLCBTdGF0ZT4sXG4gICAgbWFwRGlzcGF0Y2hUb1Byb3BzOiBNYXBEaXNwYXRjaFRvUHJvcHNOb25PYmplY3Q8VERpc3BhdGNoUHJvcHMsIFRPd25Qcm9wcz4sXG4gICk6IEluZmVyYWJsZUNvbXBvbmVudEVuaGFuY2VyV2l0aFByb3BzPFxuICAgIFRTdGF0ZVByb3BzICYgVERpc3BhdGNoUHJvcHMsXG4gICAgVE93blByb3BzXG4gID5cblxuICAvKiogbWFwU3RhdGUgYW5kIG1hcERpc3BhdGNoIChudWxsaXNoKSAqL1xuICA8VFN0YXRlUHJvcHMgPSB7fSwgVERpc3BhdGNoUHJvcHMgPSB7fSwgVE93blByb3BzID0ge30sIFN0YXRlID0gRGVmYXVsdFN0YXRlPihcbiAgICBtYXBTdGF0ZVRvUHJvcHM6IE1hcFN0YXRlVG9Qcm9wc1BhcmFtPFRTdGF0ZVByb3BzLCBUT3duUHJvcHMsIFN0YXRlPixcbiAgICBtYXBEaXNwYXRjaFRvUHJvcHM6IG51bGwgfCB1bmRlZmluZWQsXG4gICk6IEluZmVyYWJsZUNvbXBvbmVudEVuaGFuY2VyV2l0aFByb3BzPFRTdGF0ZVByb3BzLCBUT3duUHJvcHM+XG5cbiAgLyoqIG1hcFN0YXRlIGFuZCBtYXBEaXNwYXRjaCAoYXMgYW4gb2JqZWN0KSAqL1xuICA8VFN0YXRlUHJvcHMgPSB7fSwgVERpc3BhdGNoUHJvcHMgPSB7fSwgVE93blByb3BzID0ge30sIFN0YXRlID0gRGVmYXVsdFN0YXRlPihcbiAgICBtYXBTdGF0ZVRvUHJvcHM6IE1hcFN0YXRlVG9Qcm9wc1BhcmFtPFRTdGF0ZVByb3BzLCBUT3duUHJvcHMsIFN0YXRlPixcbiAgICBtYXBEaXNwYXRjaFRvUHJvcHM6IE1hcERpc3BhdGNoVG9Qcm9wc1BhcmFtPFREaXNwYXRjaFByb3BzLCBUT3duUHJvcHM+LFxuICApOiBJbmZlcmFibGVDb21wb25lbnRFbmhhbmNlcldpdGhQcm9wczxcbiAgICBUU3RhdGVQcm9wcyAmIFJlc29sdmVUaHVua3M8VERpc3BhdGNoUHJvcHM+LFxuICAgIFRPd25Qcm9wc1xuICA+XG5cbiAgLyoqIG1lcmdlUHJvcHMgb25seSAqL1xuICA8bm9fc3RhdGUgPSB7fSwgbm9fZGlzcGF0Y2ggPSB7fSwgVE93blByb3BzID0ge30sIFRNZXJnZWRQcm9wcyA9IHt9PihcbiAgICBtYXBTdGF0ZVRvUHJvcHM6IG51bGwgfCB1bmRlZmluZWQsXG4gICAgbWFwRGlzcGF0Y2hUb1Byb3BzOiBudWxsIHwgdW5kZWZpbmVkLFxuICAgIG1lcmdlUHJvcHM6IE1lcmdlUHJvcHM8dW5kZWZpbmVkLCBEaXNwYXRjaFByb3AsIFRPd25Qcm9wcywgVE1lcmdlZFByb3BzPixcbiAgKTogSW5mZXJhYmxlQ29tcG9uZW50RW5oYW5jZXJXaXRoUHJvcHM8VE1lcmdlZFByb3BzLCBUT3duUHJvcHM+XG5cbiAgLyoqIG1hcFN0YXRlIGFuZCBtZXJnZVByb3BzICovXG4gIDxcbiAgICBUU3RhdGVQcm9wcyA9IHt9LFxuICAgIG5vX2Rpc3BhdGNoID0ge30sXG4gICAgVE93blByb3BzID0ge30sXG4gICAgVE1lcmdlZFByb3BzID0ge30sXG4gICAgU3RhdGUgPSBEZWZhdWx0U3RhdGUsXG4gID4oXG4gICAgbWFwU3RhdGVUb1Byb3BzOiBNYXBTdGF0ZVRvUHJvcHNQYXJhbTxUU3RhdGVQcm9wcywgVE93blByb3BzLCBTdGF0ZT4sXG4gICAgbWFwRGlzcGF0Y2hUb1Byb3BzOiBudWxsIHwgdW5kZWZpbmVkLFxuICAgIG1lcmdlUHJvcHM6IE1lcmdlUHJvcHM8VFN0YXRlUHJvcHMsIERpc3BhdGNoUHJvcCwgVE93blByb3BzLCBUTWVyZ2VkUHJvcHM+LFxuICApOiBJbmZlcmFibGVDb21wb25lbnRFbmhhbmNlcldpdGhQcm9wczxUTWVyZ2VkUHJvcHMsIFRPd25Qcm9wcz5cblxuICAvKiogbWFwRGlzcGF0Y2ggKGFzIGEgb2JqZWN0KSBhbmQgbWVyZ2VQcm9wcyAqL1xuICA8bm9fc3RhdGUgPSB7fSwgVERpc3BhdGNoUHJvcHMgPSB7fSwgVE93blByb3BzID0ge30sIFRNZXJnZWRQcm9wcyA9IHt9PihcbiAgICBtYXBTdGF0ZVRvUHJvcHM6IG51bGwgfCB1bmRlZmluZWQsXG4gICAgbWFwRGlzcGF0Y2hUb1Byb3BzOiBNYXBEaXNwYXRjaFRvUHJvcHNQYXJhbTxURGlzcGF0Y2hQcm9wcywgVE93blByb3BzPixcbiAgICBtZXJnZVByb3BzOiBNZXJnZVByb3BzPHVuZGVmaW5lZCwgVERpc3BhdGNoUHJvcHMsIFRPd25Qcm9wcywgVE1lcmdlZFByb3BzPixcbiAgKTogSW5mZXJhYmxlQ29tcG9uZW50RW5oYW5jZXJXaXRoUHJvcHM8VE1lcmdlZFByb3BzLCBUT3duUHJvcHM+XG5cbiAgLyoqIG1hcFN0YXRlIGFuZCBvcHRpb25zICovXG4gIDxUU3RhdGVQcm9wcyA9IHt9LCBub19kaXNwYXRjaCA9IHt9LCBUT3duUHJvcHMgPSB7fSwgU3RhdGUgPSBEZWZhdWx0U3RhdGU+KFxuICAgIG1hcFN0YXRlVG9Qcm9wczogTWFwU3RhdGVUb1Byb3BzUGFyYW08VFN0YXRlUHJvcHMsIFRPd25Qcm9wcywgU3RhdGU+LFxuICAgIG1hcERpc3BhdGNoVG9Qcm9wczogbnVsbCB8IHVuZGVmaW5lZCxcbiAgICBtZXJnZVByb3BzOiBudWxsIHwgdW5kZWZpbmVkLFxuICAgIG9wdGlvbnM6IENvbm5lY3RPcHRpb25zPFN0YXRlLCBUU3RhdGVQcm9wcywgVE93blByb3BzPixcbiAgKTogSW5mZXJhYmxlQ29tcG9uZW50RW5oYW5jZXJXaXRoUHJvcHM8RGlzcGF0Y2hQcm9wICYgVFN0YXRlUHJvcHMsIFRPd25Qcm9wcz5cblxuICAvKiogbWFwRGlzcGF0Y2ggKGFzIGEgZnVuY3Rpb24pIGFuZCBvcHRpb25zICovXG4gIDxUU3RhdGVQcm9wcyA9IHt9LCBURGlzcGF0Y2hQcm9wcyA9IHt9LCBUT3duUHJvcHMgPSB7fT4oXG4gICAgbWFwU3RhdGVUb1Byb3BzOiBudWxsIHwgdW5kZWZpbmVkLFxuICAgIG1hcERpc3BhdGNoVG9Qcm9wczogTWFwRGlzcGF0Y2hUb1Byb3BzTm9uT2JqZWN0PFREaXNwYXRjaFByb3BzLCBUT3duUHJvcHM+LFxuICAgIG1lcmdlUHJvcHM6IG51bGwgfCB1bmRlZmluZWQsXG4gICAgb3B0aW9uczogQ29ubmVjdE9wdGlvbnM8e30sIFRTdGF0ZVByb3BzLCBUT3duUHJvcHM+LFxuICApOiBJbmZlcmFibGVDb21wb25lbnRFbmhhbmNlcldpdGhQcm9wczxURGlzcGF0Y2hQcm9wcywgVE93blByb3BzPlxuXG4gIC8qKiBtYXBEaXNwYXRjaCAoYXMgYW4gb2JqZWN0KSBhbmQgb3B0aW9ucyovXG4gIDxUU3RhdGVQcm9wcyA9IHt9LCBURGlzcGF0Y2hQcm9wcyA9IHt9LCBUT3duUHJvcHMgPSB7fT4oXG4gICAgbWFwU3RhdGVUb1Byb3BzOiBudWxsIHwgdW5kZWZpbmVkLFxuICAgIG1hcERpc3BhdGNoVG9Qcm9wczogTWFwRGlzcGF0Y2hUb1Byb3BzUGFyYW08VERpc3BhdGNoUHJvcHMsIFRPd25Qcm9wcz4sXG4gICAgbWVyZ2VQcm9wczogbnVsbCB8IHVuZGVmaW5lZCxcbiAgICBvcHRpb25zOiBDb25uZWN0T3B0aW9uczx7fSwgVFN0YXRlUHJvcHMsIFRPd25Qcm9wcz4sXG4gICk6IEluZmVyYWJsZUNvbXBvbmVudEVuaGFuY2VyV2l0aFByb3BzPFxuICAgIFJlc29sdmVUaHVua3M8VERpc3BhdGNoUHJvcHM+LFxuICAgIFRPd25Qcm9wc1xuICA+XG5cbiAgLyoqIG1hcFN0YXRlLCAgbWFwRGlzcGF0Y2ggKGFzIGEgZnVuY3Rpb24pLCBhbmQgb3B0aW9ucyAqL1xuICA8VFN0YXRlUHJvcHMgPSB7fSwgVERpc3BhdGNoUHJvcHMgPSB7fSwgVE93blByb3BzID0ge30sIFN0YXRlID0gRGVmYXVsdFN0YXRlPihcbiAgICBtYXBTdGF0ZVRvUHJvcHM6IE1hcFN0YXRlVG9Qcm9wc1BhcmFtPFRTdGF0ZVByb3BzLCBUT3duUHJvcHMsIFN0YXRlPixcbiAgICBtYXBEaXNwYXRjaFRvUHJvcHM6IE1hcERpc3BhdGNoVG9Qcm9wc05vbk9iamVjdDxURGlzcGF0Y2hQcm9wcywgVE93blByb3BzPixcbiAgICBtZXJnZVByb3BzOiBudWxsIHwgdW5kZWZpbmVkLFxuICAgIG9wdGlvbnM6IENvbm5lY3RPcHRpb25zPFN0YXRlLCBUU3RhdGVQcm9wcywgVE93blByb3BzPixcbiAgKTogSW5mZXJhYmxlQ29tcG9uZW50RW5oYW5jZXJXaXRoUHJvcHM8XG4gICAgVFN0YXRlUHJvcHMgJiBURGlzcGF0Y2hQcm9wcyxcbiAgICBUT3duUHJvcHNcbiAgPlxuXG4gIC8qKiBtYXBTdGF0ZSwgIG1hcERpc3BhdGNoIChhcyBhbiBvYmplY3QpLCBhbmQgb3B0aW9ucyAqL1xuICA8VFN0YXRlUHJvcHMgPSB7fSwgVERpc3BhdGNoUHJvcHMgPSB7fSwgVE93blByb3BzID0ge30sIFN0YXRlID0gRGVmYXVsdFN0YXRlPihcbiAgICBtYXBTdGF0ZVRvUHJvcHM6IE1hcFN0YXRlVG9Qcm9wc1BhcmFtPFRTdGF0ZVByb3BzLCBUT3duUHJvcHMsIFN0YXRlPixcbiAgICBtYXBEaXNwYXRjaFRvUHJvcHM6IE1hcERpc3BhdGNoVG9Qcm9wc1BhcmFtPFREaXNwYXRjaFByb3BzLCBUT3duUHJvcHM+LFxuICAgIG1lcmdlUHJvcHM6IG51bGwgfCB1bmRlZmluZWQsXG4gICAgb3B0aW9uczogQ29ubmVjdE9wdGlvbnM8U3RhdGUsIFRTdGF0ZVByb3BzLCBUT3duUHJvcHM+LFxuICApOiBJbmZlcmFibGVDb21wb25lbnRFbmhhbmNlcldpdGhQcm9wczxcbiAgICBUU3RhdGVQcm9wcyAmIFJlc29sdmVUaHVua3M8VERpc3BhdGNoUHJvcHM+LFxuICAgIFRPd25Qcm9wc1xuICA+XG5cbiAgLyoqIG1hcFN0YXRlLCBtYXBEaXNwYXRjaCwgbWVyZ2VQcm9wcywgYW5kIG9wdGlvbnMgKi9cbiAgPFxuICAgIFRTdGF0ZVByb3BzID0ge30sXG4gICAgVERpc3BhdGNoUHJvcHMgPSB7fSxcbiAgICBUT3duUHJvcHMgPSB7fSxcbiAgICBUTWVyZ2VkUHJvcHMgPSB7fSxcbiAgICBTdGF0ZSA9IERlZmF1bHRTdGF0ZSxcbiAgPihcbiAgICBtYXBTdGF0ZVRvUHJvcHM6IE1hcFN0YXRlVG9Qcm9wc1BhcmFtPFRTdGF0ZVByb3BzLCBUT3duUHJvcHMsIFN0YXRlPixcbiAgICBtYXBEaXNwYXRjaFRvUHJvcHM6IE1hcERpc3BhdGNoVG9Qcm9wc1BhcmFtPFREaXNwYXRjaFByb3BzLCBUT3duUHJvcHM+LFxuICAgIG1lcmdlUHJvcHM6IE1lcmdlUHJvcHM8XG4gICAgICBUU3RhdGVQcm9wcyxcbiAgICAgIFREaXNwYXRjaFByb3BzLFxuICAgICAgVE93blByb3BzLFxuICAgICAgVE1lcmdlZFByb3BzXG4gICAgPixcbiAgICBvcHRpb25zPzogQ29ubmVjdE9wdGlvbnM8U3RhdGUsIFRTdGF0ZVByb3BzLCBUT3duUHJvcHMsIFRNZXJnZWRQcm9wcz4sXG4gICk6IEluZmVyYWJsZUNvbXBvbmVudEVuaGFuY2VyV2l0aFByb3BzPFRNZXJnZWRQcm9wcywgVE93blByb3BzPlxuICAvLyB0c2xpbnQ6ZW5hYmxlOm5vLXVubmVjZXNzYXJ5LWdlbmVyaWNzXG59XG5cbmxldCBoYXNXYXJuZWRBYm91dERlcHJlY2F0ZWRQdXJlT3B0aW9uID0gZmFsc2VcblxuLyoqXG4gKiBDb25uZWN0cyBhIFJlYWN0IGNvbXBvbmVudCB0byBhIFJlZHV4IHN0b3JlLlxuICpcbiAqIC0gV2l0aG91dCBhcmd1bWVudHMsIGp1c3Qgd3JhcHMgdGhlIGNvbXBvbmVudCwgd2l0aG91dCBjaGFuZ2luZyB0aGUgYmVoYXZpb3IgLyBwcm9wc1xuICpcbiAqIC0gSWYgMiBwYXJhbXMgYXJlIHBhc3NlZCAoM3JkIHBhcmFtLCBtZXJnZVByb3BzLCBpcyBza2lwcGVkKSwgZGVmYXVsdCBiZWhhdmlvclxuICogaXMgdG8gb3ZlcnJpZGUgb3duUHJvcHMgKGFzIHN0YXRlZCBpbiB0aGUgZG9jcyksIHNvIHdoYXQgcmVtYWlucyBpcyBldmVyeXRoaW5nIHRoYXQnc1xuICogbm90IGEgc3RhdGUgb3IgZGlzcGF0Y2ggcHJvcFxuICpcbiAqIC0gV2hlbiAzcmQgcGFyYW0gaXMgcGFzc2VkLCB3ZSBkb24ndCBrbm93IGlmIG93blByb3BzIHByb3BhZ2F0ZSBhbmQgd2hldGhlciB0aGV5XG4gKiBzaG91bGQgYmUgdmFsaWQgY29tcG9uZW50IHByb3BzLCBiZWNhdXNlIGl0IGRlcGVuZHMgb24gbWVyZ2VQcm9wcyBpbXBsZW1lbnRhdGlvbi5cbiAqIEFzIHN1Y2gsIGl0IGlzIHRoZSB1c2VyJ3MgcmVzcG9uc2liaWxpdHkgdG8gZXh0ZW5kIG93blByb3BzIGludGVyZmFjZSBmcm9tIHN0YXRlIG9yXG4gKiBkaXNwYXRjaCBwcm9wcyBvciBib3RoIHdoZW4gYXBwbGljYWJsZVxuICpcbiAqIEBwYXJhbSBtYXBTdGF0ZVRvUHJvcHMgQSBmdW5jdGlvbiB0aGF0IGV4dHJhY3RzIHZhbHVlcyBmcm9tIHN0YXRlXG4gKiBAcGFyYW0gbWFwRGlzcGF0Y2hUb1Byb3BzIFNldHVwIGZvciBkaXNwYXRjaGluZyBhY3Rpb25zXG4gKiBAcGFyYW0gbWVyZ2VQcm9wcyBPcHRpb25hbCBjYWxsYmFjayB0byBtZXJnZSBzdGF0ZSBhbmQgZGlzcGF0Y2ggcHJvcHMgdG9nZXRoZXJcbiAqIEBwYXJhbSBvcHRpb25zIE9wdGlvbnMgZm9yIGNvbmZpZ3VyaW5nIHRoZSBjb25uZWN0aW9uXG4gKlxuICovXG5mdW5jdGlvbiBjb25uZWN0PFxuICBUU3RhdGVQcm9wcyA9IHt9LFxuICBURGlzcGF0Y2hQcm9wcyA9IHt9LFxuICBUT3duUHJvcHMgPSB7fSxcbiAgVE1lcmdlZFByb3BzID0ge30sXG4gIFN0YXRlID0gdW5rbm93bixcbj4oXG4gIG1hcFN0YXRlVG9Qcm9wcz86IE1hcFN0YXRlVG9Qcm9wc1BhcmFtPFRTdGF0ZVByb3BzLCBUT3duUHJvcHMsIFN0YXRlPixcbiAgbWFwRGlzcGF0Y2hUb1Byb3BzPzogTWFwRGlzcGF0Y2hUb1Byb3BzUGFyYW08VERpc3BhdGNoUHJvcHMsIFRPd25Qcm9wcz4sXG4gIG1lcmdlUHJvcHM/OiBNZXJnZVByb3BzPFRTdGF0ZVByb3BzLCBURGlzcGF0Y2hQcm9wcywgVE93blByb3BzLCBUTWVyZ2VkUHJvcHM+LFxuICB7XG4gICAgLy8gVGhlIGBwdXJlYCBvcHRpb24gaGFzIGJlZW4gcmVtb3ZlZCwgc28gVFMgZG9lc24ndCBsaWtlIHVzIGRlc3RydWN0dXJpbmcgdGhpcyB0byBjaGVjayBpdHMgZXhpc3RlbmNlLlxuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBwdXJlLFxuICAgIGFyZVN0YXRlc0VxdWFsID0gc3RyaWN0RXF1YWwsXG4gICAgYXJlT3duUHJvcHNFcXVhbCA9IHNoYWxsb3dFcXVhbCxcbiAgICBhcmVTdGF0ZVByb3BzRXF1YWwgPSBzaGFsbG93RXF1YWwsXG4gICAgYXJlTWVyZ2VkUHJvcHNFcXVhbCA9IHNoYWxsb3dFcXVhbCxcblxuICAgIC8vIHVzZSBSZWFjdCdzIGZvcndhcmRSZWYgdG8gZXhwb3NlIGEgcmVmIG9mIHRoZSB3cmFwcGVkIGNvbXBvbmVudFxuICAgIGZvcndhcmRSZWYgPSBmYWxzZSxcblxuICAgIC8vIHRoZSBjb250ZXh0IGNvbnN1bWVyIHRvIHVzZVxuICAgIGNvbnRleHQgPSBSZWFjdFJlZHV4Q29udGV4dCxcbiAgfTogQ29ubmVjdE9wdGlvbnM8dW5rbm93biwgdW5rbm93biwgdW5rbm93biwgdW5rbm93bj4gPSB7fSxcbik6IHVua25vd24ge1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIGlmIChwdXJlICE9PSB1bmRlZmluZWQgJiYgIWhhc1dhcm5lZEFib3V0RGVwcmVjYXRlZFB1cmVPcHRpb24pIHtcbiAgICAgIGhhc1dhcm5lZEFib3V0RGVwcmVjYXRlZFB1cmVPcHRpb24gPSB0cnVlXG4gICAgICB3YXJuaW5nKFxuICAgICAgICAnVGhlIGBwdXJlYCBvcHRpb24gaGFzIGJlZW4gcmVtb3ZlZC4gYGNvbm5lY3RgIGlzIG5vdyBhbHdheXMgYSBcInB1cmUvbWVtb2l6ZWRcIiBjb21wb25lbnQnLFxuICAgICAgKVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IENvbnRleHQgPSBjb250ZXh0XG5cbiAgY29uc3QgaW5pdE1hcFN0YXRlVG9Qcm9wcyA9IG1hcFN0YXRlVG9Qcm9wc0ZhY3RvcnkobWFwU3RhdGVUb1Byb3BzKVxuICBjb25zdCBpbml0TWFwRGlzcGF0Y2hUb1Byb3BzID0gbWFwRGlzcGF0Y2hUb1Byb3BzRmFjdG9yeShtYXBEaXNwYXRjaFRvUHJvcHMpXG4gIGNvbnN0IGluaXRNZXJnZVByb3BzID0gbWVyZ2VQcm9wc0ZhY3RvcnkobWVyZ2VQcm9wcylcblxuICBjb25zdCBzaG91bGRIYW5kbGVTdGF0ZUNoYW5nZXMgPSBCb29sZWFuKG1hcFN0YXRlVG9Qcm9wcylcblxuICBjb25zdCB3cmFwV2l0aENvbm5lY3QgPSA8VFByb3BzLD4oXG4gICAgV3JhcHBlZENvbXBvbmVudDogQ29tcG9uZW50VHlwZTxUUHJvcHM+LFxuICApID0+IHtcbiAgICB0eXBlIFdyYXBwZWRDb21wb25lbnRQcm9wcyA9IFRQcm9wcyAmXG4gICAgICBDb25uZWN0UHJvcHNNYXliZVdpdGhvdXRDb250ZXh0PFRQcm9wcz5cblxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICBjb25zdCBpc1ZhbGlkID0gLyojX19QVVJFX18qLyBpc1ZhbGlkRWxlbWVudFR5cGUoV3JhcHBlZENvbXBvbmVudClcbiAgICAgIGlmICghaXNWYWxpZClcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIGBZb3UgbXVzdCBwYXNzIGEgY29tcG9uZW50IHRvIHRoZSBmdW5jdGlvbiByZXR1cm5lZCBieSBjb25uZWN0LiBJbnN0ZWFkIHJlY2VpdmVkICR7c3RyaW5naWZ5Q29tcG9uZW50KFxuICAgICAgICAgICAgV3JhcHBlZENvbXBvbmVudCxcbiAgICAgICAgICApfWAsXG4gICAgICAgIClcbiAgICB9XG5cbiAgICBjb25zdCB3cmFwcGVkQ29tcG9uZW50TmFtZSA9XG4gICAgICBXcmFwcGVkQ29tcG9uZW50LmRpc3BsYXlOYW1lIHx8IFdyYXBwZWRDb21wb25lbnQubmFtZSB8fCAnQ29tcG9uZW50J1xuXG4gICAgY29uc3QgZGlzcGxheU5hbWUgPSBgQ29ubmVjdCgke3dyYXBwZWRDb21wb25lbnROYW1lfSlgXG5cbiAgICBjb25zdCBzZWxlY3RvckZhY3RvcnlPcHRpb25zOiBTZWxlY3RvckZhY3RvcnlPcHRpb25zPFxuICAgICAgYW55LFxuICAgICAgYW55LFxuICAgICAgYW55LFxuICAgICAgYW55LFxuICAgICAgU3RhdGVcbiAgICA+ID0ge1xuICAgICAgc2hvdWxkSGFuZGxlU3RhdGVDaGFuZ2VzLFxuICAgICAgZGlzcGxheU5hbWUsXG4gICAgICB3cmFwcGVkQ29tcG9uZW50TmFtZSxcbiAgICAgIFdyYXBwZWRDb21wb25lbnQsXG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICBpbml0TWFwU3RhdGVUb1Byb3BzLFxuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgaW5pdE1hcERpc3BhdGNoVG9Qcm9wcyxcbiAgICAgIGluaXRNZXJnZVByb3BzLFxuICAgICAgYXJlU3RhdGVzRXF1YWwsXG4gICAgICBhcmVTdGF0ZVByb3BzRXF1YWwsXG4gICAgICBhcmVPd25Qcm9wc0VxdWFsLFxuICAgICAgYXJlTWVyZ2VkUHJvcHNFcXVhbCxcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBDb25uZWN0RnVuY3Rpb248VE93blByb3BzPihcbiAgICAgIHByb3BzOiBJbnRlcm5hbENvbm5lY3RQcm9wcyAmIFRPd25Qcm9wcyxcbiAgICApIHtcbiAgICAgIGNvbnN0IFtwcm9wc0NvbnRleHQsIHJlYWN0UmVkdXhGb3J3YXJkZWRSZWYsIHdyYXBwZXJQcm9wc10gPVxuICAgICAgICBSZWFjdC51c2VNZW1vKCgpID0+IHtcbiAgICAgICAgICAvLyBEaXN0aW5ndWlzaCBiZXR3ZWVuIGFjdHVhbCBcImRhdGFcIiBwcm9wcyB0aGF0IHdlcmUgcGFzc2VkIHRvIHRoZSB3cmFwcGVyIGNvbXBvbmVudCxcbiAgICAgICAgICAvLyBhbmQgdmFsdWVzIG5lZWRlZCB0byBjb250cm9sIGJlaGF2aW9yIChmb3J3YXJkZWQgcmVmcywgYWx0ZXJuYXRlIGNvbnRleHQgaW5zdGFuY2VzKS5cbiAgICAgICAgICAvLyBUbyBtYWludGFpbiB0aGUgd3JhcHBlclByb3BzIG9iamVjdCByZWZlcmVuY2UsIG1lbW9pemUgdGhpcyBkZXN0cnVjdHVyaW5nLlxuICAgICAgICAgIGNvbnN0IHsgcmVhY3RSZWR1eEZvcndhcmRlZFJlZiwgLi4ud3JhcHBlclByb3BzIH0gPSBwcm9wc1xuICAgICAgICAgIHJldHVybiBbcHJvcHMuY29udGV4dCwgcmVhY3RSZWR1eEZvcndhcmRlZFJlZiwgd3JhcHBlclByb3BzXVxuICAgICAgICB9LCBbcHJvcHNdKVxuXG4gICAgICBjb25zdCBDb250ZXh0VG9Vc2U6IFJlYWN0UmVkdXhDb250ZXh0SW5zdGFuY2UgPSBSZWFjdC51c2VNZW1vKCgpID0+IHtcbiAgICAgICAgLy8gVXNlcnMgbWF5IG9wdGlvbmFsbHkgcGFzcyBpbiBhIGN1c3RvbSBjb250ZXh0IGluc3RhbmNlIHRvIHVzZSBpbnN0ZWFkIG9mIG91ciBSZWFjdFJlZHV4Q29udGV4dC5cbiAgICAgICAgLy8gTWVtb2l6ZSB0aGUgY2hlY2sgdGhhdCBkZXRlcm1pbmVzIHdoaWNoIGNvbnRleHQgaW5zdGFuY2Ugd2Ugc2hvdWxkIHVzZS5cbiAgICAgICAgbGV0IFJlc3VsdENvbnRleHQgPSBDb250ZXh0XG4gICAgICAgIGlmIChwcm9wc0NvbnRleHQ/LkNvbnN1bWVyKSB7XG4gICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgIGNvbnN0IGlzVmFsaWQgPSAvKiNfX1BVUkVfXyovIGlzQ29udGV4dENvbnN1bWVyKFxuICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgIDxwcm9wc0NvbnRleHQuQ29uc3VtZXIgLz4sXG4gICAgICAgICAgICApXG4gICAgICAgICAgICBpZiAoIWlzVmFsaWQpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICAgICdZb3UgbXVzdCBwYXNzIGEgdmFsaWQgUmVhY3QgY29udGV4dCBjb25zdW1lciBhcyBgcHJvcHMuY29udGV4dGAnLFxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBSZXN1bHRDb250ZXh0ID0gcHJvcHNDb250ZXh0XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBSZXN1bHRDb250ZXh0XG4gICAgICB9LCBbcHJvcHNDb250ZXh0LCBDb250ZXh0XSlcblxuICAgICAgLy8gUmV0cmlldmUgdGhlIHN0b3JlIGFuZCBhbmNlc3RvciBzdWJzY3JpcHRpb24gdmlhIGNvbnRleHQsIGlmIGF2YWlsYWJsZVxuICAgICAgY29uc3QgY29udGV4dFZhbHVlID0gUmVhY3QudXNlQ29udGV4dChDb250ZXh0VG9Vc2UpXG5cbiAgICAgIC8vIFRoZSBzdG9yZSBfbXVzdF8gZXhpc3QgYXMgZWl0aGVyIGEgcHJvcCBvciBpbiBjb250ZXh0LlxuICAgICAgLy8gV2UnbGwgY2hlY2sgdG8gc2VlIGlmIGl0IF9sb29rc18gbGlrZSBhIFJlZHV4IHN0b3JlIGZpcnN0LlxuICAgICAgLy8gVGhpcyBhbGxvd3MgdXMgdG8gcGFzcyB0aHJvdWdoIGEgYHN0b3JlYCBwcm9wIHRoYXQgaXMganVzdCBhIHBsYWluIHZhbHVlLlxuICAgICAgY29uc3QgZGlkU3RvcmVDb21lRnJvbVByb3BzID1cbiAgICAgICAgQm9vbGVhbihwcm9wcy5zdG9yZSkgJiZcbiAgICAgICAgQm9vbGVhbihwcm9wcy5zdG9yZSEuZ2V0U3RhdGUpICYmXG4gICAgICAgIEJvb2xlYW4ocHJvcHMuc3RvcmUhLmRpc3BhdGNoKVxuICAgICAgY29uc3QgZGlkU3RvcmVDb21lRnJvbUNvbnRleHQgPVxuICAgICAgICBCb29sZWFuKGNvbnRleHRWYWx1ZSkgJiYgQm9vbGVhbihjb250ZXh0VmFsdWUhLnN0b3JlKVxuXG4gICAgICBpZiAoXG4gICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiZcbiAgICAgICAgIWRpZFN0b3JlQ29tZUZyb21Qcm9wcyAmJlxuICAgICAgICAhZGlkU3RvcmVDb21lRnJvbUNvbnRleHRcbiAgICAgICkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgYENvdWxkIG5vdCBmaW5kIFwic3RvcmVcIiBpbiB0aGUgY29udGV4dCBvZiBgICtcbiAgICAgICAgICAgIGBcIiR7ZGlzcGxheU5hbWV9XCIuIEVpdGhlciB3cmFwIHRoZSByb290IGNvbXBvbmVudCBpbiBhIDxQcm92aWRlcj4sIGAgK1xuICAgICAgICAgICAgYG9yIHBhc3MgYSBjdXN0b20gUmVhY3QgY29udGV4dCBwcm92aWRlciB0byA8UHJvdmlkZXI+IGFuZCB0aGUgY29ycmVzcG9uZGluZyBgICtcbiAgICAgICAgICAgIGBSZWFjdCBjb250ZXh0IGNvbnN1bWVyIHRvICR7ZGlzcGxheU5hbWV9IGluIGNvbm5lY3Qgb3B0aW9ucy5gLFxuICAgICAgICApXG4gICAgICB9XG5cbiAgICAgIC8vIEJhc2VkIG9uIHRoZSBwcmV2aW91cyBjaGVjaywgb25lIG9mIHRoZXNlIG11c3QgYmUgdHJ1ZVxuICAgICAgY29uc3Qgc3RvcmU6IFN0b3JlID0gZGlkU3RvcmVDb21lRnJvbVByb3BzXG4gICAgICAgID8gcHJvcHMuc3RvcmUhXG4gICAgICAgIDogY29udGV4dFZhbHVlIS5zdG9yZVxuXG4gICAgICBjb25zdCBnZXRTZXJ2ZXJTdGF0ZSA9IGRpZFN0b3JlQ29tZUZyb21Db250ZXh0XG4gICAgICAgID8gY29udGV4dFZhbHVlIS5nZXRTZXJ2ZXJTdGF0ZVxuICAgICAgICA6IHN0b3JlLmdldFN0YXRlXG5cbiAgICAgIGNvbnN0IGNoaWxkUHJvcHNTZWxlY3RvciA9IFJlYWN0LnVzZU1lbW8oKCkgPT4ge1xuICAgICAgICAvLyBUaGUgY2hpbGQgcHJvcHMgc2VsZWN0b3IgbmVlZHMgdGhlIHN0b3JlIHJlZmVyZW5jZSBhcyBhbiBpbnB1dC5cbiAgICAgICAgLy8gUmUtY3JlYXRlIHRoaXMgc2VsZWN0b3Igd2hlbmV2ZXIgdGhlIHN0b3JlIGNoYW5nZXMuXG4gICAgICAgIHJldHVybiBkZWZhdWx0U2VsZWN0b3JGYWN0b3J5KHN0b3JlLmRpc3BhdGNoLCBzZWxlY3RvckZhY3RvcnlPcHRpb25zKVxuICAgICAgfSwgW3N0b3JlXSlcblxuICAgICAgY29uc3QgW3N1YnNjcmlwdGlvbiwgbm90aWZ5TmVzdGVkU3Vic10gPSBSZWFjdC51c2VNZW1vKCgpID0+IHtcbiAgICAgICAgaWYgKCFzaG91bGRIYW5kbGVTdGF0ZUNoYW5nZXMpIHJldHVybiBOT19TVUJTQ1JJUFRJT05fQVJSQVlcblxuICAgICAgICAvLyBUaGlzIFN1YnNjcmlwdGlvbidzIHNvdXJjZSBzaG91bGQgbWF0Y2ggd2hlcmUgc3RvcmUgY2FtZSBmcm9tOiBwcm9wcyB2cy4gY29udGV4dC4gQSBjb21wb25lbnRcbiAgICAgICAgLy8gY29ubmVjdGVkIHRvIHRoZSBzdG9yZSB2aWEgcHJvcHMgc2hvdWxkbid0IHVzZSBzdWJzY3JpcHRpb24gZnJvbSBjb250ZXh0LCBvciB2aWNlIHZlcnNhLlxuICAgICAgICBjb25zdCBzdWJzY3JpcHRpb24gPSBjcmVhdGVTdWJzY3JpcHRpb24oXG4gICAgICAgICAgc3RvcmUsXG4gICAgICAgICAgZGlkU3RvcmVDb21lRnJvbVByb3BzID8gdW5kZWZpbmVkIDogY29udGV4dFZhbHVlIS5zdWJzY3JpcHRpb24sXG4gICAgICAgIClcblxuICAgICAgICAvLyBgbm90aWZ5TmVzdGVkU3Vic2AgaXMgZHVwbGljYXRlZCB0byBoYW5kbGUgdGhlIGNhc2Ugd2hlcmUgdGhlIGNvbXBvbmVudCBpcyB1bm1vdW50ZWQgaW5cbiAgICAgICAgLy8gdGhlIG1pZGRsZSBvZiB0aGUgbm90aWZpY2F0aW9uIGxvb3AsIHdoZXJlIGBzdWJzY3JpcHRpb25gIHdpbGwgdGhlbiBiZSBudWxsLiBUaGlzIGNhblxuICAgICAgICAvLyBwcm9iYWJseSBiZSBhdm9pZGVkIGlmIFN1YnNjcmlwdGlvbidzIGxpc3RlbmVycyBsb2dpYyBpcyBjaGFuZ2VkIHRvIG5vdCBjYWxsIGxpc3RlbmVyc1xuICAgICAgICAvLyB0aGF0IGhhdmUgYmVlbiB1bnN1YnNjcmliZWQgaW4gdGhlICBtaWRkbGUgb2YgdGhlIG5vdGlmaWNhdGlvbiBsb29wLlxuICAgICAgICBjb25zdCBub3RpZnlOZXN0ZWRTdWJzID1cbiAgICAgICAgICBzdWJzY3JpcHRpb24ubm90aWZ5TmVzdGVkU3Vicy5iaW5kKHN1YnNjcmlwdGlvbilcblxuICAgICAgICByZXR1cm4gW3N1YnNjcmlwdGlvbiwgbm90aWZ5TmVzdGVkU3Vic11cbiAgICAgIH0sIFtzdG9yZSwgZGlkU3RvcmVDb21lRnJvbVByb3BzLCBjb250ZXh0VmFsdWVdKVxuXG4gICAgICAvLyBEZXRlcm1pbmUgd2hhdCB7c3RvcmUsIHN1YnNjcmlwdGlvbn0gdmFsdWUgc2hvdWxkIGJlIHB1dCBpbnRvIG5lc3RlZCBjb250ZXh0LCBpZiBuZWNlc3NhcnksXG4gICAgICAvLyBhbmQgbWVtb2l6ZSB0aGF0IHZhbHVlIHRvIGF2b2lkIHVubmVjZXNzYXJ5IGNvbnRleHQgdXBkYXRlcy5cbiAgICAgIGNvbnN0IG92ZXJyaWRkZW5Db250ZXh0VmFsdWUgPSBSZWFjdC51c2VNZW1vKCgpID0+IHtcbiAgICAgICAgaWYgKGRpZFN0b3JlQ29tZUZyb21Qcm9wcykge1xuICAgICAgICAgIC8vIFRoaXMgY29tcG9uZW50IGlzIGRpcmVjdGx5IHN1YnNjcmliZWQgdG8gYSBzdG9yZSBmcm9tIHByb3BzLlxuICAgICAgICAgIC8vIFdlIGRvbid0IHdhbnQgZGVzY2VuZGFudHMgcmVhZGluZyBmcm9tIHRoaXMgc3RvcmUgLSBwYXNzIGRvd24gd2hhdGV2ZXJcbiAgICAgICAgICAvLyB0aGUgZXhpc3RpbmcgY29udGV4dCB2YWx1ZSBpcyBmcm9tIHRoZSBuZWFyZXN0IGNvbm5lY3RlZCBhbmNlc3Rvci5cbiAgICAgICAgICByZXR1cm4gY29udGV4dFZhbHVlIVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gT3RoZXJ3aXNlLCBwdXQgdGhpcyBjb21wb25lbnQncyBzdWJzY3JpcHRpb24gaW5zdGFuY2UgaW50byBjb250ZXh0LCBzbyB0aGF0XG4gICAgICAgIC8vIGNvbm5lY3RlZCBkZXNjZW5kYW50cyB3b24ndCB1cGRhdGUgdW50aWwgYWZ0ZXIgdGhpcyBjb21wb25lbnQgaXMgZG9uZVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIC4uLmNvbnRleHRWYWx1ZSxcbiAgICAgICAgICBzdWJzY3JpcHRpb24sXG4gICAgICAgIH0gYXMgUmVhY3RSZWR1eENvbnRleHRWYWx1ZVxuICAgICAgfSwgW2RpZFN0b3JlQ29tZUZyb21Qcm9wcywgY29udGV4dFZhbHVlLCBzdWJzY3JpcHRpb25dKVxuXG4gICAgICAvLyBTZXQgdXAgcmVmcyB0byBjb29yZGluYXRlIHZhbHVlcyBiZXR3ZWVuIHRoZSBzdWJzY3JpcHRpb24gZWZmZWN0IGFuZCB0aGUgcmVuZGVyIGxvZ2ljXG4gICAgICBjb25zdCBsYXN0Q2hpbGRQcm9wcyA9IFJlYWN0LnVzZVJlZjx1bmtub3duPih1bmRlZmluZWQpXG4gICAgICBjb25zdCBsYXN0V3JhcHBlclByb3BzID0gUmVhY3QudXNlUmVmKHdyYXBwZXJQcm9wcylcbiAgICAgIGNvbnN0IGNoaWxkUHJvcHNGcm9tU3RvcmVVcGRhdGUgPSBSZWFjdC51c2VSZWY8dW5rbm93bj4odW5kZWZpbmVkKVxuICAgICAgY29uc3QgcmVuZGVySXNTY2hlZHVsZWQgPSBSZWFjdC51c2VSZWYoZmFsc2UpXG4gICAgICBjb25zdCBpc01vdW50ZWQgPSBSZWFjdC51c2VSZWYoZmFsc2UpXG5cbiAgICAgIC8vIFRPRE86IENoYW5nZSB0aGlzIHRvIGBSZWFjdC51c2VSZWY8RXJyb3I+KHVuZGVmaW5lZClgIGFmdGVyIHVwZ3JhZGluZyB0byBSZWFjdCAxOS5cbiAgICAgIC8qKlxuICAgICAgICogQHRvZG8gQ2hhbmdlIHRoaXMgdG8gYFJlYWN0LnVzZVJlZjxFcnJvcj4odW5kZWZpbmVkKWAgYWZ0ZXIgdXBncmFkaW5nIHRvIFJlYWN0IDE5LlxuICAgICAgICovXG4gICAgICBjb25zdCBsYXRlc3RTdWJzY3JpcHRpb25DYWxsYmFja0Vycm9yID0gUmVhY3QudXNlUmVmPEVycm9yIHwgdW5kZWZpbmVkPihcbiAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgKVxuXG4gICAgICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICAgICAgaXNNb3VudGVkLmN1cnJlbnQgPSB0cnVlXG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgaXNNb3VudGVkLmN1cnJlbnQgPSBmYWxzZVxuICAgICAgICB9XG4gICAgICB9LCBbXSlcblxuICAgICAgY29uc3QgYWN0dWFsQ2hpbGRQcm9wc1NlbGVjdG9yID0gUmVhY3QudXNlTWVtbygoKSA9PiB7XG4gICAgICAgIGNvbnN0IHNlbGVjdG9yID0gKCkgPT4ge1xuICAgICAgICAgIC8vIFRyaWNreSBsb2dpYyBoZXJlOlxuICAgICAgICAgIC8vIC0gVGhpcyByZW5kZXIgbWF5IGhhdmUgYmVlbiB0cmlnZ2VyZWQgYnkgYSBSZWR1eCBzdG9yZSB1cGRhdGUgdGhhdCBwcm9kdWNlZCBuZXcgY2hpbGQgcHJvcHNcbiAgICAgICAgICAvLyAtIEhvd2V2ZXIsIHdlIG1heSBoYXZlIGdvdHRlbiBuZXcgd3JhcHBlciBwcm9wcyBhZnRlciB0aGF0XG4gICAgICAgICAgLy8gSWYgd2UgaGF2ZSBuZXcgY2hpbGQgcHJvcHMsIGFuZCB0aGUgc2FtZSB3cmFwcGVyIHByb3BzLCB3ZSBrbm93IHdlIHNob3VsZCB1c2UgdGhlIG5ldyBjaGlsZCBwcm9wcyBhcy1pcy5cbiAgICAgICAgICAvLyBCdXQsIGlmIHdlIGhhdmUgbmV3IHdyYXBwZXIgcHJvcHMsIHRob3NlIG1pZ2h0IGNoYW5nZSB0aGUgY2hpbGQgcHJvcHMsIHNvIHdlIGhhdmUgdG8gcmVjYWxjdWxhdGUgdGhpbmdzLlxuICAgICAgICAgIC8vIFNvLCB3ZSdsbCB1c2UgdGhlIGNoaWxkIHByb3BzIGZyb20gc3RvcmUgdXBkYXRlIG9ubHkgaWYgdGhlIHdyYXBwZXIgcHJvcHMgYXJlIHRoZSBzYW1lIGFzIGxhc3QgdGltZS5cbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBjaGlsZFByb3BzRnJvbVN0b3JlVXBkYXRlLmN1cnJlbnQgJiZcbiAgICAgICAgICAgIHdyYXBwZXJQcm9wcyA9PT0gbGFzdFdyYXBwZXJQcm9wcy5jdXJyZW50XG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICByZXR1cm4gY2hpbGRQcm9wc0Zyb21TdG9yZVVwZGF0ZS5jdXJyZW50XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gVE9ETyBXZSdyZSByZWFkaW5nIHRoZSBzdG9yZSBkaXJlY3RseSBpbiByZW5kZXIoKSBoZXJlLiBCYWQgaWRlYT9cbiAgICAgICAgICAvLyBUaGlzIHdpbGwgbGlrZWx5IGNhdXNlIEJhZCBUaGluZ3MgKFRNKSB0byBoYXBwZW4gaW4gQ29uY3VycmVudCBNb2RlLlxuICAgICAgICAgIC8vIE5vdGUgdGhhdCB3ZSBkbyB0aGlzIGJlY2F1c2Ugb24gcmVuZGVycyBfbm90XyBjYXVzZWQgYnkgc3RvcmUgdXBkYXRlcywgd2UgbmVlZCB0aGUgbGF0ZXN0IHN0b3JlIHN0YXRlXG4gICAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHdoYXQgdGhlIGNoaWxkIHByb3BzIHNob3VsZCBiZS5cbiAgICAgICAgICByZXR1cm4gY2hpbGRQcm9wc1NlbGVjdG9yKHN0b3JlLmdldFN0YXRlKCksIHdyYXBwZXJQcm9wcylcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2VsZWN0b3JcbiAgICAgIH0sIFtzdG9yZSwgd3JhcHBlclByb3BzXSlcblxuICAgICAgLy8gV2UgbmVlZCB0aGlzIHRvIGV4ZWN1dGUgc3luY2hyb25vdXNseSBldmVyeSB0aW1lIHdlIHJlLXJlbmRlci4gSG93ZXZlciwgUmVhY3Qgd2FybnNcbiAgICAgIC8vIGFib3V0IHVzZUxheW91dEVmZmVjdCBpbiBTU1IsIHNvIHdlIHRyeSB0byBkZXRlY3QgZW52aXJvbm1lbnQgYW5kIGZhbGwgYmFjayB0b1xuICAgICAgLy8ganVzdCB1c2VFZmZlY3QgaW5zdGVhZCB0byBhdm9pZCB0aGUgd2FybmluZywgc2luY2UgbmVpdGhlciB3aWxsIHJ1biBhbnl3YXkuXG5cbiAgICAgIGNvbnN0IHN1YnNjcmliZUZvclJlYWN0ID0gUmVhY3QudXNlTWVtbygoKSA9PiB7XG4gICAgICAgIGNvbnN0IHN1YnNjcmliZSA9IChyZWFjdExpc3RlbmVyOiAoKSA9PiB2b2lkKSA9PiB7XG4gICAgICAgICAgaWYgKCFzdWJzY3JpcHRpb24pIHtcbiAgICAgICAgICAgIHJldHVybiAoKSA9PiB7fVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBzdWJzY3JpYmVVcGRhdGVzKFxuICAgICAgICAgICAgc2hvdWxkSGFuZGxlU3RhdGVDaGFuZ2VzLFxuICAgICAgICAgICAgc3RvcmUsXG4gICAgICAgICAgICBzdWJzY3JpcHRpb24sXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICBjaGlsZFByb3BzU2VsZWN0b3IsXG4gICAgICAgICAgICBsYXN0V3JhcHBlclByb3BzLFxuICAgICAgICAgICAgbGFzdENoaWxkUHJvcHMsXG4gICAgICAgICAgICByZW5kZXJJc1NjaGVkdWxlZCxcbiAgICAgICAgICAgIGlzTW91bnRlZCxcbiAgICAgICAgICAgIGNoaWxkUHJvcHNGcm9tU3RvcmVVcGRhdGUsXG4gICAgICAgICAgICBub3RpZnlOZXN0ZWRTdWJzLFxuICAgICAgICAgICAgcmVhY3RMaXN0ZW5lcixcbiAgICAgICAgICApXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc3Vic2NyaWJlXG4gICAgICB9LCBbc3Vic2NyaXB0aW9uXSlcblxuICAgICAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdFdpdGhBcmdzKGNhcHR1cmVXcmFwcGVyUHJvcHMsIFtcbiAgICAgICAgbGFzdFdyYXBwZXJQcm9wcyxcbiAgICAgICAgbGFzdENoaWxkUHJvcHMsXG4gICAgICAgIHJlbmRlcklzU2NoZWR1bGVkLFxuICAgICAgICB3cmFwcGVyUHJvcHMsXG4gICAgICAgIGNoaWxkUHJvcHNGcm9tU3RvcmVVcGRhdGUsXG4gICAgICAgIG5vdGlmeU5lc3RlZFN1YnMsXG4gICAgICBdKVxuXG4gICAgICBsZXQgYWN0dWFsQ2hpbGRQcm9wczogUmVjb3JkPHN0cmluZywgdW5rbm93bj5cblxuICAgICAgdHJ5IHtcbiAgICAgICAgYWN0dWFsQ2hpbGRQcm9wcyA9IHVzZVN5bmNFeHRlcm5hbFN0b3JlKFxuICAgICAgICAgIC8vIFRPRE8gV2UncmUgcGFzc2luZyB0aHJvdWdoIGEgYmlnIHdyYXBwZXIgdGhhdCBkb2VzIGEgYnVuY2ggb2YgZXh0cmEgc2lkZSBlZmZlY3RzIGJlc2lkZXMgc3Vic2NyaWJpbmdcbiAgICAgICAgICBzdWJzY3JpYmVGb3JSZWFjdCxcbiAgICAgICAgICAvLyBUT0RPIFRoaXMgaXMgaW5jcmVkaWJseSBoYWNreS4gV2UndmUgYWxyZWFkeSBwcm9jZXNzZWQgdGhlIHN0b3JlIHVwZGF0ZSBhbmQgY2FsY3VsYXRlZCBuZXcgY2hpbGQgcHJvcHMsXG4gICAgICAgICAgLy8gVE9ETyBhbmQgd2UncmUganVzdCBwYXNzaW5nIHRoYXQgdGhyb3VnaCBzbyBpdCB0cmlnZ2VycyBhIHJlLXJlbmRlciBmb3IgdXMgcmF0aGVyIHRoYW4gcmVseWluZyBvbiBgdVNFU2AuXG4gICAgICAgICAgYWN0dWFsQ2hpbGRQcm9wc1NlbGVjdG9yLFxuICAgICAgICAgIGdldFNlcnZlclN0YXRlXG4gICAgICAgICAgICA/ICgpID0+IGNoaWxkUHJvcHNTZWxlY3RvcihnZXRTZXJ2ZXJTdGF0ZSgpLCB3cmFwcGVyUHJvcHMpXG4gICAgICAgICAgICA6IGFjdHVhbENoaWxkUHJvcHNTZWxlY3RvcixcbiAgICAgICAgKVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGlmIChsYXRlc3RTdWJzY3JpcHRpb25DYWxsYmFja0Vycm9yLmN1cnJlbnQpIHtcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZXh0cmEtc2VtaVxuICAgICAgICAgIDsoZXJyIGFzIEVycm9yKS5tZXNzYWdlICs9XG4gICAgICAgICAgICBgXFxuVGhlIGVycm9yIG1heSBiZSBjb3JyZWxhdGVkIHdpdGggdGhpcyBwcmV2aW91cyBlcnJvcjpcXG4ke2xhdGVzdFN1YnNjcmlwdGlvbkNhbGxiYWNrRXJyb3IuY3VycmVudC5zdGFja31cXG5cXG5gXG4gICAgICAgIH1cblxuICAgICAgICB0aHJvdyBlcnJcbiAgICAgIH1cblxuICAgICAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGxhdGVzdFN1YnNjcmlwdGlvbkNhbGxiYWNrRXJyb3IuY3VycmVudCA9IHVuZGVmaW5lZFxuICAgICAgICBjaGlsZFByb3BzRnJvbVN0b3JlVXBkYXRlLmN1cnJlbnQgPSB1bmRlZmluZWRcbiAgICAgICAgbGFzdENoaWxkUHJvcHMuY3VycmVudCA9IGFjdHVhbENoaWxkUHJvcHNcbiAgICAgIH0pXG5cbiAgICAgIC8vIE5vdyB0aGF0IGFsbCB0aGF0J3MgZG9uZSwgd2UgY2FuIGZpbmFsbHkgdHJ5IHRvIGFjdHVhbGx5IHJlbmRlciB0aGUgY2hpbGQgY29tcG9uZW50LlxuICAgICAgLy8gV2UgbWVtb2l6ZSB0aGUgZWxlbWVudHMgZm9yIHRoZSByZW5kZXJlZCBjaGlsZCBjb21wb25lbnQgYXMgYW4gb3B0aW1pemF0aW9uLlxuICAgICAgY29uc3QgcmVuZGVyZWRXcmFwcGVkQ29tcG9uZW50ID0gUmVhY3QudXNlTWVtbygoKSA9PiB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgIDxXcmFwcGVkQ29tcG9uZW50XG4gICAgICAgICAgICB7Li4uYWN0dWFsQ2hpbGRQcm9wc31cbiAgICAgICAgICAgIHJlZj17cmVhY3RSZWR1eEZvcndhcmRlZFJlZn1cbiAgICAgICAgICAvPlxuICAgICAgICApXG4gICAgICB9LCBbcmVhY3RSZWR1eEZvcndhcmRlZFJlZiwgV3JhcHBlZENvbXBvbmVudCwgYWN0dWFsQ2hpbGRQcm9wc10pXG5cbiAgICAgIC8vIElmIFJlYWN0IHNlZXMgdGhlIGV4YWN0IHNhbWUgZWxlbWVudCByZWZlcmVuY2UgYXMgbGFzdCB0aW1lLCBpdCBiYWlscyBvdXQgb2YgcmUtcmVuZGVyaW5nXG4gICAgICAvLyB0aGF0IGNoaWxkLCBzYW1lIGFzIGlmIGl0IHdhcyB3cmFwcGVkIGluIFJlYWN0Lm1lbW8oKSBvciByZXR1cm5lZCBmYWxzZSBmcm9tIHNob3VsZENvbXBvbmVudFVwZGF0ZS5cbiAgICAgIGNvbnN0IHJlbmRlcmVkQ2hpbGQgPSBSZWFjdC51c2VNZW1vKCgpID0+IHtcbiAgICAgICAgaWYgKHNob3VsZEhhbmRsZVN0YXRlQ2hhbmdlcykge1xuICAgICAgICAgIC8vIElmIHRoaXMgY29tcG9uZW50IGlzIHN1YnNjcmliZWQgdG8gc3RvcmUgdXBkYXRlcywgd2UgbmVlZCB0byBwYXNzIGl0cyBvd25cbiAgICAgICAgICAvLyBzdWJzY3JpcHRpb24gaW5zdGFuY2UgZG93biB0byBvdXIgZGVzY2VuZGFudHMuIFRoYXQgbWVhbnMgcmVuZGVyaW5nIHRoZSBzYW1lXG4gICAgICAgICAgLy8gQ29udGV4dCBpbnN0YW5jZSwgYW5kIHB1dHRpbmcgYSBkaWZmZXJlbnQgdmFsdWUgaW50byB0aGUgY29udGV4dC5cbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPENvbnRleHRUb1VzZS5Qcm92aWRlciB2YWx1ZT17b3ZlcnJpZGRlbkNvbnRleHRWYWx1ZX0+XG4gICAgICAgICAgICAgIHtyZW5kZXJlZFdyYXBwZWRDb21wb25lbnR9XG4gICAgICAgICAgICA8L0NvbnRleHRUb1VzZS5Qcm92aWRlcj5cbiAgICAgICAgICApXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVuZGVyZWRXcmFwcGVkQ29tcG9uZW50XG4gICAgICB9LCBbQ29udGV4dFRvVXNlLCByZW5kZXJlZFdyYXBwZWRDb21wb25lbnQsIG92ZXJyaWRkZW5Db250ZXh0VmFsdWVdKVxuXG4gICAgICByZXR1cm4gcmVuZGVyZWRDaGlsZFxuICAgIH1cblxuICAgIGNvbnN0IF9Db25uZWN0ID0gUmVhY3QubWVtbyhDb25uZWN0RnVuY3Rpb24pXG5cbiAgICB0eXBlIENvbm5lY3RlZFdyYXBwZXJDb21wb25lbnQgPSB0eXBlb2YgX0Nvbm5lY3QgJiB7XG4gICAgICBXcmFwcGVkQ29tcG9uZW50OiB0eXBlb2YgV3JhcHBlZENvbXBvbmVudFxuICAgIH1cblxuICAgIC8vIEFkZCBhIGhhY2t5IGNhc3QgdG8gZ2V0IHRoZSByaWdodCBvdXRwdXQgdHlwZVxuICAgIGNvbnN0IENvbm5lY3QgPSBfQ29ubmVjdCBhcyB1bmtub3duIGFzIENvbm5lY3RlZENvbXBvbmVudDxcbiAgICAgIHR5cGVvZiBXcmFwcGVkQ29tcG9uZW50LFxuICAgICAgV3JhcHBlZENvbXBvbmVudFByb3BzXG4gICAgPlxuICAgIENvbm5lY3QuV3JhcHBlZENvbXBvbmVudCA9IFdyYXBwZWRDb21wb25lbnRcbiAgICBDb25uZWN0LmRpc3BsYXlOYW1lID0gQ29ubmVjdEZ1bmN0aW9uLmRpc3BsYXlOYW1lID0gZGlzcGxheU5hbWVcblxuICAgIGlmIChmb3J3YXJkUmVmKSB7XG4gICAgICBjb25zdCBfZm9yd2FyZGVkID0gUmVhY3QuZm9yd2FyZFJlZihcbiAgICAgICAgZnVuY3Rpb24gZm9yd2FyZENvbm5lY3RSZWYocHJvcHMsIHJlZikge1xuICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICByZXR1cm4gPENvbm5lY3Qgey4uLnByb3BzfSByZWFjdFJlZHV4Rm9yd2FyZGVkUmVmPXtyZWZ9IC8+XG4gICAgICAgIH0sXG4gICAgICApXG5cbiAgICAgIGNvbnN0IGZvcndhcmRlZCA9IF9mb3J3YXJkZWQgYXMgQ29ubmVjdGVkV3JhcHBlckNvbXBvbmVudFxuICAgICAgZm9yd2FyZGVkLmRpc3BsYXlOYW1lID0gZGlzcGxheU5hbWVcbiAgICAgIGZvcndhcmRlZC5XcmFwcGVkQ29tcG9uZW50ID0gV3JhcHBlZENvbXBvbmVudFxuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi8gaG9pc3RTdGF0aWNzKGZvcndhcmRlZCwgV3JhcHBlZENvbXBvbmVudClcbiAgICB9XG5cbiAgICByZXR1cm4gLyojX19QVVJFX18qLyBob2lzdFN0YXRpY3MoQ29ubmVjdCwgV3JhcHBlZENvbXBvbmVudClcbiAgfVxuXG4gIHJldHVybiB3cmFwV2l0aENvbm5lY3Rcbn1cblxuZXhwb3J0IGRlZmF1bHQgY29ubmVjdCBhcyBDb25uZWN0XG4iLCJpbXBvcnQgdHlwZSB7IENvbnRleHQsIFJlYWN0Tm9kZSB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgUmVhY3QgfSBmcm9tICcuLi91dGlscy9yZWFjdCdcbmltcG9ydCB0eXBlIHsgQWN0aW9uLCBTdG9yZSwgVW5rbm93bkFjdGlvbiB9IGZyb20gJ3JlZHV4J1xuaW1wb3J0IHR5cGUgeyBEZXZNb2RlQ2hlY2tGcmVxdWVuY3kgfSBmcm9tICcuLi9ob29rcy91c2VTZWxlY3RvcidcbmltcG9ydCB7IGNyZWF0ZVN1YnNjcmlwdGlvbiB9IGZyb20gJy4uL3V0aWxzL1N1YnNjcmlwdGlvbidcbmltcG9ydCB7IHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QgfSBmcm9tICcuLi91dGlscy91c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0J1xuaW1wb3J0IHR5cGUgeyBSZWFjdFJlZHV4Q29udGV4dFZhbHVlIH0gZnJvbSAnLi9Db250ZXh0J1xuaW1wb3J0IHsgUmVhY3RSZWR1eENvbnRleHQgfSBmcm9tICcuL0NvbnRleHQnXG5cbmV4cG9ydCBpbnRlcmZhY2UgUHJvdmlkZXJQcm9wczxcbiAgQSBleHRlbmRzIEFjdGlvbjxzdHJpbmc+ID0gVW5rbm93bkFjdGlvbixcbiAgUyA9IHVua25vd24sXG4+IHtcbiAgLyoqXG4gICAqIFRoZSBzaW5nbGUgUmVkdXggc3RvcmUgaW4geW91ciBhcHBsaWNhdGlvbi5cbiAgICovXG4gIHN0b3JlOiBTdG9yZTxTLCBBPlxuXG4gIC8qKlxuICAgKiBBbiBvcHRpb25hbCBzZXJ2ZXIgc3RhdGUgc25hcHNob3QuIFdpbGwgYmUgdXNlZCBkdXJpbmcgaW5pdGlhbCBoeWRyYXRpb24gcmVuZGVyIGlmIGF2YWlsYWJsZSwgdG8gZW5zdXJlIHRoYXQgdGhlIFVJIG91dHB1dCBpcyBjb25zaXN0ZW50IHdpdGggdGhlIEhUTUwgZ2VuZXJhdGVkIG9uIHRoZSBzZXJ2ZXIuXG4gICAqL1xuICBzZXJ2ZXJTdGF0ZT86IFNcblxuICAvKipcbiAgICogT3B0aW9uYWwgY29udGV4dCB0byBiZSB1c2VkIGludGVybmFsbHkgaW4gcmVhY3QtcmVkdXguIFVzZSBSZWFjdC5jcmVhdGVDb250ZXh0KCkgdG8gY3JlYXRlIGEgY29udGV4dCB0byBiZSB1c2VkLlxuICAgKiBJZiB0aGlzIGlzIHVzZWQsIHlvdSdsbCBuZWVkIHRvIGN1c3RvbWl6ZSBgY29ubmVjdGAgYnkgc3VwcGx5aW5nIHRoZSBzYW1lIGNvbnRleHQgcHJvdmlkZWQgdG8gdGhlIFByb3ZpZGVyLlxuICAgKiBTZXQgdGhlIGluaXRpYWwgdmFsdWUgdG8gbnVsbCwgYW5kIHRoZSBob29rcyB3aWxsIGVycm9yXG4gICAqIGlmIHRoaXMgaXMgbm90IG92ZXJ3cml0dGVuIGJ5IFByb3ZpZGVyLlxuICAgKi9cbiAgY29udGV4dD86IENvbnRleHQ8UmVhY3RSZWR1eENvbnRleHRWYWx1ZTxTLCBBPiB8IG51bGw+XG5cbiAgLyoqXG4gICAqIERldGVybWluZXMgdGhlIGZyZXF1ZW5jeSBvZiBzdGFiaWxpdHkgY2hlY2tzIGZvciBhbGwgc2VsZWN0b3JzLlxuICAgKiBUaGlzIHNldHRpbmcgb3ZlcnJpZGVzIHRoZSBnbG9iYWwgY29uZmlndXJhdGlvbiBmb3JcbiAgICogdGhlIGB1c2VTZWxlY3RvcmAgc3RhYmlsaXR5IGNoZWNrLCBhbGxvd2luZyB5b3UgdG8gc3BlY2lmeSBob3cgb2Z0ZW5cbiAgICogdGhlc2UgY2hlY2tzIHNob3VsZCBvY2N1ciBpbiBkZXZlbG9wbWVudCBtb2RlLlxuICAgKlxuICAgKiBAc2luY2UgOC4xLjBcbiAgICovXG4gIHN0YWJpbGl0eUNoZWNrPzogRGV2TW9kZUNoZWNrRnJlcXVlbmN5XG5cbiAgLyoqXG4gICAqIERldGVybWluZXMgdGhlIGZyZXF1ZW5jeSBvZiBpZGVudGl0eSBmdW5jdGlvbiBjaGVja3MgZm9yIGFsbCBzZWxlY3RvcnMuXG4gICAqIFRoaXMgc2V0dGluZyBvdmVycmlkZXMgdGhlIGdsb2JhbCBjb25maWd1cmF0aW9uIGZvclxuICAgKiB0aGUgYHVzZVNlbGVjdG9yYCBpZGVudGl0eSBmdW5jdGlvbiBjaGVjaywgYWxsb3dpbmcgeW91IHRvIHNwZWNpZnkgaG93IG9mdGVuXG4gICAqIHRoZXNlIGNoZWNrcyBzaG91bGQgb2NjdXIgaW4gZGV2ZWxvcG1lbnQgbW9kZS5cbiAgICpcbiAgICogKipOb3RlKio6IFByZXZpb3VzbHkgcmVmZXJyZWQgdG8gYXMgYG5vb3BDaGVja2AuXG4gICAqXG4gICAqIEBzaW5jZSA5LjAuMFxuICAgKi9cbiAgaWRlbnRpdHlGdW5jdGlvbkNoZWNrPzogRGV2TW9kZUNoZWNrRnJlcXVlbmN5XG5cbiAgY2hpbGRyZW46IFJlYWN0Tm9kZVxufVxuXG5mdW5jdGlvbiBQcm92aWRlcjxBIGV4dGVuZHMgQWN0aW9uPHN0cmluZz4gPSBVbmtub3duQWN0aW9uLCBTID0gdW5rbm93bj4oe1xuICBzdG9yZSxcbiAgY29udGV4dCxcbiAgY2hpbGRyZW4sXG4gIHNlcnZlclN0YXRlLFxuICBzdGFiaWxpdHlDaGVjayA9ICdvbmNlJyxcbiAgaWRlbnRpdHlGdW5jdGlvbkNoZWNrID0gJ29uY2UnLFxufTogUHJvdmlkZXJQcm9wczxBLCBTPikge1xuICBjb25zdCBjb250ZXh0VmFsdWUgPSBSZWFjdC51c2VNZW1vKCgpID0+IHtcbiAgICBjb25zdCBzdWJzY3JpcHRpb24gPSBjcmVhdGVTdWJzY3JpcHRpb24oc3RvcmUpXG4gICAgcmV0dXJuIHtcbiAgICAgIHN0b3JlLFxuICAgICAgc3Vic2NyaXB0aW9uLFxuICAgICAgZ2V0U2VydmVyU3RhdGU6IHNlcnZlclN0YXRlID8gKCkgPT4gc2VydmVyU3RhdGUgOiB1bmRlZmluZWQsXG4gICAgICBzdGFiaWxpdHlDaGVjayxcbiAgICAgIGlkZW50aXR5RnVuY3Rpb25DaGVjayxcbiAgICB9XG4gIH0sIFtzdG9yZSwgc2VydmVyU3RhdGUsIHN0YWJpbGl0eUNoZWNrLCBpZGVudGl0eUZ1bmN0aW9uQ2hlY2tdKVxuXG4gIGNvbnN0IHByZXZpb3VzU3RhdGUgPSBSZWFjdC51c2VNZW1vKCgpID0+IHN0b3JlLmdldFN0YXRlKCksIFtzdG9yZV0pXG5cbiAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgeyBzdWJzY3JpcHRpb24gfSA9IGNvbnRleHRWYWx1ZVxuICAgIHN1YnNjcmlwdGlvbi5vblN0YXRlQ2hhbmdlID0gc3Vic2NyaXB0aW9uLm5vdGlmeU5lc3RlZFN1YnNcbiAgICBzdWJzY3JpcHRpb24udHJ5U3Vic2NyaWJlKClcblxuICAgIGlmIChwcmV2aW91c1N0YXRlICE9PSBzdG9yZS5nZXRTdGF0ZSgpKSB7XG4gICAgICBzdWJzY3JpcHRpb24ubm90aWZ5TmVzdGVkU3VicygpXG4gICAgfVxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBzdWJzY3JpcHRpb24udHJ5VW5zdWJzY3JpYmUoKVxuICAgICAgc3Vic2NyaXB0aW9uLm9uU3RhdGVDaGFuZ2UgPSB1bmRlZmluZWRcbiAgICB9XG4gIH0sIFtjb250ZXh0VmFsdWUsIHByZXZpb3VzU3RhdGVdKVxuXG4gIGNvbnN0IENvbnRleHQgPSBjb250ZXh0IHx8IFJlYWN0UmVkdXhDb250ZXh0XG5cbiAgLy8gQHRzLWlnbm9yZSAnQW55QWN0aW9uJyBpcyBhc3NpZ25hYmxlIHRvIHRoZSBjb25zdHJhaW50IG9mIHR5cGUgJ0EnLCBidXQgJ0EnIGNvdWxkIGJlIGluc3RhbnRpYXRlZCB3aXRoIGEgZGlmZmVyZW50IHN1YnR5cGVcbiAgcmV0dXJuIDxDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXtjb250ZXh0VmFsdWV9PntjaGlsZHJlbn08L0NvbnRleHQuUHJvdmlkZXI+XG59XG5cbmV4cG9ydCBkZWZhdWx0IFByb3ZpZGVyXG4iLCJpbXBvcnQgdHlwZSB7IENvbnRleHQgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB0eXBlIHsgQWN0aW9uLCBTdG9yZSB9IGZyb20gJ3JlZHV4J1xuaW1wb3J0IHR5cGUgeyBSZWFjdFJlZHV4Q29udGV4dFZhbHVlIH0gZnJvbSAnLi4vY29tcG9uZW50cy9Db250ZXh0J1xuaW1wb3J0IHsgUmVhY3RSZWR1eENvbnRleHQgfSBmcm9tICcuLi9jb21wb25lbnRzL0NvbnRleHQnXG5pbXBvcnQge1xuICBjcmVhdGVSZWR1eENvbnRleHRIb29rLFxuICB1c2VSZWR1eENvbnRleHQgYXMgdXNlRGVmYXVsdFJlZHV4Q29udGV4dCxcbn0gZnJvbSAnLi91c2VSZWR1eENvbnRleHQnXG5cbi8qKlxuICogUmVwcmVzZW50cyBhIHR5cGUgdGhhdCBleHRyYWN0cyB0aGUgYWN0aW9uIHR5cGUgZnJvbSBhIGdpdmVuIFJlZHV4IHN0b3JlLlxuICpcbiAqIEB0ZW1wbGF0ZSBTdG9yZVR5cGUgLSBUaGUgc3BlY2lmaWMgdHlwZSBvZiB0aGUgUmVkdXggc3RvcmUuXG4gKlxuICogQHNpbmNlIDkuMS4wXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IHR5cGUgRXh0cmFjdFN0b3JlQWN0aW9uVHlwZTxTdG9yZVR5cGUgZXh0ZW5kcyBTdG9yZT4gPVxuICBTdG9yZVR5cGUgZXh0ZW5kcyBTdG9yZTxhbnksIGluZmVyIEFjdGlvblR5cGU+ID8gQWN0aW9uVHlwZSA6IG5ldmVyXG5cbi8qKlxuICogUmVwcmVzZW50cyBhIGN1c3RvbSBob29rIHRoYXQgcHJvdmlkZXMgYWNjZXNzIHRvIHRoZSBSZWR1eCBzdG9yZS5cbiAqXG4gKiBAdGVtcGxhdGUgU3RvcmVUeXBlIC0gVGhlIHNwZWNpZmljIHR5cGUgb2YgdGhlIFJlZHV4IHN0b3JlIHRoYXQgZ2V0cyByZXR1cm5lZC5cbiAqXG4gKiBAc2luY2UgOS4xLjBcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBVc2VTdG9yZTxTdG9yZVR5cGUgZXh0ZW5kcyBTdG9yZT4ge1xuICAvKipcbiAgICogUmV0dXJucyB0aGUgUmVkdXggc3RvcmUgaW5zdGFuY2UuXG4gICAqXG4gICAqIEByZXR1cm5zIFRoZSBSZWR1eCBzdG9yZSBpbnN0YW5jZS5cbiAgICovXG4gICgpOiBTdG9yZVR5cGVcblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgUmVkdXggc3RvcmUgaW5zdGFuY2Ugd2l0aCBzcGVjaWZpYyBzdGF0ZSBhbmQgYWN0aW9uIHR5cGVzLlxuICAgKlxuICAgKiBAcmV0dXJucyBUaGUgUmVkdXggc3RvcmUgd2l0aCB0aGUgc3BlY2lmaWVkIHN0YXRlIGFuZCBhY3Rpb24gdHlwZXMuXG4gICAqXG4gICAqIEB0ZW1wbGF0ZSBTdGF0ZVR5cGUgLSBUaGUgc3BlY2lmaWMgdHlwZSBvZiB0aGUgc3RhdGUgdXNlZCBpbiB0aGUgc3RvcmUuXG4gICAqIEB0ZW1wbGF0ZSBBY3Rpb25UeXBlIC0gVGhlIHNwZWNpZmljIHR5cGUgb2YgdGhlIGFjdGlvbnMgdXNlZCBpbiB0aGUgc3RvcmUuXG4gICAqL1xuICA8XG4gICAgU3RhdGVUeXBlIGV4dGVuZHMgUmV0dXJuVHlwZTxTdG9yZVR5cGVbJ2dldFN0YXRlJ10+ID0gUmV0dXJuVHlwZTxcbiAgICAgIFN0b3JlVHlwZVsnZ2V0U3RhdGUnXVxuICAgID4sXG4gICAgQWN0aW9uVHlwZSBleHRlbmRzIEFjdGlvbiA9IEV4dHJhY3RTdG9yZUFjdGlvblR5cGU8U3RvcmU+LFxuICA+KCk6IFN0b3JlPFN0YXRlVHlwZSwgQWN0aW9uVHlwZT5cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIFwicHJlLXR5cGVkXCIgdmVyc2lvbiBvZiB7QGxpbmtjb2RlIHVzZVN0b3JlIHVzZVN0b3JlfVxuICAgKiB3aGVyZSB0aGUgdHlwZSBvZiB0aGUgUmVkdXggYHN0b3JlYCBpcyBwcmVkZWZpbmVkLlxuICAgKlxuICAgKiBUaGlzIGFsbG93cyB5b3UgdG8gc2V0IHRoZSBgc3RvcmVgIHR5cGUgb25jZSwgZWxpbWluYXRpbmcgdGhlIG5lZWQgdG9cbiAgICogc3BlY2lmeSBpdCB3aXRoIGV2ZXJ5IHtAbGlua2NvZGUgdXNlU3RvcmUgdXNlU3RvcmV9IGNhbGwuXG4gICAqXG4gICAqIEByZXR1cm5zIEEgcHJlLXR5cGVkIGB1c2VTdG9yZWAgd2l0aCB0aGUgc3RvcmUgdHlwZSBhbHJlYWR5IGRlZmluZWQuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYHRzXG4gICAqIGV4cG9ydCBjb25zdCB1c2VBcHBTdG9yZSA9IHVzZVN0b3JlLndpdGhUeXBlczxBcHBTdG9yZT4oKVxuICAgKiBgYGBcbiAgICpcbiAgICogQHRlbXBsYXRlIE92ZXJyaWRlU3RvcmVUeXBlIC0gVGhlIHNwZWNpZmljIHR5cGUgb2YgdGhlIFJlZHV4IHN0b3JlIHRoYXQgZ2V0cyByZXR1cm5lZC5cbiAgICpcbiAgICogQHNpbmNlIDkuMS4wXG4gICAqL1xuICB3aXRoVHlwZXM6IDxcbiAgICBPdmVycmlkZVN0b3JlVHlwZSBleHRlbmRzIFN0b3JlVHlwZSxcbiAgPigpID0+IFVzZVN0b3JlPE92ZXJyaWRlU3RvcmVUeXBlPlxufVxuXG4vKipcbiAqIEhvb2sgZmFjdG9yeSwgd2hpY2ggY3JlYXRlcyBhIGB1c2VTdG9yZWAgaG9vayBib3VuZCB0byBhIGdpdmVuIGNvbnRleHQuXG4gKlxuICogQHBhcmFtIHtSZWFjdC5Db250ZXh0fSBbY29udGV4dD1SZWFjdFJlZHV4Q29udGV4dF0gQ29udGV4dCBwYXNzZWQgdG8geW91ciBgPFByb3ZpZGVyPmAuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IEEgYHVzZVN0b3JlYCBob29rIGJvdW5kIHRvIHRoZSBzcGVjaWZpZWQgY29udGV4dC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVN0b3JlSG9vazxcbiAgU3RhdGVUeXBlID0gdW5rbm93bixcbiAgQWN0aW9uVHlwZSBleHRlbmRzIEFjdGlvbiA9IEFjdGlvbixcbj4oXG4gIC8vIEB0cy1pZ25vcmVcbiAgY29udGV4dD86IENvbnRleHQ8UmVhY3RSZWR1eENvbnRleHRWYWx1ZTxcbiAgICBTdGF0ZVR5cGUsXG4gICAgQWN0aW9uVHlwZVxuICA+IHwgbnVsbD4gPSBSZWFjdFJlZHV4Q29udGV4dCxcbikge1xuICBjb25zdCB1c2VSZWR1eENvbnRleHQgPVxuICAgIGNvbnRleHQgPT09IFJlYWN0UmVkdXhDb250ZXh0XG4gICAgICA/IHVzZURlZmF1bHRSZWR1eENvbnRleHRcbiAgICAgIDogLy8gQHRzLWlnbm9yZVxuICAgICAgICBjcmVhdGVSZWR1eENvbnRleHRIb29rKGNvbnRleHQpXG4gIGNvbnN0IHVzZVN0b3JlID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgc3RvcmUgfSA9IHVzZVJlZHV4Q29udGV4dCgpXG4gICAgcmV0dXJuIHN0b3JlXG4gIH1cblxuICBPYmplY3QuYXNzaWduKHVzZVN0b3JlLCB7XG4gICAgd2l0aFR5cGVzOiAoKSA9PiB1c2VTdG9yZSxcbiAgfSlcblxuICByZXR1cm4gdXNlU3RvcmUgYXMgVXNlU3RvcmU8U3RvcmU8U3RhdGVUeXBlLCBBY3Rpb25UeXBlPj5cbn1cblxuLyoqXG4gKiBBIGhvb2sgdG8gYWNjZXNzIHRoZSByZWR1eCBzdG9yZS5cbiAqXG4gKiBAcmV0dXJucyB7YW55fSB0aGUgcmVkdXggc3RvcmVcbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIGltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcbiAqIGltcG9ydCB7IHVzZVN0b3JlIH0gZnJvbSAncmVhY3QtcmVkdXgnXG4gKlxuICogZXhwb3J0IGNvbnN0IEV4YW1wbGVDb21wb25lbnQgPSAoKSA9PiB7XG4gKiAgIGNvbnN0IHN0b3JlID0gdXNlU3RvcmUoKVxuICogICByZXR1cm4gPGRpdj57c3RvcmUuZ2V0U3RhdGUoKX08L2Rpdj5cbiAqIH1cbiAqL1xuZXhwb3J0IGNvbnN0IHVzZVN0b3JlID0gLyojX19QVVJFX18qLyBjcmVhdGVTdG9yZUhvb2soKVxuIiwiaW1wb3J0IHR5cGUgeyBDb250ZXh0IH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgdHlwZSB7IEFjdGlvbiwgRGlzcGF0Y2gsIFVua25vd25BY3Rpb24gfSBmcm9tICdyZWR1eCdcblxuaW1wb3J0IHR5cGUgeyBSZWFjdFJlZHV4Q29udGV4dFZhbHVlIH0gZnJvbSAnLi4vY29tcG9uZW50cy9Db250ZXh0J1xuaW1wb3J0IHsgUmVhY3RSZWR1eENvbnRleHQgfSBmcm9tICcuLi9jb21wb25lbnRzL0NvbnRleHQnXG5pbXBvcnQgeyBjcmVhdGVTdG9yZUhvb2ssIHVzZVN0b3JlIGFzIHVzZURlZmF1bHRTdG9yZSB9IGZyb20gJy4vdXNlU3RvcmUnXG5cbi8qKlxuICogUmVwcmVzZW50cyBhIGN1c3RvbSBob29rIHRoYXQgcHJvdmlkZXMgYSBkaXNwYXRjaCBmdW5jdGlvblxuICogZnJvbSB0aGUgUmVkdXggc3RvcmUuXG4gKlxuICogQHRlbXBsYXRlIERpc3BhdGNoVHlwZSAtIFRoZSBzcGVjaWZpYyB0eXBlIG9mIHRoZSBkaXNwYXRjaCBmdW5jdGlvbi5cbiAqXG4gKiBAc2luY2UgOS4xLjBcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBVc2VEaXNwYXRjaDxcbiAgRGlzcGF0Y2hUeXBlIGV4dGVuZHMgRGlzcGF0Y2g8VW5rbm93bkFjdGlvbj4gPSBEaXNwYXRjaDxVbmtub3duQWN0aW9uPixcbj4ge1xuICAvKipcbiAgICogUmV0dXJucyB0aGUgZGlzcGF0Y2ggZnVuY3Rpb24gZnJvbSB0aGUgUmVkdXggc3RvcmUuXG4gICAqXG4gICAqIEByZXR1cm5zIFRoZSBkaXNwYXRjaCBmdW5jdGlvbiBmcm9tIHRoZSBSZWR1eCBzdG9yZS5cbiAgICpcbiAgICogQHRlbXBsYXRlIEFwcERpc3BhdGNoIC0gVGhlIHNwZWNpZmljIHR5cGUgb2YgdGhlIGRpc3BhdGNoIGZ1bmN0aW9uLlxuICAgKi9cbiAgPEFwcERpc3BhdGNoIGV4dGVuZHMgRGlzcGF0Y2hUeXBlID0gRGlzcGF0Y2hUeXBlPigpOiBBcHBEaXNwYXRjaFxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgXCJwcmUtdHlwZWRcIiB2ZXJzaW9uIG9mIHtAbGlua2NvZGUgdXNlRGlzcGF0Y2ggdXNlRGlzcGF0Y2h9XG4gICAqIHdoZXJlIHRoZSB0eXBlIG9mIHRoZSBgZGlzcGF0Y2hgIGZ1bmN0aW9uIGlzIHByZWRlZmluZWQuXG4gICAqXG4gICAqIFRoaXMgYWxsb3dzIHlvdSB0byBzZXQgdGhlIGBkaXNwYXRjaGAgdHlwZSBvbmNlLCBlbGltaW5hdGluZyB0aGUgbmVlZCB0b1xuICAgKiBzcGVjaWZ5IGl0IHdpdGggZXZlcnkge0BsaW5rY29kZSB1c2VEaXNwYXRjaCB1c2VEaXNwYXRjaH0gY2FsbC5cbiAgICpcbiAgICogQHJldHVybnMgQSBwcmUtdHlwZWQgYHVzZURpc3BhdGNoYCB3aXRoIHRoZSBkaXNwYXRjaCB0eXBlIGFscmVhZHkgZGVmaW5lZC5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogYGBgdHNcbiAgICogZXhwb3J0IGNvbnN0IHVzZUFwcERpc3BhdGNoID0gdXNlRGlzcGF0Y2gud2l0aFR5cGVzPEFwcERpc3BhdGNoPigpXG4gICAqIGBgYFxuICAgKlxuICAgKiBAdGVtcGxhdGUgT3ZlcnJpZGVEaXNwYXRjaFR5cGUgLSBUaGUgc3BlY2lmaWMgdHlwZSBvZiB0aGUgZGlzcGF0Y2ggZnVuY3Rpb24uXG4gICAqXG4gICAqIEBzaW5jZSA5LjEuMFxuICAgKi9cbiAgd2l0aFR5cGVzOiA8XG4gICAgT3ZlcnJpZGVEaXNwYXRjaFR5cGUgZXh0ZW5kcyBEaXNwYXRjaFR5cGUsXG4gID4oKSA9PiBVc2VEaXNwYXRjaDxPdmVycmlkZURpc3BhdGNoVHlwZT5cbn1cblxuLyoqXG4gKiBIb29rIGZhY3RvcnksIHdoaWNoIGNyZWF0ZXMgYSBgdXNlRGlzcGF0Y2hgIGhvb2sgYm91bmQgdG8gYSBnaXZlbiBjb250ZXh0LlxuICpcbiAqIEBwYXJhbSB7UmVhY3QuQ29udGV4dH0gW2NvbnRleHQ9UmVhY3RSZWR1eENvbnRleHRdIENvbnRleHQgcGFzc2VkIHRvIHlvdXIgYDxQcm92aWRlcj5gLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBBIGB1c2VEaXNwYXRjaGAgaG9vayBib3VuZCB0byB0aGUgc3BlY2lmaWVkIGNvbnRleHQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVEaXNwYXRjaEhvb2s8XG4gIFN0YXRlVHlwZSA9IHVua25vd24sXG4gIEFjdGlvblR5cGUgZXh0ZW5kcyBBY3Rpb24gPSBVbmtub3duQWN0aW9uLFxuPihcbiAgLy8gQHRzLWlnbm9yZVxuICBjb250ZXh0PzogQ29udGV4dDxSZWFjdFJlZHV4Q29udGV4dFZhbHVlPFxuICAgIFN0YXRlVHlwZSxcbiAgICBBY3Rpb25UeXBlXG4gID4gfCBudWxsPiA9IFJlYWN0UmVkdXhDb250ZXh0LFxuKSB7XG4gIGNvbnN0IHVzZVN0b3JlID1cbiAgICBjb250ZXh0ID09PSBSZWFjdFJlZHV4Q29udGV4dCA/IHVzZURlZmF1bHRTdG9yZSA6IGNyZWF0ZVN0b3JlSG9vayhjb250ZXh0KVxuXG4gIGNvbnN0IHVzZURpc3BhdGNoID0gKCkgPT4ge1xuICAgIGNvbnN0IHN0b3JlID0gdXNlU3RvcmUoKVxuICAgIHJldHVybiBzdG9yZS5kaXNwYXRjaFxuICB9XG5cbiAgT2JqZWN0LmFzc2lnbih1c2VEaXNwYXRjaCwge1xuICAgIHdpdGhUeXBlczogKCkgPT4gdXNlRGlzcGF0Y2gsXG4gIH0pXG5cbiAgcmV0dXJuIHVzZURpc3BhdGNoIGFzIFVzZURpc3BhdGNoPERpc3BhdGNoPEFjdGlvblR5cGU+PlxufVxuXG4vKipcbiAqIEEgaG9vayB0byBhY2Nlc3MgdGhlIHJlZHV4IGBkaXNwYXRjaGAgZnVuY3Rpb24uXG4gKlxuICogQHJldHVybnMge2FueXxmdW5jdGlvbn0gcmVkdXggc3RvcmUncyBgZGlzcGF0Y2hgIGZ1bmN0aW9uXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiBpbXBvcnQgUmVhY3QsIHsgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCdcbiAqIGltcG9ydCB7IHVzZURpc3BhdGNoIH0gZnJvbSAncmVhY3QtcmVkdXgnXG4gKlxuICogZXhwb3J0IGNvbnN0IENvdW50ZXJDb21wb25lbnQgPSAoeyB2YWx1ZSB9KSA9PiB7XG4gKiAgIGNvbnN0IGRpc3BhdGNoID0gdXNlRGlzcGF0Y2goKVxuICogICBjb25zdCBpbmNyZWFzZUNvdW50ZXIgPSB1c2VDYWxsYmFjaygoKSA9PiBkaXNwYXRjaCh7IHR5cGU6ICdpbmNyZWFzZS1jb3VudGVyJyB9KSwgW10pXG4gKiAgIHJldHVybiAoXG4gKiAgICAgPGRpdj5cbiAqICAgICAgIDxzcGFuPnt2YWx1ZX08L3NwYW4+XG4gKiAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e2luY3JlYXNlQ291bnRlcn0+SW5jcmVhc2UgY291bnRlcjwvYnV0dG9uPlxuICogICAgIDwvZGl2PlxuICogICApXG4gKiB9XG4gKi9cbmV4cG9ydCBjb25zdCB1c2VEaXNwYXRjaCA9IC8qI19fUFVSRV9fKi8gY3JlYXRlRGlzcGF0Y2hIb29rKClcbiIsImltcG9ydCBjb25uZWN0IGZyb20gJy4vY29tcG9uZW50cy9jb25uZWN0J1xuZXhwb3J0IHR5cGUge1xuICBDb25uZWN0LFxuICBDb25uZWN0UHJvcHMsXG4gIENvbm5lY3RlZFByb3BzLFxufSBmcm9tICcuL2NvbXBvbmVudHMvY29ubmVjdCdcblxuaW1wb3J0IHNoYWxsb3dFcXVhbCBmcm9tICcuL3V0aWxzL3NoYWxsb3dFcXVhbCdcblxuaW1wb3J0IFByb3ZpZGVyIGZyb20gJy4vY29tcG9uZW50cy9Qcm92aWRlcidcbmltcG9ydCB7IGRlZmF1bHROb29wQmF0Y2ggfSBmcm9tICcuL3V0aWxzL2JhdGNoJ1xuXG5leHBvcnQgeyBSZWFjdFJlZHV4Q29udGV4dCB9IGZyb20gJy4vY29tcG9uZW50cy9Db250ZXh0J1xuZXhwb3J0IHR5cGUgeyBSZWFjdFJlZHV4Q29udGV4dFZhbHVlIH0gZnJvbSAnLi9jb21wb25lbnRzL0NvbnRleHQnXG5cbmV4cG9ydCB0eXBlIHsgUHJvdmlkZXJQcm9wcyB9IGZyb20gJy4vY29tcG9uZW50cy9Qcm92aWRlcidcblxuZXhwb3J0IHR5cGUge1xuICBNYXBEaXNwYXRjaFRvUHJvcHMsXG4gIE1hcERpc3BhdGNoVG9Qcm9wc0ZhY3RvcnksXG4gIE1hcERpc3BhdGNoVG9Qcm9wc0Z1bmN0aW9uLFxuICBNYXBEaXNwYXRjaFRvUHJvcHNOb25PYmplY3QsXG4gIE1hcERpc3BhdGNoVG9Qcm9wc1BhcmFtLFxuICBNYXBTdGF0ZVRvUHJvcHMsXG4gIE1hcFN0YXRlVG9Qcm9wc0ZhY3RvcnksXG4gIE1hcFN0YXRlVG9Qcm9wc1BhcmFtLFxuICBNZXJnZVByb3BzLFxuICBTZWxlY3RvcixcbiAgU2VsZWN0b3JGYWN0b3J5LFxufSBmcm9tICcuL2Nvbm5lY3Qvc2VsZWN0b3JGYWN0b3J5J1xuXG5leHBvcnQgeyBjcmVhdGVEaXNwYXRjaEhvb2ssIHVzZURpc3BhdGNoIH0gZnJvbSAnLi9ob29rcy91c2VEaXNwYXRjaCdcbmV4cG9ydCB0eXBlIHsgVXNlRGlzcGF0Y2ggfSBmcm9tICcuL2hvb2tzL3VzZURpc3BhdGNoJ1xuXG5leHBvcnQgeyBjcmVhdGVTZWxlY3Rvckhvb2ssIHVzZVNlbGVjdG9yIH0gZnJvbSAnLi9ob29rcy91c2VTZWxlY3RvcidcbmV4cG9ydCB0eXBlIHsgVXNlU2VsZWN0b3IgfSBmcm9tICcuL2hvb2tzL3VzZVNlbGVjdG9yJ1xuXG5leHBvcnQgeyBjcmVhdGVTdG9yZUhvb2ssIHVzZVN0b3JlIH0gZnJvbSAnLi9ob29rcy91c2VTdG9yZSdcbmV4cG9ydCB0eXBlIHsgVXNlU3RvcmUgfSBmcm9tICcuL2hvb2tzL3VzZVN0b3JlJ1xuXG5leHBvcnQgdHlwZSB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJy4vdXRpbHMvU3Vic2NyaXB0aW9uJ1xuXG5leHBvcnQgKiBmcm9tICcuL3R5cGVzJ1xuXG4vKipcbiAqIEBkZXByZWNhdGVkIEFzIG9mIFJlYWN0IDE4LCBiYXRjaGluZyBpcyBlbmFibGVkIGJ5IGRlZmF1bHQgZm9yIFJlYWN0RE9NIGFuZCBSZWFjdCBOYXRpdmUuXG4gKiBUaGlzIGlzIG5vdyBhIG5vLW9wIHRoYXQgaW1tZWRpYXRlbHkgcnVucyB0aGUgY2FsbGJhY2suXG4gKi9cbmNvbnN0IGJhdGNoID0gZGVmYXVsdE5vb3BCYXRjaFxuXG5leHBvcnQgeyBQcm92aWRlciwgYmF0Y2gsIGNvbm5lY3QsIHNoYWxsb3dFcXVhbCB9XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxJQUFBQSxXQUFBO0FBQUFDLFFBQUEsQ0FBQUQsV0FBQTtFQUFBRSxRQUFBLEVBQUFBLENBQUEsS0FBQUMsZ0JBQUE7RUFBQUMsaUJBQUEsRUFBQUEsQ0FBQSxLQUFBQSxpQkFBQTtFQUFBQyxLQUFBLEVBQUFBLENBQUEsS0FBQUEsS0FBQTtFQUFBQyxPQUFBLEVBQUFBLENBQUEsS0FBQUMsZUFBQTtFQUFBQyxrQkFBQSxFQUFBQSxDQUFBLEtBQUFBLGtCQUFBO0VBQUFDLGtCQUFBLEVBQUFBLENBQUEsS0FBQUEsa0JBQUE7RUFBQUMsZUFBQSxFQUFBQSxDQUFBLEtBQUFBLGVBQUE7RUFBQUMsWUFBQSxFQUFBQSxDQUFBLEtBQUFBLFlBQUE7RUFBQUMsV0FBQSxFQUFBQSxDQUFBLEtBQUFBLFdBQUE7RUFBQUMsV0FBQSxFQUFBQSxDQUFBLEtBQUFBLFdBQUE7RUFBQUMsUUFBQSxFQUFBQSxDQUFBLEtBQUFBO0FBQUE7QUFBQUMsTUFBQSxDQUFBQyxPQUFBLEdBQUFDLFlBQUEsQ0FBQWpCLFdBQUE7QUFLQSxJQUFBa0IsTUFBQSxHQUF1QkMsT0FBQSxDQUFBQyxPQUFBO0FBQ3ZCLElBQUFDLG9CQUFBLEdBQWlERCxPQUFBOzs7QUNOakQsSUFBQUUsYUFBQSxHQUErQkgsT0FBQSxDQUFBQyxPQUFBO0FBR3hCLElBQU1HLEtBQUE7QUFBQTtB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