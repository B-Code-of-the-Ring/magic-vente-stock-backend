adbd2be3f7ef38667ed9faacf28b7ad8
"use strict";

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all) __defProp(target, name, {
    get: all[name],
    enumerable: true
  });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from)) if (!__hasOwnProp.call(to, key) && key !== except) __defProp(to, key, {
      get: () => from[key],
      enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable
    });
  }
  return to;
};
var __reExport = (target, mod, secondTarget) => (__copyProps(target, mod, "default"), secondTarget && __copyProps(secondTarget, mod, "default"));
var __toCommonJS = mod => __copyProps(__defProp({}, "__esModule", {
  value: true
}), mod);

// src/index.ts
var src_exports = {};
__export(src_exports, {
  ReducerType: () => ReducerType,
  SHOULD_AUTOBATCH: () => SHOULD_AUTOBATCH,
  TaskAbortError: () => TaskAbortError,
  Tuple: () => Tuple,
  addListener: () => addListener,
  asyncThunkCreator: () => asyncThunkCreator,
  autoBatchEnhancer: () => autoBatchEnhancer,
  buildCreateSlice: () => buildCreateSlice,
  clearAllListeners: () => clearAllListeners,
  combineSlices: () => combineSlices,
  configureStore: () => configureStore,
  createAction: () => createAction,
  createActionCreatorInvariantMiddleware: () => createActionCreatorInvariantMiddleware,
  createAsyncThunk: () => createAsyncThunk,
  createDraftSafeSelector: () => createDraftSafeSelector,
  createDraftSafeSelectorCreator: () => createDraftSafeSelectorCreator,
  createDynamicMiddleware: () => createDynamicMiddleware,
  createEntityAdapter: () => createEntityAdapter,
  createImmutableStateInvariantMiddleware: () => createImmutableStateInvariantMiddleware,
  createListenerMiddleware: () => createListenerMiddleware,
  createNextState: () => import_immer7.produce,
  createReducer: () => createReducer,
  createSelector: () => import_reselect2.createSelector,
  createSelectorCreator: () => import_reselect2.createSelectorCreator,
  createSerializableStateInvariantMiddleware: () => createSerializableStateInvariantMiddleware,
  createSlice: () => createSlice,
  current: () => import_immer7.current,
  findNonSerializableValue: () => findNonSerializableValue,
  formatProdErrorMessage: () => formatProdErrorMessage,
  freeze: () => import_immer7.freeze,
  isActionCreator: () => isActionCreator,
  isAllOf: () => isAllOf,
  isAnyOf: () => isAnyOf,
  isAsyncThunkAction: () => isAsyncThunkAction,
  isDraft: () => import_immer7.isDraft,
  isFluxStandardAction: () => isFSA,
  isFulfilled: () => isFulfilled,
  isImmutableDefault: () => isImmutableDefault,
  isPending: () => isPending,
  isPlain: () => isPlain,
  isRejected: () => isRejected,
  isRejectedWithValue: () => isRejectedWithValue,
  lruMemoize: () => import_reselect2.lruMemoize,
  miniSerializeError: () => miniSerializeError,
  nanoid: () => nanoid,
  original: () => import_immer7.original,
  prepareAutoBatched: () => prepareAutoBatched,
  removeListener: () => removeListener,
  unwrapResult: () => unwrapResult,
  weakMapMemoize: () => import_reselect2.weakMapMemoize
});
module.exports = __toCommonJS(src_exports);
__reExport(src_exports, require("redux"), module.exports);
var import_immer7 = require("immer");
var import_reselect2 = require("reselect");

// src/createDraftSafeSelector.ts
var import_immer = require("immer");
var import_reselect = require("reselect");
var createDraftSafeSelectorCreator = (...args) => {
  const createSelector2 = (0, import_reselect.createSelectorCreator)(...args);
  const createDraftSafeSelector2 = Object.assign((...args2) => {
    const selector = createSelector2(...args2);
    const wrappedSelector = (value, ...rest) => selector((0, import_immer.isDraft)(value) ? (0, import_immer.current)(value) : value, ...rest);
    Object.assign(wrappedSelector, selector);
    return wrappedSelector;
  }, {
    withTypes: () => createDraftSafeSelector2
  });
  return createDraftSafeSelector2;
};
var createDraftSafeSelector = createDraftSafeSelectorCreator(import_reselect.weakMapMemoize);

// src/configureStore.ts
var import_redux4 = require("redux");

// src/devtoolsExtension.ts
var import_redux = require("redux");
var composeWithDevTools = typeof window !== "undefined" && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ : function () {
  if (arguments.length === 0) return void 0;
  if (typeof arguments[0] === "object") return import_redux.compose;
  return import_redux.compose.apply(null, arguments);
};
var devToolsEnhancer = typeof window !== "undefined" && window.__REDUX_DEVTOOLS_EXTENSION__ ? window.__REDUX_DEVTOOLS_EXTENSION__ : function () {
  return function (noop3) {
    return noop3;
  };
};

// src/getDefaultMiddleware.ts
var import_redux_thunk = require("redux-thunk");

// src/createAction.ts
var import_redux2 = require("redux");

// src/tsHelpers.ts
var hasMatchFunction = v => {
  return v && typeof v.match === "function";
};

// src/createAction.ts
function createAction(type, prepareAction) {
  function actionCreator(...args) {
    if (prepareAction) {
      let prepared = prepareAction(...args);
      if (!prepared) {
        throw new Error(false ? _formatProdErrorMessage(0) : "prepareAction did not return an object");
      }
      return {
        type,
        payload: prepared.payload,
        ...("meta" in prepared && {
          meta: prepared.meta
        }),
        ...("error" in prepared && {
          error: prepared.error
        })
      };
    }
    return {
      type,
      payload: args[0]
    };
  }
  actionCreator.toString = () => `${type}`;
  actionCreator.type = type;
  actionCreator.match = action => (0, import_redux2.isAction)(action) && action.type === type;
  return actionCreator;
}
function isActionCreator(action) {
  return typeof action === "function" && "type" in action &&
  // hasMatchFunction only wants Matchers but I don't see the point in rewriting it
  hasMatchFunction(action);
}
function isFSA(action) {
  return (0, import_redux2.isAction)(action) && Object.keys(action).every(isValidKey);
}
function isValidKey(key) {
  return ["type", "payload", "error", "meta"].indexOf(key) > -1;
}

// src/actionCreatorInvariantMiddleware.ts
function getMessage(type) {
  const splitType = type ? `${type}`.split("/") : [];
  const actionName = splitType[splitType.length - 1] || "actionCreator";
  return `Detected an action creator with type "${type || "unknown"}" being dispatched. 
Make sure you're calling the action creator before dispatching, i.e. \`dispatch(${actionName}())\` instead of \`dispatch(${actionName})\`. This is necessary even if the action has no payload.`;
}
function createActionCreatorInvariantMiddleware(options = {}) {
  if (false) {
    return () => next => action => next(action);
  }
  const {
    isActionCreator: isActionCreator2 = isActionCreator
  } = options;
  return () => next => action => {
    if (isActionCreator2(action)) {
      console.warn(getMessage(action.type));
    }
    return next(action);
  };
}

// src/utils.ts
var import_immer2 = require("immer");
function getTimeMeasureUtils(maxDelay, fnName) {
  let elapsed = 0;
  return {
    measureTime(fn) {
      const started = Date.now();
      try {
        return fn();
      } finally {
        const finished = Date.now();
        elapsed += finished - started;
      }
    },
    warnIfExceeded() {
      if (elapsed > maxDelay) {
        console.warn(`${fnName} took ${elapsed}ms, which is more than the warning threshold of ${maxDelay}ms. 
If your state or actions are very large, you may want to disable the middleware as it might cause too much of a slowdown in development mode. See https://redux-toolkit.js.org/api/getDefaultMiddleware for instructions.
It is disabled in production builds, so you don't need to worry about that.`);
      }
    }
  };
}
function find(iterable, comparator) {
  for (const entry of iterable) {
    if (comparator(entry)) {
      return entry;
    }
  }
  return void 0;
}
var Tuple = class _Tuple extends Array {
  constructor(...items) {
    super(...items);
    Object.setPrototypeOf(this, _Tuple.prototype);
  }
  static get [Symbol.species]() {
    return _Tuple;
  }
  concat(...arr) {
    return super.concat.apply(this, arr);
  }
  prepend(...arr) {
    if (arr.length === 1 && Array.isArray(arr[0])) {
      return new _Tuple(...arr[0].concat(this));
    }
    return new _Tuple(...arr.concat(this));
  }
};
function freezeDraftable(val) {
  return (0, import_immer2.isDraftable)(val) ? (0, import_immer2.produce)(val, () => {}) : val;
}
function emplace(map, key, handler) {
  if (map.has(key)) {
    let value = map.get(key);
    if (handler.update) {
      value = handler.update(value, key, map);
      map.set(key, value);
    }
    return value;
  }
  if (!handler.insert) throw new Error(false ? _formatProdErrorMessage(10) : "No insert provided for key not already in map");
  const inserted = handler.insert(key, map);
  map.set(key, inserted);
  return inserted;
}

// src/immutableStateInvariantMiddleware.ts
function isImmutableDefault(value) {
  return typeof value !== "object" || value == null || Object.isFrozen(value);
}
function trackForMutations(isImmutable, ignorePaths, obj) {
  const trackedProperties = trackProperties(isImmutable, ignorePaths, obj);
  return {
    detectMutations() {
      return detectMutations(isImmutable, ignorePaths, trackedProperties, obj);
    }
  };
}
function trackProperties(isImmutable, ignorePaths = [], obj, path = "", checkedObjects = /* @__PURE__ */new Set()) {
  const tracked = {
    value: obj
  };
  if (!isImmutable(obj) && !checkedObjects.has(obj)) {
    checkedObjects.add(obj);
    tracked.children = {};
    for (const key in obj) {
      const childPath = path ? path + "." + key : key;
      if (ignorePaths.length && ignorePaths.indexOf(childPath) !== -1) {
        continue;
      }
      tracked.children[key] = trackProperties(isImmutable, ignorePaths, obj[key], childPath);
    }
  }
  return tracked;
}
function detectMutations(isImmutable, ignoredPaths = [], trackedProperty, obj, sameParentRef = false, path = "") {
  const prevObj = trackedProperty ? trackedProperty.value : void 0;
  const sameRef = prevObj === obj;
  if (sameParentRef && !sameRef && !Number.isNaN(obj)) {
    return {
      wasMutated: true,
      path
    };
  }
  if (isImmutable(prevObj) || isImmutable(obj)) {
    return {
      wasMutated: false
    };
  }
  const keysToDetect = {};
  for (let key in trackedProperty.children) {
    keysToDetect[key] = true;
  }
  for (let key in obj) {
    keysToDetect[key] = true;
  }
  const hasIgnoredPaths = ignoredPaths.length > 0;
  for (let key in keysToDetect) {
    const nestedPath = path ? path + "." + key : key;
    if (hasIgnoredPaths) {
      const hasMatches = ignoredPaths.some(ignored => {
        if (ignored instanceof RegExp) {
          return ignored.test(nestedPath);
        }
        return nestedPath === ignored;
      });
      if (hasMatches) {
        continue;
      }
    }
    const result = detectMutations(isImmutable, ignoredPaths, trackedProperty.children[key], obj[key], sameRef, nestedPath);
    if (result.wasMutated) {
      return result;
    }
  }
  return {
    wasMutated: false
  };
}
function createImmutableStateInvariantMiddleware(options = {}) {
  if (false) {
    return () => next => action => next(action);
  } else {
    let stringify2 = function (obj, serializer, indent, decycler) {
        return JSON.stringify(obj, getSerialize2(serializer, decycler), indent);
      },
      getSerialize2 = function (serializer, decycler) {
        let stack = [],
          keys = [];
        if (!decycler) decycler = function (_, value) {
          if (stack[0] === value) return "[Circular ~]";
          return "[Circular ~." + keys.slice(0, stack.indexOf(value)).join(".") + "]";
        };
        return function (key, value) {
          if (stack.length > 0) {
            var thisPos = stack.indexOf(this);
            ~thisPos ? stack.splice(thisPos + 1) : stack.push(this);
            ~thisPos ? keys.splice(thisPos, Infinity, key) : keys.push(key);
            if (~stack.indexOf(value)) value = decycler.call(this, key, value);
          } else stack.push(value);
          return serializer == null ? value : serializer.call(this, key, value);
        };
      };
    var stringify = stringify2,
      getSerialize = getSerialize2;
    let {
      isImmutable = isImmutableDefault,
      ignoredPaths,
      warnAfter = 32
    } = options;
    const track = trackForMutations.bind(null, isImmutable, ignoredPaths);
    return ({
      getState
    }) => {
      let state = getState();
      let tracker = track(state);
      let result;
      return next => action => {
        const measureUtils = getTimeMeasureUtils(warnAfter, "ImmutableStateInvariantMiddleware");
        measureUtils.measureTime(() => {
          state = getState();
          result = tracker.detectMutations();
          tracker = track(state);
          if (result.wasMutated) {
            throw new Error(false ? _formatProdErrorMessage(19) : `A state mutation was detected between dispatches, in the path '${result.path || ""}'.  This may cause incorrect behavior. (https://redux.js.org/style-guide/style-guide#do-not-mutate-state)`);
          }
        });
        const dispatchedAction = next(action);
        measureUtils.measureTime(() => {
          state = getState();
          result = tracker.detectMutations();
          tracker = track(state);
          if (result.wasMutated) {
            throw new Error(false ? _formatProdErrorMessage2(20) : `A state mutation was detected inside a dispatch, in the path: ${result.path || ""}. Take a look at the reducer(s) handling the action ${stringify2(action)}. (https://redux.js.org/style-guide/style-guide#do-not-mutate-state)`);
          }
        });
        measureUtils.warnIfExceeded();
        return dispatchedAction;
      };
    };
  }
}

// src/serializableStateInvariantMiddleware.ts
var import_redux3 = require("redux");
function isPlain(val) {
  const type = typeof val;
  return val == null || type === "string" || type === "boolean" || type === "number" || Array.isArray(val) || (0, import_redux3.isPlainObject)(val);
}
function findNonSerializableValue(value, path = "", isSerializable = isPlain, getEntries, ignoredPaths = [], cache) {
  let foundNestedSerializable;
  if (!isSerializable(value)) {
    return {
      keyPath: path || "<root>",
      value
    };
  }
  if (typeof value !== "object" || value === null) {
    return false;
  }
  if (cache?.has(value)) return false;
  const entries = getEntries != null ? getEntries(value) : Object.entries(value);
  const hasIgnoredPaths = ignoredPaths.length > 0;
  for (const [key, nestedValue] of entries) {
    const nestedPath = path ? path + "." + key : key;
    if (hasIgnoredPaths) {
      const hasMatches = ignoredPaths.some(ignored => {
        if (ignored instanceof RegExp) {
          return ignored.test(nestedPath);
        }
        return nestedPath === ignored;
      });
      if (hasMatches) {
        continue;
      }
    }
    if (!isSerializable(nestedValue)) {
      return {
        keyPath: nestedPath,
        value: nestedValue
      };
    }
    if (typeof nestedValue === "object") {
      foundNestedSerializable = findNonSerializableValue(nestedValue, nestedPath, isSerializable, getEntries, ignoredPaths, cache);
      if (foundNestedSerializable) {
        return foundNestedSerializable;
      }
    }
  }
  if (cache && isNestedFrozen(value)) cache.add(value);
  return false;
}
function isNestedFrozen(value) {
  if (!Object.isFrozen(value)) return false;
  for (const nestedValue of Object.values(value)) {
    if (typeof nestedValue !== "object" || nestedValue === null) continue;
    if (!isNestedFrozen(nestedValue)) return false;
  }
  return true;
}
function createSerializableStateInvariantMiddleware(options = {}) {
  if (false) {
    return () => next => action => next(action);
  } else {
    const {
      isSerializable = isPlain,
      getEntries,
      ignoredActions = [],
      ignoredActionPaths = ["meta.arg", "meta.baseQueryMeta"],
      ignoredPaths = [],
      warnAfter = 32,
      ignoreState = false,
      ignoreActions = false,
      disableCache = false
    } = options;
    const cache = !disableCache && WeakSet ? /* @__PURE__ */new WeakSet() : void 0;
    return storeAPI => next => action => {
      if (!(0, import_redux3.isAction)(action)) {
        return next(action);
      }
      const result = next(action);
      const measureUtils = getTimeMeasureUtils(warnAfter, "SerializableStateInvariantMiddleware");
      if (!ignoreActions && !(ignoredActions.length && ignoredActions.indexOf(action.type) !== -1)) {
        measureUtils.measureTime(() => {
          const foundActionNonSerializableValue = findNonSerializableValue(action, "", isSerializable, getEntries, ignoredActionPaths, cache);
          if (foundActionNonSerializableValue) {
            const {
              keyPath,
              value
            } = foundActionNonSerializableValue;
            console.error(`A non-serializable value was detected in an action, in the path: \`${keyPath}\`. Value:`, value, "\nTake a look at the logic that dispatched this action: ", action, "\n(See https://redux.js.org/faq/actions#why-should-type-be-a-string-or-at-least-serializable-why-should-my-action-types-be-constants)", "\n(To allow non-serializable values see: https://redux-toolkit.js.org/usage/usage-guide#working-with-non-serializable-data)");
          }
        });
      }
      if (!ignoreState) {
        measureUtils.measureTime(() => {
          const state = storeAPI.getState();
          const foundStateNonSerializableValue = findNonSerializableValue(state, "", isSerializable, getEntries, ignoredPaths, cache);
          if (foundStateNonSerializableValue) {
            const {
              keyPath,
              value
            } = foundStateNonSerializableValue;
            console.error(`A non-serializable value was detected in the state, in the path: \`${keyPath}\`. Value:`, value, `
Take a look at the reducer(s) handling this action type: ${action.type}.
(See https://redux.js.org/faq/organizing-state#can-i-put-functions-promises-or-other-non-serializable-items-in-my-store-state)`);
          }
        });
        measureUtils.warnIfExceeded();
      }
      return result;
    };
  }
}

// src/getDefaultMiddleware.ts
function isBoolean(x) {
  return typeof x === "boolean";
}
var buildGetDefaultMiddleware = () => function getDefaultMiddleware(options) {
  const {
    thunk = true,
    immutableCheck = true,
    serializableCheck = true,
    actionCreatorCheck = true
  } = options ?? {};
  let middlewareArray = new Tuple();
  if (thunk) {
    if (isBoolean(thunk)) {
      middlewareArray.push(import_redux_thunk.thunk);
    } else {
      middlewareArray.push((0, import_redux_thunk.withExtraArgument)(thunk.extraArgument));
    }
  }
  if (true) {
    if (immutableCheck) {
      let immutableOptions = {};
      if (!isBoolean(immutableCheck)) {
        immutableOptions = immutableCheck;
      }
      middlewareArray.unshift(createImmutableStateInvariantMiddleware(immutableOptions));
    }
    if (serializableCheck) {
      let serializableOptions = {};
      if (!isBoolean(serializableCheck)) {
        serializableOptions = serializableCheck;
      }
      middlewareArray.push(createSerializableStateInvariantMiddleware(serializableOptions));
    }
    if (actionCreatorCheck) {
      let actionCreatorOptions = {};
      if (!isBoolean(actionCreatorCheck)) {
        actionCreatorOptions = actionCreatorCheck;
      }
      middlewareArray.unshift(createActionCreatorInvariantMiddleware(actionCreatorOptions));
    }
  }
  return middlewareArray;
};

// src/autoBatchEnhancer.ts
var SHOULD_AUTOBATCH = "RTK_autoBatch";
var prepareAutoBatched = () => payload => ({
  payload,
  meta: {
    [SHOULD_AUTOBATCH]: true
  }
});
var createQueueWithTimer = timeout => {
  return notify => {
    setTimeout(notify, timeout);
  };
};
var rAF = typeof window !== "undefined" && window.requestAnimationFrame ? window.requestAnimationFrame : createQueueWithTimer(10);
var autoBatchEnhancer = (options = {
  type: "raf"
}) => next => (...args) => {
  const store = next(...args);
  let notifying = true;
  let shouldNotifyAtEndOfTick = false;
  let notificationQueued = false;
  const listeners = /* @__PURE__ */new Set();
  const queueCallback = options.type === "tick" ? queueMicrotask : options.type === "raf" ? rAF : options.type === "callback" ? options.queueNotification : createQueueWithTimer(options.timeout);
  const notifyListeners = () => {
    notificationQueued = false;
    if (shouldNotifyAtEndOfTick) {
      shouldNotifyAtEndOfTick = false;
      listeners.forEach(l => l());
    }
  };
  return Object.assign({}, store, {
    // Override the base `store.subscribe` method to keep original listeners
    // from running if we're delaying notifications
    subscribe(listener2) {
      const wrappedListener = () => notifying && listener2();
      const unsubscribe = store.subscribe(wrappedListener);
      listeners.add(listener2);
      return () => {
        unsubscribe();
        listeners.delete(listener2);
      };
    },
    // Override the base `store.dispatch` method so that we can check actions
    // for the `shouldAutoBatch` flag and determine if batching is active
    dispatch(action) {
      try {
        notifying = !action?.meta?.[SHOULD_AUTOBATCH];
        shouldNotifyAtEndOfTick = !notifying;
        if (shouldNotifyAtEndOfTick) {
          if (!notificationQueued) {
            notificationQueued = true;
            queueCallback(notifyListeners);
          }
        }
        return store.dispatch(action);
      } finally {
        notifying = true;
      }
    }
  });
};

// src/getDefaultEnhancers.ts
var buildGetDefaultEnhancers = middlewareEnhancer => function getDefaultEnhancers(options) {
  const {
    autoBatch = true
  } = options ?? {};
  let enhancerArray = new Tuple(middlewareEnhancer);
  if (autoBatch) {
    enhancerArray.push(autoBatchEnhancer(typeof autoBatch === "object" ? autoBatch : void 0));
  }
  return enhancerArray;
};

// src/configureStore.ts
var IS_PRODUCTION = false;
function configureStore(options) {
  const getDefaultMiddleware = buildGetDefaultMiddleware();
  const {
    reducer = void 0,
    middleware,
    devTools = true,
    preloadedState = void 0,
    enhancers = void 0
  } = options || {};
  let rootReducer;
  if (typeof reducer === "function") {
    rootReducer = reducer;
  } else if ((0, import_redux4.isPlainObject)(reducer)) {
    rootReducer = (0, import_redux4.combineReducers)(reducer);
  } else {
    throw new Error(false ? _formatProdErrorMessage(1) : "`reducer` is a required argument, and must be a function or an object of functions that can be passed to combineReducers");
  }
  if (!IS_PRODUCTION && middleware && typeof middleware !== "function") {
    throw new Error(false ? _formatProdErrorMessage2(2) : "`middleware` field must be a callback");
  }
  let finalMiddleware;
  if (typeof middleware === "function") {
    finalMiddleware = middleware(getDefaultMiddleware);
    if (!IS_PRODUCTION && !Array.isArray(finalMiddleware)) {
      throw new Error(false ? _formatProdErrorMessage3(3) : "when using a middleware builder function, an array of middleware must be returned");
    }
  } else {
    finalMiddleware = getDefaultMiddleware();
  }
  if (!IS_PRODUCTION && finalMiddleware.some(item => typeof item !== "function")) {
    throw new Error(false ? _formatProdErrorMessage4(4) : "each middleware provided to configureStore must be a function");
  }
  let finalCompose = import_redux4.compose;
  if (devTools) {
    finalCompose = composeWithDevTools({
      // Enable capture of stack traces for dispatched Redux actions
      trace: !IS_PRODUCTION,
      ...(typeof devTools === "object" && devTools)
    });
  }
  const middlewareEnhancer = (0, import_redux4.applyMiddleware)(...finalMiddleware);
  const getDefaultEnhancers = buildGetDefaultEnhancers(middlewareEnhancer);
  if (!IS_PRODUCTION && enhancers && typeof enhancers !== "function") {
    throw new Error(false ? _formatProdErrorMessage5(5) : "`enhancers` field must be a callback");
  }
  let storeEnhancers = typeof enhancers === "function" ? enhancers(getDefaultEnhancers) : getDefaultEnhancers();
  if (!IS_PRODUCTION && !Array.isArray(storeEnhancers)) {
    throw new Error(false ? _formatProdErrorMessage6(6) : "`enhancers` callback must return an array");
  }
  if (!IS_PRODUCTION && storeEnhancers.some(item => typeof item !== "function")) {
    throw new Error(false ? _formatProdErrorMessage7(7) : "each enhancer provided to configureStore must be a function");
  }
  if (!IS_PRODUCTION && finalMiddleware.length && !storeEnhancers.includes(middlewareEnhancer)) {
    console.error("middlewares were provided, but middleware enhancer was not included in final enhancers - make sure to call `getDefaultEnhancers`");
  }
  const composedEnhancer = finalCompose(...storeEnhancers);
  return (0, import_redux4.createStore)(rootReducer, preloadedState, composedEnhancer);
}

// src/createReducer.ts
var import_immer3 = require("immer");

// src/mapBuilders.ts
function executeReducerBuilderCallback(builderCallback) {
  const actionsMap = {};
  const actionMatchers = [];
  let defaultCaseReducer;
  const builder = {
    addCase(typeOrActionCreator, reducer) {
      if (true) {
        if (actionMatchers.length > 0) {
          throw new Error(false ? _formatProdErrorMessage(26) : "`builder.addCase` should only be called before calling `builder.addMatcher`");
        }
        if (defaultCaseReducer) {
          throw new Error(false ? _formatProdErrorMessage2(27) : "`builder.addCase` should only be called before calling `builder.addDefaultCase`");
        }
      }
      const type = typeof typeOrActionCreator === "string" ? typeOrActionCreator : typeOrActionCreator.type;
      if (!type) {
        throw new Error(false ? _formatProdErrorMessage3(28) : "`builder.addCase` cannot be called with an empty action type");
      }
      if (type in actionsMap) {
        throw new Error(false ? _formatProdErrorMessage4(29) : `\`builder.addCase\` cannot be called with two reducers for the same action type '${type}'`);
      }
      actionsMap[type] = reducer;
      return builder;
    },
    addMatcher(matcher, reducer) {
      if (true) {
        if (defaultCaseReducer) {
          throw new Error(false ? _formatProdErrorMessage5(30) : "`builder.addMatcher` should only be called before calling `builder.addDefaultCase`");
        }
      }
      actionMatchers.push({
        matcher,
        reducer
      });
      return builder;
    },
    addDefaultCase(reducer) {
      if (true) {
        if (defaultCaseReducer) {
          throw new Error(false ? _formatProdErrorMessage6(31) : "`builder.addDefaultCase` can only be called once");
        }
      }
      defaultCaseReducer = reducer;
      return builder;
    }
  };
  builderCallback(builder);
  return [actionsMap, actionMatchers, defaultCaseReducer];
}

// src/createReducer.ts
function isStateFunction(x) {
  return typeof x === "function";
}
function createReducer(initialState, mapOrBuilderCallback) {
  if (true) {
    if (typeof mapOrBuilderCallback === "object") {
      throw new Error(false ? _formatProdErrorMessage(8) : "The object notation for `createReducer` has been removed. Please use the 'builder callback' notation instead: https://redux-toolkit.js.org/api/createReducer");
    }
  }
  let [actionsMap, finalActionMatchers, finalDefaultCaseReducer] = executeReducerBuilderCallback(mapOrBuilderCallback);
  let getInitialState;
  if (isStateFunction(initialState)) {
    getInitialState = () => freezeDraftable(initialState());
  } else {
    const frozenInitialState = freezeDraftable(initialState);
    getInitialState = () => frozenInitialState;
  }
  function reducer(state = getInitialState(), action) {
    let caseReducers = [actionsMap[action.type], ...finalActionMatchers.filter(({
      matcher
    }) => matcher(action)).map(({
      reducer: reducer2
    }) => reducer2)];
    if (caseReducers.filter(cr => !!cr).length === 0) {
      caseReducers = [finalDefaultCaseReducer];
    }
    return caseReducers.reduce((previousState, caseReducer) => {
      if (caseReducer) {
        if ((0, import_immer3.isDraft)(previousState)) {
          const draft = previousState;
          const result = caseReducer(draft, action);
          if (result === void 0) {
            return previousState;
          }
          return result;
        } else if (!(0, import_immer3.isDraftable)(previousState)) {
          const result = caseReducer(previousState, action);
          if (result === void 0) {
            if (previousState === null) {
              return previousState;
            }
            throw new Error(false ? _formatProdErrorMessage2(9) : "A case reducer on a non-draftable value must not return undefined");
          }
          return result;
        } else {
          return (0, import_immer3.produce)(previousState, draft => {
            return caseReducer(draft, action);
          });
        }
      }
      return previousState;
    }, state);
  }
  reducer.getInitialState = getInitialState;
  return reducer;
}

// src/nanoid.ts
var urlAlphabet = "ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW";
var nanoid = (size = 21) => {
  let id = "";
  let i = size;
  while (i--) {
    id += urlAlphabet[Math.random() * 64 | 0];
  }
  return id;
};

// src/matchers.ts
var matches = (matcher, action) => {
  if (hasMatchFunction(matcher)) {
    return matcher.match(action);
  } else {
    return matcher(action);
  }
};
function isAnyOf(...matchers) {
  return action => {
    return matchers.some(matcher => matches(matcher, action));
  };
}
function isAllOf(...matchers) {
  return action => {
    return matchers.every(matcher => matches(matcher, action));
  };
}
function hasExpectedRequestMetadata(action, validStatus) {
  if (!action || !action.meta) return false;
  const hasValidRequestId = typeof action.meta.requestId === "string";
  const hasValidRequestStatus = validStatus.indexOf(action.meta.requestStatus) > -1;
  return hasValidRequestId && hasValidRequestStatus;
}
function isAsyncThunkArray(a) {
  return typeof a[0] === "function" && "pending" in a[0] && "fulfilled" in a[0] && "rejected" in a[0];
}
function isPending(...asyncThunks) {
  if (asyncThunks.length === 0) {
    return action => hasExpectedRequestMetadata(action, ["pending"]);
  }
  if (!isAsyncThunkArray(asyncThunks)) {
    return isPending()(asyncThunks[0]);
  }
  return isAnyOf(...asyncThunks.map(asyncThunk => asyncThunk.pending));
}
function isRejected(...asyncThunks) {
  if (asyncThunks.length === 0) {
    return action => hasExpectedRequestMetadata(action, ["rejected"]);
  }
  if (!isAsyncThunkArray(asyncThunks)) {
    return isRejected()(asyncThunks[0]);
  }
  return isAnyOf(...asyncThunks.map(asyncThunk => asyncThunk.rejected));
}
function isRejectedWithValue(...asyncThunks) {
  const hasFlag = action => {
    return action && action.meta && action.meta.rejectedWithValue;
  };
  if (asyncThunks.length === 0) {
    return isAllOf(isRejected(...asyncThunks), hasFlag);
  }
  if (!isAsyncThunkArray(asyncThunks)) {
    return isRejectedWithValue()(asyncThunks[0]);
  }
  return isAllOf(isRejected(...asyncThunks), hasFlag);
}
function isFulfilled(...asyncThunks) {
  if (asyncThunks.length === 0) {
    return action => hasExpectedRequestMetadata(action, ["fulfilled"]);
  }
  if (!isAsyncThunkArray(asyncThunks)) {
    return isFulfilled()(asyncThunks[0]);
  }
  return isAnyOf(...asyncThunks.map(asyncThunk => asyncThunk.fulfilled));
}
function isAsyncThunkAction(...asyncThunks) {
  if (asyncThunks.length === 0) {
    return action => hasExpectedRequestMetadata(action, ["pending", "fulfilled", "rejected"]);
  }
  if (!isAsyncThunkArray(asyncThunks)) {
    return isAsyncThunkAction()(asyncThunks[0]);
  }
  return isAnyOf(...asyncThunks.flatMap(asyncThunk => [asyncThunk.pending, asyncThunk.rejected, asyncThunk.fulfilled]));
}

// src/createAsyncThunk.ts
var commonProperties = ["name", "message", "stack", "code"];
var RejectWithValue = class {
  constructor(payload, meta) {
    this.payload = payload;
    this.meta = meta;
  }
  /*
  type-only property to distinguish between RejectWithValue and FulfillWithMeta
  does not exist at runtime
  */
  _type;
};
var FulfillWithMeta = class {
  constructor(payload, meta) {
    this.payload = payload;
    this.meta = meta;
  }
  /*
  type-only property to distinguish between RejectWithValue and FulfillWithMeta
  does not exist at runtime
  */
  _type;
};
var miniSerializeError = value => {
  if (typeof value === "object" && value !== null) {
    const simpleError = {};
    for (const property of commonProperties) {
      if (typeof value[property] === "string") {
        simpleError[property] = value[property];
      }
    }
    return simpleError;
  }
  return {
    message: String(value)
  };
};
var createAsyncThunk = /* @__PURE__ */(() => {
  function createAsyncThunk2(typePrefix, payloadCreator, options) {
    const fulfilled = createAction(typePrefix + "/fulfilled", (payload, requestId, arg, meta) => ({
      payload,
      meta: {
        ...(meta || {}),
        arg,
        requestId,
        requestStatus: "fulfilled"
      }
    }));
    const pending = createAction(typePrefix + "/pending", (requestId, arg, meta) => ({
      payload: void 0,
      meta: {
        ...(meta || {}),
        arg,
        requestId,
        requestStatus: "pending"
      }
    }));
    const rejected = createAction(typePrefix + "/rejected", (error, requestId, arg, payload, meta) => ({
      payload,
      error: (options && options.serializeError || miniSerializeError)(error || "Rejected"),
      meta: {
        ...(meta || {}),
        arg,
        requestId,
        rejectedWithValue: !!payload,
        requestStatus: "rejected",
        aborted: error?.name === "AbortError",
        condition: error?.name === "ConditionError"
      }
    }));
    function actionCreator(arg) {
      return (dispatch, getState, extra) => {
        const requestId = options?.idGenerator ? options.idGenerator(arg) : nanoid();
        const abortController = new AbortController();
        let abortHandler;
        let abortReason;
        function abort(reason) {
          abortReason = reason;
          abortController.abort();
        }
        const promise = async function () {
          let finalAction;
          try {
            let conditionResult = options?.condition?.(arg, {
              getState,
              extra
            });
            if (isThenable(conditionResult)) {
              conditionResult = await conditionResult;
            }
            if (conditionResult === false || abortController.signal.aborted) {
              throw {
                name: "ConditionError",
                message: "Aborted due to condition callback returning false."
              };
            }
            const abortedPromise = new Promise((_, reject) => {
              abortHandler = () => {
                reject({
                  name: "AbortError",
                  message: abortReason || "Aborted"
                });
              };
              abortController.signal.addEventListener("abort", abortHandler);
            });
            dispatch(pending(requestId, arg, options?.getPendingMeta?.({
              requestId,
              arg
            }, {
              getState,
              extra
            })));
            finalAction = await Promise.race([abortedPromise, Promise.resolve(payloadCreator(arg, {
              dispatch,
              getState,
              extra,
              requestId,
              signal: abortController.signal,
              abort,
              rejectWithValue: (value, meta) => {
                return new RejectWithValue(value, meta);
              },
              fulfillWithValue: (value, meta) => {
                return new FulfillWithMeta(value, meta);
              }
            })).then(result => {
              if (result instanceof RejectWithValue) {
                throw result;
              }
              if (result instanceof FulfillWithMeta) {
                return fulfilled(result.payload, requestId, arg, result.meta);
              }
              return fulfilled(result, requestId, arg);
            })]);
          } catch (err) {
            finalAction = err instanceof RejectWithValue ? rejected(null, requestId, arg, err.payload, err.meta) : rejected(err, requestId, arg);
          } finally {
            if (abortHandler) {
              abortController.signal.removeEventListener("abort", abortHandler);
            }
          }
          const skipDispatch = options && !options.dispatchConditionRejection && rejected.match(finalAction) && finalAction.meta.condition;
          if (!skipDispatch) {
            dispatch(finalAction);
          }
          return finalAction;
        }();
        return Object.assign(promise, {
          abort,
          requestId,
          arg,
          unwrap() {
            return promise.then(unwrapResult);
          }
        });
      };
    }
    return Object.assign(actionCreator, {
      pending,
      rejected,
      fulfilled,
      settled: isAnyOf(rejected, fulfilled),
      typePrefix
    });
  }
  createAsyncThunk2.withTypes = () => createAsyncThunk2;
  return createAsyncThunk2;
})();
function unwrapResult(action) {
  if (action.meta && action.meta.rejectedWithValue) {
    throw action.payload;
  }
  if (action.error) {
    throw action.error;
  }
  return action.payload;
}
function isThenable(value) {
  return value !== null && typeof value === "object" && typeof value.then === "function";
}

// src/createSlice.ts
var asyncThunkSymbol = /* @__PURE__ */Symbol.for("rtk-slice-createasyncthunk");
var asyncThunkCreator = {
  [asyncThunkSymbol]: createAsyncThunk
};
var ReducerType = /* @__PURE__ */(ReducerType2 => {
  ReducerType2["reducer"] = "reducer";
  ReducerType2["reducerWithPrepare"] = "reducerWithPrepare";
  ReducerType2["asyncThunk"] = "asyncThunk";
  return ReducerType2;
})(ReducerType || {});
function getType(slice, actionKey) {
  return `${slice}/${actionKey}`;
}
function buildCreateSlice({
  creators
} = {}) {
  const cAT = creators?.asyncThunk?.[asyncThunkSymbol];
  return function createSlice2(options) {
    const {
      name,
      reducerPath = name
    } = options;
    if (!name) {
      throw new Error(false ? _formatProdErrorMessage(11) : "`name` is a required option for createSlice");
    }
    if (typeof process !== "undefined" && true) {
      if (options.initialState === void 0) {
        console.error("You must provide an `initialState` value that is not `undefined`. You may have misspelled `initialState`");
      }
    }
    const reducers = (typeof options.reducers === "function" ? options.reducers(buildReducerCreators()) : options.reducers) || {};
    const reducerNames = Object.keys(reducers);
    const context = {
      sliceCaseReducersByName: {},
      sliceCaseReducersByType: {},
      actionCreators: {},
      sliceMatchers: []
    };
    const contextMethods = {
      addCase(typeOrActionCreator, reducer2) {
        const type = typeof typeOrActionCreator === "string" ? typeOrActionCreator : typeOrActionCreator.type;
        if (!type) {
          throw new Error(false ? _formatProdErrorMessage2(12) : "`context.addCase` cannot be called with an empty action type");
        }
        if (type in context.sliceCaseReducersByType) {
          throw new Error(false ? _formatProdErrorMessage3(13) : "`context.addCase` cannot be called with two reducers for the same action type: " + type);
        }
        context.sliceCaseReducersByType[type] = reducer2;
        return contextMethods;
      },
      addMatcher(matcher, reducer2) {
        context.sliceMatchers.push({
          matcher,
          reducer: reducer2
        });
        return contextMethods;
      },
      exposeAction(name2, actionCreator) {
        context.actionCreators[name2] = actionCreator;
        return contextMethods;
      },
      exposeCaseReducer(name2, reducer2) {
        context.sliceCaseReducersByName[name2] = reducer2;
        return contextMethods;
      }
    };
    reducerNames.forEach(reducerName => {
      const reducerDefinition = reducers[reducerName];
      const reducerDetails = {
        reducerName,
        type: getType(name, reducerName),
        createNotation: typeof options.reducers === "function"
      };
      if (isAsyncThunkSliceReducerDefinition(reducerDefinition)) {
        handleThunkCaseReducerDefinition(reducerDetails, reducerDefinition, contextMethods, cAT);
      } else {
        handleNormalReducerDefinition(reducerDetails, reducerDefinition, contextMethods);
      }
    });
    function buildReducer() {
      if (true) {
        if (typeof options.extraReducers === "object") {
          throw new Error(false ? _formatProdErrorMessage4(14) : "The object notation for `createSlice.extraReducers` has been removed. Please use the 'builder callback' notation instead: https://redux-toolkit.js.org/api/createSlice");
        }
      }
      const [extraReducers = {}, actionMatchers = [], defaultCaseReducer = void 0] = typeof options.extraReducers === "function" ? executeReducerBuilderCallback(options.extraReducers) : [options.extraReducers];
      const finalCaseReducers = {
        ...extraReducers,
        ...context.sliceCaseReducersByType
      };
      return createReducer(options.initialState, builder => {
        for (let key in finalCaseReducers) {
          builder.addCase(key, finalCaseReducers[key]);
        }
        for (let sM of context.sliceMatchers) {
          builder.addMatcher(sM.matcher, sM.reducer);
        }
        for (let m of actionMatchers) {
          builder.addMatcher(m.matcher, m.reducer);
        }
        if (defaultCaseReducer) {
          builder.addDefaultCase(defaultCaseReducer);
        }
      });
    }
    const selectSelf = state => state;
    const injectedSelectorCache = /* @__PURE__ */new Map();
    let _reducer;
    function reducer(state, action) {
      if (!_reducer) _reducer = buildReducer();
      return _reducer(state, action);
    }
    function getInitialState() {
      if (!_reducer) _reducer = buildReducer();
      return _reducer.getInitialState();
    }
    function makeSelectorProps(reducerPath2, injected = false) {
      function selectSlice(state) {
        let sliceState = state[reducerPath2];
        if (typeof sliceState === "undefined") {
          if (injected) {
            sliceState = getInitialState();
          } else if (true) {
            throw new Error(false ? _formatProdErrorMessage5(15) : "selectSlice returned undefined for an uninjected slice reducer");
          }
        }
        return sliceState;
      }
      function getSelectors(selectState = selectSelf) {
        const selectorCache = emplace(injectedSelectorCache, injected, {
          insert: () => /* @__PURE__ */new WeakMap()
        });
        return emplace(selectorCache, selectState, {
          insert: () => {
            const map = {};
            for (const [name2, selector] of Object.entries(options.selectors ?? {})) {
              map[name2] = wrapSelector(selector, selectState, getInitialState, injected);
            }
            return map;
          }
        });
      }
      return {
        reducerPath: reducerPath2,
        getSelectors,
        get selectors() {
          return getSelectors(selectSlice);
        },
        selectSlice
      };
    }
    const slice = {
      name,
      reducer,
      actions: context.actionCreators,
      caseReducers: context.sliceCaseReducersByName,
      getInitialState,
      ...makeSelectorProps(reducerPath),
      injectInto(injectable, {
        reducerPath: pathOpt,
        ...config
      } = {}) {
        const newReducerPath = pathOpt ?? reducerPath;
        injectable.inject({
          reducerPath: newReducerPath,
          reducer
        }, config);
        return {
          ...slice,
          ...makeSelectorProps(newReducerPath, true)
        };
      }
    };
    return slice;
  };
}
function wrapSelector(selector, selectState, getInitialState, injected) {
  function wrapper(rootState, ...args) {
    let sliceState = selectState(rootState);
    if (typeof sliceState === "undefined") {
      if (injected) {
        sliceState = getInitialState();
      } else if (true) {
        throw new Error(false ? _formatProdErrorMessage6(16) : "selectState returned undefined for an uninjected slice reducer");
      }
    }
    return selector(sliceState, ...args);
  }
  wrapper.unwrapped = selector;
  return wrapper;
}
var createSlice = /* @__PURE__ */buildCreateSlice();
function buildReducerCreators() {
  function asyncThunk(payloadCreator, config) {
    return {
      _reducerDefinitionType: "asyncThunk" /* asyncThunk */,
      payloadCreator,
      ...config
    };
  }
  asyncThunk.withTypes = () => asyncThunk;
  return {
    reducer(caseReducer) {
      return Object.assign({
        // hack so the wrapping function has the same name as the original
        // we need to create a wrapper so the `reducerDefinitionType` is not assigned to the original
        [caseReducer.name](...args) {
          return caseReducer(...args);
        }
      }[caseReducer.name], {
        _reducerDefinitionType: "reducer" /* reducer */
      });
    },
    preparedReducer(prepare, reducer) {
      return {
        _reducerDefinitionType: "reducerWithPrepare" /* reducerWithPrepare */,
        prepare,
        reducer
      };
    },
    asyncThunk
  };
}
function handleNormalReducerDefinition({
  type,
  reducerName,
  createNotation
}, maybeReducerWithPrepare, context) {
  let caseReducer;
  let prepareCallback;
  if ("reducer" in maybeReducerWithPrepare) {
    if (createNotation && !isCaseReducerWithPrepareDefinition(maybeReducerWithPrepare)) {
      throw new Error(false ? _formatProdErrorMessage7(17) : "Please use the `create.preparedReducer` notation for prepared action creators with the `create` notation.");
    }
    caseReducer = maybeReducerWithPrepare.reducer;
    prepareCallback = maybeReducerWithPrepare.prepare;
  } else {
    caseReducer = maybeReducerWithPrepare;
  }
  context.addCase(type, caseReducer).exposeCaseReducer(reducerName, caseReducer).exposeAction(reducerName, prepareCallback ? createAction(type, prepareCallback) : createAction(type));
}
function isAsyncThunkSliceReducerDefinition(reducerDefinition) {
  return reducerDefinition._reducerDefinitionType === "asyncThunk" /* asyncThunk */;
}
function isCaseReducerWithPrepareDefinition(reducerDefinition) {
  return reducerDefinition._reducerDefinitionType === "reducerWithPrepare" /* reducerWithPrepare */;
}
function handleThunkCaseReducerDefinition({
  type,
  reducerName
}, reducerDefinition, context, cAT) {
  if (!cAT) {
    throw new Error(false ? _formatProdErrorMessage8(18) : "Cannot use `create.asyncThunk` in the built-in `createSlice`. Use `buildCreateSlice({ creators: { asyncThunk: asyncThunkCreator } })` to create a customised version of `createSlice`.");
  }
  const {
    payloadCreator,
    fulfilled,
    pending,
    rejected,
    settled,
    options
  } = reducerDefinition;
  const thunk = cAT(type, payloadCreator, options);
  context.exposeAction(reducerName, thunk);
  if (fulfilled) {
    context.addCase(thunk.fulfilled, fulfilled);
  }
  if (pending) {
    context.addCase(thunk.pending, pending);
  }
  if (rejected) {
    context.addCase(thunk.rejected, rejected);
  }
  if (settled) {
    context.addMatcher(thunk.settled, settled);
  }
  context.exposeCaseReducer(reducerName, {
    fulfilled: fulfilled || noop,
    pending: pending || noop,
    rejected: rejected || noop,
    settled: settled || noop
  });
}
function noop() {}

// src/entities/entity_state.ts
function getInitialEntityState() {
  return {
    ids: [],
    entities: {}
  };
}
function createInitialStateFactory(stateAdapter) {
  function getInitialState(additionalState = {}, entities) {
    const state = Object.assign(getInitialEntityState(), additionalState);
    return entities ? stateAdapter.setAll(state, entities) : state;
  }
  return {
    getInitialState
  };
}

// src/entities/state_selectors.ts
function createSelectorsFactory() {
  function getSelectors(selectState, options = {}) {
    const {
      createSelector: createSelector2 = createDraftSafeSelector
    } = options;
    const selectIds = state => state.ids;
    const selectEntities = state => state.entities;
    const selectAll = createSelector2(selectIds, selectEntities, (ids, entities) => ids.map(id => entities[id]));
    const selectId = (_, id) => id;
    const selectById = (entities, id) => entities[id];
    const selectTotal = createSelector2(selectIds, ids => ids.length);
    if (!selectState) {
      return {
        selectIds,
        selectEntities,
        selectAll,
        selectTotal,
        selectById: createSelector2(selectEntities, selectId, selectById)
      };
    }
    const selectGlobalizedEntities = createSelector2(selectState, selectEntities);
    return {
      selectIds: createSelector2(selectState, selectIds),
      selectEntities: selectGlobalizedEntities,
      selectAll: createSelector2(selectState, selectAll),
      selectTotal: createSelector2(selectState, selectTotal),
      selectById: createSelector2(selectGlobalizedEntities, selectId, selectById)
    };
  }
  return {
    getSelectors
  };
}

// src/entities/sorted_state_adapter.ts
var import_immer6 = require("immer");

// src/entities/state_adapter.ts
var import_immer4 = require("immer");
var isDraftTyped = import_immer4.isDraft;
function createSingleArgumentStateOperator(mutator) {
  const operator = createStateOperator((_, state) => mutator(state));
  return function operation(state) {
    return operator(state, void 0);
  };
}
function createStateOperator(mutator) {
  return function operation(state, arg) {
    function isPayloadActionArgument(arg2) {
      return isFSA(arg2);
    }
    const runMutator = draft => {
      if (isPayloadActionArgument(arg)) {
        mutator(arg.payload, draft);
      } else {
        mutator(arg, draft);
      }
    };
    if (isDraftTyped(state)) {
      runMutator(state);
      return state;
    }
    return (0, import_immer4.produce)(state, runMutator);
  };
}

// src/entities/utils.ts
var import_immer5 = require("immer");
function selectIdValue(entity, selectId) {
  const key = selectId(entity);
  if (key === void 0) {
    console.warn("The entity passed to the `selectId` implementation returned undefined.", "You should probably provide your own `selectId` implementation.", "The entity that was passed:", entity, "The `selectId` implementation:", selectId.toString());
  }
  return key;
}
function ensureEntitiesArray(entities) {
  if (!Array.isArray(entities)) {
    entities = Object.values(entities);
  }
  return entities;
}
function getCurrent(value) {
  return (0, import_immer5.isDraft)(value) ? (0, import_immer5.current)(value) : value;
}
function splitAddedUpdatedEntities(newEntities, selectId, state) {
  newEntities = ensureEntitiesArray(newEntities);
  const existingIdsArray = getCurrent(state.ids);
  const existingIds = new Set(existingIdsArray);
  const added = [];
  const updated = [];
  for (const entity of newEntities) {
    const id = selectIdValue(entity, selectId);
    if (existingIds.has(id)) {
      updated.push({
        id,
        changes: entity
      });
    } else {
      added.push(entity);
    }
  }
  return [added, updated, existingIdsArray];
}

// src/entities/unsorted_state_adapter.ts
function createUnsortedStateAdapter(selectId) {
  function addOneMutably(entity, state) {
    const key = selectIdValue(entity, selectId);
    if (key in state.entities) {
      return;
    }
    state.ids.push(key);
    state.entities[key] = entity;
  }
  function addManyMutably(newEntities, state) {
    newEntities = ensureEntitiesArray(newEntities);
    for (const entity of newEntities) {
      addOneMutably(entity, state);
    }
  }
  function setOneMutably(entity, state) {
    const key = selectIdValue(entity, selectId);
    if (!(key in state.entities)) {
      state.ids.push(key);
    }
    ;
    state.entities[key] = entity;
  }
  function setManyMutably(newEntities, state) {
    newEntities = ensureEntitiesArray(newEntities);
    for (const entity of newEntities) {
      setOneMutably(entity, state);
    }
  }
  function setAllMutably(newEntities, state) {
    newEntities = ensureEntitiesArray(newEntities);
    state.ids = [];
    state.entities = {};
    addManyMutably(newEntities, state);
  }
  function removeOneMutably(key, state) {
    return removeManyMutably([key], state);
  }
  function removeManyMutably(keys, state) {
    let didMutate = false;
    keys.forEach(key => {
      if (key in state.entities) {
        delete state.entities[key];
        didMutate = true;
      }
    });
    if (didMutate) {
      state.ids = state.ids.filter(id => id in state.entities);
    }
  }
  function removeAllMutably(state) {
    Object.assign(state, {
      ids: [],
      entities: {}
    });
  }
  function takeNewKey(keys, update, state) {
    const original3 = state.entities[update.id];
    if (original3 === void 0) {
      return false;
    }
    const updated = Object.assign({}, original3, update.changes);
    const newKey = selectIdValue(updated, selectId);
    const hasNewKey = newKey !== update.id;
    if (hasNewKey) {
      keys[update.id] = newKey;
      delete state.entities[update.id];
    }
    ;
    state.entities[newKey] = updated;
    return hasNewKey;
  }
  function updateOneMutably(update, state) {
    return updateManyMutably([update], state);
  }
  function updateManyMutably(updates, state) {
    const newKeys = {};
    const updatesPerEntity = {};
    updates.forEach(update => {
      if (update.id in state.entities) {
        updatesPerEntity[update.id] = {
          id: update.id,
          // Spreads ignore falsy values, so this works even if there isn't
          // an existing update already at this key
          changes: {
            ...(updatesPerEntity[update.id] ? updatesPerEntity[update.id].changes : null),
            ...update.changes
          }
        };
      }
    });
    updates = Object.values(updatesPerEntity);
    const didMutateEntities = updates.length > 0;
    if (didMutateEntities) {
      const didMutateIds = updates.filter(update => takeNewKey(newKeys, update, state)).length > 0;
      if (didMutateIds) {
        state.ids = Object.values(state.entities).map(e => selectIdValue(e, selectId));
      }
    }
  }
  function upsertOneMutably(entity, state) {
    return upsertManyMutably([entity], state);
  }
  function upsertManyMutably(newEntities, state) {
    const [added, updated] = splitAddedUpdatedEntities(newEntities, selectId, state);
    updateManyMutably(updated, state);
    addManyMutably(added, state);
  }
  return {
    removeAll: createSingleArgumentStateOperator(removeAllMutably),
    addOne: createStateOperator(addOneMutably),
    addMany: createStateOperator(addManyMutably),
    setOne: createStateOperator(setOneMutably),
    setMany: createStateOperator(setManyMutably),
    setAll: createStateOperator(setAllMutably),
    updateOne: createStateOperator(updateOneMutably),
    updateMany: createStateOperator(updateManyMutably),
    upsertOne: createStateOperator(upsertOneMutably),
    upsertMany: createStateOperator(upsertManyMutably),
    removeOne: createStateOperator(removeOneMutably),
    removeMany: createStateOperator(removeManyMutably)
  };
}

// src/entities/sorted_state_adapter.ts
function findInsertIndex(sortedItems, item, comparisonFunction) {
  let lowIndex = 0;
  let highIndex = sortedItems.length;
  while (lowIndex < highIndex) {
    let middleIndex = lowIndex + highIndex >>> 1;
    const currentItem = sortedItems[middleIndex];
    const res = comparisonFunction(item, currentItem);
    if (res >= 0) {
      lowIndex = middleIndex + 1;
    } else {
      highIndex = middleIndex;
    }
  }
  return lowIndex;
}
function insert(sortedItems, item, comparisonFunction) {
  const insertAtIndex = findInsertIndex(sortedItems, item, comparisonFunction);
  sortedItems.splice(insertAtIndex, 0, item);
  return sortedItems;
}
function createSortedStateAdapter(selectId, comparer) {
  const {
    removeOne,
    removeMany,
    removeAll
  } = createUnsortedStateAdapter(selectId);
  function addOneMutably(entity, state) {
    return addManyMutably([entity], state);
  }
  function addManyMutably(newEntities, state, existingIds) {
    newEntities = ensureEntitiesArray(newEntities);
    const existingKeys = new Set(existingIds ?? (0, import_immer6.current)(state.ids));
    const models = newEntities.filter(model => !existingKeys.has(selectIdValue(model, selectId)));
    if (models.length !== 0) {
      mergeFunction(state, models);
    }
  }
  function setOneMutably(entity, state) {
    return setManyMutably([entity], state);
  }
  function setManyMutably(newEntities, state) {
    newEntities = ensureEntitiesArray(newEntities);
    if (newEntities.length !== 0) {
      for (const item of newEntities) {
        delete state.entities[selectId(item)];
      }
      mergeFunction(state, newEntities);
    }
  }
  function setAllMutably(newEntities, state) {
    newEntities = ensureEntitiesArray(newEntities);
    state.entities = {};
    state.ids = [];
    addManyMutably(newEntities, state, []);
  }
  function updateOneMutably(update, state) {
    return updateManyMutably([update], state);
  }
  function updateManyMutably(updates, state) {
    let appliedUpdates = false;
    let replacedIds = false;
    for (let update of updates) {
      const entity = state.entities[update.id];
      if (!entity) {
        continue;
      }
      appliedUpdates = true;
      Object.assign(entity, update.changes);
      const newId = selectId(entity);
      if (update.id !== newId) {
        replacedIds = true;
        delete state.entities[update.id];
        const oldIndex = state.ids.indexOf(update.id);
        state.ids[oldIndex] = newId;
        state.entities[newId] = entity;
      }
    }
    if (appliedUpdates) {
      mergeFunction(state, [], appliedUpdates, replacedIds);
    }
  }
  function upsertOneMutably(entity, state) {
    return upsertManyMutably([entity], state);
  }
  function upsertManyMutably(newEntities, state) {
    const [added, updated, existingIdsArray] = splitAddedUpdatedEntities(newEntities, selectId, state);
    if (updated.length) {
      updateManyMutably(updated, state);
    }
    if (added.length) {
      addManyMutably(added, state, existingIdsArray);
    }
  }
  function areArraysEqual(a, b) {
    if (a.length !== b.length) {
      return false;
    }
    for (let i = 0; i < a.length && i < b.length; i++) {
      if (a[i] === b[i]) {
        continue;
      }
      return false;
    }
    return true;
  }
  const mergeInsertion = (state, addedItems, appliedUpdates, replacedIds) => {
    const currentEntities = getCurrent(state.entities);
    const currentIds = getCurrent(state.ids);
    const stateEntities = state.entities;
    let ids = currentIds;
    if (replacedIds) {
      ids = Array.from(new Set(currentIds));
    }
    let sortedEntities = [];
    for (const id of ids) {
      const entity = currentEntities[id];
      if (entity) {
        sortedEntities.push(entity);
      }
    }
    const wasPreviouslyEmpty = sortedEntities.length === 0;
    for (const item of addedItems) {
      stateEntities[selectId(item)] = item;
      if (!wasPreviouslyEmpty) {
        insert(sortedEntities, item, comparer);
      }
    }
    if (wasPreviouslyEmpty) {
      sortedEntities = addedItems.slice().sort(comparer);
    } else if (appliedUpdates) {
      sortedEntities.sort(comparer);
    }
    const newSortedIds = sortedEntities.map(selectId);
    if (!areArraysEqual(currentIds, newSortedIds)) {
      state.ids = newSortedIds;
    }
  };
  const mergeFunction = mergeInsertion;
  return {
    removeOne,
    removeMany,
    removeAll,
    addOne: createStateOperator(addOneMutably),
    updateOne: createStateOperator(updateOneMutably),
    upsertOne: createStateOperator(upsertOneMutably),
    setOne: createStateOperator(setOneMutably),
    setMany: createStateOperator(setManyMutably),
    setAll: createStateOperator(setAllMutably),
    addMany: createStateOperator(addManyMutably),
    updateMany: createStateOperator(updateManyMutably),
    upsertMany: createStateOperator(upsertManyMutably)
  };
}

// src/entities/create_adapter.ts
function createEntityAdapter(options = {}) {
  const {
    selectId,
    sortComparer
  } = {
    sortComparer: false,
    selectId: instance => instance.id,
    ...options
  };
  const stateAdapter = sortComparer ? createSortedStateAdapter(selectId, sortComparer) : createUnsortedStateAdapter(selectId);
  const stateFactory = createInitialStateFactory(stateAdapter);
  const selectorsFactory = createSelectorsFactory();
  return {
    selectId,
    sortComparer,
    ...stateFactory,
    ...selectorsFactory,
    ...stateAdapter
  };
}

// src/listenerMiddleware/index.ts
var import_redux5 = require("redux");

// src/listenerMiddleware/exceptions.ts
var task = "task";
var listener = "listener";
var completed = "completed";
var cancelled = "cancelled";
var taskCancelled = `task-${cancelled}`;
var taskCompleted = `task-${completed}`;
var listenerCancelled = `${listener}-${cancelled}`;
var listenerCompleted = `${listener}-${completed}`;
var TaskAbortError = class {
  constructor(code) {
    this.code = code;
    this.message = `${task} ${cancelled} (reason: ${code})`;
  }
  name = "TaskAbortError";
  message;
};

// src/listenerMiddleware/utils.ts
var assertFunction = (func, expected) => {
  if (typeof func !== "function") {
    throw new Error(false ? _formatProdErrorMessage(32) : `${expected} is not a function`);
  }
};
var noop2 = () => {};
var catchRejection = (promise, onError = noop2) => {
  promise.catch(onError);
  return promise;
};
var addAbortSignalListener = (abortSignal, callback) => {
  abortSignal.addEventListener("abort", callback, {
    once: true
  });
  return () => abortSignal.removeEventListener("abort", callback);
};
var abortControllerWithReason = (abortController, reason) => {
  const signal = abortController.signal;
  if (signal.aborted) {
    return;
  }
  if (!("reason" in signal)) {
    Object.defineProperty(signal, "reason", {
      enumerable: true,
      value: reason,
      configurable: true,
      writable: true
    });
  }
  ;
  abortController.abort(reason);
};

// src/listenerMiddleware/task.ts
var validateActive = signal => {
  if (signal.aborted) {
    const {
      reason
    } = signal;
    throw new TaskAbortError(reason);
  }
};
function raceWithSignal(signal, promise) {
  let cleanup = noop2;
  return new Promise((resolve, reject) => {
    const notifyRejection = () => reject(new TaskAbortError(signal.reason));
    if (signal.aborted) {
      notifyRejection();
      return;
    }
    cleanup = addAbortSignalListener(signal, notifyRejection);
    promise.finally(() => cleanup()).then(resolve, reject);
  }).finally(() => {
    cleanup = noop2;
  });
}
var runTask = async (task2, cleanUp) => {
  try {
    await Promise.resolve();
    const value = await task2();
    return {
      status: "ok",
      value
    };
  } catch (error) {
    return {
      status: error instanceof TaskAbortError ? "cancelled" : "rejected",
      error
    };
  } finally {
    cleanUp?.();
  }
};
var createPause = signal => {
  return promise => {
    return catchRejection(raceWithSignal(signal, promise).then(output => {
      validateActive(signal);
      return output;
    }));
  };
};
var createDelay = signal => {
  const pause = createPause(signal);
  return timeoutMs => {
    return pause(new Promise(resolve => setTimeout(resolve, timeoutMs)));
  };
};

// src/listenerMiddleware/index.ts
var {
  assign
} = Object;
var INTERNAL_NIL_TOKEN = {};
var alm = "listenerMiddleware";
var createFork = (parentAbortSignal, parentBlockingPromises) => {
  const linkControllers = controller => addAbortSignalListener(parentAbortSignal, () => abortControllerWithReason(controller, parentAbortSignal.reason));
  return (taskExecutor, opts) => {
    assertFunction(taskExecutor, "taskExecutor");
    const childAbortController = new AbortController();
    linkControllers(childAbortController);
    const result = runTask(async () => {
      validateActive(parentAbortSignal);
      validateActive(childAbortController.signal);
      const result2 = await taskExecutor({
        pause: createPause(childAbortController.signal),
        delay: createDelay(childAbortController.signal),
        signal: childAbortController.signal
      });
      validateActive(childAbortController.signal);
      return result2;
    }, () => abortControllerWithReason(childAbortController, taskCompleted));
    if (opts?.autoJoin) {
      parentBlockingPromises.push(result.catch(noop2));
    }
    return {
      result: createPause(parentAbortSignal)(result),
      cancel() {
        abortControllerWithReason(childAbortController, taskCancelled);
      }
    };
  };
};
var createTakePattern = (startListening, signal) => {
  const take = async (predicate, timeout) => {
    validateActive(signal);
    let unsubscribe = () => {};
    const tuplePromise = new Promise((resolve, reject) => {
      let stopListening = startListening({
        predicate,
        effect: (action, listenerApi) => {
          listenerApi.unsubscribe();
          resolve([action, listenerApi.getState(), listenerApi.getOriginalState()]);
        }
      });
      unsubscribe = () => {
        stopListening();
        reject();
      };
    });
    const promises = [tuplePromise];
    if (timeout != null) {
      promises.push(new Promise(resolve => setTimeout(resolve, timeout, null)));
    }
    try {
      const output = await raceWithSignal(signal, Promise.race(promises));
      validateActive(signal);
      return output;
    } finally {
      unsubscribe();
    }
  };
  return (predicate, timeout) => catchRejection(take(predicate, timeout));
};
var getListenerEntryPropsFrom = options => {
  let {
    type,
    actionCreator,
    matcher,
    predicate,
    effect
  } = options;
  if (type) {
    predicate = createAction(type).match;
  } else if (actionCreator) {
    type = actionCreator.type;
    predicate = actionCreator.match;
  } else if (matcher) {
    predicate = matcher;
  } else if (predicate) {} else {
    throw new Error(false ? _formatProdErrorMessage(21) : "Creating or removing a listener requires one of the known fields for matching an action");
  }
  assertFunction(effect, "options.listener");
  return {
    predicate,
    type,
    effect
  };
};
var createListenerEntry = Object.assign(options => {
  const {
    type,
    predicate,
    effect
  } = getListenerEntryPropsFrom(options);
  const id = nanoid();
  const entry = {
    id,
    effect,
    type,
    predicate,
    pending: /* @__PURE__ */new Set(),
    unsubscribe: () => {
      throw new Error(false ? _formatProdErrorMessage2(22) : "Unsubscribe not initialized");
    }
  };
  return entry;
}, {
  withTypes: () => createListenerEntry
});
var cancelActiveListeners = entry => {
  entry.pending.forEach(controller => {
    abortControllerWithReason(controller, listenerCancelled);
  });
};
var createClearListenerMiddleware = listenerMap => {
  return () => {
    listenerMap.forEach(cancelActiveListeners);
    listenerMap.clear();
  };
};
var safelyNotifyError = (errorHandler, errorToNotify, errorInfo) => {
  try {
    errorHandler(errorToNotify, errorInfo);
  } catch (errorHandlerError) {
    setTimeout(() => {
      throw errorHandlerError;
    }, 0);
  }
};
var addListener = Object.assign(createAction(`${alm}/add`), {
  withTypes: () => addListener
});
var clearAllListeners = createAction(`${alm}/removeAll`);
var removeListener = Object.assign(createAction(`${alm}/remove`), {
  withTypes: () => removeListener
});
var defaultErrorHandler = (...args) => {
  console.error(`${alm}/error`, ...args);
};
var createListenerMiddleware = (middlewareOptions = {}) => {
  const listenerMap = /* @__PURE__ */new Map();
  const {
    extra,
    onError = defaultErrorHandler
  } = middlewareOptions;
  assertFunction(onError, "onError");
  const insertEntry = entry => {
    entry.unsubscribe = () => listenerMap.delete(entry.id);
    listenerMap.set(entry.id, entry);
    return cancelOptions => {
      entry.unsubscribe();
      if (cancelOptions?.cancelActive) {
        cancelActiveListeners(entry);
      }
    };
  };
  const startListening = options => {
    let entry = find(Array.from(listenerMap.values()), existingEntry => existingEntry.effect === options.effect);
    if (!entry) {
      entry = createListenerEntry(options);
    }
    return insertEntry(entry);
  };
  Object.assign(startListening, {
    withTypes: () => startListening
  });
  const stopListening = options => {
    const {
      type,
      effect,
      predicate
    } = getListenerEntryPropsFrom(options);
    const entry = find(Array.from(listenerMap.values()), entry2 => {
      const matchPredicateOrType = typeof type === "string" ? entry2.type === type : entry2.predicate === predicate;
      return matchPredicateOrType && entry2.effect === effect;
    });
    if (entry) {
      entry.unsubscribe();
      if (options.cancelActive) {
        cancelActiveListeners(entry);
      }
    }
    return !!entry;
  };
  Object.assign(stopListening, {
    withTypes: () => stopListening
  });
  const notifyListener = async (entry, action, api, getOriginalState) => {
    const internalTaskController = new AbortController();
    const take = createTakePattern(startListening, internalTaskController.signal);
    const autoJoinPromises = [];
    try {
      entry.pending.add(internalTaskController);
      await Promise.resolve(entry.effect(action,
      // Use assign() rather than ... to avoid extra helper functions added to bundle
      assign({}, api, {
        getOriginalState,
        condition: (predicate, timeout) => take(predicate, timeout).then(Boolean),
        take,
        delay: createDelay(internalTaskController.signal),
        pause: createPause(internalTaskController.signal),
        extra,
        signal: internalTaskController.signal,
        fork: createFork(internalTaskController.signal, autoJoinPromises),
        unsubscribe: entry.unsubscribe,
        subscribe: () => {
          listenerMap.set(entry.id, entry);
        },
        cancelActiveListeners: () => {
          entry.pending.forEach((controller, _, set) => {
            if (controller !== internalTaskController) {
              abortControllerWithReason(controller, listenerCancelled);
              set.delete(controller);
            }
          });
        },
        cancel: () => {
          abortControllerWithReason(internalTaskController, listenerCancelled);
          entry.pending.delete(internalTaskController);
        },
        throwIfCancelled: () => {
          validateActive(internalTaskController.signal);
        }
      })));
    } catch (listenerError) {
      if (!(listenerError instanceof TaskAbortError)) {
        safelyNotifyError(onError, listenerError, {
          raisedBy: "effect"
        });
      }
    } finally {
      await Promise.all(autoJoinPromises);
      abortControllerWithReason(internalTaskController, listenerCompleted);
      entry.pending.delete(internalTaskController);
    }
  };
  const clearListenerMiddleware = createClearListenerMiddleware(listenerMap);
  const middleware = api => next => action => {
    if (!(0, import_redux5.isAction)(action)) {
      return next(action);
    }
    if (addListener.match(action)) {
      return startListening(action.payload);
    }
    if (clearAllListeners.match(action)) {
      clearListenerMiddleware();
      return;
    }
    if (removeListener.match(action)) {
      return stopListening(action.payload);
    }
    let originalState = api.getState();
    const getOriginalState = () => {
      if (originalState === INTERNAL_NIL_TOKEN) {
        throw new Error(false ? _formatProdErrorMessage3(23) : `${alm}: getOriginalState can only be called synchronously`);
      }
      return originalState;
    };
    let result;
    try {
      result = next(action);
      if (listenerMap.size > 0) {
        const currentState = api.getState();
        const listenerEntries = Array.from(listenerMap.values());
        for (const entry of listenerEntries) {
          let runListener = false;
          try {
            runListener = entry.predicate(action, currentState, originalState);
          } catch (predicateError) {
            runListener = false;
            safelyNotifyError(onError, predicateError, {
              raisedBy: "predicate"
            });
          }
          if (!runListener) {
            continue;
          }
          notifyListener(entry, action, api, getOriginalState);
        }
      }
    } finally {
      originalState = INTERNAL_NIL_TOKEN;
    }
    return result;
  };
  return {
    middleware,
    startListening,
    stopListening,
    clearListeners: clearListenerMiddleware
  };
};

// src/dynamicMiddleware/index.ts
var import_redux6 = require("redux");
var createMiddlewareEntry = middleware => ({
  id: nanoid(),
  middleware,
  applied: /* @__PURE__ */new Map()
});
var matchInstance = instanceId => action => action?.meta?.instanceId === instanceId;
var createDynamicMiddleware = () => {
  const instanceId = nanoid();
  const middlewareMap = /* @__PURE__ */new Map();
  const withMiddleware = Object.assign(createAction("dynamicMiddleware/add", (...middlewares) => ({
    payload: middlewares,
    meta: {
      instanceId
    }
  })), {
    withTypes: () => withMiddleware
  });
  const addMiddleware = Object.assign(function addMiddleware2(...middlewares) {
    middlewares.forEach(middleware2 => {
      let entry = find(Array.from(middlewareMap.values()), entry2 => entry2.middleware === middleware2);
      if (!entry) {
        entry = createMiddlewareEntry(middleware2);
      }
      middlewareMap.set(entry.id, entry);
    });
  }, {
    withTypes: () => addMiddleware
  });
  const getFinalMiddleware = api => {
    const appliedMiddleware = Array.from(middlewareMap.values()).map(entry => emplace(entry.applied, api, {
      insert: () => entry.middleware(api)
    }));
    return (0, import_redux6.compose)(...appliedMiddleware);
  };
  const isWithMiddleware = isAllOf(withMiddleware, matchInstance(instanceId));
  const middleware = api => next => action => {
    if (isWithMiddleware(action)) {
      addMiddleware(...action.payload);
      return api.dispatch;
    }
    return getFinalMiddleware(api)(next)(action);
  };
  return {
    middleware,
    addMiddleware,
    withMiddleware,
    instanceId
  };
};

// src/combineSlices.ts
var import_redux7 = require("redux");
var isSliceLike = maybeSliceLike => "reducerPath" in maybeSliceLike && typeof maybeSliceLike.reducerPath === "string";
var getReducers = slices => slices.flatMap(sliceOrMap => isSliceLike(sliceOrMap) ? [[sliceOrMap.reducerPath, sliceOrMap.reducer]] : Object.entries(sliceOrMap));
var ORIGINAL_STATE = Symbol.for("rtk-state-proxy-original");
var isStateProxy = value => !!value && !!value[ORIGINAL_STATE];
var stateProxyMap = /* @__PURE__ */new WeakMap();
var createStateProxy = (state, reducerMap) => emplace(stateProxyMap, state, {
  insert: () => new Proxy(state, {
    get: (target, prop, receiver) => {
      if (prop === ORIGINAL_STATE) return target;
      const result = Reflect.get(target, prop, receiver);
      if (typeof result === "undefined") {
        const reducer = reducerMap[prop.toString()];
        if (reducer) {
          const reducerResult = reducer(void 0, {
            type: nanoid()
          });
          if (typeof reducerResult === "undefined") {
            throw new Error(false ? _formatProdErrorMessage(24) : `The slice reducer for key "${prop.toString()}" returned undefined when called for selector(). If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.`);
          }
          return reducerResult;
        }
      }
      return result;
    }
  })
});
var original = state => {
  if (!isStateProxy(state)) {
    throw new Error(false ? _formatProdErrorMessage2(25) : "original must be used on state Proxy");
  }
  return state[ORIGINAL_STATE];
};
var noopReducer = (state = {}) => state;
function combineSlices(...slices) {
  const reducerMap = Object.fromEntries(getReducers(slices));
  const getReducer = () => Object.keys(reducerMap).length ? (0, import_redux7.combineReducers)(reducerMap) : noopReducer;
  let reducer = getReducer();
  function combinedReducer(state, action) {
    return reducer(state, action);
  }
  combinedReducer.withLazyLoadedSlices = () => combinedReducer;
  const inject = (slice, config = {}) => {
    const {
      reducerPath,
      reducer: reducerToInject
    } = slice;
    const currentReducer = reducerMap[reducerPath];
    if (!config.overrideExisting && currentReducer && currentReducer !== reducerToInject) {
      if (typeof process !== "undefined" && true) {
        console.error(`called \`inject\` to override already-existing reducer ${reducerPath} without specifying \`overrideExisting: true\``);
      }
      return combinedReducer;
    }
    reducerMap[reducerPath] = reducerToInject;
    reducer = getReducer();
    return combinedReducer;
  };
  const selector = Object.assign(function makeSelector(selectorFn, selectState) {
    return function selector2(state, ...args) {
      return selectorFn(createStateProxy(selectState ? selectState(state, ...args) : state, reducerMap), ...args);
    };
  }, {
    original
  });
  return Object.assign(combinedReducer, {
    inject,
    selector
  });
}

// src/formatProdErrorMessage.ts
function formatProdErrorMessage(code) {
  return `Minified Redux Toolkit error #${code}; visit https://redux-toolkit.js.org/Errors?code=${code} for the full message or use the non-minified dev environment for full errors. `;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJzcmNfZXhwb3J0cyIsIl9fZXhwb3J0IiwiUmVkdWNlclR5cGUiLCJTSE9VTERfQVVUT0JBVENIIiwiVGFza0Fib3J0RXJyb3IiLCJUdXBsZSIsImFkZExpc3RlbmVyIiwiYXN5bmNUaHVua0NyZWF0b3IiLCJhdXRvQmF0Y2hFbmhhbmNlciIsImJ1aWxkQ3JlYXRlU2xpY2UiLCJjbGVhckFsbExpc3RlbmVycyIsImNvbWJpbmVTbGljZXMiLCJjb25maWd1cmVTdG9yZSIsImNyZWF0ZUFjdGlvbiIsImNyZWF0ZUFjdGlvbkNyZWF0b3JJbnZhcmlhbnRNaWRkbGV3YXJlIiwiY3JlYXRlQXN5bmNUaHVuayIsImNyZWF0ZURyYWZ0U2FmZVNlbGVjdG9yIiwiY3JlYXRlRHJhZnRTYWZlU2VsZWN0b3JDcmVhdG9yIiwiY3JlYXRlRHluYW1pY01pZGRsZXdhcmUiLCJjcmVhdGVFbnRpdHlBZGFwdGVyIiwiY3JlYXRlSW1tdXRhYmxlU3RhdGVJbnZhcmlhbnRNaWRkbGV3YXJlIiwiY3JlYXRlTGlzdGVuZXJNaWRkbGV3YXJlIiwiY3JlYXRlTmV4dFN0YXRlIiwiaW1wb3J0X2ltbWVyNyIsInByb2R1Y2UiLCJjcmVhdGVSZWR1Y2VyIiwiY3JlYXRlU2VsZWN0b3IiLCJpbXBvcnRfcmVzZWxlY3QyIiwiY3JlYXRlU2VsZWN0b3JDcmVhdG9yIiwiY3JlYXRlU2VyaWFsaXphYmxlU3RhdGVJbnZhcmlhbnRNaWRkbGV3YXJlIiwiY3JlYXRlU2xpY2UiLCJjdXJyZW50IiwiZmluZE5vblNlcmlhbGl6YWJsZVZhbHVlIiwiZm9ybWF0UHJvZEVycm9yTWVzc2FnZSIsImZyZWV6ZSIsImlzQWN0aW9uQ3JlYXRvciIsImlzQWxsT2YiLCJpc0FueU9mIiwiaXNBc3luY1RodW5rQWN0aW9uIiwiaXNEcmFmdCIsImlzRmx1eFN0YW5kYXJkQWN0aW9uIiwiaXNGU0EiLCJpc0Z1bGZpbGxlZCIsImlzSW1tdXRhYmxlRGVmYXVsdCIsImlzUGVuZGluZyIsImlzUGxhaW4iLCJpc1JlamVjdGVkIiwiaXNSZWplY3RlZFdpdGhWYWx1ZSIsImxydU1lbW9pemUiLCJtaW5pU2VyaWFsaXplRXJyb3IiLCJuYW5vaWQiLCJvcmlnaW5hbCIsInByZXBhcmVBdXRvQmF0Y2hlZCIsInJlbW92ZUxpc3RlbmVyIiwidW53cmFwUmVzdWx0Iiwid2Vha01hcE1lbW9pemUiLCJtb2R1bGUiLCJleHBvcnRzIiwiX190b0NvbW1vbkpTIiwiX19yZUV4cG9ydCIsInJlcXVpcmUiLCJpbXBvcnRfaW1tZXIiLCJpbXBvcnRfcmVzZWxlY3QiLCJhcmdzIiwiY3JlYXRlU2VsZWN0b3IyIiwiY3JlYXRlRHJhZnRTYWZlU2VsZWN0b3IyIiwiT2JqZWN0IiwiYXNzaWduIiwiYXJnczIiLCJzZWxlY3RvciIsIndyYXBwZWRTZWxlY3RvciIsInZhbHVlIiwicmVzdCIsIndpdGhUeXBlcyIsImltcG9ydF9yZWR1eDQiLCJpbXBvcnRfcmVkdXgiLCJjb21wb3NlV2l0aERldlRvb2xzIiwid2luZG93IiwiX19SRURVWF9ERVZUT09MU19FWFRFTlNJT05fQ09NUE9TRV9fIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiY29tcG9zZSIsImFwcGx5IiwiZGV2VG9vbHNFbmhhbmNlciIsIl9fUkVEVVhfREVWVE9PTFNfRVhURU5TSU9OX18iLCJub29wMyIsImltcG9ydF9yZWR1eF90aHVuayIsImltcG9ydF9yZWR1eDIiLCJoYXNNYXRjaEZ1bmN0aW9uIiwidiIsIm1hdGNoIiwidHlwZSIsInByZXBhcmVBY3Rpb24iLCJhY3Rpb25DcmVhdG9yIiwicHJlcGFyZWQiLCJFcnJvciIsIl9mb3JtYXRQcm9kRXJyb3JNZXNzYWdlIiwicGF5bG9hZCIsIm1ldGEiLCJlcnJvciIsInRvU3RyaW5nIiwiYWN0aW9uIiwiaXNBY3Rpb24iLCJrZXlzIiwiZXZlcnkiLCJpc1ZhbGlkS2V5Iiwia2V5IiwiaW5kZXhPZiIsImdldE1lc3NhZ2UiLCJzcGxpdFR5cGUiLCJzcGxpdCIsImFjdGlvbk5hbWUiLCJvcHRpb25zIiwibmV4dCIsImlzQWN0aW9uQ3JlYXRvcjIiLCJjb25zb2xlIiwid2FybiIsImltcG9ydF9pbW1lcjIiLCJnZXRUaW1lTWVhc3VyZVV0aWxzIiwibWF4RGVsYXkiLCJmbk5hbWUiLCJlbGFwc2VkIiwibWVhc3VyZVRpbWUiLCJmbiIsInN0YXJ0ZWQiLCJEYXRlIiwibm93IiwiZmluaXNoZWQiLCJ3YXJuSWZFeGNlZWRlZCIsImZpbmQiLCJpdGVyYWJsZSIsImNvbXBhcmF0b3IiLCJlbnRyeSIsIl9UdXBsZSIsIkFycmF5IiwiY29uc3RydWN0b3IiLCJpdGVtcyIsInNldFByb3RvdHlwZU9mIiwicHJvdG90eXBlIiwiU3ltYm9sIiwic3BlY2llcyIsImNvbmNhdCIsImFyciIsInByZXBlbmQiLCJpc0FycmF5IiwiZnJlZXplRHJhZnRhYmxlIiwidmFsIiwiaXNEcmFmdGFibGUiLCJlbXBsYWNlIiwibWFwIiwiaGFuZGxlciIsImhhcyIsImdldCIsInVwZGF0ZSIsInNldCIsImluc2VydCIsImluc2VydGVkIiwiaXNGcm96ZW4iLCJ0cmFja0Zvck11dGF0aW9ucyIsImlzSW1tdXRhYmxlIiwiaWdub3JlUGF0aHMiLCJvYmoiLCJ0cmFja2VkUHJvcGVydGllcyIsInRyYWNrUHJvcGVydGllcyIsImRldGVjdE11dGF0aW9ucyIsInBhdGgiLCJjaGVja2VkT2JqZWN0cyIsIlNldCIsInRyYWNrZWQiLCJhZGQiLCJjaGlsZHJlbiIsImNoaWxkUGF0aCIsImlnbm9yZWRQYXRocyIsInRyYWNrZWRQcm9wZXJ0eSIsInNhbWVQYXJlbnRSZWYiLCJwcmV2T2JqIiwic2FtZVJlZiIsIk51bWJlciIsImlzTmFOIiwid2FzTXV0YXRlZCIsImtleXNUb0RldGVjdCIsImhhc0lnbm9yZWRQYXRocyIsIm5lc3RlZFBhdGgiLCJoYXNNYXRjaGVzIiwic29tZSIsImlnbm9yZWQiLCJSZWdFeHAiLCJ0ZXN0IiwicmVzdWx0Iiwic3RyaW5naWZ5MiIsInN0cmluZ2lmeSIsInNlcmlhbGl6ZXIiLCJpbmRlbnQiLCJkZWN5Y2xlciIsIkpTT04iLCJnZXRTZXJpYWxpemUyIiwiZ2V0U2VyaWFsaXplIiwic3RhY2siLCJfIiwic2xpY2UiLCJqb2luIiwidGhpc1BvcyIsInNwbGljZSIsInB1c2giLCJJbmZpbml0eSIsImNhbGwiLCJ3YXJuQWZ0ZXIiLCJ0cmFjayIsImJpbmQiLCJnZXRTdGF0ZSIsInN0YXRlIiwidHJhY2tlciIsIm1lYXN1cmVVdGlscyIsImRpc3BhdGNoZWRBY3Rpb24iLCJfZm9ybWF0UHJvZEVycm9yTWVzc2FnZTIiLCJpbXBvcnRfcmVkdXgzIiwiaXNQbGFpbk9iamVjdCIsImlzU2VyaWFsaXphYmxlIiwiZ2V0RW50cmllcyIsImNhY2hlIiwiZm91bmROZXN0ZWRTZXJpYWxpemFibGUiLCJrZXlQYXRoIiwiZW50cmllcyIsIm5lc3RlZFZhbHVlIiwiaXNOZXN0ZWRGcm96ZW4iLCJ2YWx1ZXMiLCJpZ25vcmVkQWN0aW9ucyIsImlnbm9yZWRBY3Rpb25QYXRocyIsImlnbm9yZVN0YXRlIiwiaWdub3JlQWN0aW9ucyIsImRpc2FibGVDYWNoZSIsIldlYWtTZXQiLCJzdG9yZUFQSSIsImZvdW5kQWN0aW9uTm9uU2VyaWFsaXphYmxlVmFsdWUiLCJmb3VuZFN0YXRlTm9uU2VyaWFsaXphYmxlVmFsdWUiLCJpc0Jvb2xlYW4iLCJ4IiwiYnVpbGRHZXREZWZhdWx0TWlkZGxld2FyZSIsImdldERlZmF1bHRNaWRkbGV3YXJlIiwidGh1bmsiLCJpbW11dGFibGVDaGVjayIsInNlcmlhbGl6YWJsZUNoZWNrIiwiYWN0aW9uQ3JlYXRvckNoZWNrIiwibWlkZGxld2FyZUFycmF5Iiwid2l0aEV4dHJhQXJndW1lbnQiLCJleHRyYUFyZ3VtZW50IiwiaW1tdXRhYmxlT3B0aW9ucyIsInVuc2hpZnQiLCJzZXJpYWxpemFibGVPcHRpb25zIiwiYWN0aW9uQ3JlYXRvck9wdGlvbnMiLCJjcmVhdGVRdWV1ZVdpdGhUaW1lciIsInRpbWVvdXQiLCJub3RpZnkiLCJzZXRUaW1lb3V0IiwickFGIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwic3RvcmUiLCJub3RpZnlpbmciLCJzaG91bGROb3RpZnlBdEVuZE9mVGljayIsIm5vdGlmaWNhdGlvblF1ZXVlZCIsImxpc3RlbmVycyIsInF1ZXVlQ2FsbGJhY2siLCJxdWV1ZU1pY3JvdGFzayIsInF1ZXVlTm90aWZpY2F0aW9uIiwibm90aWZ5TGlzdGVuZXJzIiwiZm9yRWFjaCIsImwiLCJzdWJzY3JpYmUiLCJsaXN0ZW5lcjIiLCJ3cmFwcGVkTGlzdGVuZXIiLCJ1bnN1YnNjcmliZSIsImRlbGV0ZSIsImRpc3BhdGNoIiwiYnVpbGRHZXREZWZhdWx0RW5oYW5jZXJzIiwibWlkZGxld2FyZUVuaGFuY2VyIiwiZ2V0RGVmYXVsdEVuaGFuY2VycyIsImF1dG9CYXRjaCIsImVuaGFuY2VyQXJyYXkiLCJJU19QUk9EVUNUSU9OIiwicmVkdWNlciIsIm1pZGRsZXdhcmUiLCJkZXZUb29scyIsInByZWxvYWRlZFN0YXRlIiwiZW5oYW5jZXJzIiwicm9vdFJlZHVjZXIiLCJjb21iaW5lUmVkdWNlcnMiLCJmaW5hbE1pZGRsZXdhcmUiLCJfZm9ybWF0UHJvZEVycm9yTWVzc2FnZTMiLCJpdGVtIiwiX2Zvcm1hdFByb2RFcnJvck1lc3NhZ2U0IiwiZmluYWxDb21wb3NlIiwidHJhY2UiLCJhcHBseU1pZGRsZXdhcmUiLCJfZm9ybWF0UHJvZEVycm9yTWVzc2FnZTUiLCJzdG9yZUVuaGFuY2VycyIsIl9mb3JtYXRQcm9kRXJyb3JNZXNzYWdlNiIsIl9mb3JtYXRQcm9kRXJyb3JNZXNzYWdlNyIsImluY2x1ZGVzIiwiY29tcG9zZWRFbmhhbmNlciIsImNyZWF0ZVN0b3JlIiwiaW1wb3J0X2ltbWVyMyIsImV4ZWN1dGVSZWR1Y2VyQnVpbGRlckNhbGxiYWNrIiwiYnVpbGRlckNhbGxiYWNrIiwiYWN0aW9uc01hcCIsImFjdGlvbk1hdGNoZXJzIiwiZGVmYXVsdENhc2VSZWR1Y2VyIiwiYnVpbGRlciIsImFkZENhc2UiLCJ0eXBlT3JBY3Rpb25DcmVhdG9yIiwiYWRkTWF0Y2hlciIsIm1hdGNoZXIiLCJhZGREZWZhdWx0Q2FzZSIsImlzU3RhdGVGdW5jdGlvbiIsImluaXRpYWxTdGF0ZSIsIm1hcE9yQnVpbGRlckNhbGxiYWNrIiwiZmluYWxBY3Rpb25NYXRjaGVycyIsImZpbmFsRGVmYXVsdENhc2VSZWR1Y2VyIiwiZ2V0SW5pdGlhbFN0YXRlIiwiZnJvemVuSW5pdGlhbFN0YXRlIiwiY2FzZVJlZHVjZXJzIiwiZmlsdGVyIiwicmVkdWNlcjIiLCJjciIsInJlZHVjZSIsInByZXZpb3VzU3RhdGUiLCJjYXNlUmVkdWNlciIsImRyYWZ0IiwidXJsQWxwaGFiZXQiLCJzaXplIiwiaWQiLCJpIiwiTWF0aCIsInJhbmRvbSIsIm1hdGNoZXMiLCJtYXRjaGVycyIsImhhc0V4cGVjdGVkUmVxdWVzdE1ldGFkYXRhIiwidmFsaWRTdGF0dXMiLCJoYXNWYWxpZFJlcXVlc3RJZCIsInJlcXVlc3RJZCIsImhhc1ZhbGlkUmVxdWVzdFN0YXR1cyIsInJlcXVlc3RTdGF0dXMiLCJpc0FzeW5jVGh1bmtBcnJheSIsImEiLCJhc3luY1RodW5rcyIsImFzeW5jVGh1bmsiLCJwZW5kaW5nIiwicmVqZWN0ZWQiLCJoYXNGbGFnIiwicmVqZWN0ZWRXaXRoVmFsdWUiLCJmdWxmaWxsZWQiLCJmbGF0TWFwIiwiY29tbW9uUHJvcGVydGllcyIsIlJlamVjdFdpdGhWYWx1ZSIsIl90eXBlIiwiRnVsZmlsbFdpdGhNZXRhIiwic2ltcGxlRXJyb3IiLCJwcm9wZXJ0eSIsIm1lc3NhZ2UiLCJTdHJpbmciLCJjcmVhdGVBc3luY1RodW5rMiIsInR5cGVQcmVmaXgiLCJwYXlsb2FkQ3JlYXRvciIsImFyZyIsInNlcmlhbGl6ZUVycm9yIiwiYWJvcnRlZCIsIm5hbWUiLCJjb25kaXRpb24iLCJleHRyYSIsImlkR2VuZXJhdG9yIiwiYWJvcnRDb250cm9sbGVyIiwiQWJvcnRDb250cm9sbGVyIiwiYWJvcnRIYW5kbGVyIiwiYWJvcnRSZWFzb24iLCJhYm9ydCIsInJlYXNvbiIsInByb21pc2UiLCJmaW5hbEFjdGlvbiIsImNvbmRpdGlvblJlc3VsdCIsImlzVGhlbmFibGUiLCJzaWduYWwiLCJhYm9ydGVkUHJvbWlzZSIsIlByb21pc2UiLCJyZWplY3QiLCJhZGRFdmVudExpc3RlbmVyIiwiZ2V0UGVuZGluZ01ldGEiLCJyYWNlIiwicmVzb2x2ZSIsInJlamVjdFdpdGhWYWx1ZSIsImZ1bGZpbGxXaXRoVmFsdWUiLCJ0aGVuIiwiZXJyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInNraXBEaXNwYXRjaCIsImRpc3BhdGNoQ29uZGl0aW9uUmVqZWN0aW9uIiwidW53cmFwIiwic2V0dGxlZCIsImFzeW5jVGh1bmtTeW1ib2wiLCJmb3IiLCJSZWR1Y2VyVHlwZTIiLCJnZXRUeXBlIiwiYWN0aW9uS2V5IiwiY3JlYXRvcnMiLCJjQVQiLCJjcmVhdGVTbGljZTIiLCJyZWR1Y2VyUGF0aCIsInByb2Nlc3MiLCJyZWR1Y2VycyIsImJ1aWxkUmVkdWNlckNyZWF0b3JzIiwicmVkdWNlck5hbWVzIiwiY29udGV4dCIsInNsaWNlQ2FzZVJlZHVjZXJzQnlOYW1lIiwic2xpY2VDYXNlUmVkdWNlcnNCeVR5cGUiLCJhY3Rpb25DcmVhdG9ycyIsInNsaWNlTWF0Y2hlcnMiLCJjb250ZXh0TWV0aG9kcyIsImV4cG9zZUFjdGlvbiIsIm5hbWUyIiwiZXhwb3NlQ2FzZVJlZHVjZXIiLCJyZWR1Y2VyTmFtZSIsInJlZHVjZXJEZWZpbml0aW9uIiwicmVkdWNlckRldGFpbHMiLCJjcmVhdGVOb3RhdGlvbiIsImlzQXN5bmNUaHVua1NsaWNlUmVkdWNlckRlZmluaXRpb24iLCJoYW5kbGVUaHVua0Nhc2VSZWR1Y2VyRGVmaW5pdGlvbiIsImhhbmRsZU5vcm1hbFJlZHVjZXJEZWZpbml0aW9uIiwiYnVpbGRSZWR1Y2VyIiwiZXh0cmFSZWR1Y2VycyIsImZpbmFsQ2FzZVJlZHVjZXJzIiwic00iLCJtIiwic2VsZWN0U2VsZiIsImluamVjdGVkU2VsZWN0b3JDYWNoZSIsIk1hcCIsIl9yZWR1Y2VyIiwibWFrZVNlbGVjdG9yUHJvcHMiLCJyZWR1Y2VyUGF0aDIiLCJpbmplY3RlZCIsInNlbGVjdFNsaWNlIiwic2xpY2VTdGF0ZSIsImdldFNlbGVjdG9ycyIsInNlbGVjdFN0YXRlIiwic2VsZWN0b3JDYWNoZSIsIldlYWtNYXAiLCJzZWxlY3RvcnMiLCJ3cmFwU2VsZWN0b3IiLCJhY3Rpb25zIiwiaW5qZWN0SW50byIsImluamVjdGFibGUiLCJwYXRoT3B0IiwiY29uZmlnIiwibmV3UmVkdWNlclBhdGgiLCJpbmplY3QiLCJ3cmFwcGVyIiwicm9vdFN0YXRlIiwidW53cmFwcGVkIiwiX3JlZHVjZXJEZWZpbml0aW9uVHlwZSIsInByZXBhcmVkUmVkdWNlciIsInByZXBhcmUiLCJtYXliZVJlZHVjZXJXaXRoUHJlcGFyZSIsInByZXBhcmVDYWxsYmFjayIsImlzQ2FzZVJlZHVjZXJXaXRoUHJlcGFyZURlZmluaXRpb24iLCJfZm9ybWF0UHJvZEVycm9yTWVzc2FnZTgiLCJub29wIiwiZ2V0SW5pdGlhbEVudGl0eVN0YXRlIiwiaWRzIiwiZW50aXRpZXMiLCJjcmVhdGVJbml0aWFsU3RhdGVGYWN0b3J5Iiwic3RhdGVBZGFwdGVyIiwiYWRkaXRpb25hbFN0YXRlIiwic2V0QWxsIiwiY3JlYXRlU2VsZWN0b3JzRmFjdG9yeSIsInNlbGVjdElkcyIsInNlbGVjdEVudGl0aWVzIiwic2VsZWN0QWxsIiwic2VsZWN0SWQiLCJzZWxlY3RCeUlkIiwic2VsZWN0VG90YWwiLCJzZWxlY3RHbG9iYWxpemVkRW50aXRpZXMiLCJpbXBvcnRfaW1tZXI2IiwiaW1wb3J0X2ltbWVyNCIsImlzRHJhZnRUeXBlZCIsImNyZWF0ZVNpbmdsZUFyZ3VtZW50U3RhdGVPcGVyYXRvciIsIm11dGF0b3IiLCJvcGVyYXRvciIsImNyZWF0ZVN0YXRlT3BlcmF0b3IiLCJvcGVyYXRpb24iLCJpc1BheWxvYWRBY3Rpb25Bcmd1bWVudCIsImFyZzIiLCJydW5NdXRhdG9yIiwiaW1wb3J0X2ltbWVyNSIsInNlbGVjdElkVmFsdWUiLCJlbnRpdHkiLCJlbnN1cmVFbnRpdGllc0FycmF5IiwiZ2V0Q3VycmVudCIsInNwbGl0QWRkZWRVcGRhdGVkRW50aXRpZXMiLCJuZXdFbnRpdGllcyIsImV4aXN0aW5nSWRzQXJyYXkiLCJleGlzdGluZ0lkcyIsImFkZGVkIiwidXBkYXRlZCIsImNoYW5nZXMiLCJjcmVhdGVVbnNvcnRlZFN0YXRlQWRhcHRlciIsImFkZE9uZU11dGFibHkiLCJhZGRNYW55TXV0YWJseSIsInNldE9uZU11dGFibHkiLCJzZXRNYW55TXV0YWJseSIsInNldEFsbE11dGFibHkiLCJyZW1vdmVPbmVNdXRhYmx5IiwicmVtb3ZlTWFueU11dGFibHkiLCJkaWRNdXRhdGUiLCJyZW1vdmVBbGxNdXRhYmx5IiwidGFrZU5ld0tleSIsIm9yaWdpbmFsMyIsIm5ld0tleSIsImhhc05ld0tleSIsInVwZGF0ZU9uZU11dGFibHkiLCJ1cGRhdGVNYW55TXV0YWJseSIsInVwZGF0ZXMiLCJuZXdLZXlzIiwidXBkYXRlc1BlckVudGl0eSIsImRpZE11dGF0ZUVudGl0aWVzIiwiZGlkTXV0YXRlSWRzIiwiZSIsInVwc2VydE9uZU11dGFibHkiLCJ1cHNlcnRNYW55TXV0YWJseSIsInJlbW92ZUFsbCIsImFkZE9uZSIsImFkZE1hbnkiLCJzZXRPbmUiLCJzZXRNYW55IiwidXBkYXRlT25lIiwidXBkYXRlTWFueSIsInVwc2VydE9uZSIsInVwc2VydE1hbnkiLCJyZW1vdmVPbmUiLCJyZW1vdmVNYW55IiwiZmluZEluc2VydEluZGV4Iiwic29ydGVkSXRlbXMiLCJjb21wYXJpc29uRnVuY3Rpb24iLCJsb3dJbmRleCIsImhpZ2hJbmRleCIsIm1pZGRsZUluZGV4IiwiY3VycmVudEl0ZW0iLCJyZXMiLCJpbnNlcnRBdEluZGV4IiwiY3JlYXRlU29ydGVkU3RhdGVBZGFwdGVyIiwiY29tcGFyZXIiLCJleGlzdGluZ0tleXMiLCJtb2RlbHMiLCJtb2RlbCIsIm1lcmdlRnVuY3Rpb24iLCJhcHBsaWVkVXBkYXRlcyIsInJlcGxhY2VkSWRzIiwibmV3SWQiLCJvbGRJbmRleCIsImFyZUFycmF5c0VxdWFsIiwiYiIsIm1lcmdlSW5zZXJ0aW9uIiwiYWRkZWRJdGVtcyIsImN1cnJlbnRFbnRpdGllcyIsImN1cnJlbnRJZHMiLCJzdGF0ZUVudGl0aWVzIiwiZnJvbSIsInNvcnRlZEVudGl0aWVzIiwid2FzUHJldmlvdXNseUVtcHR5Iiwic29ydCIsIm5ld1NvcnRlZElkcyIsInNvcnRDb21wYXJlciIsImluc3RhbmNlIiwic3RhdGVGYWN0b3J5Iiwic2VsZWN0b3JzRmFjdG9yeSIsImltcG9ydF9yZWR1eDUiLCJ0YXNrIiwibGlzdGVuZXIiLCJjb21wbGV0ZWQiLCJjYW5jZWxsZWQiLCJ0YXNrQ2FuY2VsbGVkIiwidGFza0NvbXBsZXRlZCIsImxpc3RlbmVyQ2FuY2VsbGVkIiwibGlzdGVuZXJDb21wbGV0ZWQiLCJjb2RlIiwiYXNzZXJ0RnVuY3Rpb24iLCJmdW5jIiwiZXhwZWN0ZWQiLCJub29wMiIsImNhdGNoUmVqZWN0aW9uIiwib25FcnJvciIsImNhdGNoIiwiYWRkQWJvcnRTaWduYWxMaXN0ZW5lciIsImFib3J0U2lnbmFsIiwiY2FsbGJhY2siLCJvbmNlIiwiYWJvcnRDb250cm9sbGVyV2l0aFJlYXNvbiIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwidmFsaWRhdGVBY3RpdmUiLCJyYWNlV2l0aFNpZ25hbCIsImNsZWFudXAiLCJub3RpZnlSZWplY3Rpb24iLCJmaW5hbGx5IiwicnVuVGFzayIsInRhc2syIiwiY2xlYW5VcCIsInN0YXR1cyIsImNyZWF0ZVBhdXNlIiwib3V0cHV0IiwiY3JlYXRlRGVsYXkiLCJwYXVzZSIsInRpbWVvdXRNcyIsIklOVEVSTkFMX05JTF9UT0tFTiIsImFsbSIsImNyZWF0ZUZvcmsiLCJwYXJlbnRBYm9ydFNpZ25hbCIsInBhcmVudEJsb2NraW5nUHJvbWlzZXMiLCJsaW5rQ29udHJvbGxlcnMiLCJjb250cm9sbGVyIiwidGFza0V4ZWN1dG9yIiwib3B0cyIsImNoaWxkQWJvcnRDb250cm9sbGVyIiwicmVzdWx0MiIsImRlbGF5IiwiYXV0b0pvaW4iLCJjYW5jZWwiLCJjcmVhdGVUYWtlUGF0dGVybiIsInN0YXJ0TGlzdGVuaW5nIiwidGFrZSIsInByZWRpY2F0ZSIsInR1cGxlUHJvbWlzZSIsInN0b3BMaXN0ZW5pbmciLCJlZmZlY3QiLCJsaXN0ZW5lckFwaSIsImdldE9yaWdpbmFsU3RhdGUiLCJwcm9taXNlcyIsImdldExpc3RlbmVyRW50cnlQcm9wc0Zyb20iLCJjcmVhdGVMaXN0ZW5lckVudHJ5IiwiY2FuY2VsQWN0aXZlTGlzdGVuZXJzIiwiY3JlYXRlQ2xlYXJMaXN0ZW5lck1pZGRsZXdhcmUiLCJsaXN0ZW5lck1hcCIsImNsZWFyIiwic2FmZWx5Tm90aWZ5RXJyb3IiLCJlcnJvckhhbmRsZXIiLCJlcnJvclRvTm90aWZ5IiwiZXJyb3JJbmZvIiwiZXJyb3JIYW5kbGVyRXJyb3IiLCJkZWZhdWx0RXJyb3JIYW5kbGVyIiwibWlkZGxld2FyZU9wdGlvbnMiLCJpbnNlcnRFbnRyeSIsImNhbmNlbE9wdGlvbnMiLCJjYW5jZWxBY3RpdmUiLCJleGlzdGluZ0VudHJ5IiwiZW50cnkyIiwibWF0Y2hQcmVkaWNhdGVPclR5cGUiLCJub3RpZnlMaXN0ZW5lciIsImFwaSIsImludGVybmFsVGFza0NvbnRyb2xsZXIiLCJhdXRvSm9pblByb21pc2VzIiwiQm9vbGVhbiIsImZvcmsiLCJ0aHJvd0lmQ2FuY2VsbGVkIiwibGlzdGVuZXJFcnJvciIsInJhaXNlZEJ5IiwiYWxsIiwiY2xlYXJMaXN0ZW5lck1pZGRsZXdhcmUiLCJvcmlnaW5hbFN0YXRlIiwiY3VycmVudFN0YXRlIiwibGlzdGVuZXJFbnRyaWVzIiwicnVuTGlzdGVuZXIiLCJwcmVkaWNhdGVFcnJvciIsImNsZWFyTGlzdGVuZXJzIiwiaW1wb3J0X3JlZHV4NiIsImNyZWF0ZU1pZGRsZXdhcmVFbnRyeSIsImFwcGxpZWQiLCJtYXRjaEluc3RhbmNlIiwiaW5zdGFuY2VJZCIsIm1pZGRsZXdhcmVNYXAiLCJ3aXRoTWlkZGxld2FyZSIsIm1pZGRsZXdhcmVzIiwiYWRkTWlkZGxld2FyZSIsImFkZE1pZGRsZXdhcmUyIiwibWlkZGxld2FyZTIiLCJnZXRGaW5hbE1pZGRsZXdhcmUiLCJhcHBsaWVkTWlkZGxld2FyZSIsImlzV2l0aE1pZGRsZXdhcmUiLCJpbXBvcnRfcmVkdXg3IiwiaXNTbGljZUxpa2UiLCJtYXliZVNsaWNlTGlrZSIsImdldFJlZHVjZXJzIiwic2xpY2VzIiwic2xpY2VPck1hcCIsIk9SSUdJTkFMX1NUQVRFIiwiaXNTdGF0ZVByb3h5Iiwic3RhdGVQcm94eU1hcCIsImNyZWF0ZVN0YXRlUHJveHkiLCJyZWR1Y2VyTWFwIiwiUHJveHkiLCJ0YXJnZXQiLCJwcm9wIiwicmVjZWl2ZXIiLCJSZWZsZWN0IiwicmVkdWNlclJlc3VsdCIsIm5vb3BSZWR1Y2VyIiwiZnJvbUVudHJpZXMiLCJnZXRSZWR1Y2VyIiwiY29tYmluZWRSZWR1Y2VyIiwid2l0aExhenlMb2FkZWRTbGljZXMiLCJyZWR1Y2VyVG9JbmplY3QiLCJjdXJyZW50UmVkdWNlciIsIm92ZXJyaWRlRXhpc3RpbmciLCJtYWtlU2VsZWN0b3IiLCJzZWxlY3RvckZuIiwic2VsZWN0b3IyIl0sInNvdXJjZXMiOlsiLi4vLi4vc3JjL2luZGV4LnRzIiwiLi4vLi4vc3JjL2NyZWF0ZURyYWZ0U2FmZVNlbGVjdG9yLnRzIiwiLi4vLi4vc3JjL2NvbmZpZ3VyZVN0b3JlLnRzIiwiLi4vLi4vc3JjL2RldnRvb2xzRXh0ZW5zaW9uLnRzIiwiLi4vLi4vc3JjL2dldERlZmF1bHRNaWRkbGV3YXJlLnRzIiwiLi4vLi4vc3JjL2NyZWF0ZUFjdGlvbi50cyIsIi4uLy4uL3NyYy90c0hlbHBlcnMudHMiLCIuLi8uLi9zcmMvYWN0aW9uQ3JlYXRvckludmFyaWFudE1pZGRsZXdhcmUudHMiLCIuLi8uLi9zcmMvdXRpbHMudHMiLCIuLi8uLi9zcmMvaW1tdXRhYmxlU3RhdGVJbnZhcmlhbnRNaWRkbGV3YXJlLnRzIiwiLi4vLi4vc3JjL3NlcmlhbGl6YWJsZVN0YXRlSW52YXJpYW50TWlkZGxld2FyZS50cyIsIi4uLy4uL3NyYy9hdXRvQmF0Y2hFbmhhbmNlci50cyIsIi4uLy4uL3NyYy9nZXREZWZhdWx0RW5oYW5jZXJzLnRzIiwiLi4vLi4vc3JjL2NyZWF0ZVJlZHVjZXIudHMiLCIuLi8uLi9zcmMvbWFwQnVpbGRlcnMudHMiLCIuLi8uLi9zcmMvbmFub2lkLnRzIiwiLi4vLi4vc3JjL21hdGNoZXJzLnRzIiwiLi4vLi4vc3JjL2NyZWF0ZUFzeW5jVGh1bmsudHMiLCIuLi8uLi9zcmMvY3JlYXRlU2xpY2UudHMiLCIuLi8uLi9zcmMvZW50aXRpZXMvZW50aXR5X3N0YXRlLnRzIiwiLi4vLi4vc3JjL2VudGl0aWVzL3N0YXRlX3NlbGVjdG9ycy50cyIsIi4uLy4uL3NyYy9lbnRpdGllcy9zb3J0ZWRfc3RhdGVfYWRhcHRlci50cyIsIi4uLy4uL3NyYy9lbnRpdGllcy9zdGF0ZV9hZGFwdGVyLnRzIiwiLi4vLi4vc3JjL2VudGl0aWVzL3V0aWxzLnRzIiwiLi4vLi4vc3JjL2VudGl0aWVzL3Vuc29ydGVkX3N0YXRlX2FkYXB0ZXIudHMiLCIuLi8uLi9zcmMvZW50aXRpZXMvY3JlYXRlX2FkYXB0ZXIudHMiLCIuLi8uLi9zcmMvbGlzdGVuZXJNaWRkbGV3YXJlL2luZGV4LnRzIiwiLi4vLi4vc3JjL2xpc3RlbmVyTWlkZGxld2FyZS9leGNlcHRpb25zLnRzIiwiLi4vLi4vc3JjL2xpc3RlbmVyTWlkZGxld2FyZS91dGlscy50cyIsIi4uLy4uL3NyYy9saXN0ZW5lck1pZGRsZXdhcmUvdGFzay50cyIsIi4uLy4uL3NyYy9keW5hbWljTWlkZGxld2FyZS9pbmRleC50cyIsIi4uLy4uL3NyYy9jb21iaW5lU2xpY2VzLnRzIiwiLi4vLi4vc3JjL2Zvcm1hdFByb2RFcnJvck1lc3NhZ2UudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhpcyBtdXN0IHJlbWFpbiBoZXJlIHNvIHRoYXQgdGhlIGBtYW5nbGVFcnJvcnMuY2pzYCBidWlsZCBzY3JpcHRcbi8vIGRvZXMgbm90IGhhdmUgdG8gaW1wb3J0IHRoaXMgaW50byBlYWNoIHNvdXJjZSBmaWxlIGl0IHJld3JpdGVzLlxuaW1wb3J0IHsgZm9ybWF0UHJvZEVycm9yTWVzc2FnZSB9IGZyb20gJy4vZm9ybWF0UHJvZEVycm9yTWVzc2FnZSc7XG5leHBvcnQgKiBmcm9tICdyZWR1eCc7XG5leHBvcnQgeyBwcm9kdWNlIGFzIGNyZWF0ZU5leHRTdGF0ZSwgY3VycmVudCwgZnJlZXplLCBvcmlnaW5hbCwgaXNEcmFmdCB9IGZyb20gJ2ltbWVyJztcbmV4cG9ydCB0eXBlIHsgRHJhZnQgfSBmcm9tICdpbW1lcic7XG5leHBvcnQgeyBjcmVhdGVTZWxlY3RvciwgY3JlYXRlU2VsZWN0b3JDcmVhdG9yLCBscnVNZW1vaXplLCB3ZWFrTWFwTWVtb2l6ZSB9IGZyb20gJ3Jlc2VsZWN0JztcbmV4cG9ydCB0eXBlIHsgU2VsZWN0b3IsIE91dHB1dFNlbGVjdG9yIH0gZnJvbSAncmVzZWxlY3QnO1xuZXhwb3J0IHsgY3JlYXRlRHJhZnRTYWZlU2VsZWN0b3IsIGNyZWF0ZURyYWZ0U2FmZVNlbGVjdG9yQ3JlYXRvciB9IGZyb20gJy4vY3JlYXRlRHJhZnRTYWZlU2VsZWN0b3InO1xuZXhwb3J0IHR5cGUgeyBUaHVua0FjdGlvbiwgVGh1bmtEaXNwYXRjaCwgVGh1bmtNaWRkbGV3YXJlIH0gZnJvbSAncmVkdXgtdGh1bmsnO1xuZXhwb3J0IHtcbi8vIGpzXG5jb25maWd1cmVTdG9yZSB9IGZyb20gJy4vY29uZmlndXJlU3RvcmUnO1xuZXhwb3J0IHR5cGUge1xuLy8gdHlwZXNcbkNvbmZpZ3VyZVN0b3JlT3B0aW9ucywgRW5oYW5jZWRTdG9yZSB9IGZyb20gJy4vY29uZmlndXJlU3RvcmUnO1xuZXhwb3J0IHR5cGUgeyBEZXZUb29sc0VuaGFuY2VyT3B0aW9ucyB9IGZyb20gJy4vZGV2dG9vbHNFeHRlbnNpb24nO1xuZXhwb3J0IHtcbi8vIGpzXG5jcmVhdGVBY3Rpb24sIGlzQWN0aW9uQ3JlYXRvciwgaXNGU0EgYXMgaXNGbHV4U3RhbmRhcmRBY3Rpb24gfSBmcm9tICcuL2NyZWF0ZUFjdGlvbic7XG5leHBvcnQgdHlwZSB7XG4vLyB0eXBlc1xuUGF5bG9hZEFjdGlvbiwgUGF5bG9hZEFjdGlvbkNyZWF0b3IsIEFjdGlvbkNyZWF0b3JXaXRoTm9uSW5mZXJyYWJsZVBheWxvYWQsIEFjdGlvbkNyZWF0b3JXaXRoT3B0aW9uYWxQYXlsb2FkLCBBY3Rpb25DcmVhdG9yV2l0aFBheWxvYWQsIEFjdGlvbkNyZWF0b3JXaXRob3V0UGF5bG9hZCwgQWN0aW9uQ3JlYXRvcldpdGhQcmVwYXJlZFBheWxvYWQsIFByZXBhcmVBY3Rpb24gfSBmcm9tICcuL2NyZWF0ZUFjdGlvbic7XG5leHBvcnQge1xuLy8ganNcbmNyZWF0ZVJlZHVjZXIgfSBmcm9tICcuL2NyZWF0ZVJlZHVjZXInO1xuZXhwb3J0IHR5cGUge1xuLy8gdHlwZXNcbkFjdGlvbnMsIENhc2VSZWR1Y2VyLCBDYXNlUmVkdWNlcnMgfSBmcm9tICcuL2NyZWF0ZVJlZHVjZXInO1xuZXhwb3J0IHtcbi8vIGpzXG5jcmVhdGVTbGljZSwgYnVpbGRDcmVhdGVTbGljZSwgYXN5bmNUaHVua0NyZWF0b3IsIFJlZHVjZXJUeXBlIH0gZnJvbSAnLi9jcmVhdGVTbGljZSc7XG5leHBvcnQgdHlwZSB7XG4vLyB0eXBlc1xuQ3JlYXRlU2xpY2VPcHRpb25zLCBTbGljZSwgQ2FzZVJlZHVjZXJBY3Rpb25zLCBTbGljZUNhc2VSZWR1Y2VycywgVmFsaWRhdGVTbGljZUNhc2VSZWR1Y2VycywgQ2FzZVJlZHVjZXJXaXRoUHJlcGFyZSwgUmVkdWNlckNyZWF0b3JzLCBTbGljZVNlbGVjdG9ycyB9IGZyb20gJy4vY3JlYXRlU2xpY2UnO1xuZXhwb3J0IHR5cGUgeyBBY3Rpb25DcmVhdG9ySW52YXJpYW50TWlkZGxld2FyZU9wdGlvbnMgfSBmcm9tICcuL2FjdGlvbkNyZWF0b3JJbnZhcmlhbnRNaWRkbGV3YXJlJztcbmV4cG9ydCB7IGNyZWF0ZUFjdGlvbkNyZWF0b3JJbnZhcmlhbnRNaWRkbGV3YXJlIH0gZnJvbSAnLi9hY3Rpb25DcmVhdG9ySW52YXJpYW50TWlkZGxld2FyZSc7XG5leHBvcnQge1xuLy8ganNcbmNyZWF0ZUltbXV0YWJsZVN0YXRlSW52YXJpYW50TWlkZGxld2FyZSwgaXNJbW11dGFibGVEZWZhdWx0IH0gZnJvbSAnLi9pbW11dGFibGVTdGF0ZUludmFyaWFudE1pZGRsZXdhcmUnO1xuZXhwb3J0IHR5cGUge1xuLy8gdHlwZXNcbkltbXV0YWJsZVN0YXRlSW52YXJpYW50TWlkZGxld2FyZU9wdGlvbnMgfSBmcm9tICcuL2ltbXV0YWJsZVN0YXRlSW52YXJpYW50TWlkZGxld2FyZSc7XG5leHBvcnQge1xuLy8ganNcbmNyZWF0ZVNlcmlhbGl6YWJsZVN0YXRlSW52YXJpYW50TWlkZGxld2FyZSwgZmluZE5vblNlcmlhbGl6YWJsZVZhbHVlLCBpc1BsYWluIH0gZnJvbSAnLi9zZXJpYWxpemFibGVTdGF0ZUludmFyaWFudE1pZGRsZXdhcmUnO1xuZXhwb3J0IHR5cGUge1xuLy8gdHlwZXNcblNlcmlhbGl6YWJsZVN0YXRlSW52YXJpYW50TWlkZGxld2FyZU9wdGlvbnMgfSBmcm9tICcuL3NlcmlhbGl6YWJsZVN0YXRlSW52YXJpYW50TWlkZGxld2FyZSc7XG5leHBvcnQgdHlwZSB7XG4vLyB0eXBlc1xuQWN0aW9uUmVkdWNlck1hcEJ1aWxkZXIgfSBmcm9tICcuL21hcEJ1aWxkZXJzJztcbmV4cG9ydCB7IFR1cGxlIH0gZnJvbSAnLi91dGlscyc7XG5leHBvcnQgeyBjcmVhdGVFbnRpdHlBZGFwdGVyIH0gZnJvbSAnLi9lbnRpdGllcy9jcmVhdGVfYWRhcHRlcic7XG5leHBvcnQgdHlwZSB7IEVudGl0eVN0YXRlLCBFbnRpdHlBZGFwdGVyLCBFbnRpdHlTZWxlY3RvcnMsIEVudGl0eVN0YXRlQWRhcHRlciwgRW50aXR5SWQsIFVwZGF0ZSwgSWRTZWxlY3RvciwgQ29tcGFyZXIgfSBmcm9tICcuL2VudGl0aWVzL21vZGVscyc7XG5leHBvcnQgeyBjcmVhdGVBc3luY1RodW5rLCB1bndyYXBSZXN1bHQsIG1pbmlTZXJpYWxpemVFcnJvciB9IGZyb20gJy4vY3JlYXRlQXN5bmNUaHVuayc7XG5leHBvcnQgdHlwZSB7IEFzeW5jVGh1bmssIEFzeW5jVGh1bmtPcHRpb25zLCBBc3luY1RodW5rQWN0aW9uLCBBc3luY1RodW5rUGF5bG9hZENyZWF0b3JSZXR1cm5WYWx1ZSwgQXN5bmNUaHVua1BheWxvYWRDcmVhdG9yLCBHZXRUaHVua0FQSSwgU2VyaWFsaXplZEVycm9yIH0gZnJvbSAnLi9jcmVhdGVBc3luY1RodW5rJztcbmV4cG9ydCB7XG4vLyBqc1xuaXNBbGxPZiwgaXNBbnlPZiwgaXNQZW5kaW5nLCBpc1JlamVjdGVkLCBpc0Z1bGZpbGxlZCwgaXNBc3luY1RodW5rQWN0aW9uLCBpc1JlamVjdGVkV2l0aFZhbHVlIH0gZnJvbSAnLi9tYXRjaGVycyc7XG5leHBvcnQgdHlwZSB7XG4vLyB0eXBlc1xuQWN0aW9uTWF0Y2hpbmdBbGxPZiwgQWN0aW9uTWF0Y2hpbmdBbnlPZiB9IGZyb20gJy4vbWF0Y2hlcnMnO1xuZXhwb3J0IHsgbmFub2lkIH0gZnJvbSAnLi9uYW5vaWQnO1xuZXhwb3J0IHR5cGUgeyBMaXN0ZW5lckVmZmVjdCwgTGlzdGVuZXJNaWRkbGV3YXJlLCBMaXN0ZW5lckVmZmVjdEFQSSwgTGlzdGVuZXJNaWRkbGV3YXJlSW5zdGFuY2UsIENyZWF0ZUxpc3RlbmVyTWlkZGxld2FyZU9wdGlvbnMsIExpc3RlbmVyRXJyb3JIYW5kbGVyLCBUeXBlZFN0YXJ0TGlzdGVuaW5nLCBUeXBlZEFkZExpc3RlbmVyLCBUeXBlZFN0b3BMaXN0ZW5pbmcsIFR5cGVkUmVtb3ZlTGlzdGVuZXIsIFVuc3Vic2NyaWJlTGlzdGVuZXIsIFVuc3Vic2NyaWJlTGlzdGVuZXJPcHRpb25zLCBGb3JrZWRUYXNrRXhlY3V0b3IsIEZvcmtlZFRhc2ssIEZvcmtlZFRhc2tBUEksIEFzeW5jVGFza0V4ZWN1dG9yLCBTeW5jVGFza0V4ZWN1dG9yLCBUYXNrQ2FuY2VsbGVkLCBUYXNrUmVqZWN0ZWQsIFRhc2tSZXNvbHZlZCwgVGFza1Jlc3VsdCB9IGZyb20gJy4vbGlzdGVuZXJNaWRkbGV3YXJlL2luZGV4JztcbmV4cG9ydCB0eXBlIHsgQW55TGlzdGVuZXJQcmVkaWNhdGUgfSBmcm9tICcuL2xpc3RlbmVyTWlkZGxld2FyZS90eXBlcyc7XG5leHBvcnQgeyBjcmVhdGVMaXN0ZW5lck1pZGRsZXdhcmUsIGFkZExpc3RlbmVyLCByZW1vdmVMaXN0ZW5lciwgY2xlYXJBbGxMaXN0ZW5lcnMsIFRhc2tBYm9ydEVycm9yIH0gZnJvbSAnLi9saXN0ZW5lck1pZGRsZXdhcmUvaW5kZXgnO1xuZXhwb3J0IHR5cGUgeyBEeW5hbWljTWlkZGxld2FyZUluc3RhbmNlLCBHZXREaXNwYXRjaCwgR2V0U3RhdGUsIE1pZGRsZXdhcmVBcGlDb25maWcgfSBmcm9tICcuL2R5bmFtaWNNaWRkbGV3YXJlL3R5cGVzJztcbmV4cG9ydCB7IGNyZWF0ZUR5bmFtaWNNaWRkbGV3YXJlIH0gZnJvbSAnLi9keW5hbWljTWlkZGxld2FyZS9pbmRleCc7XG5leHBvcnQgeyBTSE9VTERfQVVUT0JBVENILCBwcmVwYXJlQXV0b0JhdGNoZWQsIGF1dG9CYXRjaEVuaGFuY2VyIH0gZnJvbSAnLi9hdXRvQmF0Y2hFbmhhbmNlcic7XG5leHBvcnQgdHlwZSB7IEF1dG9CYXRjaE9wdGlvbnMgfSBmcm9tICcuL2F1dG9CYXRjaEVuaGFuY2VyJztcbmV4cG9ydCB7IGNvbWJpbmVTbGljZXMgfSBmcm9tICcuL2NvbWJpbmVTbGljZXMnO1xuZXhwb3J0IHR5cGUgeyBXaXRoU2xpY2UgfSBmcm9tICcuL2NvbWJpbmVTbGljZXMnO1xuZXhwb3J0IHR5cGUgeyBFeHRyYWN0RGlzcGF0Y2hFeHRlbnNpb25zIGFzIFRTSGVscGVyc0V4dHJhY3REaXNwYXRjaEV4dGVuc2lvbnMsIFNhZmVQcm9taXNlIH0gZnJvbSAnLi90c0hlbHBlcnMnO1xuZXhwb3J0IHsgZm9ybWF0UHJvZEVycm9yTWVzc2FnZSB9IGZyb20gJy4vZm9ybWF0UHJvZEVycm9yTWVzc2FnZSc7IiwiaW1wb3J0IHsgY3VycmVudCwgaXNEcmFmdCB9IGZyb20gJ2ltbWVyJztcbmltcG9ydCB7IGNyZWF0ZVNlbGVjdG9yQ3JlYXRvciwgd2Vha01hcE1lbW9pemUgfSBmcm9tICdyZXNlbGVjdCc7XG5leHBvcnQgY29uc3QgY3JlYXRlRHJhZnRTYWZlU2VsZWN0b3JDcmVhdG9yOiB0eXBlb2YgY3JlYXRlU2VsZWN0b3JDcmVhdG9yID0gKC4uLmFyZ3M6IHVua25vd25bXSkgPT4ge1xuICBjb25zdCBjcmVhdGVTZWxlY3RvciA9IChjcmVhdGVTZWxlY3RvckNyZWF0b3IgYXMgYW55KSguLi5hcmdzKTtcbiAgY29uc3QgY3JlYXRlRHJhZnRTYWZlU2VsZWN0b3IgPSBPYmplY3QuYXNzaWduKCguLi5hcmdzOiB1bmtub3duW10pID0+IHtcbiAgICBjb25zdCBzZWxlY3RvciA9IGNyZWF0ZVNlbGVjdG9yKC4uLmFyZ3MpO1xuICAgIGNvbnN0IHdyYXBwZWRTZWxlY3RvciA9ICh2YWx1ZTogdW5rbm93biwgLi4ucmVzdDogdW5rbm93bltdKSA9PiBzZWxlY3Rvcihpc0RyYWZ0KHZhbHVlKSA/IGN1cnJlbnQodmFsdWUpIDogdmFsdWUsIC4uLnJlc3QpO1xuICAgIE9iamVjdC5hc3NpZ24od3JhcHBlZFNlbGVjdG9yLCBzZWxlY3Rvcik7XG4gICAgcmV0dXJuICh3cmFwcGVkU2VsZWN0b3IgYXMgYW55KTtcbiAgfSwge1xuICAgIHdpdGhUeXBlczogKCkgPT4gY3JlYXRlRHJhZnRTYWZlU2VsZWN0b3JcbiAgfSk7XG4gIHJldHVybiBjcmVhdGVEcmFmdFNhZmVTZWxlY3Rvcjtcbn07XG5cbi8qKlxyXG4gKiBcIkRyYWZ0LVNhZmVcIiB2ZXJzaW9uIG9mIGByZXNlbGVjdGAncyBgY3JlYXRlU2VsZWN0b3JgOlxyXG4gKiBJZiBhbiBgaW1tZXJgLWRyYWZ0ZWQgb2JqZWN0IGlzIHBhc3NlZCBpbnRvIHRoZSByZXN1bHRpbmcgc2VsZWN0b3IncyBmaXJzdCBhcmd1bWVudCxcclxuICogdGhlIHNlbGVjdG9yIHdpbGwgYWN0IG9uIHRoZSBjdXJyZW50IGRyYWZ0IHZhbHVlLCBpbnN0ZWFkIG9mIHJldHVybmluZyBhIGNhY2hlZCB2YWx1ZVxyXG4gKiB0aGF0IG1pZ2h0IGJlIHBvc3NpYmx5IG91dGRhdGVkIGlmIHRoZSBkcmFmdCBoYXMgYmVlbiBtb2RpZmllZCBzaW5jZS5cclxuICogQHB1YmxpY1xyXG4gKi9cbmV4cG9ydCBjb25zdCBjcmVhdGVEcmFmdFNhZmVTZWxlY3RvciA9IGNyZWF0ZURyYWZ0U2FmZVNlbGVjdG9yQ3JlYXRvcih3ZWFrTWFwTWVtb2l6ZSk7IiwiaW1wb3J0IHsgZm9ybWF0UHJvZEVycm9yTWVzc2FnZSBhcyBfZm9ybWF0UHJvZEVycm9yTWVzc2FnZTcgfSBmcm9tIFwiQHJlZHV4anMvdG9vbGtpdFwiO1xuaW1wb3J0IHsgZm9ybWF0UHJvZEVycm9yTWVzc2FnZSBhcyBfZm9ybWF0UHJvZEVycm9yTWVzc2FnZTYgfSBmcm9tIFwiQHJlZHV4anMvdG9vbGtpdFwiO1xuaW1wb3J0IHsgZm9ybWF0UHJvZEVycm9yTWVzc2FnZSBhcyBfZm9ybWF0UHJvZEVycm9yTWVzc2FnZTUgfSBmcm9tIFwiQHJlZHV4anMvdG9vbGtpdFwiO1xuaW1wb3J0IHsgZm9ybWF0UHJvZEVycm9yTWVzc2FnZSBhcyBfZm9ybWF0UHJvZEVycm9yTWVzc2FnZTQgfSBmcm9tIFwiQHJlZHV4anMvdG9vbGtpdFwiO1xuaW1wb3J0IHsgZm9ybWF0UHJvZEVycm9yTWVzc2FnZSBhcyBfZm9ybWF0UHJvZEVycm9yTWVzc2FnZTMgfSBmcm9tIFwiQHJlZHV4anMvdG9vbGtpdFwiO1xuaW1wb3J0IHsgZm9ybWF0UHJvZEVycm9yTWVzc2FnZSBhcyBfZm9ybWF0UHJvZEVycm9yTWVzc2FnZTIgfSBmcm9tIFwiQHJlZHV4anMvdG9vbGtpdFwiO1xuaW1wb3J0IHsgZm9ybWF0UHJvZEVycm9yTWVzc2FnZSBhcyBfZm9ybWF0UHJvZEVycm9yTWVzc2FnZSB9IGZyb20gXCJAcmVkdXhqcy90b29sa2l0XCI7XG5pbXBvcnQgdHlwZSB7IFJlZHVjZXIsIFJlZHVjZXJzTWFwT2JqZWN0LCBNaWRkbGV3YXJlLCBBY3Rpb24sIFN0b3JlRW5oYW5jZXIsIFN0b3JlLCBVbmtub3duQWN0aW9uIH0gZnJvbSAncmVkdXgnO1xuaW1wb3J0IHsgYXBwbHlNaWRkbGV3YXJlLCBjcmVhdGVTdG9yZSwgY29tcG9zZSwgY29tYmluZVJlZHVjZXJzLCBpc1BsYWluT2JqZWN0IH0gZnJvbSAncmVkdXgnO1xuaW1wb3J0IHR5cGUgeyBEZXZUb29sc0VuaGFuY2VyT3B0aW9ucyBhcyBEZXZUb29sc09wdGlvbnMgfSBmcm9tICcuL2RldnRvb2xzRXh0ZW5zaW9uJztcbmltcG9ydCB7IGNvbXBvc2VXaXRoRGV2VG9vbHMgfSBmcm9tICcuL2RldnRvb2xzRXh0ZW5zaW9uJztcbmltcG9ydCB0eXBlIHsgVGh1bmtNaWRkbGV3YXJlRm9yLCBHZXREZWZhdWx0TWlkZGxld2FyZSB9IGZyb20gJy4vZ2V0RGVmYXVsdE1pZGRsZXdhcmUnO1xuaW1wb3J0IHsgYnVpbGRHZXREZWZhdWx0TWlkZGxld2FyZSB9IGZyb20gJy4vZ2V0RGVmYXVsdE1pZGRsZXdhcmUnO1xuaW1wb3J0IHR5cGUgeyBFeHRyYWN0RGlzcGF0Y2hFeHRlbnNpb25zLCBFeHRyYWN0U3RvcmVFeHRlbnNpb25zLCBFeHRyYWN0U3RhdGVFeHRlbnNpb25zLCBVbmtub3duSWZOb25TcGVjaWZpYyB9IGZyb20gJy4vdHNIZWxwZXJzJztcbmltcG9ydCB0eXBlIHsgVHVwbGUgfSBmcm9tICcuL3V0aWxzJztcbmltcG9ydCB0eXBlIHsgR2V0RGVmYXVsdEVuaGFuY2VycyB9IGZyb20gJy4vZ2V0RGVmYXVsdEVuaGFuY2Vycyc7XG5pbXBvcnQgeyBidWlsZEdldERlZmF1bHRFbmhhbmNlcnMgfSBmcm9tICcuL2dldERlZmF1bHRFbmhhbmNlcnMnO1xuY29uc3QgSVNfUFJPRFVDVElPTiA9IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbic7XG5cbi8qKlxyXG4gKiBPcHRpb25zIGZvciBgY29uZmlndXJlU3RvcmUoKWAuXHJcbiAqXHJcbiAqIEBwdWJsaWNcclxuICovXG5leHBvcnQgaW50ZXJmYWNlIENvbmZpZ3VyZVN0b3JlT3B0aW9uczxTID0gYW55LCBBIGV4dGVuZHMgQWN0aW9uID0gVW5rbm93bkFjdGlvbiwgTSBleHRlbmRzIFR1cGxlPE1pZGRsZXdhcmVzPFM+PiA9IFR1cGxlPE1pZGRsZXdhcmVzPFM+PiwgRSBleHRlbmRzIFR1cGxlPEVuaGFuY2Vycz4gPSBUdXBsZTxFbmhhbmNlcnM+LCBQID0gUz4ge1xuICAvKipcclxuICAgKiBBIHNpbmdsZSByZWR1Y2VyIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSB1c2VkIGFzIHRoZSByb290IHJlZHVjZXIsIG9yIGFuXHJcbiAgICogb2JqZWN0IG9mIHNsaWNlIHJlZHVjZXJzIHRoYXQgd2lsbCBiZSBwYXNzZWQgdG8gYGNvbWJpbmVSZWR1Y2VycygpYC5cclxuICAgKi9cbiAgcmVkdWNlcjogUmVkdWNlcjxTLCBBLCBQPiB8IFJlZHVjZXJzTWFwT2JqZWN0PFMsIEEsIFA+O1xuXG4gIC8qKlxyXG4gICAqIEFuIGFycmF5IG9mIFJlZHV4IG1pZGRsZXdhcmUgdG8gaW5zdGFsbCwgb3IgYSBjYWxsYmFjayByZWNlaXZpbmcgYGdldERlZmF1bHRNaWRkbGV3YXJlYCBhbmQgcmV0dXJuaW5nIGEgVHVwbGUgb2YgbWlkZGxld2FyZS5cclxuICAgKiBJZiBub3Qgc3VwcGxpZWQsIGRlZmF1bHRzIHRvIHRoZSBzZXQgb2YgbWlkZGxld2FyZSByZXR1cm5lZCBieSBgZ2V0RGVmYXVsdE1pZGRsZXdhcmUoKWAuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZSBgbWlkZGxld2FyZTogKGdETSkgPT4gZ0RNKCkuY29uY2F0KGxvZ2dlciwgYXBpTWlkZGxld2FyZSwgeW91ckN1c3RvbU1pZGRsZXdhcmUpYFxyXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWR1eC10b29sa2l0LmpzLm9yZy9hcGkvZ2V0RGVmYXVsdE1pZGRsZXdhcmUjaW50ZW5kZWQtdXNhZ2VcclxuICAgKi9cbiAgbWlkZGxld2FyZT86IChnZXREZWZhdWx0TWlkZGxld2FyZTogR2V0RGVmYXVsdE1pZGRsZXdhcmU8Uz4pID0+IE07XG5cbiAgLyoqXHJcbiAgICogV2hldGhlciB0byBlbmFibGUgUmVkdXggRGV2VG9vbHMgaW50ZWdyYXRpb24uIERlZmF1bHRzIHRvIGB0cnVlYC5cclxuICAgKlxyXG4gICAqIEFkZGl0aW9uYWwgY29uZmlndXJhdGlvbiBjYW4gYmUgZG9uZSBieSBwYXNzaW5nIFJlZHV4IERldlRvb2xzIG9wdGlvbnNcclxuICAgKi9cbiAgZGV2VG9vbHM/OiBib29sZWFuIHwgRGV2VG9vbHNPcHRpb25zO1xuXG4gIC8qKlxyXG4gICAqIFRoZSBpbml0aWFsIHN0YXRlLCBzYW1lIGFzIFJlZHV4J3MgY3JlYXRlU3RvcmUuXHJcbiAgICogWW91IG1heSBvcHRpb25hbGx5IHNwZWNpZnkgaXQgdG8gaHlkcmF0ZSB0aGUgc3RhdGVcclxuICAgKiBmcm9tIHRoZSBzZXJ2ZXIgaW4gdW5pdmVyc2FsIGFwcHMsIG9yIHRvIHJlc3RvcmUgYSBwcmV2aW91c2x5IHNlcmlhbGl6ZWRcclxuICAgKiB1c2VyIHNlc3Npb24uIElmIHlvdSB1c2UgYGNvbWJpbmVSZWR1Y2VycygpYCB0byBwcm9kdWNlIHRoZSByb290IHJlZHVjZXJcclxuICAgKiBmdW5jdGlvbiAoZWl0aGVyIGRpcmVjdGx5IG9yIGluZGlyZWN0bHkgYnkgcGFzc2luZyBhbiBvYmplY3QgYXMgYHJlZHVjZXJgKSxcclxuICAgKiB0aGlzIG11c3QgYmUgYW4gb2JqZWN0IHdpdGggdGhlIHNhbWUgc2hhcGUgYXMgdGhlIHJlZHVjZXIgbWFwIGtleXMuXHJcbiAgICovXG4gIC8vIHdlIGluZmVyIGhlcmUsIGFuZCBpbnN0ZWFkIGNvbXBsYWluIGlmIHRoZSByZWR1Y2VyIGRvZXNuJ3QgbWF0Y2hcbiAgcHJlbG9hZGVkU3RhdGU/OiBQO1xuXG4gIC8qKlxyXG4gICAqIFRoZSBzdG9yZSBlbmhhbmNlcnMgdG8gYXBwbHkuIFNlZSBSZWR1eCdzIGBjcmVhdGVTdG9yZSgpYC5cclxuICAgKiBBbGwgZW5oYW5jZXJzIHdpbGwgYmUgaW5jbHVkZWQgYmVmb3JlIHRoZSBEZXZUb29scyBFeHRlbnNpb24gZW5oYW5jZXIuXHJcbiAgICogSWYgeW91IG5lZWQgdG8gY3VzdG9taXplIHRoZSBvcmRlciBvZiBlbmhhbmNlcnMsIHN1cHBseSBhIGNhbGxiYWNrXHJcbiAgICogZnVuY3Rpb24gdGhhdCB3aWxsIHJlY2VpdmUgYSBgZ2V0RGVmYXVsdEVuaGFuY2Vyc2AgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgVHVwbGUsXHJcbiAgICogYW5kIHNob3VsZCByZXR1cm4gYSBUdXBsZSBvZiBlbmhhbmNlcnMgKHN1Y2ggYXMgYGdldERlZmF1bHRFbmhhbmNlcnMoKS5jb25jYXQob2ZmbGluZSlgKS5cclxuICAgKiBJZiB5b3Ugb25seSBuZWVkIHRvIGFkZCBtaWRkbGV3YXJlLCB5b3UgY2FuIHVzZSB0aGUgYG1pZGRsZXdhcmVgIHBhcmFtZXRlciBpbnN0ZWFkLlxyXG4gICAqL1xuICBlbmhhbmNlcnM/OiAoZ2V0RGVmYXVsdEVuaGFuY2VyczogR2V0RGVmYXVsdEVuaGFuY2VyczxNPikgPT4gRTtcbn1cbmV4cG9ydCB0eXBlIE1pZGRsZXdhcmVzPFM+ID0gUmVhZG9ubHlBcnJheTxNaWRkbGV3YXJlPHt9LCBTPj47XG50eXBlIEVuaGFuY2VycyA9IFJlYWRvbmx5QXJyYXk8U3RvcmVFbmhhbmNlcj47XG5cbi8qKlxyXG4gKiBBIFJlZHV4IHN0b3JlIHJldHVybmVkIGJ5IGBjb25maWd1cmVTdG9yZSgpYC4gU3VwcG9ydHMgZGlzcGF0Y2hpbmdcclxuICogc2lkZS1lZmZlY3RmdWwgX3RodW5rc18gaW4gYWRkaXRpb24gdG8gcGxhaW4gYWN0aW9ucy5cclxuICpcclxuICogQHB1YmxpY1xyXG4gKi9cbmV4cG9ydCB0eXBlIEVuaGFuY2VkU3RvcmU8UyA9IGFueSwgQSBleHRlbmRzIEFjdGlvbiA9IFVua25vd25BY3Rpb24sIEUgZXh0ZW5kcyBFbmhhbmNlcnMgPSBFbmhhbmNlcnM+ID0gRXh0cmFjdFN0b3JlRXh0ZW5zaW9uczxFPiAmIFN0b3JlPFMsIEEsIFVua25vd25JZk5vblNwZWNpZmljPEV4dHJhY3RTdGF0ZUV4dGVuc2lvbnM8RT4+PjtcblxuLyoqXHJcbiAqIEEgZnJpZW5kbHkgYWJzdHJhY3Rpb24gb3ZlciB0aGUgc3RhbmRhcmQgUmVkdXggYGNyZWF0ZVN0b3JlKClgIGZ1bmN0aW9uLlxyXG4gKlxyXG4gKiBAcGFyYW0gb3B0aW9ucyBUaGUgc3RvcmUgY29uZmlndXJhdGlvbi5cclxuICogQHJldHVybnMgQSBjb25maWd1cmVkIFJlZHV4IHN0b3JlLlxyXG4gKlxyXG4gKiBAcHVibGljXHJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbmZpZ3VyZVN0b3JlPFMgPSBhbnksIEEgZXh0ZW5kcyBBY3Rpb24gPSBVbmtub3duQWN0aW9uLCBNIGV4dGVuZHMgVHVwbGU8TWlkZGxld2FyZXM8Uz4+ID0gVHVwbGU8W1RodW5rTWlkZGxld2FyZUZvcjxTPl0+LCBFIGV4dGVuZHMgVHVwbGU8RW5oYW5jZXJzPiA9IFR1cGxlPFtTdG9yZUVuaGFuY2VyPHtcbiAgZGlzcGF0Y2g6IEV4dHJhY3REaXNwYXRjaEV4dGVuc2lvbnM8TT47XG59PiwgU3RvcmVFbmhhbmNlcl0+LCBQID0gUz4ob3B0aW9uczogQ29uZmlndXJlU3RvcmVPcHRpb25zPFMsIEEsIE0sIEUsIFA+KTogRW5oYW5jZWRTdG9yZTxTLCBBLCBFPiB7XG4gIGNvbnN0IGdldERlZmF1bHRNaWRkbGV3YXJlID0gYnVpbGRHZXREZWZhdWx0TWlkZGxld2FyZTxTPigpO1xuICBjb25zdCB7XG4gICAgcmVkdWNlciA9IHVuZGVmaW5lZCxcbiAgICBtaWRkbGV3YXJlLFxuICAgIGRldlRvb2xzID0gdHJ1ZSxcbiAgICBwcmVsb2FkZWRTdGF0ZSA9IHVuZGVmaW5lZCxcbiAgICBlbmhhbmNlcnMgPSB1bmRlZmluZWRcbiAgfSA9IG9wdGlvbnMgfHwge307XG4gIGxldCByb290UmVkdWNlcjogUmVkdWNlcjxTLCBBLCBQPjtcbiAgaWYgKHR5cGVvZiByZWR1Y2VyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcm9vdFJlZHVjZXIgPSByZWR1Y2VyO1xuICB9IGVsc2UgaWYgKGlzUGxhaW5PYmplY3QocmVkdWNlcikpIHtcbiAgICByb290UmVkdWNlciA9ICgoY29tYmluZVJlZHVjZXJzKHJlZHVjZXIpIGFzIHVua25vd24pIGFzIFJlZHVjZXI8UywgQSwgUD4pO1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcihwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJwcm9kdWN0aW9uXCIgPyBfZm9ybWF0UHJvZEVycm9yTWVzc2FnZSgxKSA6ICdgcmVkdWNlcmAgaXMgYSByZXF1aXJlZCBhcmd1bWVudCwgYW5kIG11c3QgYmUgYSBmdW5jdGlvbiBvciBhbiBvYmplY3Qgb2YgZnVuY3Rpb25zIHRoYXQgY2FuIGJlIHBhc3NlZCB0byBjb21iaW5lUmVkdWNlcnMnKTtcbiAgfVxuICBpZiAoIUlTX1BST0RVQ1RJT04gJiYgbWlkZGxld2FyZSAmJiB0eXBlb2YgbWlkZGxld2FyZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBFcnJvcihwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJwcm9kdWN0aW9uXCIgPyBfZm9ybWF0UHJvZEVycm9yTWVzc2FnZTIoMikgOiAnYG1pZGRsZXdhcmVgIGZpZWxkIG11c3QgYmUgYSBjYWxsYmFjaycpO1xuICB9XG4gIGxldCBmaW5hbE1pZGRsZXdhcmU6IFR1cGxlPE1pZGRsZXdhcmVzPFM+PjtcbiAgaWYgKHR5cGVvZiBtaWRkbGV3YXJlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgZmluYWxNaWRkbGV3YXJlID0gbWlkZGxld2FyZShnZXREZWZhdWx0TWlkZGxld2FyZSk7XG4gICAgaWYgKCFJU19QUk9EVUNUSU9OICYmICFBcnJheS5pc0FycmF5KGZpbmFsTWlkZGxld2FyZSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJwcm9kdWN0aW9uXCIgPyBfZm9ybWF0UHJvZEVycm9yTWVzc2FnZTMoMykgOiAnd2hlbiB1c2luZyBhIG1pZGRsZXdhcmUgYnVpbGRlciBmdW5jdGlvbiwgYW4gYXJyYXkgb2YgbWlkZGxld2FyZSBtdXN0IGJlIHJldHVybmVkJyk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGZpbmFsTWlkZGxld2FyZSA9IGdldERlZmF1bHRNaWRkbGV3YXJlKCk7XG4gIH1cbiAgaWYgKCFJU19QUk9EVUNUSU9OICYmIGZpbmFsTWlkZGxld2FyZS5zb21lKChpdGVtOiBhbnkpID0+IHR5cGVvZiBpdGVtICE9PSAnZnVuY3Rpb24nKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJwcm9kdWN0aW9uXCIgPyBfZm9ybWF0UHJvZEVycm9yTWVzc2FnZTQoNCkgOiAnZWFjaCBtaWRkbGV3YXJlIHByb3ZpZGVkIHRvIGNvbmZpZ3VyZVN0b3JlIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICB9XG4gIGxldCBmaW5hbENvbXBvc2UgPSBjb21wb3NlO1xuICBpZiAoZGV2VG9vbHMpIHtcbiAgICBmaW5hbENvbXBvc2UgPSBjb21wb3NlV2l0aERldlRvb2xzKHtcbiAgICAgIC8vIEVuYWJsZSBjYXB0dXJlIG9mIHN0YWNrIHRyYWNlcyBmb3IgZGlzcGF0Y2hlZCBSZWR1eCBhY3Rpb25zXG4gICAgICB0cmFjZTogIUlTX1BST0RVQ1RJT04sXG4gICAgICAuLi4odHlwZW9mIGRldlRvb2xzID09PSAnb2JqZWN0JyAmJiBkZXZUb29scylcbiAgICB9KTtcbiAgfVxuICBjb25zdCBtaWRkbGV3YXJlRW5oYW5jZXIgPSBhcHBseU1pZGRsZXdhcmUoLi4uZmluYWxNaWRkbGV3YXJlKTtcbiAgY29uc3QgZ2V0RGVmYXVsdEVuaGFuY2VycyA9IGJ1aWxkR2V0RGVmYXVsdEVuaGFuY2VyczxNPihtaWRkbGV3YXJlRW5oYW5jZXIpO1xuICBpZiAoIUlTX1BST0RVQ1RJT04gJiYgZW5oYW5jZXJzICYmIHR5cGVvZiBlbmhhbmNlcnMgIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiID8gX2Zvcm1hdFByb2RFcnJvck1lc3NhZ2U1KDUpIDogJ2BlbmhhbmNlcnNgIGZpZWxkIG11c3QgYmUgYSBjYWxsYmFjaycpO1xuICB9XG4gIGxldCBzdG9yZUVuaGFuY2VycyA9IHR5cGVvZiBlbmhhbmNlcnMgPT09ICdmdW5jdGlvbicgPyBlbmhhbmNlcnMoZ2V0RGVmYXVsdEVuaGFuY2VycykgOiBnZXREZWZhdWx0RW5oYW5jZXJzKCk7XG4gIGlmICghSVNfUFJPRFVDVElPTiAmJiAhQXJyYXkuaXNBcnJheShzdG9yZUVuaGFuY2VycykpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiID8gX2Zvcm1hdFByb2RFcnJvck1lc3NhZ2U2KDYpIDogJ2BlbmhhbmNlcnNgIGNhbGxiYWNrIG11c3QgcmV0dXJuIGFuIGFycmF5Jyk7XG4gIH1cbiAgaWYgKCFJU19QUk9EVUNUSU9OICYmIHN0b3JlRW5oYW5jZXJzLnNvbWUoKGl0ZW06IGFueSkgPT4gdHlwZW9mIGl0ZW0gIT09ICdmdW5jdGlvbicpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIiA/IF9mb3JtYXRQcm9kRXJyb3JNZXNzYWdlNyg3KSA6ICdlYWNoIGVuaGFuY2VyIHByb3ZpZGVkIHRvIGNvbmZpZ3VyZVN0b3JlIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICB9XG4gIGlmICghSVNfUFJPRFVDVElPTiAmJiBmaW5hbE1pZGRsZXdhcmUubGVuZ3RoICYmICFzdG9yZUVuaGFuY2Vycy5pbmNsdWRlcyhtaWRkbGV3YXJlRW5oYW5jZXIpKSB7XG4gICAgY29uc29sZS5lcnJvcignbWlkZGxld2FyZXMgd2VyZSBwcm92aWRlZCwgYnV0IG1pZGRsZXdhcmUgZW5oYW5jZXIgd2FzIG5vdCBpbmNsdWRlZCBpbiBmaW5hbCBlbmhhbmNlcnMgLSBtYWtlIHN1cmUgdG8gY2FsbCBgZ2V0RGVmYXVsdEVuaGFuY2Vyc2AnKTtcbiAgfVxuICBjb25zdCBjb21wb3NlZEVuaGFuY2VyOiBTdG9yZUVuaGFuY2VyPGFueT4gPSBmaW5hbENvbXBvc2UoLi4uc3RvcmVFbmhhbmNlcnMpO1xuICByZXR1cm4gY3JlYXRlU3RvcmUocm9vdFJlZHVjZXIsIChwcmVsb2FkZWRTdGF0ZSBhcyBQKSwgY29tcG9zZWRFbmhhbmNlcik7XG59IiwiaW1wb3J0IHR5cGUgeyBBY3Rpb24sIEFjdGlvbkNyZWF0b3IsIFN0b3JlRW5oYW5jZXIgfSBmcm9tICdyZWR1eCc7XG5pbXBvcnQgeyBjb21wb3NlIH0gZnJvbSAncmVkdXgnO1xuXG4vKipcclxuICogQHB1YmxpY1xyXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRGV2VG9vbHNFbmhhbmNlck9wdGlvbnMge1xuICAvKipcclxuICAgKiB0aGUgaW5zdGFuY2UgbmFtZSB0byBiZSBzaG93ZWQgb24gdGhlIG1vbml0b3IgcGFnZS4gRGVmYXVsdCB2YWx1ZSBpcyBgZG9jdW1lbnQudGl0bGVgLlxyXG4gICAqIElmIG5vdCBzcGVjaWZpZWQgYW5kIHRoZXJlJ3Mgbm8gZG9jdW1lbnQgdGl0bGUsIGl0IHdpbGwgY29uc2lzdCBvZiBgdGFiSWRgIGFuZCBgaW5zdGFuY2VJZGAuXHJcbiAgICovXG4gIG5hbWU/OiBzdHJpbmc7XG4gIC8qKlxyXG4gICAqIGFjdGlvbiBjcmVhdG9ycyBmdW5jdGlvbnMgdG8gYmUgYXZhaWxhYmxlIGluIHRoZSBEaXNwYXRjaGVyLlxyXG4gICAqL1xuICBhY3Rpb25DcmVhdG9ycz86IEFjdGlvbkNyZWF0b3I8YW55PltdIHwge1xuICAgIFtrZXk6IHN0cmluZ106IEFjdGlvbkNyZWF0b3I8YW55PjtcbiAgfTtcbiAgLyoqXHJcbiAgICogaWYgbW9yZSB0aGFuIG9uZSBhY3Rpb24gaXMgZGlzcGF0Y2hlZCBpbiB0aGUgaW5kaWNhdGVkIGludGVydmFsLCBhbGwgbmV3IGFjdGlvbnMgd2lsbCBiZSBjb2xsZWN0ZWQgYW5kIHNlbnQgYXQgb25jZS5cclxuICAgKiBJdCBpcyB0aGUgam9pbnQgYmV0d2VlbiBwZXJmb3JtYW5jZSBhbmQgc3BlZWQuIFdoZW4gc2V0IHRvIGAwYCwgYWxsIGFjdGlvbnMgd2lsbCBiZSBzZW50IGluc3RhbnRseS5cclxuICAgKiBTZXQgaXQgdG8gYSBoaWdoZXIgdmFsdWUgd2hlbiBleHBlcmllbmNpbmcgcGVyZiBpc3N1ZXMgKGFsc28gYG1heEFnZWAgdG8gYSBsb3dlciB2YWx1ZSkuXHJcbiAgICpcclxuICAgKiBAZGVmYXVsdCA1MDAgbXMuXHJcbiAgICovXG4gIGxhdGVuY3k/OiBudW1iZXI7XG4gIC8qKlxyXG4gICAqICg+IDEpIC0gbWF4aW11bSBhbGxvd2VkIGFjdGlvbnMgdG8gYmUgc3RvcmVkIGluIHRoZSBoaXN0b3J5IHRyZWUuIFRoZSBvbGRlc3QgYWN0aW9ucyBhcmUgcmVtb3ZlZCBvbmNlIG1heEFnZSBpcyByZWFjaGVkLiBJdCdzIGNyaXRpY2FsIGZvciBwZXJmb3JtYW5jZS5cclxuICAgKlxyXG4gICAqIEBkZWZhdWx0IDUwXHJcbiAgICovXG4gIG1heEFnZT86IG51bWJlcjtcbiAgLyoqXHJcbiAgICogQ3VzdG9taXplcyBob3cgYWN0aW9ucyBhbmQgc3RhdGUgYXJlIHNlcmlhbGl6ZWQgYW5kIGRlc2VyaWFsaXplZC4gQ2FuIGJlIGEgYm9vbGVhbiBvciBvYmplY3QuIElmIGdpdmVuIGEgYm9vbGVhbiwgdGhlIGJlaGF2aW9yIGlzIHRoZSBzYW1lIGFzIGlmIHlvdVxyXG4gICAqIHdlcmUgdG8gcGFzcyBhbiBvYmplY3QgYW5kIHNwZWNpZnkgYG9wdGlvbnNgIGFzIGEgYm9vbGVhbi4gR2l2aW5nIGFuIG9iamVjdCBhbGxvd3MgZmluZS1ncmFpbmVkIGN1c3RvbWl6YXRpb24gdXNpbmcgdGhlIGByZXBsYWNlcmAgYW5kIGByZXZpdmVyYFxyXG4gICAqIGZ1bmN0aW9ucy5cclxuICAgKi9cbiAgc2VyaWFsaXplPzogYm9vbGVhbiB8IHtcbiAgICAvKipcclxuICAgICAqIC0gYHVuZGVmaW5lZGAgLSB3aWxsIHVzZSByZWd1bGFyIGBKU09OLnN0cmluZ2lmeWAgdG8gc2VuZCBkYXRhIChpdCdzIHRoZSBmYXN0IG1vZGUpLlxyXG4gICAgICogLSBgZmFsc2VgIC0gd2lsbCBoYW5kbGUgYWxzbyBjaXJjdWxhciByZWZlcmVuY2VzLlxyXG4gICAgICogLSBgdHJ1ZWAgLSB3aWxsIGhhbmRsZSBhbHNvIGRhdGUsIHJlZ2V4LCB1bmRlZmluZWQsIGVycm9yIG9iamVjdHMsIHN5bWJvbHMsIG1hcHMsIHNldHMgYW5kIGZ1bmN0aW9ucy5cclxuICAgICAqIC0gb2JqZWN0LCB3aGljaCBjb250YWlucyBgZGF0ZWAsIGByZWdleGAsIGB1bmRlZmluZWRgLCBgZXJyb3JgLCBgc3ltYm9sYCwgYG1hcGAsIGBzZXRgIGFuZCBgZnVuY3Rpb25gIGtleXMuXHJcbiAgICAgKiAgIEZvciBlYWNoIG9mIHRoZW0geW91IGNhbiBpbmRpY2F0ZSBpZiB0byBpbmNsdWRlIChieSBzZXR0aW5nIGFzIGB0cnVlYCkuXHJcbiAgICAgKiAgIEZvciBgZnVuY3Rpb25gIGtleSB5b3UgY2FuIGFsc28gc3BlY2lmeSBhIGN1c3RvbSBmdW5jdGlvbiB3aGljaCBoYW5kbGVzIHNlcmlhbGl6YXRpb24uXHJcbiAgICAgKiAgIFNlZSBbYGpzYW5gXShodHRwczovL2dpdGh1Yi5jb20va29sb2RueS9qc2FuKSBmb3IgbW9yZSBkZXRhaWxzLlxyXG4gICAgICovXG4gICAgb3B0aW9ucz86IHVuZGVmaW5lZCB8IGJvb2xlYW4gfCB7XG4gICAgICBkYXRlPzogdHJ1ZTtcbiAgICAgIHJlZ2V4PzogdHJ1ZTtcbiAgICAgIHVuZGVmaW5lZD86IHRydWU7XG4gICAgICBlcnJvcj86IHRydWU7XG4gICAgICBzeW1ib2w/OiB0cnVlO1xuICAgICAgbWFwPzogdHJ1ZTtcbiAgICAgIHNldD86IHRydWU7XG4gICAgICBmdW5jdGlvbj86IHRydWUgfCAoKGZuOiAoLi4uYXJnczogYW55W10pID0+IGFueSkgPT4gc3RyaW5nKTtcbiAgICB9O1xuICAgIC8qKlxyXG4gICAgICogW0pTT04gcmVwbGFjZXIgZnVuY3Rpb25dKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0pTT04vc3RyaW5naWZ5I1RoZV9yZXBsYWNlcl9wYXJhbWV0ZXIpIHVzZWQgZm9yIGJvdGggYWN0aW9ucyBhbmQgc3RhdGVzIHN0cmluZ2lmeS5cclxuICAgICAqIEluIGFkZGl0aW9uLCB5b3UgY2FuIHNwZWNpZnkgYSBkYXRhIHR5cGUgYnkgYWRkaW5nIGEgW2BfX3NlcmlhbGl6ZWRUeXBlX19gXShodHRwczovL2dpdGh1Yi5jb20vemFsbW94aXN1cy9yZW1vdGVkZXYtc2VyaWFsaXplL2Jsb2IvbWFzdGVyL2hlbHBlcnMvaW5kZXguanMjTDQpXHJcbiAgICAgKiBrZXkuIFNvIHlvdSBjYW4gZGVzZXJpYWxpemUgaXQgYmFjayB3aGlsZSBpbXBvcnRpbmcgb3IgcGVyc2lzdGluZyBkYXRhLlxyXG4gICAgICogTW9yZW92ZXIsIGl0IHdpbGwgYWxzbyBbc2hvdyBhIG5pY2UgcHJldmlldyBzaG93aW5nIHRoZSBwcm92aWRlZCBjdXN0b20gdHlwZV0oaHR0cHM6Ly9jbG91ZC5naXRodWJ1c2VyY29udGVudC5jb20vYXNzZXRzLzc5NTc4NTkvMjE4MTQzMzAvYTE3ZDU1NmEtZDc2MS0xMWU2LTg1ZWYtMTU5ZGQxMmYzNmM1LnBuZyk6XHJcbiAgICAgKi9cbiAgICByZXBsYWNlcj86IChrZXk6IHN0cmluZywgdmFsdWU6IHVua25vd24pID0+IGFueTtcbiAgICAvKipcclxuICAgICAqIFtKU09OIGByZXZpdmVyYCBmdW5jdGlvbl0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvSlNPTi9wYXJzZSNVc2luZ190aGVfcmV2aXZlcl9wYXJhbWV0ZXIpXHJcbiAgICAgKiB1c2VkIGZvciBwYXJzaW5nIHRoZSBpbXBvcnRlZCBhY3Rpb25zIGFuZCBzdGF0ZXMuIFNlZSBbYHJlbW90ZWRldi1zZXJpYWxpemVgXShodHRwczovL2dpdGh1Yi5jb20vemFsbW94aXN1cy9yZW1vdGVkZXYtc2VyaWFsaXplL2Jsb2IvbWFzdGVyL2ltbXV0YWJsZS9zZXJpYWxpemUuanMjTDgtTDQxKVxyXG4gICAgICogYXMgYW4gZXhhbXBsZSBvbiBob3cgdG8gc2VyaWFsaXplIHNwZWNpYWwgZGF0YSB0eXBlcyBhbmQgZ2V0IHRoZW0gYmFjay5cclxuICAgICAqL1xuICAgIHJldml2ZXI/OiAoa2V5OiBzdHJpbmcsIHZhbHVlOiB1bmtub3duKSA9PiBhbnk7XG4gICAgLyoqXHJcbiAgICAgKiBBdXRvbWF0aWNhbGx5IHNlcmlhbGl6ZS9kZXNlcmlhbGl6ZSBpbW11dGFibGVqcyB2aWEgW3JlbW90ZWRldi1zZXJpYWxpemVdKGh0dHBzOi8vZ2l0aHViLmNvbS96YWxtb3hpc3VzL3JlbW90ZWRldi1zZXJpYWxpemUpLlxyXG4gICAgICogSnVzdCBwYXNzIHRoZSBJbW11dGFibGUgbGlicmFyeS4gSXQgd2lsbCBzdXBwb3J0IGFsbCBJbW11dGFibGVKUyBzdHJ1Y3R1cmVzLiBZb3UgY2FuIGV2ZW4gZXhwb3J0IHRoZW0gaW50byBhIGZpbGUgYW5kIGdldCB0aGVtIGJhY2suXHJcbiAgICAgKiBUaGUgb25seSBleGNlcHRpb24gaXMgYFJlY29yZGAgY2xhc3MsIGZvciB3aGljaCB5b3Ugc2hvdWxkIHBhc3MgdGhpcyBpbiBhZGRpdGlvbiB0aGUgcmVmZXJlbmNlcyB0byB5b3VyIGNsYXNzZXMgaW4gYHJlZnNgLlxyXG4gICAgICovXG4gICAgaW1tdXRhYmxlPzogYW55O1xuICAgIC8qKlxyXG4gICAgICogSW1tdXRhYmxlSlMgYFJlY29yZGAgY2xhc3NlcyB1c2VkIHRvIG1ha2UgcG9zc2libGUgcmVzdG9yZSBpdHMgaW5zdGFuY2VzIGJhY2sgd2hlbiBpbXBvcnRpbmcsIHBlcnNpc3RpbmcuLi5cclxuICAgICAqL1xuICAgIHJlZnM/OiBhbnk7XG4gIH07XG4gIC8qKlxyXG4gICAqIGZ1bmN0aW9uIHdoaWNoIHRha2VzIGBhY3Rpb25gIG9iamVjdCBhbmQgaWQgbnVtYmVyIGFzIGFyZ3VtZW50cywgYW5kIHNob3VsZCByZXR1cm4gYGFjdGlvbmAgb2JqZWN0IGJhY2suXHJcbiAgICovXG4gIGFjdGlvblNhbml0aXplcj86IDxBIGV4dGVuZHMgQWN0aW9uPihhY3Rpb246IEEsIGlkOiBudW1iZXIpID0+IEE7XG4gIC8qKlxyXG4gICAqIGZ1bmN0aW9uIHdoaWNoIHRha2VzIGBzdGF0ZWAgb2JqZWN0IGFuZCBpbmRleCBhcyBhcmd1bWVudHMsIGFuZCBzaG91bGQgcmV0dXJuIGBzdGF0ZWAgb2JqZWN0IGJhY2suXHJcbiAgICovXG4gIHN0YXRlU2FuaXRpemVyPzogPFM+KHN0YXRlOiBTLCBpbmRleDogbnVtYmVyKSA9PiBTO1xuICAvKipcclxuICAgKiAqc3RyaW5nIG9yIGFycmF5IG9mIHN0cmluZ3MgYXMgcmVnZXgqIC0gYWN0aW9ucyB0eXBlcyB0byBiZSBoaWRkZW4gLyBzaG93biBpbiB0aGUgbW9uaXRvcnMgKHdoaWxlIHBhc3NlZCB0byB0aGUgcmVkdWNlcnMpLlxyXG4gICAqIElmIGBhY3Rpb25zQWxsb3dsaXN0YCBzcGVjaWZpZWQsIGBhY3Rpb25zRGVueWxpc3RgIGlzIGlnbm9yZWQuXHJcbiAgICovXG4gIGFjdGlvbnNEZW55bGlzdD86IHN0cmluZyB8IHN0cmluZ1tdO1xuICAvKipcclxuICAgKiAqc3RyaW5nIG9yIGFycmF5IG9mIHN0cmluZ3MgYXMgcmVnZXgqIC0gYWN0aW9ucyB0eXBlcyB0byBiZSBoaWRkZW4gLyBzaG93biBpbiB0aGUgbW9uaXRvcnMgKHdoaWxlIHBhc3NlZCB0byB0aGUgcmVkdWNlcnMpLlxyXG4gICAqIElmIGBhY3Rpb25zQWxsb3dsaXN0YCBzcGVjaWZpZWQsIGBhY3Rpb25zRGVueWxpc3RgIGlzIGlnbm9yZWQuXHJcbiAgICovXG4gIGFjdGlvbnNBbGxvd2xpc3Q/OiBzdHJpbmcgfCBzdHJpbmdbXTtcbiAgLyoqXHJcbiAgICogY2FsbGVkIGZvciBldmVyeSBhY3Rpb24gYmVmb3JlIHNlbmRpbmcsIHRha2VzIGBzdGF0ZWAgYW5kIGBhY3Rpb25gIG9iamVjdCwgYW5kIHJldHVybnMgYHRydWVgIGluIGNhc2UgaXQgYWxsb3dzIHNlbmRpbmcgdGhlIGN1cnJlbnQgZGF0YSB0byB0aGUgbW9uaXRvci5cclxuICAgKiBVc2UgaXQgYXMgYSBtb3JlIGFkdmFuY2VkIHZlcnNpb24gb2YgYGFjdGlvbnNEZW55bGlzdGAvYGFjdGlvbnNBbGxvd2xpc3RgIHBhcmFtZXRlcnMuXHJcbiAgICovXG4gIHByZWRpY2F0ZT86IDxTLCBBIGV4dGVuZHMgQWN0aW9uPihzdGF0ZTogUywgYWN0aW9uOiBBKSA9PiBib29sZWFuO1xuICAvKipcclxuICAgKiBpZiBzcGVjaWZpZWQgYXMgYGZhbHNlYCwgaXQgd2lsbCBub3QgcmVjb3JkIHRoZSBjaGFuZ2VzIHRpbGwgY2xpY2tpbmcgb24gYFN0YXJ0IHJlY29yZGluZ2AgYnV0dG9uLlxyXG4gICAqIEF2YWlsYWJsZSBvbmx5IGZvciBSZWR1eCBlbmhhbmNlciwgZm9yIG90aGVycyB1c2UgYGF1dG9QYXVzZWAuXHJcbiAgICpcclxuICAgKiBAZGVmYXVsdCB0cnVlXHJcbiAgICovXG4gIHNob3VsZFJlY29yZENoYW5nZXM/OiBib29sZWFuO1xuICAvKipcclxuICAgKiBpZiBzcGVjaWZpZWQsIHdoZW5ldmVyIGNsaWNraW5nIG9uIGBQYXVzZSByZWNvcmRpbmdgIGJ1dHRvbiBhbmQgdGhlcmUgYXJlIGFjdGlvbnMgaW4gdGhlIGhpc3RvcnkgbG9nLCB3aWxsIGFkZCB0aGlzIGFjdGlvbiB0eXBlLlxyXG4gICAqIElmIG5vdCBzcGVjaWZpZWQsIHdpbGwgY29tbWl0IHdoZW4gcGF1c2VkLiBBdmFpbGFibGUgb25seSBmb3IgUmVkdXggZW5oYW5jZXIuXHJcbiAgICpcclxuICAgKiBAZGVmYXVsdCBcIkBAUEFVU0VEXCJcIlxyXG4gICAqL1xuICBwYXVzZUFjdGlvblR5cGU/OiBzdHJpbmc7XG4gIC8qKlxyXG4gICAqIGF1dG8gcGF1c2VzIHdoZW4gdGhlIGV4dGVuc2lvbuKAmXMgd2luZG93IGlzIG5vdCBvcGVuZWQsIGFuZCBzbyBoYXMgemVybyBpbXBhY3Qgb24geW91ciBhcHAgd2hlbiBub3QgaW4gdXNlLlxyXG4gICAqIE5vdCBhdmFpbGFibGUgZm9yIFJlZHV4IGVuaGFuY2VyIChhcyBpdCBhbHJlYWR5IGRvZXMgaXQgYnV0IHN0b3JpbmcgdGhlIGRhdGEgdG8gYmUgc2VudCkuXHJcbiAgICpcclxuICAgKiBAZGVmYXVsdCBmYWxzZVxyXG4gICAqL1xuICBhdXRvUGF1c2U/OiBib29sZWFuO1xuICAvKipcclxuICAgKiBpZiBzcGVjaWZpZWQgYXMgYHRydWVgLCBpdCB3aWxsIG5vdCBhbGxvdyBhbnkgbm9uLW1vbml0b3IgYWN0aW9ucyB0byBiZSBkaXNwYXRjaGVkIHRpbGwgY2xpY2tpbmcgb24gYFVubG9jayBjaGFuZ2VzYCBidXR0b24uXHJcbiAgICogQXZhaWxhYmxlIG9ubHkgZm9yIFJlZHV4IGVuaGFuY2VyLlxyXG4gICAqXHJcbiAgICogQGRlZmF1bHQgZmFsc2VcclxuICAgKi9cbiAgc2hvdWxkU3RhcnRMb2NrZWQ/OiBib29sZWFuO1xuICAvKipcclxuICAgKiBpZiBzZXQgdG8gYGZhbHNlYCwgd2lsbCBub3QgcmVjb21wdXRlIHRoZSBzdGF0ZXMgb24gaG90IHJlbG9hZGluZyAob3Igb24gcmVwbGFjaW5nIHRoZSByZWR1Y2VycykuIEF2YWlsYWJsZSBvbmx5IGZvciBSZWR1eCBlbmhhbmNlci5cclxuICAgKlxyXG4gICAqIEBkZWZhdWx0IHRydWVcclxuICAgKi9cbiAgc2hvdWxkSG90UmVsb2FkPzogYm9vbGVhbjtcbiAgLyoqXHJcbiAgICogaWYgc3BlY2lmaWVkIGFzIGB0cnVlYCwgd2hlbmV2ZXIgdGhlcmUncyBhbiBleGNlcHRpb24gaW4gcmVkdWNlcnMsIHRoZSBtb25pdG9ycyB3aWxsIHNob3cgdGhlIGVycm9yIG1lc3NhZ2UsIGFuZCBuZXh0IGFjdGlvbnMgd2lsbCBub3QgYmUgZGlzcGF0Y2hlZC5cclxuICAgKlxyXG4gICAqIEBkZWZhdWx0IGZhbHNlXHJcbiAgICovXG4gIHNob3VsZENhdGNoRXJyb3JzPzogYm9vbGVhbjtcbiAgLyoqXHJcbiAgICogSWYgeW91IHdhbnQgdG8gcmVzdHJpY3QgdGhlIGV4dGVuc2lvbiwgc3BlY2lmeSB0aGUgZmVhdHVyZXMgeW91IGFsbG93LlxyXG4gICAqIElmIG5vdCBzcGVjaWZpZWQsIGFsbCBvZiB0aGUgZmVhdHVyZXMgYXJlIGVuYWJsZWQuIFdoZW4gc2V0IGFzIGFuIG9iamVjdCwgb25seSB0aG9zZSBpbmNsdWRlZCBhcyBgdHJ1ZWAgd2lsbCBiZSBhbGxvd2VkLlxyXG4gICAqIE5vdGUgdGhhdCBleGNlcHQgYHRydWVgL2BmYWxzZWAsIGBpbXBvcnRgIGFuZCBgZXhwb3J0YCBjYW4gYmUgc2V0IGFzIGBjdXN0b21gICh3aGljaCBpcyBieSBkZWZhdWx0IGZvciBSZWR1eCBlbmhhbmNlciksIG1lYW5pbmcgdGhhdCB0aGUgaW1wb3J0aW5nL2V4cG9ydGluZyBvY2N1cnMgb24gdGhlIGNsaWVudCBzaWRlLlxyXG4gICAqIE90aGVyd2lzZSwgeW91J2xsIGdldC9zZXQgdGhlIGRhdGEgcmlnaHQgZnJvbSB0aGUgbW9uaXRvciBwYXJ0LlxyXG4gICAqL1xuICBmZWF0dXJlcz86IHtcbiAgICAvKipcclxuICAgICAqIHN0YXJ0L3BhdXNlIHJlY29yZGluZyBvZiBkaXNwYXRjaGVkIGFjdGlvbnNcclxuICAgICAqL1xuICAgIHBhdXNlPzogYm9vbGVhbjtcbiAgICAvKipcclxuICAgICAqIGxvY2svdW5sb2NrIGRpc3BhdGNoaW5nIGFjdGlvbnMgYW5kIHNpZGUgZWZmZWN0c1xyXG4gICAgICovXG4gICAgbG9jaz86IGJvb2xlYW47XG4gICAgLyoqXHJcbiAgICAgKiBwZXJzaXN0IHN0YXRlcyBvbiBwYWdlIHJlbG9hZGluZ1xyXG4gICAgICovXG4gICAgcGVyc2lzdD86IGJvb2xlYW47XG4gICAgLyoqXHJcbiAgICAgKiBleHBvcnQgaGlzdG9yeSBvZiBhY3Rpb25zIGluIGEgZmlsZVxyXG4gICAgICovXG4gICAgZXhwb3J0PzogYm9vbGVhbiB8ICdjdXN0b20nO1xuICAgIC8qKlxyXG4gICAgICogaW1wb3J0IGhpc3Rvcnkgb2YgYWN0aW9ucyBmcm9tIGEgZmlsZVxyXG4gICAgICovXG4gICAgaW1wb3J0PzogYm9vbGVhbiB8ICdjdXN0b20nO1xuICAgIC8qKlxyXG4gICAgICoganVtcCBiYWNrIGFuZCBmb3J0aCAodGltZSB0cmF2ZWxsaW5nKVxyXG4gICAgICovXG4gICAganVtcD86IGJvb2xlYW47XG4gICAgLyoqXHJcbiAgICAgKiBza2lwIChjYW5jZWwpIGFjdGlvbnNcclxuICAgICAqL1xuICAgIHNraXA/OiBib29sZWFuO1xuICAgIC8qKlxyXG4gICAgICogZHJhZyBhbmQgZHJvcCBhY3Rpb25zIGluIHRoZSBoaXN0b3J5IGxpc3RcclxuICAgICAqL1xuICAgIHJlb3JkZXI/OiBib29sZWFuO1xuICAgIC8qKlxyXG4gICAgICogZGlzcGF0Y2ggY3VzdG9tIGFjdGlvbnMgb3IgYWN0aW9uIGNyZWF0b3JzXHJcbiAgICAgKi9cbiAgICBkaXNwYXRjaD86IGJvb2xlYW47XG4gICAgLyoqXHJcbiAgICAgKiBnZW5lcmF0ZSB0ZXN0cyBmb3IgdGhlIHNlbGVjdGVkIGFjdGlvbnNcclxuICAgICAqL1xuICAgIHRlc3Q/OiBib29sZWFuO1xuICB9O1xuICAvKipcclxuICAgKiBTZXQgdG8gdHJ1ZSBvciBhIHN0YWNrdHJhY2UtcmV0dXJuaW5nIGZ1bmN0aW9uIHRvIHJlY29yZCBjYWxsIHN0YWNrIHRyYWNlcyBmb3IgZGlzcGF0Y2hlZCBhY3Rpb25zLlxyXG4gICAqIERlZmF1bHRzIHRvIGZhbHNlLlxyXG4gICAqL1xuICB0cmFjZT86IGJvb2xlYW4gfCAoPEEgZXh0ZW5kcyBBY3Rpb24+KGFjdGlvbjogQSkgPT4gc3RyaW5nKTtcbiAgLyoqXHJcbiAgICogVGhlIG1heGltdW0gbnVtYmVyIG9mIHN0YWNrIHRyYWNlIGVudHJpZXMgdG8gcmVjb3JkIHBlciBhY3Rpb24uIERlZmF1bHRzIHRvIDEwLlxyXG4gICAqL1xuICB0cmFjZUxpbWl0PzogbnVtYmVyO1xufVxudHlwZSBDb21wb3NlID0gdHlwZW9mIGNvbXBvc2U7XG5pbnRlcmZhY2UgQ29tcG9zZVdpdGhEZXZUb29scyB7XG4gIChvcHRpb25zOiBEZXZUb29sc0VuaGFuY2VyT3B0aW9ucyk6IENvbXBvc2U7XG4gIDxTdG9yZUV4dCBleHRlbmRzIHt9PiguLi5mdW5jczogU3RvcmVFbmhhbmNlcjxTdG9yZUV4dD5bXSk6IFN0b3JlRW5oYW5jZXI8U3RvcmVFeHQ+O1xufVxuXG4vKipcclxuICogQHB1YmxpY1xyXG4gKi9cbmV4cG9ydCBjb25zdCBjb21wb3NlV2l0aERldlRvb2xzOiBDb21wb3NlV2l0aERldlRvb2xzID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgKHdpbmRvdyBhcyBhbnkpLl9fUkVEVVhfREVWVE9PTFNfRVhURU5TSU9OX0NPTVBPU0VfXyA/ICh3aW5kb3cgYXMgYW55KS5fX1JFRFVYX0RFVlRPT0xTX0VYVEVOU0lPTl9DT01QT1NFX18gOiBmdW5jdGlvbiAoKSB7XG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSByZXR1cm4gdW5kZWZpbmVkO1xuICBpZiAodHlwZW9mIGFyZ3VtZW50c1swXSA9PT0gJ29iamVjdCcpIHJldHVybiBjb21wb3NlO1xuICByZXR1cm4gY29tcG9zZS5hcHBseShudWxsLCAoKGFyZ3VtZW50cyBhcyBhbnkpIGFzIEZ1bmN0aW9uW10pKTtcbn07XG5cbi8qKlxyXG4gKiBAcHVibGljXHJcbiAqL1xuZXhwb3J0IGNvbnN0IGRldlRvb2xzRW5oYW5jZXI6IHtcbiAgKG9wdGlvbnM6IERldlRvb2xzRW5oYW5jZXJPcHRpb25zKTogU3RvcmVFbmhhbmNlcjxhbnk+O1xufSA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmICh3aW5kb3cgYXMgYW55KS5fX1JFRFVYX0RFVlRPT0xTX0VYVEVOU0lPTl9fID8gKHdpbmRvdyBhcyBhbnkpLl9fUkVEVVhfREVWVE9PTFNfRVhURU5TSU9OX18gOiBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBmdW5jdGlvbiAobm9vcCkge1xuICAgIHJldHVybiBub29wO1xuICB9O1xufTsiLCJpbXBvcnQgdHlwZSB7IE1pZGRsZXdhcmUsIFVua25vd25BY3Rpb24gfSBmcm9tICdyZWR1eCc7XG5pbXBvcnQgdHlwZSB7IFRodW5rTWlkZGxld2FyZSB9IGZyb20gJ3JlZHV4LXRodW5rJztcbmltcG9ydCB7IHRodW5rIGFzIHRodW5rTWlkZGxld2FyZSwgd2l0aEV4dHJhQXJndW1lbnQgfSBmcm9tICdyZWR1eC10aHVuayc7XG5pbXBvcnQgdHlwZSB7IEFjdGlvbkNyZWF0b3JJbnZhcmlhbnRNaWRkbGV3YXJlT3B0aW9ucyB9IGZyb20gJy4vYWN0aW9uQ3JlYXRvckludmFyaWFudE1pZGRsZXdhcmUnO1xuaW1wb3J0IHsgY3JlYXRlQWN0aW9uQ3JlYXRvckludmFyaWFudE1pZGRsZXdhcmUgfSBmcm9tICcuL2FjdGlvbkNyZWF0b3JJbnZhcmlhbnRNaWRkbGV3YXJlJztcbmltcG9ydCB0eXBlIHsgSW1tdXRhYmxlU3RhdGVJbnZhcmlhbnRNaWRkbGV3YXJlT3B0aW9ucyB9IGZyb20gJy4vaW1tdXRhYmxlU3RhdGVJbnZhcmlhbnRNaWRkbGV3YXJlJztcbi8qIFBST0RfU1RBUlRfUkVNT1ZFX1VNRCAqL1xuaW1wb3J0IHsgY3JlYXRlSW1tdXRhYmxlU3RhdGVJbnZhcmlhbnRNaWRkbGV3YXJlIH0gZnJvbSAnLi9pbW11dGFibGVTdGF0ZUludmFyaWFudE1pZGRsZXdhcmUnO1xuLyogUFJPRF9TVE9QX1JFTU9WRV9VTUQgKi9cblxuaW1wb3J0IHR5cGUgeyBTZXJpYWxpemFibGVTdGF0ZUludmFyaWFudE1pZGRsZXdhcmVPcHRpb25zIH0gZnJvbSAnLi9zZXJpYWxpemFibGVTdGF0ZUludmFyaWFudE1pZGRsZXdhcmUnO1xuaW1wb3J0IHsgY3JlYXRlU2VyaWFsaXphYmxlU3RhdGVJbnZhcmlhbnRNaWRkbGV3YXJlIH0gZnJvbSAnLi9zZXJpYWxpemFibGVTdGF0ZUludmFyaWFudE1pZGRsZXdhcmUnO1xuaW1wb3J0IHR5cGUgeyBFeGNsdWRlRnJvbVR1cGxlIH0gZnJvbSAnLi90c0hlbHBlcnMnO1xuaW1wb3J0IHsgVHVwbGUgfSBmcm9tICcuL3V0aWxzJztcbmZ1bmN0aW9uIGlzQm9vbGVhbih4OiBhbnkpOiB4IGlzIGJvb2xlYW4ge1xuICByZXR1cm4gdHlwZW9mIHggPT09ICdib29sZWFuJztcbn1cbmludGVyZmFjZSBUaHVua09wdGlvbnM8RSA9IGFueT4ge1xuICBleHRyYUFyZ3VtZW50OiBFO1xufVxuaW50ZXJmYWNlIEdldERlZmF1bHRNaWRkbGV3YXJlT3B0aW9ucyB7XG4gIHRodW5rPzogYm9vbGVhbiB8IFRodW5rT3B0aW9ucztcbiAgaW1tdXRhYmxlQ2hlY2s/OiBib29sZWFuIHwgSW1tdXRhYmxlU3RhdGVJbnZhcmlhbnRNaWRkbGV3YXJlT3B0aW9ucztcbiAgc2VyaWFsaXphYmxlQ2hlY2s/OiBib29sZWFuIHwgU2VyaWFsaXphYmxlU3RhdGVJbnZhcmlhbnRNaWRkbGV3YXJlT3B0aW9ucztcbiAgYWN0aW9uQ3JlYXRvckNoZWNrPzogYm9vbGVhbiB8IEFjdGlvbkNyZWF0b3JJbnZhcmlhbnRNaWRkbGV3YXJlT3B0aW9ucztcbn1cbmV4cG9ydCB0eXBlIFRodW5rTWlkZGxld2FyZUZvcjxTLCBPIGV4dGVuZHMgR2V0RGVmYXVsdE1pZGRsZXdhcmVPcHRpb25zID0ge30+ID0gTyBleHRlbmRzIHtcbiAgdGh1bms6IGZhbHNlO1xufSA/IG5ldmVyIDogTyBleHRlbmRzIHtcbiAgdGh1bms6IHtcbiAgICBleHRyYUFyZ3VtZW50OiBpbmZlciBFO1xuICB9O1xufSA/IFRodW5rTWlkZGxld2FyZTxTLCBVbmtub3duQWN0aW9uLCBFPiA6IFRodW5rTWlkZGxld2FyZTxTLCBVbmtub3duQWN0aW9uPjtcbmV4cG9ydCB0eXBlIEdldERlZmF1bHRNaWRkbGV3YXJlPFMgPSBhbnk+ID0gPE8gZXh0ZW5kcyBHZXREZWZhdWx0TWlkZGxld2FyZU9wdGlvbnMgPSB7XG4gIHRodW5rOiB0cnVlO1xuICBpbW11dGFibGVDaGVjazogdHJ1ZTtcbiAgc2VyaWFsaXphYmxlQ2hlY2s6IHRydWU7XG4gIGFjdGlvbkNyZWF0b3JDaGVjazogdHJ1ZTtcbn0+KG9wdGlvbnM/OiBPKSA9PiBUdXBsZTxFeGNsdWRlRnJvbVR1cGxlPFtUaHVua01pZGRsZXdhcmVGb3I8UywgTz5dLCBuZXZlcj4+O1xuZXhwb3J0IGNvbnN0IGJ1aWxkR2V0RGVmYXVsdE1pZGRsZXdhcmUgPSA8UyA9IGFueSw+KCk6IEdldERlZmF1bHRNaWRkbGV3YXJlPFM+ID0+IGZ1bmN0aW9uIGdldERlZmF1bHRNaWRkbGV3YXJlKG9wdGlvbnMpIHtcbiAgY29uc3Qge1xuICAgIHRodW5rID0gdHJ1ZSxcbiAgICBpbW11dGFibGVDaGVjayA9IHRydWUsXG4gICAgc2VyaWFsaXphYmxlQ2hlY2sgPSB0cnVlLFxuICAgIGFjdGlvbkNyZWF0b3JDaGVjayA9IHRydWVcbiAgfSA9IG9wdGlvbnMgPz8ge307XG4gIGxldCBtaWRkbGV3YXJlQXJyYXkgPSBuZXcgVHVwbGU8TWlkZGxld2FyZVtdPigpO1xuICBpZiAodGh1bmspIHtcbiAgICBpZiAoaXNCb29sZWFuKHRodW5rKSkge1xuICAgICAgbWlkZGxld2FyZUFycmF5LnB1c2godGh1bmtNaWRkbGV3YXJlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbWlkZGxld2FyZUFycmF5LnB1c2god2l0aEV4dHJhQXJndW1lbnQodGh1bmsuZXh0cmFBcmd1bWVudCkpO1xuICAgIH1cbiAgfVxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIGlmIChpbW11dGFibGVDaGVjaykge1xuICAgICAgLyogUFJPRF9TVEFSVF9SRU1PVkVfVU1EICovXG4gICAgICBsZXQgaW1tdXRhYmxlT3B0aW9uczogSW1tdXRhYmxlU3RhdGVJbnZhcmlhbnRNaWRkbGV3YXJlT3B0aW9ucyA9IHt9O1xuICAgICAgaWYgKCFpc0Jvb2xlYW4oaW1tdXRhYmxlQ2hlY2spKSB7XG4gICAgICAgIGltbXV0YWJsZU9wdGlvbnMgPSBpbW11dGFibGVDaGVjaztcbiAgICAgIH1cbiAgICAgIG1pZGRsZXdhcmVBcnJheS51bnNoaWZ0KGNyZWF0ZUltbXV0YWJsZVN0YXRlSW52YXJpYW50TWlkZGxld2FyZShpbW11dGFibGVPcHRpb25zKSk7XG4gICAgICAvKiBQUk9EX1NUT1BfUkVNT1ZFX1VNRCAqL1xuICAgIH1cbiAgICBpZiAoc2VyaWFsaXphYmxlQ2hlY2spIHtcbiAgICAgIGxldCBzZXJpYWxpemFibGVPcHRpb25zOiBTZXJpYWxpemFibGVTdGF0ZUludmFyaWFudE1pZGRsZXdhcmVPcHRpb25zID0ge307XG4gICAgICBpZiAoIWlzQm9vbGVhbihzZXJpYWxpemFibGVDaGVjaykpIHtcbiAgICAgICAgc2VyaWFsaXphYmxlT3B0aW9ucyA9IHNlcmlhbGl6YWJsZUNoZWNrO1xuICAgICAgfVxuICAgICAgbWlkZGxld2FyZUFycmF5LnB1c2goY3JlYXRlU2VyaWFsaXphYmxlU3RhdGVJbnZhcmlhbnRNaWRkbGV3YXJlKHNlcmlhbGl6YWJsZU9wdGlvbnMpKTtcbiAgICB9XG4gICAgaWYgKGFjdGlvbkNyZWF0b3JDaGVjaykge1xuICAgICAgbGV0IGFjdGlvbkNyZWF0b3JPcHRpb25zOiBBY3Rpb25DcmVhdG9ySW52YXJpYW50TWlkZGxld2FyZU9wdGlvbnMgPSB7fTtcbiAgICAgIGlmICghaXNCb29sZWFuKGFjdGlvbkNyZWF0b3JDaGVjaykpIHtcbiAgICAgICAgYWN0aW9uQ3JlYXRvck9wdGlvbnMgPSBhY3Rpb25DcmVhdG9yQ2hlY2s7XG4gICAgICB9XG4gICAgICBtaWRkbGV3YXJlQXJyYXkudW5zaGlmdChjcmVhdGVBY3Rpb25DcmVhdG9ySW52YXJpYW50TWlkZGxld2FyZShhY3Rpb25DcmVhdG9yT3B0aW9ucykpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gKG1pZGRsZXdhcmVBcnJheSBhcyBhbnkpO1xufTsiLCJpbXBvcnQgeyBmb3JtYXRQcm9kRXJyb3JNZXNzYWdlIGFzIF9mb3JtYXRQcm9kRXJyb3JNZXNzYWdlIH0gZnJvbSBcIkByZWR1eGpzL3Rvb2xraXRcIjtcbmltcG9ydCB7IGlzQWN0aW9uIH0gZnJvbSAncmVkdXgnO1xuaW1wb3J0IHR5cGUgeyBJc1Vua25vd25Pck5vbkluZmVycmFibGUsIElmTWF5YmVVbmRlZmluZWQsIElmVm9pZCwgSXNBbnkgfSBmcm9tICcuL3RzSGVscGVycyc7XG5pbXBvcnQgeyBoYXNNYXRjaEZ1bmN0aW9uIH0gZnJvbSAnLi90c0hlbHBlcnMnO1xuXG4vKipcclxuICogQW4gYWN0aW9uIHdpdGggYSBzdHJpbmcgdHlwZSBhbmQgYW4gYXNzb2NpYXRlZCBwYXlsb2FkLiBUaGlzIGlzIHRoZVxyXG4gKiB0eXBlIG9mIGFjdGlvbiByZXR1cm5lZCBieSBgY3JlYXRlQWN0aW9uKClgIGFjdGlvbiBjcmVhdG9ycy5cclxuICpcclxuICogQHRlbXBsYXRlIFAgVGhlIHR5cGUgb2YgdGhlIGFjdGlvbidzIHBheWxvYWQuXHJcbiAqIEB0ZW1wbGF0ZSBUIHRoZSB0eXBlIHVzZWQgZm9yIHRoZSBhY3Rpb24gdHlwZS5cclxuICogQHRlbXBsYXRlIE0gVGhlIHR5cGUgb2YgdGhlIGFjdGlvbidzIG1ldGEgKG9wdGlvbmFsKVxyXG4gKiBAdGVtcGxhdGUgRSBUaGUgdHlwZSBvZiB0aGUgYWN0aW9uJ3MgZXJyb3IgKG9wdGlvbmFsKVxyXG4gKlxyXG4gKiBAcHVibGljXHJcbiAqL1xuZXhwb3J0IHR5cGUgUGF5bG9hZEFjdGlvbjxQID0gdm9pZCwgVCBleHRlbmRzIHN0cmluZyA9IHN0cmluZywgTSA9IG5ldmVyLCBFID0gbmV2ZXI+ID0ge1xuICBwYXlsb2FkOiBQO1xuICB0eXBlOiBUO1xufSAmIChbTV0gZXh0ZW5kcyBbbmV2ZXJdID8ge30gOiB7XG4gIG1ldGE6IE07XG59KSAmIChbRV0gZXh0ZW5kcyBbbmV2ZXJdID8ge30gOiB7XG4gIGVycm9yOiBFO1xufSk7XG5cbi8qKlxyXG4gKiBBIFwicHJlcGFyZVwiIG1ldGhvZCB0byBiZSB1c2VkIGFzIHRoZSBzZWNvbmQgcGFyYW1ldGVyIG9mIGBjcmVhdGVBY3Rpb25gLlxyXG4gKiBUYWtlcyBhbnkgbnVtYmVyIG9mIGFyZ3VtZW50cyBhbmQgcmV0dXJucyBhIEZsdXggU3RhbmRhcmQgQWN0aW9uIHdpdGhvdXRcclxuICogdHlwZSAod2lsbCBiZSBhZGRlZCBsYXRlcikgdGhhdCAqbXVzdCogY29udGFpbiBhIHBheWxvYWQgKG1pZ2h0IGJlIHVuZGVmaW5lZCkuXHJcbiAqXHJcbiAqIEBwdWJsaWNcclxuICovXG5leHBvcnQgdHlwZSBQcmVwYXJlQWN0aW9uPFA+ID0gKCguLi5hcmdzOiBhbnlbXSkgPT4ge1xuICBwYXlsb2FkOiBQO1xufSkgfCAoKC4uLmFyZ3M6IGFueVtdKSA9PiB7XG4gIHBheWxvYWQ6IFA7XG4gIG1ldGE6IGFueTtcbn0pIHwgKCguLi5hcmdzOiBhbnlbXSkgPT4ge1xuICBwYXlsb2FkOiBQO1xuICBlcnJvcjogYW55O1xufSkgfCAoKC4uLmFyZ3M6IGFueVtdKSA9PiB7XG4gIHBheWxvYWQ6IFA7XG4gIG1ldGE6IGFueTtcbiAgZXJyb3I6IGFueTtcbn0pO1xuXG4vKipcclxuICogSW50ZXJuYWwgdmVyc2lvbiBvZiBgQWN0aW9uQ3JlYXRvcldpdGhQcmVwYXJlZFBheWxvYWRgLiBOb3QgdG8gYmUgdXNlZCBleHRlcm5hbGx5LlxyXG4gKlxyXG4gKiBAaW50ZXJuYWxcclxuICovXG5leHBvcnQgdHlwZSBfQWN0aW9uQ3JlYXRvcldpdGhQcmVwYXJlZFBheWxvYWQ8UEEgZXh0ZW5kcyBQcmVwYXJlQWN0aW9uPGFueT4gfCB2b2lkLCBUIGV4dGVuZHMgc3RyaW5nID0gc3RyaW5nPiA9IFBBIGV4dGVuZHMgUHJlcGFyZUFjdGlvbjxpbmZlciBQPiA/IEFjdGlvbkNyZWF0b3JXaXRoUHJlcGFyZWRQYXlsb2FkPFBhcmFtZXRlcnM8UEE+LCBQLCBULCBSZXR1cm5UeXBlPFBBPiBleHRlbmRzIHtcbiAgZXJyb3I6IGluZmVyIEU7XG59ID8gRSA6IG5ldmVyLCBSZXR1cm5UeXBlPFBBPiBleHRlbmRzIHtcbiAgbWV0YTogaW5mZXIgTTtcbn0gPyBNIDogbmV2ZXI+IDogdm9pZDtcblxuLyoqXHJcbiAqIEJhc2ljIHR5cGUgZm9yIGFsbCBhY3Rpb24gY3JlYXRvcnMuXHJcbiAqXHJcbiAqIEBpbmhlcml0ZG9jIHtyZWR1eCNBY3Rpb25DcmVhdG9yfVxyXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQmFzZUFjdGlvbkNyZWF0b3I8UCwgVCBleHRlbmRzIHN0cmluZywgTSA9IG5ldmVyLCBFID0gbmV2ZXI+IHtcbiAgdHlwZTogVDtcbiAgbWF0Y2g6IChhY3Rpb246IHVua25vd24pID0+IGFjdGlvbiBpcyBQYXlsb2FkQWN0aW9uPFAsIFQsIE0sIEU+O1xufVxuXG4vKipcclxuICogQW4gYWN0aW9uIGNyZWF0b3IgdGhhdCB0YWtlcyBtdWx0aXBsZSBhcmd1bWVudHMgdGhhdCBhcmUgcGFzc2VkXHJcbiAqIHRvIGEgYFByZXBhcmVBY3Rpb25gIG1ldGhvZCB0byBjcmVhdGUgdGhlIGZpbmFsIEFjdGlvbi5cclxuICogQHR5cGVQYXJhbSBBcmdzIGFyZ3VtZW50cyBmb3IgdGhlIGFjdGlvbiBjcmVhdG9yIGZ1bmN0aW9uXHJcbiAqIEB0eXBlUGFyYW0gUCBgcGF5bG9hZGAgdHlwZVxyXG4gKiBAdHlwZVBhcmFtIFQgYHR5cGVgIG5hbWVcclxuICogQHR5cGVQYXJhbSBFIG9wdGlvbmFsIGBlcnJvcmAgdHlwZVxyXG4gKiBAdHlwZVBhcmFtIE0gb3B0aW9uYWwgYG1ldGFgIHR5cGVcclxuICpcclxuICogQGluaGVyaXRkb2Mge3JlZHV4I0FjdGlvbkNyZWF0b3J9XHJcbiAqXHJcbiAqIEBwdWJsaWNcclxuICovXG5leHBvcnQgaW50ZXJmYWNlIEFjdGlvbkNyZWF0b3JXaXRoUHJlcGFyZWRQYXlsb2FkPEFyZ3MgZXh0ZW5kcyB1bmtub3duW10sIFAsIFQgZXh0ZW5kcyBzdHJpbmcgPSBzdHJpbmcsIEUgPSBuZXZlciwgTSA9IG5ldmVyPiBleHRlbmRzIEJhc2VBY3Rpb25DcmVhdG9yPFAsIFQsIE0sIEU+IHtcbiAgLyoqXHJcbiAgICogQ2FsbGluZyB0aGlzIHtAbGluayByZWR1eCNBY3Rpb25DcmVhdG9yfSB3aXRoIGBBcmdzYCB3aWxsIHJldHVyblxyXG4gICAqIGFuIEFjdGlvbiB3aXRoIGEgcGF5bG9hZCBvZiB0eXBlIGBQYCBhbmQgKGRlcGVuZGluZyBvbiB0aGUgYFByZXBhcmVBY3Rpb25gXHJcbiAgICogbWV0aG9kIHVzZWQpIGEgYG1ldGFgLSBhbmQgYGVycm9yYCBwcm9wZXJ0eSBvZiB0eXBlcyBgTWAgYW5kIGBFYCByZXNwZWN0aXZlbHkuXHJcbiAgICovXG4gICguLi5hcmdzOiBBcmdzKTogUGF5bG9hZEFjdGlvbjxQLCBULCBNLCBFPjtcbn1cblxuLyoqXHJcbiAqIEFuIGFjdGlvbiBjcmVhdG9yIG9mIHR5cGUgYFRgIHRoYXQgdGFrZXMgYW4gb3B0aW9uYWwgcGF5bG9hZCBvZiB0eXBlIGBQYC5cclxuICpcclxuICogQGluaGVyaXRkb2Mge3JlZHV4I0FjdGlvbkNyZWF0b3J9XHJcbiAqXHJcbiAqIEBwdWJsaWNcclxuICovXG5leHBvcnQgaW50ZXJmYWNlIEFjdGlvbkNyZWF0b3JXaXRoT3B0aW9uYWxQYXlsb2FkPFAsIFQgZXh0ZW5kcyBzdHJpbmcgPSBzdHJpbmc+IGV4dGVuZHMgQmFzZUFjdGlvbkNyZWF0b3I8UCwgVD4ge1xuICAvKipcclxuICAgKiBDYWxsaW5nIHRoaXMge0BsaW5rIHJlZHV4I0FjdGlvbkNyZWF0b3J9IHdpdGggYW4gYXJndW1lbnQgd2lsbFxyXG4gICAqIHJldHVybiBhIHtAbGluayBQYXlsb2FkQWN0aW9ufSBvZiB0eXBlIGBUYCB3aXRoIGEgcGF5bG9hZCBvZiBgUGAuXHJcbiAgICogQ2FsbGluZyBpdCB3aXRob3V0IGFuIGFyZ3VtZW50IHdpbGwgcmV0dXJuIGEgUGF5bG9hZEFjdGlvbiB3aXRoIGEgcGF5bG9hZCBvZiBgdW5kZWZpbmVkYC5cclxuICAgKi9cbiAgKHBheWxvYWQ/OiBQKTogUGF5bG9hZEFjdGlvbjxQLCBUPjtcbn1cblxuLyoqXHJcbiAqIEFuIGFjdGlvbiBjcmVhdG9yIG9mIHR5cGUgYFRgIHRoYXQgdGFrZXMgbm8gcGF5bG9hZC5cclxuICpcclxuICogQGluaGVyaXRkb2Mge3JlZHV4I0FjdGlvbkNyZWF0b3J9XHJcbiAqXHJcbiAqIEBwdWJsaWNcclxuICovXG5leHBvcnQgaW50ZXJmYWNlIEFjdGlvbkNyZWF0b3JXaXRob3V0UGF5bG9hZDxUIGV4dGVuZHMgc3RyaW5nID0gc3RyaW5nPiBleHRlbmRzIEJhc2VBY3Rpb25DcmVhdG9yPHVuZGVmaW5lZCwgVD4ge1xuICAvKipcclxuICAgKiBDYWxsaW5nIHRoaXMge0BsaW5rIHJlZHV4I0FjdGlvbkNyZWF0b3J9IHdpbGxcclxuICAgKiByZXR1cm4gYSB7QGxpbmsgUGF5bG9hZEFjdGlvbn0gb2YgdHlwZSBgVGAgd2l0aCBhIHBheWxvYWQgb2YgYHVuZGVmaW5lZGBcclxuICAgKi9cbiAgKG5vQXJndW1lbnQ6IHZvaWQpOiBQYXlsb2FkQWN0aW9uPHVuZGVmaW5lZCwgVD47XG59XG5cbi8qKlxyXG4gKiBBbiBhY3Rpb24gY3JlYXRvciBvZiB0eXBlIGBUYCB0aGF0IHJlcXVpcmVzIGEgcGF5bG9hZCBvZiB0eXBlIFAuXHJcbiAqXHJcbiAqIEBpbmhlcml0ZG9jIHtyZWR1eCNBY3Rpb25DcmVhdG9yfVxyXG4gKlxyXG4gKiBAcHVibGljXHJcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBBY3Rpb25DcmVhdG9yV2l0aFBheWxvYWQ8UCwgVCBleHRlbmRzIHN0cmluZyA9IHN0cmluZz4gZXh0ZW5kcyBCYXNlQWN0aW9uQ3JlYXRvcjxQLCBUPiB7XG4gIC8qKlxyXG4gICAqIENhbGxpbmcgdGhpcyB7QGxpbmsgcmVkdXgjQWN0aW9uQ3JlYXRvcn0gd2l0aCBhbiBhcmd1bWVudCB3aWxsXHJcbiAgICogcmV0dXJuIGEge0BsaW5rIFBheWxvYWRBY3Rpb259IG9mIHR5cGUgYFRgIHdpdGggYSBwYXlsb2FkIG9mIGBQYFxyXG4gICAqL1xuICAocGF5bG9hZDogUCk6IFBheWxvYWRBY3Rpb248UCwgVD47XG59XG5cbi8qKlxyXG4gKiBBbiBhY3Rpb24gY3JlYXRvciBvZiB0eXBlIGBUYCB3aG9zZSBgcGF5bG9hZGAgdHlwZSBjb3VsZCBub3QgYmUgaW5mZXJyZWQuIEFjY2VwdHMgZXZlcnl0aGluZyBhcyBgcGF5bG9hZGAuXHJcbiAqXHJcbiAqIEBpbmhlcml0ZG9jIHtyZWR1eCNBY3Rpb25DcmVhdG9yfVxyXG4gKlxyXG4gKiBAcHVibGljXHJcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBBY3Rpb25DcmVhdG9yV2l0aE5vbkluZmVycmFibGVQYXlsb2FkPFQgZXh0ZW5kcyBzdHJpbmcgPSBzdHJpbmc+IGV4dGVuZHMgQmFzZUFjdGlvbkNyZWF0b3I8dW5rbm93biwgVD4ge1xuICAvKipcclxuICAgKiBDYWxsaW5nIHRoaXMge0BsaW5rIHJlZHV4I0FjdGlvbkNyZWF0b3J9IHdpdGggYW4gYXJndW1lbnQgd2lsbFxyXG4gICAqIHJldHVybiBhIHtAbGluayBQYXlsb2FkQWN0aW9ufSBvZiB0eXBlIGBUYCB3aXRoIGEgcGF5bG9hZFxyXG4gICAqIG9mIGV4YWN0bHkgdGhlIHR5cGUgb2YgdGhlIGFyZ3VtZW50LlxyXG4gICAqL1xuICA8UFQgZXh0ZW5kcyB1bmtub3duPihwYXlsb2FkOiBQVCk6IFBheWxvYWRBY3Rpb248UFQsIFQ+O1xufVxuXG4vKipcclxuICogQW4gYWN0aW9uIGNyZWF0b3IgdGhhdCBwcm9kdWNlcyBhY3Rpb25zIHdpdGggYSBgcGF5bG9hZGAgYXR0cmlidXRlLlxyXG4gKlxyXG4gKiBAdHlwZVBhcmFtIFAgdGhlIGBwYXlsb2FkYCB0eXBlXHJcbiAqIEB0eXBlUGFyYW0gVCB0aGUgYHR5cGVgIG9mIHRoZSByZXN1bHRpbmcgYWN0aW9uXHJcbiAqIEB0eXBlUGFyYW0gUEEgaWYgdGhlIHJlc3VsdGluZyBhY3Rpb24gaXMgcHJlcHJvY2Vzc2VkIGJ5IGEgYHByZXBhcmVgIG1ldGhvZCwgdGhlIHNpZ25hdHVyZSBvZiBzYWlkIG1ldGhvZC5cclxuICpcclxuICogQHB1YmxpY1xyXG4gKi9cbmV4cG9ydCB0eXBlIFBheWxvYWRBY3Rpb25DcmVhdG9yPFAgPSB2b2lkLCBUIGV4dGVuZHMgc3RyaW5nID0gc3RyaW5nLCBQQSBleHRlbmRzIFByZXBhcmVBY3Rpb248UD4gfCB2b2lkID0gdm9pZD4gPSBJZlByZXBhcmVBY3Rpb25NZXRob2RQcm92aWRlZDxQQSwgX0FjdGlvbkNyZWF0b3JXaXRoUHJlcGFyZWRQYXlsb2FkPFBBLCBUPixcbi8vIGVsc2VcbklzQW55PFAsIEFjdGlvbkNyZWF0b3JXaXRoUGF5bG9hZDxhbnksIFQ+LCBJc1Vua25vd25Pck5vbkluZmVycmFibGU8UCwgQWN0aW9uQ3JlYXRvcldpdGhOb25JbmZlcnJhYmxlUGF5bG9hZDxUPixcbi8vIGVsc2VcbklmVm9pZDxQLCBBY3Rpb25DcmVhdG9yV2l0aG91dFBheWxvYWQ8VD4sXG4vLyBlbHNlXG5JZk1heWJlVW5kZWZpbmVkPFAsIEFjdGlvbkNyZWF0b3JXaXRoT3B0aW9uYWxQYXlsb2FkPFAsIFQ+LFxuLy8gZWxzZVxuQWN0aW9uQ3JlYXRvcldpdGhQYXlsb2FkPFAsIFQ+Pj4+Pj47XG5cbi8qKlxyXG4gKiBBIHV0aWxpdHkgZnVuY3Rpb24gdG8gY3JlYXRlIGFuIGFjdGlvbiBjcmVhdG9yIGZvciB0aGUgZ2l2ZW4gYWN0aW9uIHR5cGVcclxuICogc3RyaW5nLiBUaGUgYWN0aW9uIGNyZWF0b3IgYWNjZXB0cyBhIHNpbmdsZSBhcmd1bWVudCwgd2hpY2ggd2lsbCBiZSBpbmNsdWRlZFxyXG4gKiBpbiB0aGUgYWN0aW9uIG9iamVjdCBhcyBhIGZpZWxkIGNhbGxlZCBwYXlsb2FkLiBUaGUgYWN0aW9uIGNyZWF0b3IgZnVuY3Rpb25cclxuICogd2lsbCBhbHNvIGhhdmUgaXRzIHRvU3RyaW5nKCkgb3ZlcnJpZGRlbiBzbyB0aGF0IGl0IHJldHVybnMgdGhlIGFjdGlvbiB0eXBlLlxyXG4gKlxyXG4gKiBAcGFyYW0gdHlwZSBUaGUgYWN0aW9uIHR5cGUgdG8gdXNlIGZvciBjcmVhdGVkIGFjdGlvbnMuXHJcbiAqIEBwYXJhbSBwcmVwYXJlIChvcHRpb25hbCkgYSBtZXRob2QgdGhhdCB0YWtlcyBhbnkgbnVtYmVyIG9mIGFyZ3VtZW50cyBhbmQgcmV0dXJucyB7IHBheWxvYWQgfSBvciB7IHBheWxvYWQsIG1ldGEgfS5cclxuICogICAgICAgICAgICAgICAgSWYgdGhpcyBpcyBnaXZlbiwgdGhlIHJlc3VsdGluZyBhY3Rpb24gY3JlYXRvciB3aWxsIHBhc3MgaXRzIGFyZ3VtZW50cyB0byB0aGlzIG1ldGhvZCB0byBjYWxjdWxhdGUgcGF5bG9hZCAmIG1ldGEuXHJcbiAqXHJcbiAqIEBwdWJsaWNcclxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQWN0aW9uPFAgPSB2b2lkLCBUIGV4dGVuZHMgc3RyaW5nID0gc3RyaW5nPih0eXBlOiBUKTogUGF5bG9hZEFjdGlvbkNyZWF0b3I8UCwgVD47XG5cbi8qKlxyXG4gKiBBIHV0aWxpdHkgZnVuY3Rpb24gdG8gY3JlYXRlIGFuIGFjdGlvbiBjcmVhdG9yIGZvciB0aGUgZ2l2ZW4gYWN0aW9uIHR5cGVcclxuICogc3RyaW5nLiBUaGUgYWN0aW9uIGNyZWF0b3IgYWNjZXB0cyBhIHNpbmdsZSBhcmd1bWVudCwgd2hpY2ggd2lsbCBiZSBpbmNsdWRlZFxyXG4gKiBpbiB0aGUgYWN0aW9uIG9iamVjdCBhcyBhIGZpZWxkIGNhbGxlZCBwYXlsb2FkLiBUaGUgYWN0aW9uIGNyZWF0b3IgZnVuY3Rpb25cclxuICogd2lsbCBhbHNvIGhhdmUgaXRzIHRvU3RyaW5nKCkgb3ZlcnJpZGRlbiBzbyB0aGF0IGl0IHJldHVybnMgdGhlIGFjdGlvbiB0eXBlLlxyXG4gKlxyXG4gKiBAcGFyYW0gdHlwZSBUaGUgYWN0aW9uIHR5cGUgdG8gdXNlIGZvciBjcmVhdGVkIGFjdGlvbnMuXHJcbiAqIEBwYXJhbSBwcmVwYXJlIChvcHRpb25hbCkgYSBtZXRob2QgdGhhdCB0YWtlcyBhbnkgbnVtYmVyIG9mIGFyZ3VtZW50cyBhbmQgcmV0dXJucyB7IHBheWxvYWQgfSBvciB7IHBheWxvYWQsIG1ldGEgfS5cclxuICogICAgICAgICAgICAgICAgSWYgdGhpcyBpcyBnaXZlbiwgdGhlIHJlc3VsdGluZyBhY3Rpb24gY3JlYXRvciB3aWxsIHBhc3MgaXRzIGFyZ3VtZW50cyB0byB0aGlzIG1ldGhvZCB0byBjYWxjdWxhdGUgcGF5bG9hZCAmIG1ldGEuXHJcbiAqXHJcbiAqIEBwdWJsaWNcclxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQWN0aW9uPFBBIGV4dGVuZHMgUHJlcGFyZUFjdGlvbjxhbnk+LCBUIGV4dGVuZHMgc3RyaW5nID0gc3RyaW5nPih0eXBlOiBULCBwcmVwYXJlQWN0aW9uOiBQQSk6IFBheWxvYWRBY3Rpb25DcmVhdG9yPFJldHVyblR5cGU8UEE+WydwYXlsb2FkJ10sIFQsIFBBPjtcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVBY3Rpb24odHlwZTogc3RyaW5nLCBwcmVwYXJlQWN0aW9uPzogRnVuY3Rpb24pOiBhbnkge1xuICBmdW5jdGlvbiBhY3Rpb25DcmVhdG9yKC4uLmFyZ3M6IGFueVtdKSB7XG4gICAgaWYgKHByZXBhcmVBY3Rpb24pIHtcbiAgICAgIGxldCBwcmVwYXJlZCA9IHByZXBhcmVBY3Rpb24oLi4uYXJncyk7XG4gICAgICBpZiAoIXByZXBhcmVkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJwcm9kdWN0aW9uXCIgPyBfZm9ybWF0UHJvZEVycm9yTWVzc2FnZSgwKSA6ICdwcmVwYXJlQWN0aW9uIGRpZCBub3QgcmV0dXJuIGFuIG9iamVjdCcpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZSxcbiAgICAgICAgcGF5bG9hZDogcHJlcGFyZWQucGF5bG9hZCxcbiAgICAgICAgLi4uKCdtZXRhJyBpbiBwcmVwYXJlZCAmJiB7XG4gICAgICAgICAgbWV0YTogcHJlcGFyZWQubWV0YVxuICAgICAgICB9KSxcbiAgICAgICAgLi4uKCdlcnJvcicgaW4gcHJlcGFyZWQgJiYge1xuICAgICAgICAgIGVycm9yOiBwcmVwYXJlZC5lcnJvclxuICAgICAgICB9KVxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGUsXG4gICAgICBwYXlsb2FkOiBhcmdzWzBdXG4gICAgfTtcbiAgfVxuICBhY3Rpb25DcmVhdG9yLnRvU3RyaW5nID0gKCkgPT4gYCR7dHlwZX1gO1xuICBhY3Rpb25DcmVhdG9yLnR5cGUgPSB0eXBlO1xuICBhY3Rpb25DcmVhdG9yLm1hdGNoID0gKGFjdGlvbjogdW5rbm93bik6IGFjdGlvbiBpcyBQYXlsb2FkQWN0aW9uID0+IGlzQWN0aW9uKGFjdGlvbikgJiYgYWN0aW9uLnR5cGUgPT09IHR5cGU7XG4gIHJldHVybiBhY3Rpb25DcmVhdG9yO1xufVxuXG4vKipcclxuICogUmV0dXJucyB0cnVlIGlmIHZhbHVlIGlzIGFuIFJUSy1saWtlIGFjdGlvbiBjcmVhdG9yLCB3aXRoIGEgc3RhdGljIHR5cGUgcHJvcGVydHkgYW5kIG1hdGNoIG1ldGhvZC5cclxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNBY3Rpb25DcmVhdG9yKGFjdGlvbjogdW5rbm93bik6IGFjdGlvbiBpcyBCYXNlQWN0aW9uQ3JlYXRvcjx1bmtub3duLCBzdHJpbmc+ICYgRnVuY3Rpb24ge1xuICByZXR1cm4gdHlwZW9mIGFjdGlvbiA9PT0gJ2Z1bmN0aW9uJyAmJiAndHlwZScgaW4gYWN0aW9uICYmXG4gIC8vIGhhc01hdGNoRnVuY3Rpb24gb25seSB3YW50cyBNYXRjaGVycyBidXQgSSBkb24ndCBzZWUgdGhlIHBvaW50IGluIHJld3JpdGluZyBpdFxuICBoYXNNYXRjaEZ1bmN0aW9uKChhY3Rpb24gYXMgYW55KSk7XG59XG5cbi8qKlxyXG4gKiBSZXR1cm5zIHRydWUgaWYgdmFsdWUgaXMgYW4gYWN0aW9uIHdpdGggYSBzdHJpbmcgdHlwZSBhbmQgdmFsaWQgRmx1eCBTdGFuZGFyZCBBY3Rpb24ga2V5cy5cclxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNGU0EoYWN0aW9uOiB1bmtub3duKTogYWN0aW9uIGlzIHtcbiAgdHlwZTogc3RyaW5nO1xuICBwYXlsb2FkPzogdW5rbm93bjtcbiAgZXJyb3I/OiB1bmtub3duO1xuICBtZXRhPzogdW5rbm93bjtcbn0ge1xuICByZXR1cm4gaXNBY3Rpb24oYWN0aW9uKSAmJiBPYmplY3Qua2V5cyhhY3Rpb24pLmV2ZXJ5KGlzVmFsaWRLZXkpO1xufVxuZnVuY3Rpb24gaXNWYWxpZEtleShrZXk6IHN0cmluZykge1xuICByZXR1cm4gWyd0eXBlJywgJ3BheWxvYWQnLCAnZXJyb3InLCAnbWV0YSddLmluZGV4T2Yoa2V5KSA+IC0xO1xufVxuXG4vLyBoZWxwZXIgdHlwZXMgZm9yIG1vcmUgcmVhZGFibGUgdHlwaW5nc1xuXG50eXBlIElmUHJlcGFyZUFjdGlvbk1ldGhvZFByb3ZpZGVkPFBBIGV4dGVuZHMgUHJlcGFyZUFjdGlvbjxhbnk+IHwgdm9pZCwgVHJ1ZSwgRmFsc2U+ID0gUEEgZXh0ZW5kcyAoLi4uYXJnczogYW55W10pID0+IGFueSA/IFRydWUgOiBGYWxzZTsiLCJpbXBvcnQgdHlwZSB7IE1pZGRsZXdhcmUsIFN0b3JlRW5oYW5jZXIgfSBmcm9tICdyZWR1eCc7XG5pbXBvcnQgdHlwZSB7IFR1cGxlIH0gZnJvbSAnLi91dGlscyc7XG5leHBvcnQgZnVuY3Rpb24gc2FmZUFzc2lnbjxUIGV4dGVuZHMgb2JqZWN0Pih0YXJnZXQ6IFQsIC4uLmFyZ3M6IEFycmF5PFBhcnRpYWw8Tm9JbmZlcjxUPj4+KSB7XG4gIE9iamVjdC5hc3NpZ24odGFyZ2V0LCAuLi5hcmdzKTtcbn1cblxuLyoqXHJcbiAqIHJldHVybiBUcnVlIGlmIFQgaXMgYGFueWAsIG90aGVyd2lzZSByZXR1cm4gRmFsc2VcclxuICogdGFrZW4gZnJvbSBodHRwczovL2dpdGh1Yi5jb20vam9vbmhvY2hvL3RzZGVmXHJcbiAqXHJcbiAqIEBpbnRlcm5hbFxyXG4gKi9cbmV4cG9ydCB0eXBlIElzQW55PFQsIFRydWUsIEZhbHNlID0gbmV2ZXI+ID1cbi8vIHRlc3QgaWYgd2UgYXJlIGdvaW5nIHRoZSBsZWZ0IEFORCByaWdodCBwYXRoIGluIHRoZSBjb25kaXRpb25cbnRydWUgfCBmYWxzZSBleHRlbmRzIChUIGV4dGVuZHMgbmV2ZXIgPyB0cnVlIDogZmFsc2UpID8gVHJ1ZSA6IEZhbHNlO1xuZXhwb3J0IHR5cGUgQ2FzdEFueTxULCBDYXN0VG8+ID0gSXNBbnk8VCwgQ2FzdFRvLCBUPjtcblxuLyoqXHJcbiAqIHJldHVybiBUcnVlIGlmIFQgaXMgYHVua25vd25gLCBvdGhlcndpc2UgcmV0dXJuIEZhbHNlXHJcbiAqIHRha2VuIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2pvb25ob2Noby90c2RlZlxyXG4gKlxyXG4gKiBAaW50ZXJuYWxcclxuICovXG5leHBvcnQgdHlwZSBJc1Vua25vd248VCwgVHJ1ZSwgRmFsc2UgPSBuZXZlcj4gPSB1bmtub3duIGV4dGVuZHMgVCA/IElzQW55PFQsIEZhbHNlLCBUcnVlPiA6IEZhbHNlO1xuZXhwb3J0IHR5cGUgRmFsbGJhY2tJZlVua25vd248VCwgRmFsbGJhY2s+ID0gSXNVbmtub3duPFQsIEZhbGxiYWNrLCBUPjtcblxuLyoqXHJcbiAqIEBpbnRlcm5hbFxyXG4gKi9cbmV4cG9ydCB0eXBlIElmTWF5YmVVbmRlZmluZWQ8UCwgVHJ1ZSwgRmFsc2U+ID0gW3VuZGVmaW5lZF0gZXh0ZW5kcyBbUF0gPyBUcnVlIDogRmFsc2U7XG5cbi8qKlxyXG4gKiBAaW50ZXJuYWxcclxuICovXG5leHBvcnQgdHlwZSBJZlZvaWQ8UCwgVHJ1ZSwgRmFsc2U+ID0gW3ZvaWRdIGV4dGVuZHMgW1BdID8gVHJ1ZSA6IEZhbHNlO1xuXG4vKipcclxuICogQGludGVybmFsXHJcbiAqL1xuZXhwb3J0IHR5cGUgSXNFbXB0eU9iajxULCBUcnVlLCBGYWxzZSA9IG5ldmVyPiA9IFQgZXh0ZW5kcyBhbnkgPyBrZXlvZiBUIGV4dGVuZHMgbmV2ZXIgPyBJc1Vua25vd248VCwgRmFsc2UsIElmTWF5YmVVbmRlZmluZWQ8VCwgRmFsc2UsIElmVm9pZDxULCBGYWxzZSwgVHJ1ZT4+PiA6IEZhbHNlIDogbmV2ZXI7XG5cbi8qKlxyXG4gKiByZXR1cm5zIFRydWUgaWYgVFMgdmVyc2lvbiBpcyBhYm92ZSAzLjUsIEZhbHNlIGlmIGJlbG93LlxyXG4gKiB1c2VzIGZlYXR1cmUgZGV0ZWN0aW9uIHRvIGRldGVjdCBUUyB2ZXJzaW9uID49IDMuNVxyXG4gKiAqIHZlcnNpb25zIGJlbG93IDMuNSB3aWxsIHJldHVybiBge31gIGZvciB1bnJlc29sdmFibGUgaW50ZXJmZXJlbmNlXHJcbiAqICogdmVyc2lvbnMgYWJvdmUgd2lsbCByZXR1cm4gYHVua25vd25gXHJcbiAqXHJcbiAqIEBpbnRlcm5hbFxyXG4gKi9cbmV4cG9ydCB0eXBlIEF0TGVhc3RUUzM1PFRydWUsIEZhbHNlPiA9IFtUcnVlLCBGYWxzZV1bSXNVbmtub3duPFJldHVyblR5cGU8PFQ+KCkgPT4gVD4sIDAsIDE+XTtcblxuLyoqXHJcbiAqIEBpbnRlcm5hbFxyXG4gKi9cbmV4cG9ydCB0eXBlIElzVW5rbm93bk9yTm9uSW5mZXJyYWJsZTxULCBUcnVlLCBGYWxzZT4gPSBBdExlYXN0VFMzNTxJc1Vua25vd248VCwgVHJ1ZSwgRmFsc2U+LCBJc0VtcHR5T2JqPFQsIFRydWUsIElzVW5rbm93bjxULCBUcnVlLCBGYWxzZT4+PjtcblxuLyoqXHJcbiAqIENvbnZlcnQgYSBVbmlvbiB0eXBlIGAoQXxCKWAgdG8gYW4gaW50ZXJzZWN0aW9uIHR5cGUgYChBJkIpYFxyXG4gKi9cbmV4cG9ydCB0eXBlIFVuaW9uVG9JbnRlcnNlY3Rpb248VT4gPSAoVSBleHRlbmRzIGFueSA/IChrOiBVKSA9PiB2b2lkIDogbmV2ZXIpIGV4dGVuZHMgKGs6IGluZmVyIEkpID0+IHZvaWQgPyBJIDogbmV2ZXI7XG5cbi8vIEFwcGVhcnMgdG8gaGF2ZSBhIGNvbnZlbmllbnQgc2lkZSBlZmZlY3Qgb2YgaWdub3JpbmcgYG5ldmVyYCBldmVuIGlmIHRoYXQncyBub3Qgd2hhdCB5b3Ugc3BlY2lmaWVkXG5leHBvcnQgdHlwZSBFeGNsdWRlRnJvbVR1cGxlPFQsIEUsIEFjYyBleHRlbmRzIHVua25vd25bXSA9IFtdPiA9IFQgZXh0ZW5kcyBbaW5mZXIgSGVhZCwgLi4uaW5mZXIgVGFpbF0gPyBFeGNsdWRlRnJvbVR1cGxlPFRhaWwsIEUsIFsuLi5BY2MsIC4uLihbSGVhZF0gZXh0ZW5kcyBbRV0gPyBbXSA6IFtIZWFkXSldPiA6IEFjYztcbnR5cGUgRXh0cmFjdERpc3BhdGNoRnJvbU1pZGRsZXdhcmVUdXBsZTxNaWRkbGV3YXJlVHVwbGUgZXh0ZW5kcyByZWFkb25seSBhbnlbXSwgQWNjIGV4dGVuZHMge30+ID0gTWlkZGxld2FyZVR1cGxlIGV4dGVuZHMgW2luZmVyIEhlYWQsIC4uLmluZmVyIFRhaWxdID8gRXh0cmFjdERpc3BhdGNoRnJvbU1pZGRsZXdhcmVUdXBsZTxUYWlsLCBBY2MgJiAoSGVhZCBleHRlbmRzIE1pZGRsZXdhcmU8aW5mZXIgRD4gPyBJc0FueTxELCB7fSwgRD4gOiB7fSk+IDogQWNjO1xuZXhwb3J0IHR5cGUgRXh0cmFjdERpc3BhdGNoRXh0ZW5zaW9uczxNPiA9IE0gZXh0ZW5kcyBUdXBsZTxpbmZlciBNaWRkbGV3YXJlVHVwbGU+ID8gRXh0cmFjdERpc3BhdGNoRnJvbU1pZGRsZXdhcmVUdXBsZTxNaWRkbGV3YXJlVHVwbGUsIHt9PiA6IE0gZXh0ZW5kcyBSZWFkb25seUFycmF5PE1pZGRsZXdhcmU+ID8gRXh0cmFjdERpc3BhdGNoRnJvbU1pZGRsZXdhcmVUdXBsZTxbLi4uTV0sIHt9PiA6IG5ldmVyO1xudHlwZSBFeHRyYWN0U3RvcmVFeHRlbnNpb25zRnJvbUVuaGFuY2VyVHVwbGU8RW5oYW5jZXJUdXBsZSBleHRlbmRzIHJlYWRvbmx5IGFueVtdLCBBY2MgZXh0ZW5kcyB7fT4gPSBFbmhhbmNlclR1cGxlIGV4dGVuZHMgW2luZmVyIEhlYWQsIC4uLmluZmVyIFRhaWxdID8gRXh0cmFjdFN0b3JlRXh0ZW5zaW9uc0Zyb21FbmhhbmNlclR1cGxlPFRhaWwsIEFjYyAmIChIZWFkIGV4dGVuZHMgU3RvcmVFbmhhbmNlcjxpbmZlciBFeHQ+ID8gSXNBbnk8RXh0LCB7fSwgRXh0PiA6IHt9KT4gOiBBY2M7XG5leHBvcnQgdHlwZSBFeHRyYWN0U3RvcmVFeHRlbnNpb25zPEU+ID0gRSBleHRlbmRzIFR1cGxlPGluZmVyIEVuaGFuY2VyVHVwbGU+ID8gRXh0cmFjdFN0b3JlRXh0ZW5zaW9uc0Zyb21FbmhhbmNlclR1cGxlPEVuaGFuY2VyVHVwbGUsIHt9PiA6IEUgZXh0ZW5kcyBSZWFkb25seUFycmF5PFN0b3JlRW5oYW5jZXI+ID8gVW5pb25Ub0ludGVyc2VjdGlvbjxFW251bWJlcl0gZXh0ZW5kcyBTdG9yZUVuaGFuY2VyPGluZmVyIEV4dD4gPyBFeHQgZXh0ZW5kcyB7fSA/IElzQW55PEV4dCwge30sIEV4dD4gOiB7fSA6IHt9PiA6IG5ldmVyO1xudHlwZSBFeHRyYWN0U3RhdGVFeHRlbnNpb25zRnJvbUVuaGFuY2VyVHVwbGU8RW5oYW5jZXJUdXBsZSBleHRlbmRzIHJlYWRvbmx5IGFueVtdLCBBY2MgZXh0ZW5kcyB7fT4gPSBFbmhhbmNlclR1cGxlIGV4dGVuZHMgW2luZmVyIEhlYWQsIC4uLmluZmVyIFRhaWxdID8gRXh0cmFjdFN0YXRlRXh0ZW5zaW9uc0Zyb21FbmhhbmNlclR1cGxlPFRhaWwsIEFjYyAmIChIZWFkIGV4dGVuZHMgU3RvcmVFbmhhbmNlcjxhbnksIGluZmVyIFN0YXRlRXh0PiA/IElzQW55PFN0YXRlRXh0LCB7fSwgU3RhdGVFeHQ+IDoge30pPiA6IEFjYztcbmV4cG9ydCB0eXBlIEV4dHJhY3RTdGF0ZUV4dGVuc2lvbnM8RT4gPSBFIGV4dGVuZHMgVHVwbGU8aW5mZXIgRW5oYW5jZXJUdXBsZT4gPyBFeHRyYWN0U3RhdGVFeHRlbnNpb25zRnJvbUVuaGFuY2VyVHVwbGU8RW5oYW5jZXJUdXBsZSwge30+IDogRSBleHRlbmRzIFJlYWRvbmx5QXJyYXk8U3RvcmVFbmhhbmNlcj4gPyBVbmlvblRvSW50ZXJzZWN0aW9uPEVbbnVtYmVyXSBleHRlbmRzIFN0b3JlRW5oYW5jZXI8YW55LCBpbmZlciBTdGF0ZUV4dD4gPyBTdGF0ZUV4dCBleHRlbmRzIHt9ID8gSXNBbnk8U3RhdGVFeHQsIHt9LCBTdGF0ZUV4dD4gOiB7fSA6IHt9PiA6IG5ldmVyO1xuXG4vKipcclxuICogSGVscGVyIHR5cGUuIFBhc3NlcyBUIG91dCBhZ2FpbiwgYnV0IGJveGVzIGl0IGluIGEgd2F5IHRoYXQgaXQgY2Fubm90XHJcbiAqIFwid2lkZW5cIiB0aGUgdHlwZSBieSBhY2NpZGVudCBpZiBpdCBpcyBhIGdlbmVyaWMgdGhhdCBzaG91bGQgYmUgaW5mZXJyZWRcclxuICogZnJvbSBlbHNld2hlcmUuXHJcbiAqXHJcbiAqIEBpbnRlcm5hbFxyXG4gKi9cbmV4cG9ydCB0eXBlIE5vSW5mZXI8VD4gPSBbVF1bVCBleHRlbmRzIGFueSA/IDAgOiBuZXZlcl07XG5leHBvcnQgdHlwZSBOb25VbmRlZmluZWQ8VD4gPSBUIGV4dGVuZHMgdW5kZWZpbmVkID8gbmV2ZXIgOiBUO1xuZXhwb3J0IHR5cGUgT21pdDxULCBLIGV4dGVuZHMga2V5b2YgYW55PiA9IFBpY2s8VCwgRXhjbHVkZTxrZXlvZiBULCBLPj47XG5leHBvcnQgdHlwZSBXaXRoUmVxdWlyZWRQcm9wPFQsIEsgZXh0ZW5kcyBrZXlvZiBUPiA9IE9taXQ8VCwgSz4gJiBSZXF1aXJlZDxQaWNrPFQsIEs+PjtcbmV4cG9ydCB0eXBlIFdpdGhPcHRpb25hbFByb3A8VCwgSyBleHRlbmRzIGtleW9mIFQ+ID0gT21pdDxULCBLPiAmIFBhcnRpYWw8UGljazxULCBLPj47XG5leHBvcnQgaW50ZXJmYWNlIFR5cGVHdWFyZDxUPiB7XG4gICh2YWx1ZTogYW55KTogdmFsdWUgaXMgVDtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgSGFzTWF0Y2hGdW5jdGlvbjxUPiB7XG4gIG1hdGNoOiBUeXBlR3VhcmQ8VD47XG59XG5leHBvcnQgY29uc3QgaGFzTWF0Y2hGdW5jdGlvbiA9IDxULD4odjogTWF0Y2hlcjxUPik6IHYgaXMgSGFzTWF0Y2hGdW5jdGlvbjxUPiA9PiB7XG4gIHJldHVybiB2ICYmIHR5cGVvZiAodiBhcyBIYXNNYXRjaEZ1bmN0aW9uPFQ+KS5tYXRjaCA9PT0gJ2Z1bmN0aW9uJztcbn07XG5cbi8qKiBAcHVibGljICovXG5leHBvcnQgdHlwZSBNYXRjaGVyPFQ+ID0gSGFzTWF0Y2hGdW5jdGlvbjxUPiB8IFR5cGVHdWFyZDxUPjtcblxuLyoqIEBwdWJsaWMgKi9cbmV4cG9ydCB0eXBlIEFjdGlvbkZyb21NYXRjaGVyPE0gZXh0ZW5kcyBNYXRjaGVyPGFueT4+ID0gTSBleHRlbmRzIE1hdGNoZXI8aW5mZXIgVD4gPyBUIDogbmV2ZXI7XG5leHBvcnQgdHlwZSBJZDxUPiA9IHsgW0sgaW4ga2V5b2YgVF06IFRbS10gfSAmIHt9O1xuZXhwb3J0IHR5cGUgVGFpbDxUIGV4dGVuZHMgYW55W10+ID0gVCBleHRlbmRzIFthbnksIC4uLmluZmVyIFRhaWxdID8gVGFpbCA6IG5ldmVyO1xuZXhwb3J0IHR5cGUgVW5rbm93bklmTm9uU3BlY2lmaWM8VD4gPSB7fSBleHRlbmRzIFQgPyB1bmtub3duIDogVDtcblxuLyoqXHJcbiAqIEEgUHJvbWlzZSB0aGF0IHdpbGwgbmV2ZXIgcmVqZWN0LlxyXG4gKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9yZWR1eGpzL3JlZHV4LXRvb2xraXQvaXNzdWVzLzQxMDFcclxuICovXG5leHBvcnQgdHlwZSBTYWZlUHJvbWlzZTxUPiA9IFByb21pc2U8VD4gJiB7XG4gIF9fbGludGVyQnJhbmRzOiAnU2FmZVByb21pc2UnO1xufTtcblxuLyoqXHJcbiAqIFByb3Blcmx5IHdyYXBzIGEgUHJvbWlzZSBhcyBhIHtAbGluayBTYWZlUHJvbWlzZX0gd2l0aCAuY2F0Y2goZmFsbGJhY2spLlxyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhc1NhZmVQcm9taXNlPFJlc29sdmVkLCBSZWplY3RlZD4ocHJvbWlzZTogUHJvbWlzZTxSZXNvbHZlZD4sIGZhbGxiYWNrOiAoZXJyb3I6IHVua25vd24pID0+IFJlamVjdGVkKSB7XG4gIHJldHVybiAocHJvbWlzZS5jYXRjaChmYWxsYmFjaykgYXMgU2FmZVByb21pc2U8UmVzb2x2ZWQgfCBSZWplY3RlZD4pO1xufSIsImltcG9ydCB0eXBlIHsgTWlkZGxld2FyZSB9IGZyb20gJ3JlZHV4JztcbmltcG9ydCB7IGlzQWN0aW9uQ3JlYXRvciBhcyBpc1JUS0FjdGlvbiB9IGZyb20gJy4vY3JlYXRlQWN0aW9uJztcbmV4cG9ydCBpbnRlcmZhY2UgQWN0aW9uQ3JlYXRvckludmFyaWFudE1pZGRsZXdhcmVPcHRpb25zIHtcbiAgLyoqXHJcbiAgICogVGhlIGZ1bmN0aW9uIHRvIGlkZW50aWZ5IHdoZXRoZXIgYSB2YWx1ZSBpcyBhbiBhY3Rpb24gY3JlYXRvci5cclxuICAgKiBUaGUgZGVmYXVsdCBjaGVja3MgZm9yIGEgZnVuY3Rpb24gd2l0aCBhIHN0YXRpYyB0eXBlIHByb3BlcnR5IGFuZCBtYXRjaCBtZXRob2QuXHJcbiAgICovXG4gIGlzQWN0aW9uQ3JlYXRvcj86IChhY3Rpb246IHVua25vd24pID0+IGFjdGlvbiBpcyBGdW5jdGlvbiAmIHtcbiAgICB0eXBlPzogdW5rbm93bjtcbiAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRNZXNzYWdlKHR5cGU/OiB1bmtub3duKSB7XG4gIGNvbnN0IHNwbGl0VHlwZSA9IHR5cGUgPyBgJHt0eXBlfWAuc3BsaXQoJy8nKSA6IFtdO1xuICBjb25zdCBhY3Rpb25OYW1lID0gc3BsaXRUeXBlW3NwbGl0VHlwZS5sZW5ndGggLSAxXSB8fCAnYWN0aW9uQ3JlYXRvcic7XG4gIHJldHVybiBgRGV0ZWN0ZWQgYW4gYWN0aW9uIGNyZWF0b3Igd2l0aCB0eXBlIFwiJHt0eXBlIHx8ICd1bmtub3duJ31cIiBiZWluZyBkaXNwYXRjaGVkLiBcbk1ha2Ugc3VyZSB5b3UncmUgY2FsbGluZyB0aGUgYWN0aW9uIGNyZWF0b3IgYmVmb3JlIGRpc3BhdGNoaW5nLCBpLmUuIFxcYGRpc3BhdGNoKCR7YWN0aW9uTmFtZX0oKSlcXGAgaW5zdGVhZCBvZiBcXGBkaXNwYXRjaCgke2FjdGlvbk5hbWV9KVxcYC4gVGhpcyBpcyBuZWNlc3NhcnkgZXZlbiBpZiB0aGUgYWN0aW9uIGhhcyBubyBwYXlsb2FkLmA7XG59XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQWN0aW9uQ3JlYXRvckludmFyaWFudE1pZGRsZXdhcmUob3B0aW9uczogQWN0aW9uQ3JlYXRvckludmFyaWFudE1pZGRsZXdhcmVPcHRpb25zID0ge30pOiBNaWRkbGV3YXJlIHtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicpIHtcbiAgICByZXR1cm4gKCkgPT4gbmV4dCA9PiBhY3Rpb24gPT4gbmV4dChhY3Rpb24pO1xuICB9XG4gIGNvbnN0IHtcbiAgICBpc0FjdGlvbkNyZWF0b3IgPSBpc1JUS0FjdGlvblxuICB9ID0gb3B0aW9ucztcbiAgcmV0dXJuICgpID0+IG5leHQgPT4gYWN0aW9uID0+IHtcbiAgICBpZiAoaXNBY3Rpb25DcmVhdG9yKGFjdGlvbikpIHtcbiAgICAgIGNvbnNvbGUud2FybihnZXRNZXNzYWdlKGFjdGlvbi50eXBlKSk7XG4gICAgfVxuICAgIHJldHVybiBuZXh0KGFjdGlvbik7XG4gIH07XG59IiwiaW1wb3J0IHsgZm9ybWF0UHJvZEVycm9yTWVzc2FnZSBhcyBfZm9ybWF0UHJvZEVycm9yTWVzc2FnZSB9IGZyb20gXCJAcmVkdXhqcy90b29sa2l0XCI7XG5pbXBvcnQgeyBwcm9kdWNlIGFzIGNyZWF0ZU5leHRTdGF0ZSwgaXNEcmFmdGFibGUgfSBmcm9tICdpbW1lcic7XG5pbXBvcnQgdHlwZSB7IE1pZGRsZXdhcmUsIFN0b3JlRW5oYW5jZXIgfSBmcm9tICdyZWR1eCc7XG5leHBvcnQgZnVuY3Rpb24gZ2V0VGltZU1lYXN1cmVVdGlscyhtYXhEZWxheTogbnVtYmVyLCBmbk5hbWU6IHN0cmluZykge1xuICBsZXQgZWxhcHNlZCA9IDA7XG4gIHJldHVybiB7XG4gICAgbWVhc3VyZVRpbWU8VD4oZm46ICgpID0+IFQpOiBUIHtcbiAgICAgIGNvbnN0IHN0YXJ0ZWQgPSBEYXRlLm5vdygpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGZuKCk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBjb25zdCBmaW5pc2hlZCA9IERhdGUubm93KCk7XG4gICAgICAgIGVsYXBzZWQgKz0gZmluaXNoZWQgLSBzdGFydGVkO1xuICAgICAgfVxuICAgIH0sXG4gICAgd2FybklmRXhjZWVkZWQoKSB7XG4gICAgICBpZiAoZWxhcHNlZCA+IG1heERlbGF5KSB7XG4gICAgICAgIGNvbnNvbGUud2FybihgJHtmbk5hbWV9IHRvb2sgJHtlbGFwc2VkfW1zLCB3aGljaCBpcyBtb3JlIHRoYW4gdGhlIHdhcm5pbmcgdGhyZXNob2xkIG9mICR7bWF4RGVsYXl9bXMuIFxuSWYgeW91ciBzdGF0ZSBvciBhY3Rpb25zIGFyZSB2ZXJ5IGxhcmdlLCB5b3UgbWF5IHdhbnQgdG8gZGlzYWJsZSB0aGUgbWlkZGxld2FyZSBhcyBpdCBtaWdodCBjYXVzZSB0b28gbXVjaCBvZiBhIHNsb3dkb3duIGluIGRldmVsb3BtZW50IG1vZGUuIFNlZSBodHRwczovL3JlZHV4LXRvb2xraXQuanMub3JnL2FwaS9nZXREZWZhdWx0TWlkZGxld2FyZSBmb3IgaW5zdHJ1Y3Rpb25zLlxuSXQgaXMgZGlzYWJsZWQgaW4gcHJvZHVjdGlvbiBidWlsZHMsIHNvIHlvdSBkb24ndCBuZWVkIHRvIHdvcnJ5IGFib3V0IHRoYXQuYCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGRlbGF5KG1zOiBudW1iZXIpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCBtcykpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZpbmQ8VD4oaXRlcmFibGU6IEl0ZXJhYmxlPFQ+LCBjb21wYXJhdG9yOiAoaXRlbTogVCkgPT4gYm9vbGVhbik6IFQgfCB1bmRlZmluZWQge1xuICBmb3IgKGNvbnN0IGVudHJ5IG9mIGl0ZXJhYmxlKSB7XG4gICAgaWYgKGNvbXBhcmF0b3IoZW50cnkpKSB7XG4gICAgICByZXR1cm4gZW50cnk7XG4gICAgfVxuICB9XG4gIHJldHVybiB1bmRlZmluZWQ7XG59XG5leHBvcnQgY2xhc3MgVHVwbGU8SXRlbXMgZXh0ZW5kcyBSZWFkb25seUFycmF5PHVua25vd24+ID0gW10+IGV4dGVuZHMgQXJyYXk8SXRlbXNbbnVtYmVyXT4ge1xuICBjb25zdHJ1Y3RvcihsZW5ndGg6IG51bWJlcik7XG4gIGNvbnN0cnVjdG9yKC4uLml0ZW1zOiBJdGVtcyk7XG4gIGNvbnN0cnVjdG9yKC4uLml0ZW1zOiBhbnlbXSkge1xuICAgIHN1cGVyKC4uLml0ZW1zKTtcbiAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgVHVwbGUucHJvdG90eXBlKTtcbiAgfVxuICBzdGF0aWMgZ2V0IFtTeW1ib2wuc3BlY2llc10oKSB7XG4gICAgcmV0dXJuIChUdXBsZSBhcyBhbnkpO1xuICB9XG4gIGNvbmNhdDxBZGRpdGlvbmFsSXRlbXMgZXh0ZW5kcyBSZWFkb25seUFycmF5PHVua25vd24+PihpdGVtczogVHVwbGU8QWRkaXRpb25hbEl0ZW1zPik6IFR1cGxlPFsuLi5JdGVtcywgLi4uQWRkaXRpb25hbEl0ZW1zXT47XG4gIGNvbmNhdDxBZGRpdGlvbmFsSXRlbXMgZXh0ZW5kcyBSZWFkb25seUFycmF5PHVua25vd24+PihpdGVtczogQWRkaXRpb25hbEl0ZW1zKTogVHVwbGU8Wy4uLkl0ZW1zLCAuLi5BZGRpdGlvbmFsSXRlbXNdPjtcbiAgY29uY2F0PEFkZGl0aW9uYWxJdGVtcyBleHRlbmRzIFJlYWRvbmx5QXJyYXk8dW5rbm93bj4+KC4uLml0ZW1zOiBBZGRpdGlvbmFsSXRlbXMpOiBUdXBsZTxbLi4uSXRlbXMsIC4uLkFkZGl0aW9uYWxJdGVtc10+O1xuICBjb25jYXQoLi4uYXJyOiBhbnlbXSkge1xuICAgIHJldHVybiBzdXBlci5jb25jYXQuYXBwbHkodGhpcywgYXJyKTtcbiAgfVxuICBwcmVwZW5kPEFkZGl0aW9uYWxJdGVtcyBleHRlbmRzIFJlYWRvbmx5QXJyYXk8dW5rbm93bj4+KGl0ZW1zOiBUdXBsZTxBZGRpdGlvbmFsSXRlbXM+KTogVHVwbGU8Wy4uLkFkZGl0aW9uYWxJdGVtcywgLi4uSXRlbXNdPjtcbiAgcHJlcGVuZDxBZGRpdGlvbmFsSXRlbXMgZXh0ZW5kcyBSZWFkb25seUFycmF5PHVua25vd24+PihpdGVtczogQWRkaXRpb25hbEl0ZW1zKTogVHVwbGU8Wy4uLkFkZGl0aW9uYWxJdGVtcywgLi4uSXRlbXNdPjtcbiAgcHJlcGVuZDxBZGRpdGlvbmFsSXRlbXMgZXh0ZW5kcyBSZWFkb25seUFycmF5PHVua25vd24+PiguLi5pdGVtczogQWRkaXRpb25hbEl0ZW1zKTogVHVwbGU8Wy4uLkFkZGl0aW9uYWxJdGVtcywgLi4uSXRlbXNdPjtcbiAgcHJlcGVuZCguLi5hcnI6IGFueVtdKSB7XG4gICAgaWYgKGFyci5sZW5ndGggPT09IDEgJiYgQXJyYXkuaXNBcnJheShhcnJbMF0pKSB7XG4gICAgICByZXR1cm4gbmV3IFR1cGxlKC4uLmFyclswXS5jb25jYXQodGhpcykpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFR1cGxlKC4uLmFyci5jb25jYXQodGhpcykpO1xuICB9XG59XG5leHBvcnQgZnVuY3Rpb24gZnJlZXplRHJhZnRhYmxlPFQ+KHZhbDogVCkge1xuICByZXR1cm4gaXNEcmFmdGFibGUodmFsKSA/IGNyZWF0ZU5leHRTdGF0ZSh2YWwsICgpID0+IHt9KSA6IHZhbDtcbn1cbmludGVyZmFjZSBXZWFrTWFwRW1wbGFjZUhhbmRsZXI8SyBleHRlbmRzIG9iamVjdCwgVj4ge1xuICAvKipcclxuICAgKiBXaWxsIGJlIGNhbGxlZCB0byBnZXQgdmFsdWUsIGlmIG5vIHZhbHVlIGlzIGN1cnJlbnRseSBpbiBtYXAuXHJcbiAgICovXG4gIGluc2VydD8oa2V5OiBLLCBtYXA6IFdlYWtNYXA8SywgVj4pOiBWO1xuICAvKipcclxuICAgKiBXaWxsIGJlIGNhbGxlZCB0byB1cGRhdGUgYSB2YWx1ZSwgaWYgb25lIGV4aXN0cyBhbHJlYWR5LlxyXG4gICAqL1xuICB1cGRhdGU/KHByZXZpb3VzOiBWLCBrZXk6IEssIG1hcDogV2Vha01hcDxLLCBWPik6IFY7XG59XG5pbnRlcmZhY2UgTWFwRW1wbGFjZUhhbmRsZXI8SywgVj4ge1xuICAvKipcclxuICAgKiBXaWxsIGJlIGNhbGxlZCB0byBnZXQgdmFsdWUsIGlmIG5vIHZhbHVlIGlzIGN1cnJlbnRseSBpbiBtYXAuXHJcbiAgICovXG4gIGluc2VydD8oa2V5OiBLLCBtYXA6IE1hcDxLLCBWPik6IFY7XG4gIC8qKlxyXG4gICAqIFdpbGwgYmUgY2FsbGVkIHRvIHVwZGF0ZSBhIHZhbHVlLCBpZiBvbmUgZXhpc3RzIGFscmVhZHkuXHJcbiAgICovXG4gIHVwZGF0ZT8ocHJldmlvdXM6IFYsIGtleTogSywgbWFwOiBNYXA8SywgVj4pOiBWO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGVtcGxhY2U8SywgVj4obWFwOiBNYXA8SywgVj4sIGtleTogSywgaGFuZGxlcjogTWFwRW1wbGFjZUhhbmRsZXI8SywgVj4pOiBWO1xuZXhwb3J0IGZ1bmN0aW9uIGVtcGxhY2U8SyBleHRlbmRzIG9iamVjdCwgVj4obWFwOiBXZWFrTWFwPEssIFY+LCBrZXk6IEssIGhhbmRsZXI6IFdlYWtNYXBFbXBsYWNlSGFuZGxlcjxLLCBWPik6IFY7XG4vKipcclxuICogQWxsb3cgaW5zZXJ0aW5nIGEgbmV3IHZhbHVlLCBvciB1cGRhdGluZyBhbiBleGlzdGluZyBvbmVcclxuICogQHRocm93cyBpZiBjYWxsZWQgZm9yIGEga2V5IHdpdGggbm8gY3VycmVudCB2YWx1ZSBhbmQgbm8gYGluc2VydGAgaGFuZGxlciBpcyBwcm92aWRlZFxyXG4gKiBAcmV0dXJucyBjdXJyZW50IHZhbHVlIGluIG1hcCAoYWZ0ZXIgaW5zZXJ0aW9uL3VwZGF0aW5nKVxyXG4gKiBgYGB0c1xyXG4gKiAvLyByZXR1cm4gY3VycmVudCB2YWx1ZSBpZiBhbHJlYWR5IGluIG1hcCwgb3RoZXJ3aXNlIGluaXRpYWxpc2UgdG8gMCBhbmQgcmV0dXJuIHRoYXRcclxuICogY29uc3QgbnVtID0gZW1wbGFjZShtYXAsIGtleSwge1xyXG4gKiAgIGluc2VydDogKCkgPT4gMFxyXG4gKiB9KVxyXG4gKlxyXG4gKiAvLyBpbmNyZWFzZSBjdXJyZW50IHZhbHVlIGJ5IG9uZSBpZiBhbHJlYWR5IGluIG1hcCwgb3RoZXJ3aXNlIGluaXRpYWxpc2UgdG8gMFxyXG4gKiBjb25zdCBudW0gPSBlbXBsYWNlKG1hcCwga2V5LCB7XHJcbiAqICAgdXBkYXRlOiAobikgPT4gbiArIDEsXHJcbiAqICAgaW5zZXJ0OiAoKSA9PiAwLFxyXG4gKiB9KVxyXG4gKlxyXG4gKiAvLyBvbmx5IHVwZGF0ZSBpZiB2YWx1ZSdzIGFscmVhZHkgaW4gdGhlIG1hcCAtIGFuZCBpbmNyZWFzZSBpdCBieSBvbmVcclxuICogaWYgKG1hcC5oYXMoa2V5KSkge1xyXG4gKiAgIGNvbnN0IG51bSA9IGVtcGxhY2UobWFwLCBrZXksIHtcclxuICogICAgIHVwZGF0ZTogKG4pID0+IG4gKyAxLFxyXG4gKiAgIH0pXHJcbiAqIH1cclxuICogYGBgXHJcbiAqXHJcbiAqIEByZW1hcmtzXHJcbiAqIEJhc2VkIG9uIGh0dHBzOi8vZ2l0aHViLmNvbS90YzM5L3Byb3Bvc2FsLXVwc2VydCBjdXJyZW50bHkgaW4gU3RhZ2UgMiAtIG1heWJlIGluIGEgZmV3IHllYXJzIHdlJ2xsIGJlIGFibGUgdG8gcmVwbGFjZSB0aGlzIHdpdGggZGlyZWN0IG1ldGhvZCBjYWxsc1xyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbXBsYWNlPEsgZXh0ZW5kcyBvYmplY3QsIFY+KG1hcDogV2Vha01hcDxLLCBWPiwga2V5OiBLLCBoYW5kbGVyOiBXZWFrTWFwRW1wbGFjZUhhbmRsZXI8SywgVj4pOiBWIHtcbiAgaWYgKG1hcC5oYXMoa2V5KSkge1xuICAgIGxldCB2YWx1ZSA9IChtYXAuZ2V0KGtleSkgYXMgVik7XG4gICAgaWYgKGhhbmRsZXIudXBkYXRlKSB7XG4gICAgICB2YWx1ZSA9IGhhbmRsZXIudXBkYXRlKHZhbHVlLCBrZXksIG1hcCk7XG4gICAgICBtYXAuc2V0KGtleSwgdmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbiAgaWYgKCFoYW5kbGVyLmluc2VydCkgdGhyb3cgbmV3IEVycm9yKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIiA/IF9mb3JtYXRQcm9kRXJyb3JNZXNzYWdlKDEwKSA6ICdObyBpbnNlcnQgcHJvdmlkZWQgZm9yIGtleSBub3QgYWxyZWFkeSBpbiBtYXAnKTtcbiAgY29uc3QgaW5zZXJ0ZWQgPSBoYW5kbGVyLmluc2VydChrZXksIG1hcCk7XG4gIG1hcC5zZXQoa2V5LCBpbnNlcnRlZCk7XG4gIHJldHVybiBpbnNlcnRlZDtcbn0iLCJpbXBvcnQgeyBmb3JtYXRQcm9kRXJyb3JNZXNzYWdlIGFzIF9mb3JtYXRQcm9kRXJyb3JNZXNzYWdlMiB9IGZyb20gXCJAcmVkdXhqcy90b29sa2l0XCI7XG5pbXBvcnQgeyBmb3JtYXRQcm9kRXJyb3JNZXNzYWdlIGFzIF9mb3JtYXRQcm9kRXJyb3JNZXNzYWdlIH0gZnJvbSBcIkByZWR1eGpzL3Rvb2xraXRcIjtcbmltcG9ydCB0eXBlIHsgTWlkZGxld2FyZSB9IGZyb20gJ3JlZHV4JztcbmltcG9ydCB7IGdldFRpbWVNZWFzdXJlVXRpbHMgfSBmcm9tICcuL3V0aWxzJztcbnR5cGUgRW50cnlQcm9jZXNzb3IgPSAoa2V5OiBzdHJpbmcsIHZhbHVlOiBhbnkpID0+IGFueTtcblxuLyoqXHJcbiAqIFRoZSBkZWZhdWx0IGBpc0ltbXV0YWJsZWAgZnVuY3Rpb24uXHJcbiAqXHJcbiAqIEBwdWJsaWNcclxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNJbW11dGFibGVEZWZhdWx0KHZhbHVlOiB1bmtub3duKTogYm9vbGVhbiB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgIT09ICdvYmplY3QnIHx8IHZhbHVlID09IG51bGwgfHwgT2JqZWN0LmlzRnJvemVuKHZhbHVlKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB0cmFja0Zvck11dGF0aW9ucyhpc0ltbXV0YWJsZTogSXNJbW11dGFibGVGdW5jLCBpZ25vcmVQYXRoczogSWdub3JlUGF0aHMgfCB1bmRlZmluZWQsIG9iajogYW55KSB7XG4gIGNvbnN0IHRyYWNrZWRQcm9wZXJ0aWVzID0gdHJhY2tQcm9wZXJ0aWVzKGlzSW1tdXRhYmxlLCBpZ25vcmVQYXRocywgb2JqKTtcbiAgcmV0dXJuIHtcbiAgICBkZXRlY3RNdXRhdGlvbnMoKSB7XG4gICAgICByZXR1cm4gZGV0ZWN0TXV0YXRpb25zKGlzSW1tdXRhYmxlLCBpZ25vcmVQYXRocywgdHJhY2tlZFByb3BlcnRpZXMsIG9iaik7XG4gICAgfVxuICB9O1xufVxuaW50ZXJmYWNlIFRyYWNrZWRQcm9wZXJ0eSB7XG4gIHZhbHVlOiBhbnk7XG4gIGNoaWxkcmVuOiBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xufVxuZnVuY3Rpb24gdHJhY2tQcm9wZXJ0aWVzKGlzSW1tdXRhYmxlOiBJc0ltbXV0YWJsZUZ1bmMsIGlnbm9yZVBhdGhzOiBJZ25vcmVQYXRocyA9IFtdLCBvYmo6IFJlY29yZDxzdHJpbmcsIGFueT4sIHBhdGg6IHN0cmluZyA9ICcnLCBjaGVja2VkT2JqZWN0czogU2V0PFJlY29yZDxzdHJpbmcsIGFueT4+ID0gbmV3IFNldCgpKSB7XG4gIGNvbnN0IHRyYWNrZWQ6IFBhcnRpYWw8VHJhY2tlZFByb3BlcnR5PiA9IHtcbiAgICB2YWx1ZTogb2JqXG4gIH07XG4gIGlmICghaXNJbW11dGFibGUob2JqKSAmJiAhY2hlY2tlZE9iamVjdHMuaGFzKG9iaikpIHtcbiAgICBjaGVja2VkT2JqZWN0cy5hZGQob2JqKTtcbiAgICB0cmFja2VkLmNoaWxkcmVuID0ge307XG4gICAgZm9yIChjb25zdCBrZXkgaW4gb2JqKSB7XG4gICAgICBjb25zdCBjaGlsZFBhdGggPSBwYXRoID8gcGF0aCArICcuJyArIGtleSA6IGtleTtcbiAgICAgIGlmIChpZ25vcmVQYXRocy5sZW5ndGggJiYgaWdub3JlUGF0aHMuaW5kZXhPZihjaGlsZFBhdGgpICE9PSAtMSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHRyYWNrZWQuY2hpbGRyZW5ba2V5XSA9IHRyYWNrUHJvcGVydGllcyhpc0ltbXV0YWJsZSwgaWdub3JlUGF0aHMsIG9ialtrZXldLCBjaGlsZFBhdGgpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gKHRyYWNrZWQgYXMgVHJhY2tlZFByb3BlcnR5KTtcbn1cbnR5cGUgSWdub3JlUGF0aHMgPSByZWFkb25seSAoc3RyaW5nIHwgUmVnRXhwKVtdO1xuZnVuY3Rpb24gZGV0ZWN0TXV0YXRpb25zKGlzSW1tdXRhYmxlOiBJc0ltbXV0YWJsZUZ1bmMsIGlnbm9yZWRQYXRoczogSWdub3JlUGF0aHMgPSBbXSwgdHJhY2tlZFByb3BlcnR5OiBUcmFja2VkUHJvcGVydHksIG9iajogYW55LCBzYW1lUGFyZW50UmVmOiBib29sZWFuID0gZmFsc2UsIHBhdGg6IHN0cmluZyA9ICcnKToge1xuICB3YXNNdXRhdGVkOiBib29sZWFuO1xuICBwYXRoPzogc3RyaW5nO1xufSB7XG4gIGNvbnN0IHByZXZPYmogPSB0cmFja2VkUHJvcGVydHkgPyB0cmFja2VkUHJvcGVydHkudmFsdWUgOiB1bmRlZmluZWQ7XG4gIGNvbnN0IHNhbWVSZWYgPSBwcmV2T2JqID09PSBvYmo7XG4gIGlmIChzYW1lUGFyZW50UmVmICYmICFzYW1lUmVmICYmICFOdW1iZXIuaXNOYU4ob2JqKSkge1xuICAgIHJldHVybiB7XG4gICAgICB3YXNNdXRhdGVkOiB0cnVlLFxuICAgICAgcGF0aFxuICAgIH07XG4gIH1cbiAgaWYgKGlzSW1tdXRhYmxlKHByZXZPYmopIHx8IGlzSW1tdXRhYmxlKG9iaikpIHtcbiAgICByZXR1cm4ge1xuICAgICAgd2FzTXV0YXRlZDogZmFsc2VcbiAgICB9O1xuICB9XG5cbiAgLy8gR2F0aGVyIGFsbCBrZXlzIGZyb20gcHJldiAodHJhY2tlZCkgYW5kIGFmdGVyIG9ianNcbiAgY29uc3Qga2V5c1RvRGV0ZWN0OiBSZWNvcmQ8c3RyaW5nLCBib29sZWFuPiA9IHt9O1xuICBmb3IgKGxldCBrZXkgaW4gdHJhY2tlZFByb3BlcnR5LmNoaWxkcmVuKSB7XG4gICAga2V5c1RvRGV0ZWN0W2tleV0gPSB0cnVlO1xuICB9XG4gIGZvciAobGV0IGtleSBpbiBvYmopIHtcbiAgICBrZXlzVG9EZXRlY3Rba2V5XSA9IHRydWU7XG4gIH1cbiAgY29uc3QgaGFzSWdub3JlZFBhdGhzID0gaWdub3JlZFBhdGhzLmxlbmd0aCA+IDA7XG4gIGZvciAobGV0IGtleSBpbiBrZXlzVG9EZXRlY3QpIHtcbiAgICBjb25zdCBuZXN0ZWRQYXRoID0gcGF0aCA/IHBhdGggKyAnLicgKyBrZXkgOiBrZXk7XG4gICAgaWYgKGhhc0lnbm9yZWRQYXRocykge1xuICAgICAgY29uc3QgaGFzTWF0Y2hlcyA9IGlnbm9yZWRQYXRocy5zb21lKGlnbm9yZWQgPT4ge1xuICAgICAgICBpZiAoaWdub3JlZCBpbnN0YW5jZW9mIFJlZ0V4cCkge1xuICAgICAgICAgIHJldHVybiBpZ25vcmVkLnRlc3QobmVzdGVkUGF0aCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5lc3RlZFBhdGggPT09IGlnbm9yZWQ7XG4gICAgICB9KTtcbiAgICAgIGlmIChoYXNNYXRjaGVzKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCByZXN1bHQgPSBkZXRlY3RNdXRhdGlvbnMoaXNJbW11dGFibGUsIGlnbm9yZWRQYXRocywgdHJhY2tlZFByb3BlcnR5LmNoaWxkcmVuW2tleV0sIG9ialtrZXldLCBzYW1lUmVmLCBuZXN0ZWRQYXRoKTtcbiAgICBpZiAocmVzdWx0Lndhc011dGF0ZWQpIHtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICB9XG4gIHJldHVybiB7XG4gICAgd2FzTXV0YXRlZDogZmFsc2VcbiAgfTtcbn1cbnR5cGUgSXNJbW11dGFibGVGdW5jID0gKHZhbHVlOiBhbnkpID0+IGJvb2xlYW47XG5cbi8qKlxyXG4gKiBPcHRpb25zIGZvciBgY3JlYXRlSW1tdXRhYmxlU3RhdGVJbnZhcmlhbnRNaWRkbGV3YXJlKClgLlxyXG4gKlxyXG4gKiBAcHVibGljXHJcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJbW11dGFibGVTdGF0ZUludmFyaWFudE1pZGRsZXdhcmVPcHRpb25zIHtcbiAgLyoqXHJcbiAgICBDYWxsYmFjayBmdW5jdGlvbiB0byBjaGVjayBpZiBhIHZhbHVlIGlzIGNvbnNpZGVyZWQgdG8gYmUgaW1tdXRhYmxlLlxyXG4gICAgVGhpcyBmdW5jdGlvbiBpcyBhcHBsaWVkIHJlY3Vyc2l2ZWx5IHRvIGV2ZXJ5IHZhbHVlIGNvbnRhaW5lZCBpbiB0aGUgc3RhdGUuXHJcbiAgICBUaGUgZGVmYXVsdCBpbXBsZW1lbnRhdGlvbiB3aWxsIHJldHVybiB0cnVlIGZvciBwcmltaXRpdmUgdHlwZXMgXHJcbiAgICAobGlrZSBudW1iZXJzLCBzdHJpbmdzLCBib29sZWFucywgbnVsbCBhbmQgdW5kZWZpbmVkKS5cclxuICAgKi9cbiAgaXNJbW11dGFibGU/OiBJc0ltbXV0YWJsZUZ1bmM7XG4gIC8qKiBcclxuICAgIEFuIGFycmF5IG9mIGRvdC1zZXBhcmF0ZWQgcGF0aCBzdHJpbmdzIHRoYXQgbWF0Y2ggbmFtZWQgbm9kZXMgZnJvbSBcclxuICAgIHRoZSByb290IHN0YXRlIHRvIGlnbm9yZSB3aGVuIGNoZWNraW5nIGZvciBpbW11dGFiaWxpdHkuXHJcbiAgICBEZWZhdWx0cyB0byB1bmRlZmluZWRcclxuICAgKi9cbiAgaWdub3JlZFBhdGhzPzogSWdub3JlUGF0aHM7XG4gIC8qKiBQcmludCBhIHdhcm5pbmcgaWYgY2hlY2tzIHRha2UgbG9uZ2VyIHRoYW4gTiBtcy4gRGVmYXVsdDogMzJtcyAqL1xuICB3YXJuQWZ0ZXI/OiBudW1iZXI7XG59XG5cbi8qKlxyXG4gKiBDcmVhdGVzIGEgbWlkZGxld2FyZSB0aGF0IGNoZWNrcyB3aGV0aGVyIGFueSBzdGF0ZSB3YXMgbXV0YXRlZCBpbiBiZXR3ZWVuXHJcbiAqIGRpc3BhdGNoZXMgb3IgZHVyaW5nIGEgZGlzcGF0Y2guIElmIGFueSBtdXRhdGlvbnMgYXJlIGRldGVjdGVkLCBhbiBlcnJvciBpc1xyXG4gKiB0aHJvd24uXHJcbiAqXHJcbiAqIEBwYXJhbSBvcHRpb25zIE1pZGRsZXdhcmUgb3B0aW9ucy5cclxuICpcclxuICogQHB1YmxpY1xyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVJbW11dGFibGVTdGF0ZUludmFyaWFudE1pZGRsZXdhcmUob3B0aW9uczogSW1tdXRhYmxlU3RhdGVJbnZhcmlhbnRNaWRkbGV3YXJlT3B0aW9ucyA9IHt9KTogTWlkZGxld2FyZSB7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgcmV0dXJuICgpID0+IG5leHQgPT4gYWN0aW9uID0+IG5leHQoYWN0aW9uKTtcbiAgfSBlbHNlIHtcbiAgICBmdW5jdGlvbiBzdHJpbmdpZnkob2JqOiBhbnksIHNlcmlhbGl6ZXI/OiBFbnRyeVByb2Nlc3NvciwgaW5kZW50Pzogc3RyaW5nIHwgbnVtYmVyLCBkZWN5Y2xlcj86IEVudHJ5UHJvY2Vzc29yKTogc3RyaW5nIHtcbiAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShvYmosIGdldFNlcmlhbGl6ZShzZXJpYWxpemVyLCBkZWN5Y2xlciksIGluZGVudCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFNlcmlhbGl6ZShzZXJpYWxpemVyPzogRW50cnlQcm9jZXNzb3IsIGRlY3ljbGVyPzogRW50cnlQcm9jZXNzb3IpOiBFbnRyeVByb2Nlc3NvciB7XG4gICAgICBsZXQgc3RhY2s6IGFueVtdID0gW10sXG4gICAgICAgIGtleXM6IGFueVtdID0gW107XG4gICAgICBpZiAoIWRlY3ljbGVyKSBkZWN5Y2xlciA9IGZ1bmN0aW9uIChfOiBzdHJpbmcsIHZhbHVlOiBhbnkpIHtcbiAgICAgICAgaWYgKHN0YWNrWzBdID09PSB2YWx1ZSkgcmV0dXJuICdbQ2lyY3VsYXIgfl0nO1xuICAgICAgICByZXR1cm4gJ1tDaXJjdWxhciB+LicgKyBrZXlzLnNsaWNlKDAsIHN0YWNrLmluZGV4T2YodmFsdWUpKS5qb2luKCcuJykgKyAnXSc7XG4gICAgICB9O1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uICh0aGlzOiBhbnksIGtleTogc3RyaW5nLCB2YWx1ZTogYW55KSB7XG4gICAgICAgIGlmIChzdGFjay5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgdmFyIHRoaXNQb3MgPSBzdGFjay5pbmRleE9mKHRoaXMpO1xuICAgICAgICAgIH50aGlzUG9zID8gc3RhY2suc3BsaWNlKHRoaXNQb3MgKyAxKSA6IHN0YWNrLnB1c2godGhpcyk7XG4gICAgICAgICAgfnRoaXNQb3MgPyBrZXlzLnNwbGljZSh0aGlzUG9zLCBJbmZpbml0eSwga2V5KSA6IGtleXMucHVzaChrZXkpO1xuICAgICAgICAgIGlmICh+c3RhY2suaW5kZXhPZih2YWx1ZSkpIHZhbHVlID0gZGVjeWNsZXIhLmNhbGwodGhpcywga2V5LCB2YWx1ZSk7XG4gICAgICAgIH0gZWxzZSBzdGFjay5wdXNoKHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIHNlcmlhbGl6ZXIgPT0gbnVsbCA/IHZhbHVlIDogc2VyaWFsaXplci5jYWxsKHRoaXMsIGtleSwgdmFsdWUpO1xuICAgICAgfTtcbiAgICB9XG4gICAgbGV0IHtcbiAgICAgIGlzSW1tdXRhYmxlID0gaXNJbW11dGFibGVEZWZhdWx0LFxuICAgICAgaWdub3JlZFBhdGhzLFxuICAgICAgd2FybkFmdGVyID0gMzJcbiAgICB9ID0gb3B0aW9ucztcbiAgICBjb25zdCB0cmFjayA9IHRyYWNrRm9yTXV0YXRpb25zLmJpbmQobnVsbCwgaXNJbW11dGFibGUsIGlnbm9yZWRQYXRocyk7XG4gICAgcmV0dXJuICh7XG4gICAgICBnZXRTdGF0ZVxuICAgIH0pID0+IHtcbiAgICAgIGxldCBzdGF0ZSA9IGdldFN0YXRlKCk7XG4gICAgICBsZXQgdHJhY2tlciA9IHRyYWNrKHN0YXRlKTtcbiAgICAgIGxldCByZXN1bHQ7XG4gICAgICByZXR1cm4gbmV4dCA9PiBhY3Rpb24gPT4ge1xuICAgICAgICBjb25zdCBtZWFzdXJlVXRpbHMgPSBnZXRUaW1lTWVhc3VyZVV0aWxzKHdhcm5BZnRlciwgJ0ltbXV0YWJsZVN0YXRlSW52YXJpYW50TWlkZGxld2FyZScpO1xuICAgICAgICBtZWFzdXJlVXRpbHMubWVhc3VyZVRpbWUoKCkgPT4ge1xuICAgICAgICAgIHN0YXRlID0gZ2V0U3RhdGUoKTtcbiAgICAgICAgICByZXN1bHQgPSB0cmFja2VyLmRldGVjdE11dGF0aW9ucygpO1xuICAgICAgICAgIC8vIFRyYWNrIGJlZm9yZSBwb3RlbnRpYWxseSBub3QgbWVldGluZyB0aGUgaW52YXJpYW50XG4gICAgICAgICAgdHJhY2tlciA9IHRyYWNrKHN0YXRlKTtcbiAgICAgICAgICBpZiAocmVzdWx0Lndhc011dGF0ZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJwcm9kdWN0aW9uXCIgPyBfZm9ybWF0UHJvZEVycm9yTWVzc2FnZSgxOSkgOiBgQSBzdGF0ZSBtdXRhdGlvbiB3YXMgZGV0ZWN0ZWQgYmV0d2VlbiBkaXNwYXRjaGVzLCBpbiB0aGUgcGF0aCAnJHtyZXN1bHQucGF0aCB8fCAnJ30nLiAgVGhpcyBtYXkgY2F1c2UgaW5jb3JyZWN0IGJlaGF2aW9yLiAoaHR0cHM6Ly9yZWR1eC5qcy5vcmcvc3R5bGUtZ3VpZGUvc3R5bGUtZ3VpZGUjZG8tbm90LW11dGF0ZS1zdGF0ZSlgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBkaXNwYXRjaGVkQWN0aW9uID0gbmV4dChhY3Rpb24pO1xuICAgICAgICBtZWFzdXJlVXRpbHMubWVhc3VyZVRpbWUoKCkgPT4ge1xuICAgICAgICAgIHN0YXRlID0gZ2V0U3RhdGUoKTtcbiAgICAgICAgICByZXN1bHQgPSB0cmFja2VyLmRldGVjdE11dGF0aW9ucygpO1xuICAgICAgICAgIC8vIFRyYWNrIGJlZm9yZSBwb3RlbnRpYWxseSBub3QgbWVldGluZyB0aGUgaW52YXJpYW50XG4gICAgICAgICAgdHJhY2tlciA9IHRyYWNrKHN0YXRlKTtcbiAgICAgICAgICBpZiAocmVzdWx0Lndhc011dGF0ZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJwcm9kdWN0aW9uXCIgPyBfZm9ybWF0UHJvZEVycm9yTWVzc2FnZTIoMjApIDogYEEgc3RhdGUgbXV0YXRpb24gd2FzIGRldGVjdGVkIGluc2lkZSBhIGRpc3BhdGNoLCBpbiB0aGUgcGF0aDogJHtyZXN1bHQucGF0aCB8fCAnJ30uIFRha2UgYSBsb29rIGF0IHRoZSByZWR1Y2VyKHMpIGhhbmRsaW5nIHRoZSBhY3Rpb24gJHtzdHJpbmdpZnkoYWN0aW9uKX0uIChodHRwczovL3JlZHV4LmpzLm9yZy9zdHlsZS1ndWlkZS9zdHlsZS1ndWlkZSNkby1ub3QtbXV0YXRlLXN0YXRlKWApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIG1lYXN1cmVVdGlscy53YXJuSWZFeGNlZWRlZCgpO1xuICAgICAgICByZXR1cm4gZGlzcGF0Y2hlZEFjdGlvbjtcbiAgICAgIH07XG4gICAgfTtcbiAgfVxufSIsImltcG9ydCB0eXBlIHsgTWlkZGxld2FyZSB9IGZyb20gJ3JlZHV4JztcbmltcG9ydCB7IGlzQWN0aW9uLCBpc1BsYWluT2JqZWN0IH0gZnJvbSAncmVkdXgnO1xuaW1wb3J0IHsgZ2V0VGltZU1lYXN1cmVVdGlscyB9IGZyb20gJy4vdXRpbHMnO1xuXG4vKipcclxuICogUmV0dXJucyB0cnVlIGlmIHRoZSBwYXNzZWQgdmFsdWUgaXMgXCJwbGFpblwiLCBpLmUuIGEgdmFsdWUgdGhhdCBpcyBlaXRoZXJcclxuICogZGlyZWN0bHkgSlNPTi1zZXJpYWxpemFibGUgKGJvb2xlYW4sIG51bWJlciwgc3RyaW5nLCBhcnJheSwgcGxhaW4gb2JqZWN0KVxyXG4gKiBvciBgdW5kZWZpbmVkYC5cclxuICpcclxuICogQHBhcmFtIHZhbCBUaGUgdmFsdWUgdG8gY2hlY2suXHJcbiAqXHJcbiAqIEBwdWJsaWNcclxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNQbGFpbih2YWw6IGFueSkge1xuICBjb25zdCB0eXBlID0gdHlwZW9mIHZhbDtcbiAgcmV0dXJuIHZhbCA9PSBudWxsIHx8IHR5cGUgPT09ICdzdHJpbmcnIHx8IHR5cGUgPT09ICdib29sZWFuJyB8fCB0eXBlID09PSAnbnVtYmVyJyB8fCBBcnJheS5pc0FycmF5KHZhbCkgfHwgaXNQbGFpbk9iamVjdCh2YWwpO1xufVxuaW50ZXJmYWNlIE5vblNlcmlhbGl6YWJsZVZhbHVlIHtcbiAga2V5UGF0aDogc3RyaW5nO1xuICB2YWx1ZTogdW5rbm93bjtcbn1cbnR5cGUgSWdub3JlUGF0aHMgPSByZWFkb25seSAoc3RyaW5nIHwgUmVnRXhwKVtdO1xuXG4vKipcclxuICogQHB1YmxpY1xyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmaW5kTm9uU2VyaWFsaXphYmxlVmFsdWUodmFsdWU6IHVua25vd24sIHBhdGg6IHN0cmluZyA9ICcnLCBpc1NlcmlhbGl6YWJsZTogKHZhbHVlOiB1bmtub3duKSA9PiBib29sZWFuID0gaXNQbGFpbiwgZ2V0RW50cmllcz86ICh2YWx1ZTogdW5rbm93bikgPT4gW3N0cmluZywgYW55XVtdLCBpZ25vcmVkUGF0aHM6IElnbm9yZVBhdGhzID0gW10sIGNhY2hlPzogV2Vha1NldDxvYmplY3Q+KTogTm9uU2VyaWFsaXphYmxlVmFsdWUgfCBmYWxzZSB7XG4gIGxldCBmb3VuZE5lc3RlZFNlcmlhbGl6YWJsZTogTm9uU2VyaWFsaXphYmxlVmFsdWUgfCBmYWxzZTtcbiAgaWYgKCFpc1NlcmlhbGl6YWJsZSh2YWx1ZSkpIHtcbiAgICByZXR1cm4ge1xuICAgICAga2V5UGF0aDogcGF0aCB8fCAnPHJvb3Q+JyxcbiAgICAgIHZhbHVlOiB2YWx1ZVxuICAgIH07XG4gIH1cbiAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ29iamVjdCcgfHwgdmFsdWUgPT09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKGNhY2hlPy5oYXModmFsdWUpKSByZXR1cm4gZmFsc2U7XG4gIGNvbnN0IGVudHJpZXMgPSBnZXRFbnRyaWVzICE9IG51bGwgPyBnZXRFbnRyaWVzKHZhbHVlKSA6IE9iamVjdC5lbnRyaWVzKHZhbHVlKTtcbiAgY29uc3QgaGFzSWdub3JlZFBhdGhzID0gaWdub3JlZFBhdGhzLmxlbmd0aCA+IDA7XG4gIGZvciAoY29uc3QgW2tleSwgbmVzdGVkVmFsdWVdIG9mIGVudHJpZXMpIHtcbiAgICBjb25zdCBuZXN0ZWRQYXRoID0gcGF0aCA/IHBhdGggKyAnLicgKyBrZXkgOiBrZXk7XG4gICAgaWYgKGhhc0lnbm9yZWRQYXRocykge1xuICAgICAgY29uc3QgaGFzTWF0Y2hlcyA9IGlnbm9yZWRQYXRocy5zb21lKGlnbm9yZWQgPT4ge1xuICAgICAgICBpZiAoaWdub3JlZCBpbnN0YW5jZW9mIFJlZ0V4cCkge1xuICAgICAgICAgIHJldHVybiBpZ25vcmVkLnRlc3QobmVzdGVkUGF0aCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5lc3RlZFBhdGggPT09IGlnbm9yZWQ7XG4gICAgICB9KTtcbiAgICAgIGlmIChoYXNNYXRjaGVzKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIWlzU2VyaWFsaXphYmxlKG5lc3RlZFZhbHVlKSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAga2V5UGF0aDogbmVzdGVkUGF0aCxcbiAgICAgICAgdmFsdWU6IG5lc3RlZFZhbHVlXG4gICAgICB9O1xuICAgIH1cbiAgICBpZiAodHlwZW9mIG5lc3RlZFZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgICAgZm91bmROZXN0ZWRTZXJpYWxpemFibGUgPSBmaW5kTm9uU2VyaWFsaXphYmxlVmFsdWUobmVzdGVkVmFsdWUsIG5lc3RlZFBhdGgsIGlzU2VyaWFsaXphYmxlLCBnZXRFbnRyaWVzLCBpZ25vcmVkUGF0aHMsIGNhY2hlKTtcbiAgICAgIGlmIChmb3VuZE5lc3RlZFNlcmlhbGl6YWJsZSkge1xuICAgICAgICByZXR1cm4gZm91bmROZXN0ZWRTZXJpYWxpemFibGU7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGlmIChjYWNoZSAmJiBpc05lc3RlZEZyb3plbih2YWx1ZSkpIGNhY2hlLmFkZCh2YWx1ZSk7XG4gIHJldHVybiBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc05lc3RlZEZyb3plbih2YWx1ZTogb2JqZWN0KSB7XG4gIGlmICghT2JqZWN0LmlzRnJvemVuKHZhbHVlKSkgcmV0dXJuIGZhbHNlO1xuICBmb3IgKGNvbnN0IG5lc3RlZFZhbHVlIG9mIE9iamVjdC52YWx1ZXModmFsdWUpKSB7XG4gICAgaWYgKHR5cGVvZiBuZXN0ZWRWYWx1ZSAhPT0gJ29iamVjdCcgfHwgbmVzdGVkVmFsdWUgPT09IG51bGwpIGNvbnRpbnVlO1xuICAgIGlmICghaXNOZXN0ZWRGcm96ZW4obmVzdGVkVmFsdWUpKSByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbi8qKlxyXG4gKiBPcHRpb25zIGZvciBgY3JlYXRlU2VyaWFsaXphYmxlU3RhdGVJbnZhcmlhbnRNaWRkbGV3YXJlKClgLlxyXG4gKlxyXG4gKiBAcHVibGljXHJcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTZXJpYWxpemFibGVTdGF0ZUludmFyaWFudE1pZGRsZXdhcmVPcHRpb25zIHtcbiAgLyoqXHJcbiAgICogVGhlIGZ1bmN0aW9uIHRvIGNoZWNrIGlmIGEgdmFsdWUgaXMgY29uc2lkZXJlZCBzZXJpYWxpemFibGUuIFRoaXNcclxuICAgKiBmdW5jdGlvbiBpcyBhcHBsaWVkIHJlY3Vyc2l2ZWx5IHRvIGV2ZXJ5IHZhbHVlIGNvbnRhaW5lZCBpbiB0aGVcclxuICAgKiBzdGF0ZS4gRGVmYXVsdHMgdG8gYGlzUGxhaW4oKWAuXHJcbiAgICovXG4gIGlzU2VyaWFsaXphYmxlPzogKHZhbHVlOiBhbnkpID0+IGJvb2xlYW47XG4gIC8qKlxyXG4gICAqIFRoZSBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgdXNlZCB0byByZXRyaWV2ZSBlbnRyaWVzIGZyb20gZWFjaFxyXG4gICAqIHZhbHVlLiAgSWYgdW5zcGVjaWZpZWQsIGBPYmplY3QuZW50cmllc2Agd2lsbCBiZSB1c2VkLiBEZWZhdWx0c1xyXG4gICAqIHRvIGB1bmRlZmluZWRgLlxyXG4gICAqL1xuICBnZXRFbnRyaWVzPzogKHZhbHVlOiBhbnkpID0+IFtzdHJpbmcsIGFueV1bXTtcblxuICAvKipcclxuICAgKiBBbiBhcnJheSBvZiBhY3Rpb24gdHlwZXMgdG8gaWdub3JlIHdoZW4gY2hlY2tpbmcgZm9yIHNlcmlhbGl6YWJpbGl0eS5cclxuICAgKiBEZWZhdWx0cyB0byBbXVxyXG4gICAqL1xuICBpZ25vcmVkQWN0aW9ucz86IHN0cmluZ1tdO1xuXG4gIC8qKlxyXG4gICAqIEFuIGFycmF5IG9mIGRvdC1zZXBhcmF0ZWQgcGF0aCBzdHJpbmdzIG9yIHJlZ3VsYXIgZXhwcmVzc2lvbnMgdG8gaWdub3JlXHJcbiAgICogd2hlbiBjaGVja2luZyBmb3Igc2VyaWFsaXphYmlsaXR5LCBEZWZhdWx0cyB0b1xyXG4gICAqIFsnbWV0YS5hcmcnLCAnbWV0YS5iYXNlUXVlcnlNZXRhJ11cclxuICAgKi9cbiAgaWdub3JlZEFjdGlvblBhdGhzPzogKHN0cmluZyB8IFJlZ0V4cClbXTtcblxuICAvKipcclxuICAgKiBBbiBhcnJheSBvZiBkb3Qtc2VwYXJhdGVkIHBhdGggc3RyaW5ncyBvciByZWd1bGFyIGV4cHJlc3Npb25zIHRvIGlnbm9yZVxyXG4gICAqIHdoZW4gY2hlY2tpbmcgZm9yIHNlcmlhbGl6YWJpbGl0eSwgRGVmYXVsdHMgdG8gW11cclxuICAgKi9cbiAgaWdub3JlZFBhdGhzPzogKHN0cmluZyB8IFJlZ0V4cClbXTtcbiAgLyoqXHJcbiAgICogRXhlY3V0aW9uIHRpbWUgd2FybmluZyB0aHJlc2hvbGQuIElmIHRoZSBtaWRkbGV3YXJlIHRha2VzIGxvbmdlclxyXG4gICAqIHRoYW4gYHdhcm5BZnRlcmAgbXMsIGEgd2FybmluZyB3aWxsIGJlIGRpc3BsYXllZCBpbiB0aGUgY29uc29sZS5cclxuICAgKiBEZWZhdWx0cyB0byAzMm1zLlxyXG4gICAqL1xuICB3YXJuQWZ0ZXI/OiBudW1iZXI7XG5cbiAgLyoqXHJcbiAgICogT3B0IG91dCBvZiBjaGVja2luZyBzdGF0ZS4gV2hlbiBzZXQgdG8gYHRydWVgLCBvdGhlciBzdGF0ZS1yZWxhdGVkIHBhcmFtcyB3aWxsIGJlIGlnbm9yZWQuXHJcbiAgICovXG4gIGlnbm9yZVN0YXRlPzogYm9vbGVhbjtcblxuICAvKipcclxuICAgKiBPcHQgb3V0IG9mIGNoZWNraW5nIGFjdGlvbnMuIFdoZW4gc2V0IHRvIGB0cnVlYCwgb3RoZXIgYWN0aW9uLXJlbGF0ZWQgcGFyYW1zIHdpbGwgYmUgaWdub3JlZC5cclxuICAgKi9cbiAgaWdub3JlQWN0aW9ucz86IGJvb2xlYW47XG5cbiAgLyoqXHJcbiAgICogT3B0IG91dCBvZiBjYWNoaW5nIHRoZSByZXN1bHRzLiBUaGUgY2FjaGUgdXNlcyBhIFdlYWtTZXQgYW5kIHNwZWVkcyB1cCByZXBlYXRlZCBjaGVja2luZyBwcm9jZXNzZXMuXHJcbiAgICogVGhlIGNhY2hlIGlzIGF1dG9tYXRpY2FsbHkgZGlzYWJsZWQgaWYgbm8gYnJvd3NlciBzdXBwb3J0IGZvciBXZWFrU2V0IGlzIHByZXNlbnQuXHJcbiAgICovXG4gIGRpc2FibGVDYWNoZT86IGJvb2xlYW47XG59XG5cbi8qKlxyXG4gKiBDcmVhdGVzIGEgbWlkZGxld2FyZSB0aGF0LCBhZnRlciBldmVyeSBzdGF0ZSBjaGFuZ2UsIGNoZWNrcyBpZiB0aGUgbmV3XHJcbiAqIHN0YXRlIGlzIHNlcmlhbGl6YWJsZS4gSWYgYSBub24tc2VyaWFsaXphYmxlIHZhbHVlIGlzIGZvdW5kIHdpdGhpbiB0aGVcclxuICogc3RhdGUsIGFuIGVycm9yIGlzIHByaW50ZWQgdG8gdGhlIGNvbnNvbGUuXHJcbiAqXHJcbiAqIEBwYXJhbSBvcHRpb25zIE1pZGRsZXdhcmUgb3B0aW9ucy5cclxuICpcclxuICogQHB1YmxpY1xyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTZXJpYWxpemFibGVTdGF0ZUludmFyaWFudE1pZGRsZXdhcmUob3B0aW9uczogU2VyaWFsaXphYmxlU3RhdGVJbnZhcmlhbnRNaWRkbGV3YXJlT3B0aW9ucyA9IHt9KTogTWlkZGxld2FyZSB7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgcmV0dXJuICgpID0+IG5leHQgPT4gYWN0aW9uID0+IG5leHQoYWN0aW9uKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCB7XG4gICAgICBpc1NlcmlhbGl6YWJsZSA9IGlzUGxhaW4sXG4gICAgICBnZXRFbnRyaWVzLFxuICAgICAgaWdub3JlZEFjdGlvbnMgPSBbXSxcbiAgICAgIGlnbm9yZWRBY3Rpb25QYXRocyA9IFsnbWV0YS5hcmcnLCAnbWV0YS5iYXNlUXVlcnlNZXRhJ10sXG4gICAgICBpZ25vcmVkUGF0aHMgPSBbXSxcbiAgICAgIHdhcm5BZnRlciA9IDMyLFxuICAgICAgaWdub3JlU3RhdGUgPSBmYWxzZSxcbiAgICAgIGlnbm9yZUFjdGlvbnMgPSBmYWxzZSxcbiAgICAgIGRpc2FibGVDYWNoZSA9IGZhbHNlXG4gICAgfSA9IG9wdGlvbnM7XG4gICAgY29uc3QgY2FjaGU6IFdlYWtTZXQ8b2JqZWN0PiB8IHVuZGVmaW5lZCA9ICFkaXNhYmxlQ2FjaGUgJiYgV2Vha1NldCA/IG5ldyBXZWFrU2V0KCkgOiB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIHN0b3JlQVBJID0+IG5leHQgPT4gYWN0aW9uID0+IHtcbiAgICAgIGlmICghaXNBY3Rpb24oYWN0aW9uKSkge1xuICAgICAgICByZXR1cm4gbmV4dChhY3Rpb24pO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVzdWx0ID0gbmV4dChhY3Rpb24pO1xuICAgICAgY29uc3QgbWVhc3VyZVV0aWxzID0gZ2V0VGltZU1lYXN1cmVVdGlscyh3YXJuQWZ0ZXIsICdTZXJpYWxpemFibGVTdGF0ZUludmFyaWFudE1pZGRsZXdhcmUnKTtcbiAgICAgIGlmICghaWdub3JlQWN0aW9ucyAmJiAhKGlnbm9yZWRBY3Rpb25zLmxlbmd0aCAmJiBpZ25vcmVkQWN0aW9ucy5pbmRleE9mKChhY3Rpb24udHlwZSBhcyBhbnkpKSAhPT0gLTEpKSB7XG4gICAgICAgIG1lYXN1cmVVdGlscy5tZWFzdXJlVGltZSgoKSA9PiB7XG4gICAgICAgICAgY29uc3QgZm91bmRBY3Rpb25Ob25TZXJpYWxpemFibGVWYWx1ZSA9IGZpbmROb25TZXJpYWxpemFibGVWYWx1ZShhY3Rpb24sICcnLCBpc1NlcmlhbGl6YWJsZSwgZ2V0RW50cmllcywgaWdub3JlZEFjdGlvblBhdGhzLCBjYWNoZSk7XG4gICAgICAgICAgaWYgKGZvdW5kQWN0aW9uTm9uU2VyaWFsaXphYmxlVmFsdWUpIHtcbiAgICAgICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgICAga2V5UGF0aCxcbiAgICAgICAgICAgICAgdmFsdWVcbiAgICAgICAgICAgIH0gPSBmb3VuZEFjdGlvbk5vblNlcmlhbGl6YWJsZVZhbHVlO1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgQSBub24tc2VyaWFsaXphYmxlIHZhbHVlIHdhcyBkZXRlY3RlZCBpbiBhbiBhY3Rpb24sIGluIHRoZSBwYXRoOiBcXGAke2tleVBhdGh9XFxgLiBWYWx1ZTpgLCB2YWx1ZSwgJ1xcblRha2UgYSBsb29rIGF0IHRoZSBsb2dpYyB0aGF0IGRpc3BhdGNoZWQgdGhpcyBhY3Rpb246ICcsIGFjdGlvbiwgJ1xcbihTZWUgaHR0cHM6Ly9yZWR1eC5qcy5vcmcvZmFxL2FjdGlvbnMjd2h5LXNob3VsZC10eXBlLWJlLWEtc3RyaW5nLW9yLWF0LWxlYXN0LXNlcmlhbGl6YWJsZS13aHktc2hvdWxkLW15LWFjdGlvbi10eXBlcy1iZS1jb25zdGFudHMpJywgJ1xcbihUbyBhbGxvdyBub24tc2VyaWFsaXphYmxlIHZhbHVlcyBzZWU6IGh0dHBzOi8vcmVkdXgtdG9vbGtpdC5qcy5vcmcvdXNhZ2UvdXNhZ2UtZ3VpZGUjd29ya2luZy13aXRoLW5vbi1zZXJpYWxpemFibGUtZGF0YSknKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgaWYgKCFpZ25vcmVTdGF0ZSkge1xuICAgICAgICBtZWFzdXJlVXRpbHMubWVhc3VyZVRpbWUoKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHN0YXRlID0gc3RvcmVBUEkuZ2V0U3RhdGUoKTtcbiAgICAgICAgICBjb25zdCBmb3VuZFN0YXRlTm9uU2VyaWFsaXphYmxlVmFsdWUgPSBmaW5kTm9uU2VyaWFsaXphYmxlVmFsdWUoc3RhdGUsICcnLCBpc1NlcmlhbGl6YWJsZSwgZ2V0RW50cmllcywgaWdub3JlZFBhdGhzLCBjYWNoZSk7XG4gICAgICAgICAgaWYgKGZvdW5kU3RhdGVOb25TZXJpYWxpemFibGVWYWx1ZSkge1xuICAgICAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgICBrZXlQYXRoLFxuICAgICAgICAgICAgICB2YWx1ZVxuICAgICAgICAgICAgfSA9IGZvdW5kU3RhdGVOb25TZXJpYWxpemFibGVWYWx1ZTtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEEgbm9uLXNlcmlhbGl6YWJsZSB2YWx1ZSB3YXMgZGV0ZWN0ZWQgaW4gdGhlIHN0YXRlLCBpbiB0aGUgcGF0aDogXFxgJHtrZXlQYXRofVxcYC4gVmFsdWU6YCwgdmFsdWUsIGBcblRha2UgYSBsb29rIGF0IHRoZSByZWR1Y2VyKHMpIGhhbmRsaW5nIHRoaXMgYWN0aW9uIHR5cGU6ICR7YWN0aW9uLnR5cGV9LlxuKFNlZSBodHRwczovL3JlZHV4LmpzLm9yZy9mYXEvb3JnYW5pemluZy1zdGF0ZSNjYW4taS1wdXQtZnVuY3Rpb25zLXByb21pc2VzLW9yLW90aGVyLW5vbi1zZXJpYWxpemFibGUtaXRlbXMtaW4tbXktc3RvcmUtc3RhdGUpYCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgbWVhc3VyZVV0aWxzLndhcm5JZkV4Y2VlZGVkKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gIH1cbn0iLCJpbXBvcnQgdHlwZSB7IFN0b3JlRW5oYW5jZXIgfSBmcm9tICdyZWR1eCc7XG5leHBvcnQgY29uc3QgU0hPVUxEX0FVVE9CQVRDSCA9ICdSVEtfYXV0b0JhdGNoJztcbmV4cG9ydCBjb25zdCBwcmVwYXJlQXV0b0JhdGNoZWQgPSA8VCw+KCkgPT4gKHBheWxvYWQ6IFQpOiB7XG4gIHBheWxvYWQ6IFQ7XG4gIG1ldGE6IHVua25vd247XG59ID0+ICh7XG4gIHBheWxvYWQsXG4gIG1ldGE6IHtcbiAgICBbU0hPVUxEX0FVVE9CQVRDSF06IHRydWVcbiAgfVxufSk7XG5jb25zdCBjcmVhdGVRdWV1ZVdpdGhUaW1lciA9ICh0aW1lb3V0OiBudW1iZXIpID0+IHtcbiAgcmV0dXJuIChub3RpZnk6ICgpID0+IHZvaWQpID0+IHtcbiAgICBzZXRUaW1lb3V0KG5vdGlmeSwgdGltZW91dCk7XG4gIH07XG59O1xuXG4vLyByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgd29uJ3QgZXhpc3QgaW4gU1NSIGVudmlyb25tZW50cy5cbi8vIEZhbGwgYmFjayB0byBhIHZhZ3VlIGFwcHJveGltYXRpb24ganVzdCB0byBrZWVwIGZyb20gZXJyb3JpbmcuXG5jb25zdCByQUYgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lID8gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSA6IGNyZWF0ZVF1ZXVlV2l0aFRpbWVyKDEwKTtcbmV4cG9ydCB0eXBlIEF1dG9CYXRjaE9wdGlvbnMgPSB7XG4gIHR5cGU6ICd0aWNrJztcbn0gfCB7XG4gIHR5cGU6ICd0aW1lcic7XG4gIHRpbWVvdXQ6IG51bWJlcjtcbn0gfCB7XG4gIHR5cGU6ICdyYWYnO1xufSB8IHtcbiAgdHlwZTogJ2NhbGxiYWNrJztcbiAgcXVldWVOb3RpZmljYXRpb246IChub3RpZnk6ICgpID0+IHZvaWQpID0+IHZvaWQ7XG59O1xuXG4vKipcbiAqIEEgUmVkdXggc3RvcmUgZW5oYW5jZXIgdGhhdCB3YXRjaGVzIGZvciBcImxvdy1wcmlvcml0eVwiIGFjdGlvbnMsIGFuZCBkZWxheXNcbiAqIG5vdGlmeWluZyBzdWJzY3JpYmVycyB1bnRpbCBlaXRoZXIgdGhlIHF1ZXVlZCBjYWxsYmFjayBleGVjdXRlcyBvciB0aGVcbiAqIG5leHQgXCJzdGFuZGFyZC1wcmlvcml0eVwiIGFjdGlvbiBpcyBkaXNwYXRjaGVkLlxuICpcbiAqIFRoaXMgYWxsb3dzIGRpc3BhdGNoaW5nIG11bHRpcGxlIFwibG93LXByaW9yaXR5XCIgYWN0aW9ucyBpbiBhIHJvdyB3aXRoIG9ubHlcbiAqIGEgc2luZ2xlIHN1YnNjcmliZXIgbm90aWZpY2F0aW9uIHRvIHRoZSBVSSBhZnRlciB0aGUgc2VxdWVuY2Ugb2YgYWN0aW9uc1xuICogaXMgZmluaXNoZWQsIHRodXMgaW1wcm92aW5nIFVJIHJlLXJlbmRlciBwZXJmb3JtYW5jZS5cbiAqXG4gKiBXYXRjaGVzIGZvciBhY3Rpb25zIHdpdGggdGhlIGBhY3Rpb24ubWV0YVtTSE9VTERfQVVUT0JBVENIXWAgYXR0cmlidXRlLlxuICogVGhpcyBjYW4gYmUgYWRkZWQgdG8gYGFjdGlvbi5tZXRhYCBtYW51YWxseSwgb3IgYnkgdXNpbmcgdGhlXG4gKiBgcHJlcGFyZUF1dG9CYXRjaGVkYCBoZWxwZXIuXG4gKlxuICogQnkgZGVmYXVsdCwgaXQgd2lsbCBxdWV1ZSBhIG5vdGlmaWNhdGlvbiBmb3IgdGhlIGVuZCBvZiB0aGUgZXZlbnQgbG9vcCB0aWNrLlxuICogSG93ZXZlciwgeW91IGNhbiBwYXNzIHNldmVyYWwgb3RoZXIgb3B0aW9ucyB0byBjb25maWd1cmUgdGhlIGJlaGF2aW9yOlxuICogLSBge3R5cGU6ICd0aWNrJ31gOiBxdWV1ZXMgdXNpbmcgYHF1ZXVlTWljcm90YXNrYFxuICogLSBge3R5cGU6ICd0aW1lcicsIHRpbWVvdXQ6IG51bWJlcn1gOiBxdWV1ZXMgdXNpbmcgYHNldFRpbWVvdXRgXG4gKiAtIGB7dHlwZTogJ3JhZid9YDogcXVldWVzIHVzaW5nIGByZXF1ZXN0QW5pbWF0aW9uRnJhbWVgIChkZWZhdWx0KVxuICogLSBge3R5cGU6ICdjYWxsYmFjaycsIHF1ZXVlTm90aWZpY2F0aW9uOiAobm90aWZ5OiAoKSA9PiB2b2lkKSA9PiB2b2lkfWA6IGxldHMgeW91IHByb3ZpZGUgeW91ciBvd24gY2FsbGJhY2tcbiAqXG4gKlxuICovXG5leHBvcnQgY29uc3QgYXV0b0JhdGNoRW5oYW5jZXIgPSAob3B0aW9uczogQXV0b0JhdGNoT3B0aW9ucyA9IHtcbiAgdHlwZTogJ3JhZidcbn0pOiBTdG9yZUVuaGFuY2VyID0+IG5leHQgPT4gKC4uLmFyZ3MpID0+IHtcbiAgY29uc3Qgc3RvcmUgPSBuZXh0KC4uLmFyZ3MpO1xuICBsZXQgbm90aWZ5aW5nID0gdHJ1ZTtcbiAgbGV0IHNob3VsZE5vdGlmeUF0RW5kT2ZUaWNrID0gZmFsc2U7XG4gIGxldCBub3RpZmljYXRpb25RdWV1ZWQgPSBmYWxzZTtcbiAgY29uc3QgbGlzdGVuZXJzID0gbmV3IFNldDwoKSA9PiB2b2lkPigpO1xuICBjb25zdCBxdWV1ZUNhbGxiYWNrID0gb3B0aW9ucy50eXBlID09PSAndGljaycgPyBxdWV1ZU1pY3JvdGFzayA6IG9wdGlvbnMudHlwZSA9PT0gJ3JhZicgPyByQUYgOiBvcHRpb25zLnR5cGUgPT09ICdjYWxsYmFjaycgPyBvcHRpb25zLnF1ZXVlTm90aWZpY2F0aW9uIDogY3JlYXRlUXVldWVXaXRoVGltZXIob3B0aW9ucy50aW1lb3V0KTtcbiAgY29uc3Qgbm90aWZ5TGlzdGVuZXJzID0gKCkgPT4ge1xuICAgIC8vIFdlJ3JlIHJ1bm5pbmcgYXQgdGhlIGVuZCBvZiB0aGUgZXZlbnQgbG9vcCB0aWNrLlxuICAgIC8vIFJ1biB0aGUgcmVhbCBsaXN0ZW5lciBjYWxsYmFja3MgdG8gYWN0dWFsbHkgdXBkYXRlIHRoZSBVSS5cbiAgICBub3RpZmljYXRpb25RdWV1ZWQgPSBmYWxzZTtcbiAgICBpZiAoc2hvdWxkTm90aWZ5QXRFbmRPZlRpY2spIHtcbiAgICAgIHNob3VsZE5vdGlmeUF0RW5kT2ZUaWNrID0gZmFsc2U7XG4gICAgICBsaXN0ZW5lcnMuZm9yRWFjaChsID0+IGwoKSk7XG4gICAgfVxuICB9O1xuICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RvcmUsIHtcbiAgICAvLyBPdmVycmlkZSB0aGUgYmFzZSBgc3RvcmUuc3Vic2NyaWJlYCBtZXRob2QgdG8ga2VlcCBvcmlnaW5hbCBsaXN0ZW5lcnNcbiAgICAvLyBmcm9tIHJ1bm5pbmcgaWYgd2UncmUgZGVsYXlpbmcgbm90aWZpY2F0aW9uc1xuICAgIHN1YnNjcmliZShsaXN0ZW5lcjogKCkgPT4gdm9pZCkge1xuICAgICAgLy8gRWFjaCB3cmFwcGVkIGxpc3RlbmVyIHdpbGwgb25seSBjYWxsIHRoZSByZWFsIGxpc3RlbmVyIGlmXG4gICAgICAvLyB0aGUgYG5vdGlmeWluZ2AgZmxhZyBpcyBjdXJyZW50bHkgYWN0aXZlIHdoZW4gaXQncyBjYWxsZWQuXG4gICAgICAvLyBUaGlzIGxldHMgdGhlIGJhc2Ugc3RvcmUgd29yayBhcyBub3JtYWwsIHdoaWxlIHRoZSBhY3R1YWwgVUlcbiAgICAgIC8vIHVwZGF0ZSBiZWNvbWVzIGNvbnRyb2xsZWQgYnkgdGhpcyBlbmhhbmNlci5cbiAgICAgIGNvbnN0IHdyYXBwZWRMaXN0ZW5lcjogdHlwZW9mIGxpc3RlbmVyID0gKCkgPT4gbm90aWZ5aW5nICYmIGxpc3RlbmVyKCk7XG4gICAgICBjb25zdCB1bnN1YnNjcmliZSA9IHN0b3JlLnN1YnNjcmliZSh3cmFwcGVkTGlzdGVuZXIpO1xuICAgICAgbGlzdGVuZXJzLmFkZChsaXN0ZW5lcik7XG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICB1bnN1YnNjcmliZSgpO1xuICAgICAgICBsaXN0ZW5lcnMuZGVsZXRlKGxpc3RlbmVyKTtcbiAgICAgIH07XG4gICAgfSxcbiAgICAvLyBPdmVycmlkZSB0aGUgYmFzZSBgc3RvcmUuZGlzcGF0Y2hgIG1ldGhvZCBzbyB0aGF0IHdlIGNhbiBjaGVjayBhY3Rpb25zXG4gICAgLy8gZm9yIHRoZSBgc2hvdWxkQXV0b0JhdGNoYCBmbGFnIGFuZCBkZXRlcm1pbmUgaWYgYmF0Y2hpbmcgaXMgYWN0aXZlXG4gICAgZGlzcGF0Y2goYWN0aW9uOiBhbnkpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIElmIHRoZSBhY3Rpb24gZG9lcyBfbm90XyBoYXZlIHRoZSBgc2hvdWxkQXV0b0JhdGNoYCBmbGFnLFxuICAgICAgICAvLyB3ZSByZXN1bWUvY29udGludWUgbm9ybWFsIG5vdGlmeS1hZnRlci1lYWNoLWRpc3BhdGNoIGJlaGF2aW9yXG4gICAgICAgIG5vdGlmeWluZyA9ICFhY3Rpb24/Lm1ldGE/LltTSE9VTERfQVVUT0JBVENIXTtcbiAgICAgICAgLy8gSWYgYSBgbm90aWZ5TGlzdGVuZXJzYCBtaWNyb3Rhc2sgd2FzIHF1ZXVlZCwgeW91IGNhbid0IGNhbmNlbCBpdC5cbiAgICAgICAgLy8gSW5zdGVhZCwgd2Ugc2V0IGEgZmxhZyBzbyB0aGF0IGl0J3MgYSBuby1vcCB3aGVuIGl0IGRvZXMgcnVuXG4gICAgICAgIHNob3VsZE5vdGlmeUF0RW5kT2ZUaWNrID0gIW5vdGlmeWluZztcbiAgICAgICAgaWYgKHNob3VsZE5vdGlmeUF0RW5kT2ZUaWNrKSB7XG4gICAgICAgICAgLy8gV2UndmUgc2VlbiBhdCBsZWFzdCAxIGFjdGlvbiB3aXRoIGBTSE9VTERfQVVUT0JBVENIYC4gVHJ5IHRvIHF1ZXVlXG4gICAgICAgICAgLy8gYSBtaWNyb3Rhc2sgdG8gbm90aWZ5IGxpc3RlbmVycyBhdCB0aGUgZW5kIG9mIHRoZSBldmVudCBsb29wIHRpY2suXG4gICAgICAgICAgLy8gTWFrZSBzdXJlIHdlIG9ubHkgZW5xdWV1ZSB0aGlzIF9vbmNlXyBwZXIgdGljay5cbiAgICAgICAgICBpZiAoIW5vdGlmaWNhdGlvblF1ZXVlZCkge1xuICAgICAgICAgICAgbm90aWZpY2F0aW9uUXVldWVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHF1ZXVlQ2FsbGJhY2sobm90aWZ5TGlzdGVuZXJzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gR28gYWhlYWQgYW5kIHByb2Nlc3MgdGhlIGFjdGlvbiBhcyB1c3VhbCwgaW5jbHVkaW5nIHJlZHVjZXJzLlxuICAgICAgICAvLyBJZiBub3JtYWwgbm90aWZpY2F0aW9uIGJlaGF2aW9yIGlzIGVuYWJsZWQsIHRoZSBzdG9yZSB3aWxsIG5vdGlmeVxuICAgICAgICAvLyBhbGwgb2YgaXRzIG93biBsaXN0ZW5lcnMsIGFuZCB0aGUgd3JhcHBlciBjYWxsYmFja3MgYWJvdmUgd2lsbFxuICAgICAgICAvLyBzZWUgYG5vdGlmeWluZ2AgaXMgdHJ1ZSBhbmQgcGFzcyBvbiB0byB0aGUgcmVhbCBsaXN0ZW5lciBjYWxsYmFja3MuXG4gICAgICAgIC8vIElmIHdlJ3JlIFwiYmF0Y2hpbmdcIiBiZWhhdmlvciwgdGhlbiB0aGUgd3JhcHBlZCBjYWxsYmFja3Mgd2lsbFxuICAgICAgICAvLyBiYWlsIG91dCwgY2F1c2luZyB0aGUgYmFzZSBzdG9yZSBub3RpZmljYXRpb24gYmVoYXZpb3IgdG8gYmUgbm8tb3BzLlxuICAgICAgICByZXR1cm4gc3RvcmUuZGlzcGF0Y2goYWN0aW9uKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIC8vIEFzc3VtZSB3ZSdyZSBiYWNrIHRvIG5vcm1hbCBiZWhhdmlvciBhZnRlciBlYWNoIGFjdGlvblxuICAgICAgICBub3RpZnlpbmcgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG59OyIsImltcG9ydCB0eXBlIHsgU3RvcmVFbmhhbmNlciB9IGZyb20gJ3JlZHV4JztcbmltcG9ydCB0eXBlIHsgQXV0b0JhdGNoT3B0aW9ucyB9IGZyb20gJy4vYXV0b0JhdGNoRW5oYW5jZXInO1xuaW1wb3J0IHsgYXV0b0JhdGNoRW5oYW5jZXIgfSBmcm9tICcuL2F1dG9CYXRjaEVuaGFuY2VyJztcbmltcG9ydCB7IFR1cGxlIH0gZnJvbSAnLi91dGlscyc7XG5pbXBvcnQgdHlwZSB7IE1pZGRsZXdhcmVzIH0gZnJvbSAnLi9jb25maWd1cmVTdG9yZSc7XG5pbXBvcnQgdHlwZSB7IEV4dHJhY3REaXNwYXRjaEV4dGVuc2lvbnMgfSBmcm9tICcuL3RzSGVscGVycyc7XG50eXBlIEdldERlZmF1bHRFbmhhbmNlcnNPcHRpb25zID0ge1xuICBhdXRvQmF0Y2g/OiBib29sZWFuIHwgQXV0b0JhdGNoT3B0aW9ucztcbn07XG5leHBvcnQgdHlwZSBHZXREZWZhdWx0RW5oYW5jZXJzPE0gZXh0ZW5kcyBNaWRkbGV3YXJlczxhbnk+PiA9IChvcHRpb25zPzogR2V0RGVmYXVsdEVuaGFuY2Vyc09wdGlvbnMpID0+IFR1cGxlPFtTdG9yZUVuaGFuY2VyPHtcbiAgZGlzcGF0Y2g6IEV4dHJhY3REaXNwYXRjaEV4dGVuc2lvbnM8TT47XG59Pl0+O1xuZXhwb3J0IGNvbnN0IGJ1aWxkR2V0RGVmYXVsdEVuaGFuY2VycyA9IDxNIGV4dGVuZHMgTWlkZGxld2FyZXM8YW55Piw+KG1pZGRsZXdhcmVFbmhhbmNlcjogU3RvcmVFbmhhbmNlcjx7XG4gIGRpc3BhdGNoOiBFeHRyYWN0RGlzcGF0Y2hFeHRlbnNpb25zPE0+O1xufT4pOiBHZXREZWZhdWx0RW5oYW5jZXJzPE0+ID0+IGZ1bmN0aW9uIGdldERlZmF1bHRFbmhhbmNlcnMob3B0aW9ucykge1xuICBjb25zdCB7XG4gICAgYXV0b0JhdGNoID0gdHJ1ZVxuICB9ID0gb3B0aW9ucyA/PyB7fTtcbiAgbGV0IGVuaGFuY2VyQXJyYXkgPSBuZXcgVHVwbGU8U3RvcmVFbmhhbmNlcltdPihtaWRkbGV3YXJlRW5oYW5jZXIpO1xuICBpZiAoYXV0b0JhdGNoKSB7XG4gICAgZW5oYW5jZXJBcnJheS5wdXNoKGF1dG9CYXRjaEVuaGFuY2VyKHR5cGVvZiBhdXRvQmF0Y2ggPT09ICdvYmplY3QnID8gYXV0b0JhdGNoIDogdW5kZWZpbmVkKSk7XG4gIH1cbiAgcmV0dXJuIChlbmhhbmNlckFycmF5IGFzIGFueSk7XG59OyIsImltcG9ydCB7IGZvcm1hdFByb2RFcnJvck1lc3NhZ2UgYXMgX2Zvcm1hdFByb2RFcnJvck1lc3NhZ2UyIH0gZnJvbSBcIkByZWR1eGpzL3Rvb2xraXRcIjtcbmltcG9ydCB7IGZvcm1hdFByb2RFcnJvck1lc3NhZ2UgYXMgX2Zvcm1hdFByb2RFcnJvck1lc3NhZ2UgfSBmcm9tIFwiQHJlZHV4anMvdG9vbGtpdFwiO1xuaW1wb3J0IHR5cGUgeyBEcmFmdCB9IGZyb20gJ2ltbWVyJztcbmltcG9ydCB7IHByb2R1Y2UgYXMgY3JlYXRlTmV4dFN0YXRlLCBpc0RyYWZ0LCBpc0RyYWZ0YWJsZSB9IGZyb20gJ2ltbWVyJztcbmltcG9ydCB0eXBlIHsgQWN0aW9uLCBSZWR1Y2VyLCBVbmtub3duQWN0aW9uIH0gZnJvbSAncmVkdXgnO1xuaW1wb3J0IHR5cGUgeyBBY3Rpb25SZWR1Y2VyTWFwQnVpbGRlciB9IGZyb20gJy4vbWFwQnVpbGRlcnMnO1xuaW1wb3J0IHsgZXhlY3V0ZVJlZHVjZXJCdWlsZGVyQ2FsbGJhY2sgfSBmcm9tICcuL21hcEJ1aWxkZXJzJztcbmltcG9ydCB0eXBlIHsgTm9JbmZlciwgVHlwZUd1YXJkIH0gZnJvbSAnLi90c0hlbHBlcnMnO1xuaW1wb3J0IHsgZnJlZXplRHJhZnRhYmxlIH0gZnJvbSAnLi91dGlscyc7XG5cbi8qKlxyXG4gKiBEZWZpbmVzIGEgbWFwcGluZyBmcm9tIGFjdGlvbiB0eXBlcyB0byBjb3JyZXNwb25kaW5nIGFjdGlvbiBvYmplY3Qgc2hhcGVzLlxyXG4gKlxyXG4gKiBAZGVwcmVjYXRlZCBUaGlzIHNob3VsZCBub3QgYmUgdXNlZCBtYW51YWxseSAtIGl0IGlzIG9ubHkgdXNlZCBmb3IgaW50ZXJuYWxcclxuICogICAgICAgICAgICAgaW5mZXJlbmNlIHB1cnBvc2VzIGFuZCBzaG91bGQgbm90IGhhdmUgYW55IGZ1cnRoZXIgdmFsdWUuXHJcbiAqICAgICAgICAgICAgIEl0IG1pZ2h0IGJlIHJlbW92ZWQgaW4gdGhlIGZ1dHVyZS5cclxuICogQHB1YmxpY1xyXG4gKi9cbmV4cG9ydCB0eXBlIEFjdGlvbnM8VCBleHRlbmRzIGtleW9mIGFueSA9IHN0cmluZz4gPSBSZWNvcmQ8VCwgQWN0aW9uPjtcbmV4cG9ydCB0eXBlIEFjdGlvbk1hdGNoZXJEZXNjcmlwdGlvbjxTLCBBIGV4dGVuZHMgQWN0aW9uPiA9IHtcbiAgbWF0Y2hlcjogVHlwZUd1YXJkPEE+O1xuICByZWR1Y2VyOiBDYXNlUmVkdWNlcjxTLCBOb0luZmVyPEE+Pjtcbn07XG5leHBvcnQgdHlwZSBSZWFkb25seUFjdGlvbk1hdGNoZXJEZXNjcmlwdGlvbkNvbGxlY3Rpb248Uz4gPSBSZWFkb25seUFycmF5PEFjdGlvbk1hdGNoZXJEZXNjcmlwdGlvbjxTLCBhbnk+PjtcbmV4cG9ydCB0eXBlIEFjdGlvbk1hdGNoZXJEZXNjcmlwdGlvbkNvbGxlY3Rpb248Uz4gPSBBcnJheTxBY3Rpb25NYXRjaGVyRGVzY3JpcHRpb248UywgYW55Pj47XG5cbi8qKlxyXG4gKiBBICpjYXNlIHJlZHVjZXIqIGlzIGEgcmVkdWNlciBmdW5jdGlvbiBmb3IgYSBzcGVjaWZpYyBhY3Rpb24gdHlwZS4gQ2FzZVxyXG4gKiByZWR1Y2VycyBjYW4gYmUgY29tcG9zZWQgdG8gZnVsbCByZWR1Y2VycyB1c2luZyBgY3JlYXRlUmVkdWNlcigpYC5cclxuICpcclxuICogVW5saWtlIGEgbm9ybWFsIFJlZHV4IHJlZHVjZXIsIGEgY2FzZSByZWR1Y2VyIGlzIG5ldmVyIGNhbGxlZCB3aXRoIGFuXHJcbiAqIGB1bmRlZmluZWRgIHN0YXRlIHRvIGRldGVybWluZSB0aGUgaW5pdGlhbCBzdGF0ZS4gSW5zdGVhZCwgdGhlIGluaXRpYWxcclxuICogc3RhdGUgaXMgZXhwbGljaXRseSBzcGVjaWZpZWQgYXMgYW4gYXJndW1lbnQgdG8gYGNyZWF0ZVJlZHVjZXIoKWAuXHJcbiAqXHJcbiAqIEluIGFkZGl0aW9uLCBhIGNhc2UgcmVkdWNlciBjYW4gY2hvb3NlIHRvIG11dGF0ZSB0aGUgcGFzc2VkLWluIGBzdGF0ZWBcclxuICogdmFsdWUgZGlyZWN0bHkgaW5zdGVhZCBvZiByZXR1cm5pbmcgYSBuZXcgc3RhdGUuIFRoaXMgZG9lcyBub3QgYWN0dWFsbHlcclxuICogY2F1c2UgdGhlIHN0b3JlIHN0YXRlIHRvIGJlIG11dGF0ZWQgZGlyZWN0bHk7IGluc3RlYWQsIHRoYW5rcyB0b1xyXG4gKiBbaW1tZXJdKGh0dHBzOi8vZ2l0aHViLmNvbS9td2VzdHN0cmF0ZS9pbW1lciksIHRoZSBtdXRhdGlvbnMgYXJlXHJcbiAqIHRyYW5zbGF0ZWQgdG8gY29weSBvcGVyYXRpb25zIHRoYXQgcmVzdWx0IGluIGEgbmV3IHN0YXRlLlxyXG4gKlxyXG4gKiBAcHVibGljXHJcbiAqL1xuZXhwb3J0IHR5cGUgQ2FzZVJlZHVjZXI8UyA9IGFueSwgQSBleHRlbmRzIEFjdGlvbiA9IFVua25vd25BY3Rpb24+ID0gKHN0YXRlOiBEcmFmdDxTPiwgYWN0aW9uOiBBKSA9PiBOb0luZmVyPFM+IHwgdm9pZCB8IERyYWZ0PE5vSW5mZXI8Uz4+O1xuXG4vKipcclxuICogQSBtYXBwaW5nIGZyb20gYWN0aW9uIHR5cGVzIHRvIGNhc2UgcmVkdWNlcnMgZm9yIGBjcmVhdGVSZWR1Y2VyKClgLlxyXG4gKlxyXG4gKiBAZGVwcmVjYXRlZCBUaGlzIHNob3VsZCBub3QgYmUgdXNlZCBtYW51YWxseSAtIGl0IGlzIG9ubHkgdXNlZFxyXG4gKiAgICAgICAgICAgICBmb3IgaW50ZXJuYWwgaW5mZXJlbmNlIHB1cnBvc2VzIGFuZCB1c2luZyBpdCBtYW51YWxseVxyXG4gKiAgICAgICAgICAgICB3b3VsZCBsZWFkIHRvIHR5cGUgZXJhc3VyZS5cclxuICogICAgICAgICAgICAgSXQgbWlnaHQgYmUgcmVtb3ZlZCBpbiB0aGUgZnV0dXJlLlxyXG4gKiBAcHVibGljXHJcbiAqL1xuZXhwb3J0IHR5cGUgQ2FzZVJlZHVjZXJzPFMsIEFTIGV4dGVuZHMgQWN0aW9ucz4gPSB7IFtUIGluIGtleW9mIEFTXTogQVNbVF0gZXh0ZW5kcyBBY3Rpb24gPyBDYXNlUmVkdWNlcjxTLCBBU1tUXT4gOiB2b2lkIH07XG5leHBvcnQgdHlwZSBOb3RGdW5jdGlvbjxUPiA9IFQgZXh0ZW5kcyBGdW5jdGlvbiA/IG5ldmVyIDogVDtcbmZ1bmN0aW9uIGlzU3RhdGVGdW5jdGlvbjxTPih4OiB1bmtub3duKTogeCBpcyAoKSA9PiBTIHtcbiAgcmV0dXJuIHR5cGVvZiB4ID09PSAnZnVuY3Rpb24nO1xufVxuZXhwb3J0IHR5cGUgUmVkdWNlcldpdGhJbml0aWFsU3RhdGU8UyBleHRlbmRzIE5vdEZ1bmN0aW9uPGFueT4+ID0gUmVkdWNlcjxTPiAmIHtcbiAgZ2V0SW5pdGlhbFN0YXRlOiAoKSA9PiBTO1xufTtcblxuLyoqXHJcbiAqIEEgdXRpbGl0eSBmdW5jdGlvbiB0aGF0IGFsbG93cyBkZWZpbmluZyBhIHJlZHVjZXIgYXMgYSBtYXBwaW5nIGZyb20gYWN0aW9uXHJcbiAqIHR5cGUgdG8gKmNhc2UgcmVkdWNlciogZnVuY3Rpb25zIHRoYXQgaGFuZGxlIHRoZXNlIGFjdGlvbiB0eXBlcy4gVGhlXHJcbiAqIHJlZHVjZXIncyBpbml0aWFsIHN0YXRlIGlzIHBhc3NlZCBhcyB0aGUgZmlyc3QgYXJndW1lbnQuXHJcbiAqXHJcbiAqIEByZW1hcmtzXHJcbiAqIFRoZSBib2R5IG9mIGV2ZXJ5IGNhc2UgcmVkdWNlciBpcyBpbXBsaWNpdGx5IHdyYXBwZWQgd2l0aCBhIGNhbGwgdG9cclxuICogYHByb2R1Y2UoKWAgZnJvbSB0aGUgW2ltbWVyXShodHRwczovL2dpdGh1Yi5jb20vbXdlc3RzdHJhdGUvaW1tZXIpIGxpYnJhcnkuXHJcbiAqIFRoaXMgbWVhbnMgdGhhdCByYXRoZXIgdGhhbiByZXR1cm5pbmcgYSBuZXcgc3RhdGUgb2JqZWN0LCB5b3UgY2FuIGFsc29cclxuICogbXV0YXRlIHRoZSBwYXNzZWQtaW4gc3RhdGUgb2JqZWN0IGRpcmVjdGx5OyB0aGVzZSBtdXRhdGlvbnMgd2lsbCB0aGVuIGJlXHJcbiAqIGF1dG9tYXRpY2FsbHkgYW5kIGVmZmljaWVudGx5IHRyYW5zbGF0ZWQgaW50byBjb3BpZXMsIGdpdmluZyB5b3UgYm90aFxyXG4gKiBjb252ZW5pZW5jZSBhbmQgaW1tdXRhYmlsaXR5LlxyXG4gKlxyXG4gKiBAb3ZlcmxvYWRTdW1tYXJ5XHJcbiAqIFRoaXMgZnVuY3Rpb24gYWNjZXB0cyBhIGNhbGxiYWNrIHRoYXQgcmVjZWl2ZXMgYSBgYnVpbGRlcmAgb2JqZWN0IGFzIGl0cyBhcmd1bWVudC5cclxuICogVGhhdCBidWlsZGVyIHByb3ZpZGVzIGBhZGRDYXNlYCwgYGFkZE1hdGNoZXJgIGFuZCBgYWRkRGVmYXVsdENhc2VgIGZ1bmN0aW9ucyB0aGF0IG1heSBiZVxyXG4gKiBjYWxsZWQgdG8gZGVmaW5lIHdoYXQgYWN0aW9ucyB0aGlzIHJlZHVjZXIgd2lsbCBoYW5kbGUuXHJcbiAqXHJcbiAqIEBwYXJhbSBpbml0aWFsU3RhdGUgLSBgU3RhdGUgfCAoKCkgPT4gU3RhdGUpYDogVGhlIGluaXRpYWwgc3RhdGUgdGhhdCBzaG91bGQgYmUgdXNlZCB3aGVuIHRoZSByZWR1Y2VyIGlzIGNhbGxlZCB0aGUgZmlyc3QgdGltZS4gVGhpcyBtYXkgYWxzbyBiZSBhIFwibGF6eSBpbml0aWFsaXplclwiIGZ1bmN0aW9uLCB3aGljaCBzaG91bGQgcmV0dXJuIGFuIGluaXRpYWwgc3RhdGUgdmFsdWUgd2hlbiBjYWxsZWQuIFRoaXMgd2lsbCBiZSB1c2VkIHdoZW5ldmVyIHRoZSByZWR1Y2VyIGlzIGNhbGxlZCB3aXRoIGB1bmRlZmluZWRgIGFzIGl0cyBzdGF0ZSB2YWx1ZSwgYW5kIGlzIHByaW1hcmlseSB1c2VmdWwgZm9yIGNhc2VzIGxpa2UgcmVhZGluZyBpbml0aWFsIHN0YXRlIGZyb20gYGxvY2FsU3RvcmFnZWAuXHJcbiAqIEBwYXJhbSBidWlsZGVyQ2FsbGJhY2sgLSBgKGJ1aWxkZXI6IEJ1aWxkZXIpID0+IHZvaWRgIEEgY2FsbGJhY2sgdGhhdCByZWNlaXZlcyBhICpidWlsZGVyKiBvYmplY3QgdG8gZGVmaW5lXHJcbiAqICAgY2FzZSByZWR1Y2VycyB2aWEgY2FsbHMgdG8gYGJ1aWxkZXIuYWRkQ2FzZShhY3Rpb25DcmVhdG9yT3JUeXBlLCByZWR1Y2VyKWAuXHJcbiAqIEBleGFtcGxlXHJcbmBgYHRzXHJcbmltcG9ydCB7XHJcbiAgY3JlYXRlQWN0aW9uLFxyXG4gIGNyZWF0ZVJlZHVjZXIsXHJcbiAgVW5rbm93bkFjdGlvbixcclxuICBQYXlsb2FkQWN0aW9uLFxyXG59IGZyb20gXCJAcmVkdXhqcy90b29sa2l0XCI7XHJcblxyXG5jb25zdCBpbmNyZW1lbnQgPSBjcmVhdGVBY3Rpb248bnVtYmVyPihcImluY3JlbWVudFwiKTtcclxuY29uc3QgZGVjcmVtZW50ID0gY3JlYXRlQWN0aW9uPG51bWJlcj4oXCJkZWNyZW1lbnRcIik7XHJcblxyXG5mdW5jdGlvbiBpc0FjdGlvbldpdGhOdW1iZXJQYXlsb2FkKFxyXG4gIGFjdGlvbjogVW5rbm93bkFjdGlvblxyXG4pOiBhY3Rpb24gaXMgUGF5bG9hZEFjdGlvbjxudW1iZXI+IHtcclxuICByZXR1cm4gdHlwZW9mIGFjdGlvbi5wYXlsb2FkID09PSBcIm51bWJlclwiO1xyXG59XHJcblxyXG5jb25zdCByZWR1Y2VyID0gY3JlYXRlUmVkdWNlcihcclxuICB7XHJcbiAgICBjb3VudGVyOiAwLFxyXG4gICAgc3VtT2ZOdW1iZXJQYXlsb2FkczogMCxcclxuICAgIHVuaGFuZGxlZEFjdGlvbnM6IDAsXHJcbiAgfSxcclxuICAoYnVpbGRlcikgPT4ge1xyXG4gICAgYnVpbGRlclxyXG4gICAgICAuYWRkQ2FzZShpbmNyZW1lbnQsIChzdGF0ZSwgYWN0aW9uKSA9PiB7XHJcbiAgICAgICAgLy8gYWN0aW9uIGlzIGluZmVycmVkIGNvcnJlY3RseSBoZXJlXHJcbiAgICAgICAgc3RhdGUuY291bnRlciArPSBhY3Rpb24ucGF5bG9hZDtcclxuICAgICAgfSlcclxuICAgICAgLy8gWW91IGNhbiBjaGFpbiBjYWxscywgb3IgaGF2ZSBzZXBhcmF0ZSBgYnVpbGRlci5hZGRDYXNlKClgIGxpbmVzIGVhY2ggdGltZVxyXG4gICAgICAuYWRkQ2FzZShkZWNyZW1lbnQsIChzdGF0ZSwgYWN0aW9uKSA9PiB7XHJcbiAgICAgICAgc3RhdGUuY291bnRlciAtPSBhY3Rpb24ucGF5bG9hZDtcclxuICAgICAgfSlcclxuICAgICAgLy8gWW91IGNhbiBhcHBseSBhIFwibWF0Y2hlciBmdW5jdGlvblwiIHRvIGluY29taW5nIGFjdGlvbnNcclxuICAgICAgLmFkZE1hdGNoZXIoaXNBY3Rpb25XaXRoTnVtYmVyUGF5bG9hZCwgKHN0YXRlLCBhY3Rpb24pID0+IHt9KVxyXG4gICAgICAvLyBhbmQgcHJvdmlkZSBhIGRlZmF1bHQgY2FzZSBpZiBubyBvdGhlciBoYW5kbGVycyBtYXRjaGVkXHJcbiAgICAgIC5hZGREZWZhdWx0Q2FzZSgoc3RhdGUsIGFjdGlvbikgPT4ge30pO1xyXG4gIH1cclxuKTtcclxuYGBgXHJcbiAqIEBwdWJsaWNcclxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUmVkdWNlcjxTIGV4dGVuZHMgTm90RnVuY3Rpb248YW55Pj4oaW5pdGlhbFN0YXRlOiBTIHwgKCgpID0+IFMpLCBtYXBPckJ1aWxkZXJDYWxsYmFjazogKGJ1aWxkZXI6IEFjdGlvblJlZHVjZXJNYXBCdWlsZGVyPFM+KSA9PiB2b2lkKTogUmVkdWNlcldpdGhJbml0aWFsU3RhdGU8Uz4ge1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIGlmICh0eXBlb2YgbWFwT3JCdWlsZGVyQ2FsbGJhY2sgPT09ICdvYmplY3QnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiID8gX2Zvcm1hdFByb2RFcnJvck1lc3NhZ2UoOCkgOiBcIlRoZSBvYmplY3Qgbm90YXRpb24gZm9yIGBjcmVhdGVSZWR1Y2VyYCBoYXMgYmVlbiByZW1vdmVkLiBQbGVhc2UgdXNlIHRoZSAnYnVpbGRlciBjYWxsYmFjaycgbm90YXRpb24gaW5zdGVhZDogaHR0cHM6Ly9yZWR1eC10b29sa2l0LmpzLm9yZy9hcGkvY3JlYXRlUmVkdWNlclwiKTtcbiAgICB9XG4gIH1cbiAgbGV0IFthY3Rpb25zTWFwLCBmaW5hbEFjdGlvbk1hdGNoZXJzLCBmaW5hbERlZmF1bHRDYXNlUmVkdWNlcl0gPSBleGVjdXRlUmVkdWNlckJ1aWxkZXJDYWxsYmFjayhtYXBPckJ1aWxkZXJDYWxsYmFjayk7XG5cbiAgLy8gRW5zdXJlIHRoZSBpbml0aWFsIHN0YXRlIGdldHMgZnJvemVuIGVpdGhlciB3YXkgKGlmIGRyYWZ0YWJsZSlcbiAgbGV0IGdldEluaXRpYWxTdGF0ZTogKCkgPT4gUztcbiAgaWYgKGlzU3RhdGVGdW5jdGlvbihpbml0aWFsU3RhdGUpKSB7XG4gICAgZ2V0SW5pdGlhbFN0YXRlID0gKCkgPT4gZnJlZXplRHJhZnRhYmxlKGluaXRpYWxTdGF0ZSgpKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBmcm96ZW5Jbml0aWFsU3RhdGUgPSBmcmVlemVEcmFmdGFibGUoaW5pdGlhbFN0YXRlKTtcbiAgICBnZXRJbml0aWFsU3RhdGUgPSAoKSA9PiBmcm96ZW5Jbml0aWFsU3RhdGU7XG4gIH1cbiAgZnVuY3Rpb24gcmVkdWNlcihzdGF0ZSA9IGdldEluaXRpYWxTdGF0ZSgpLCBhY3Rpb246IGFueSk6IFMge1xuICAgIGxldCBjYXNlUmVkdWNlcnMgPSBbYWN0aW9uc01hcFthY3Rpb24udHlwZV0sIC4uLmZpbmFsQWN0aW9uTWF0Y2hlcnMuZmlsdGVyKCh7XG4gICAgICBtYXRjaGVyXG4gICAgfSkgPT4gbWF0Y2hlcihhY3Rpb24pKS5tYXAoKHtcbiAgICAgIHJlZHVjZXJcbiAgICB9KSA9PiByZWR1Y2VyKV07XG4gICAgaWYgKGNhc2VSZWR1Y2Vycy5maWx0ZXIoY3IgPT4gISFjcikubGVuZ3RoID09PSAwKSB7XG4gICAgICBjYXNlUmVkdWNlcnMgPSBbZmluYWxEZWZhdWx0Q2FzZVJlZHVjZXJdO1xuICAgIH1cbiAgICByZXR1cm4gY2FzZVJlZHVjZXJzLnJlZHVjZSgocHJldmlvdXNTdGF0ZSwgY2FzZVJlZHVjZXIpOiBTID0+IHtcbiAgICAgIGlmIChjYXNlUmVkdWNlcikge1xuICAgICAgICBpZiAoaXNEcmFmdChwcmV2aW91c1N0YXRlKSkge1xuICAgICAgICAgIC8vIElmIGl0J3MgYWxyZWFkeSBhIGRyYWZ0LCB3ZSBtdXN0IGFscmVhZHkgYmUgaW5zaWRlIGEgYGNyZWF0ZU5leHRTdGF0ZWAgY2FsbCxcbiAgICAgICAgICAvLyBsaWtlbHkgYmVjYXVzZSB0aGlzIGlzIGJlaW5nIHdyYXBwZWQgaW4gYGNyZWF0ZVJlZHVjZXJgLCBgY3JlYXRlU2xpY2VgLCBvciBuZXN0ZWRcbiAgICAgICAgICAvLyBpbnNpZGUgYW4gZXhpc3RpbmcgZHJhZnQuIEl0J3Mgc2FmZSB0byBqdXN0IHBhc3MgdGhlIGRyYWZ0IHRvIHRoZSBtdXRhdG9yLlxuICAgICAgICAgIGNvbnN0IGRyYWZ0ID0gKHByZXZpb3VzU3RhdGUgYXMgRHJhZnQ8Uz4pOyAvLyBXZSBjYW4gYXNzdW1lIHRoaXMgaXMgYWxyZWFkeSBhIGRyYWZ0XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gY2FzZVJlZHVjZXIoZHJhZnQsIGFjdGlvbik7XG4gICAgICAgICAgaWYgKHJlc3VsdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJldmlvdXNTdGF0ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIChyZXN1bHQgYXMgUyk7XG4gICAgICAgIH0gZWxzZSBpZiAoIWlzRHJhZnRhYmxlKHByZXZpb3VzU3RhdGUpKSB7XG4gICAgICAgICAgLy8gSWYgc3RhdGUgaXMgbm90IGRyYWZ0YWJsZSAoZXg6IGEgcHJpbWl0aXZlLCBzdWNoIGFzIDApLCB3ZSB3YW50IHRvIGRpcmVjdGx5XG4gICAgICAgICAgLy8gcmV0dXJuIHRoZSBjYXNlUmVkdWNlciBmdW5jIGFuZCBub3Qgd3JhcCBpdCB3aXRoIHByb2R1Y2UuXG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gY2FzZVJlZHVjZXIoKHByZXZpb3VzU3RhdGUgYXMgYW55KSwgYWN0aW9uKTtcbiAgICAgICAgICBpZiAocmVzdWx0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGlmIChwcmV2aW91c1N0YXRlID09PSBudWxsKSB7XG4gICAgICAgICAgICAgIHJldHVybiBwcmV2aW91c1N0YXRlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIiA/IF9mb3JtYXRQcm9kRXJyb3JNZXNzYWdlMig5KSA6ICdBIGNhc2UgcmVkdWNlciBvbiBhIG5vbi1kcmFmdGFibGUgdmFsdWUgbXVzdCBub3QgcmV0dXJuIHVuZGVmaW5lZCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gKHJlc3VsdCBhcyBTKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBAdHMtaWdub3JlIGNyZWF0ZU5leHRTdGF0ZSgpIHByb2R1Y2VzIGFuIEltbXV0YWJsZTxEcmFmdDxTPj4gcmF0aGVyXG4gICAgICAgICAgLy8gdGhhbiBhbiBJbW11dGFibGU8Uz4sIGFuZCBUeXBlU2NyaXB0IGNhbm5vdCBmaW5kIG91dCBob3cgdG8gcmVjb25jaWxlXG4gICAgICAgICAgLy8gdGhlc2UgdHdvIHR5cGVzLlxuICAgICAgICAgIHJldHVybiBjcmVhdGVOZXh0U3RhdGUocHJldmlvdXNTdGF0ZSwgKGRyYWZ0OiBEcmFmdDxTPikgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGNhc2VSZWR1Y2VyKGRyYWZ0LCBhY3Rpb24pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcHJldmlvdXNTdGF0ZTtcbiAgICB9LCBzdGF0ZSk7XG4gIH1cbiAgcmVkdWNlci5nZXRJbml0aWFsU3RhdGUgPSBnZXRJbml0aWFsU3RhdGU7XG4gIHJldHVybiAocmVkdWNlciBhcyBSZWR1Y2VyV2l0aEluaXRpYWxTdGF0ZTxTPik7XG59IiwiaW1wb3J0IHsgZm9ybWF0UHJvZEVycm9yTWVzc2FnZSBhcyBfZm9ybWF0UHJvZEVycm9yTWVzc2FnZTYgfSBmcm9tIFwiQHJlZHV4anMvdG9vbGtpdFwiO1xuaW1wb3J0IHsgZm9ybWF0UHJvZEVycm9yTWVzc2FnZSBhcyBfZm9ybWF0UHJvZEVycm9yTWVzc2FnZTUgfSBmcm9tIFwiQHJlZHV4anMvdG9vbGtpdFwiO1xuaW1wb3J0IHsgZm9ybWF0UHJvZEVycm9yTWVzc2FnZSBhcyBfZm9ybWF0UHJvZEVycm9yTWVzc2FnZTQgfSBmcm9tIFwiQHJlZHV4anMvdG9vbGtpdFwiO1xuaW1wb3J0IHsgZm9ybWF0UHJvZEVycm9yTWVzc2FnZSBhcyBfZm9ybWF0UHJvZEVycm9yTWVzc2FnZTMgfSBmcm9tIFwiQHJlZHV4anMvdG9vbGtpdFwiO1xuaW1wb3J0IHsgZm9ybWF0UHJvZEVycm9yTWVzc2FnZSBhcyBfZm9ybWF0UHJvZEVycm9yTWVzc2FnZTIgfSBmcm9tIFwiQHJlZHV4anMvdG9vbGtpdFwiO1xuaW1wb3J0IHsgZm9ybWF0UHJvZEVycm9yTWVzc2FnZSBhcyBfZm9ybWF0UHJvZEVycm9yTWVzc2FnZSB9IGZyb20gXCJAcmVkdXhqcy90b29sa2l0XCI7XG5pbXBvcnQgdHlwZSB7IEFjdGlvbiB9IGZyb20gJ3JlZHV4JztcbmltcG9ydCB0eXBlIHsgQ2FzZVJlZHVjZXIsIENhc2VSZWR1Y2VycywgQWN0aW9uTWF0Y2hlckRlc2NyaXB0aW9uQ29sbGVjdGlvbiB9IGZyb20gJy4vY3JlYXRlUmVkdWNlcic7XG5pbXBvcnQgdHlwZSB7IFR5cGVHdWFyZCB9IGZyb20gJy4vdHNIZWxwZXJzJztcbmV4cG9ydCBpbnRlcmZhY2UgVHlwZWRBY3Rpb25DcmVhdG9yPFR5cGUgZXh0ZW5kcyBzdHJpbmc+IHtcbiAgKC4uLmFyZ3M6IGFueVtdKTogQWN0aW9uPFR5cGU+O1xuICB0eXBlOiBUeXBlO1xufVxuXG4vKipcclxuICogQSBidWlsZGVyIGZvciBhbiBhY3Rpb24gPC0+IHJlZHVjZXIgbWFwLlxyXG4gKlxyXG4gKiBAcHVibGljXHJcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBBY3Rpb25SZWR1Y2VyTWFwQnVpbGRlcjxTdGF0ZT4ge1xuICAvKipcclxuICAgKiBBZGRzIGEgY2FzZSByZWR1Y2VyIHRvIGhhbmRsZSBhIHNpbmdsZSBleGFjdCBhY3Rpb24gdHlwZS5cclxuICAgKiBAcmVtYXJrc1xyXG4gICAqIEFsbCBjYWxscyB0byBgYnVpbGRlci5hZGRDYXNlYCBtdXN0IGNvbWUgYmVmb3JlIGFueSBjYWxscyB0byBgYnVpbGRlci5hZGRNYXRjaGVyYCBvciBgYnVpbGRlci5hZGREZWZhdWx0Q2FzZWAuXHJcbiAgICogQHBhcmFtIGFjdGlvbkNyZWF0b3IgLSBFaXRoZXIgYSBwbGFpbiBhY3Rpb24gdHlwZSBzdHJpbmcsIG9yIGFuIGFjdGlvbiBjcmVhdG9yIGdlbmVyYXRlZCBieSBbYGNyZWF0ZUFjdGlvbmBdKC4vY3JlYXRlQWN0aW9uKSB0aGF0IGNhbiBiZSB1c2VkIHRvIGRldGVybWluZSB0aGUgYWN0aW9uIHR5cGUuXHJcbiAgICogQHBhcmFtIHJlZHVjZXIgLSBUaGUgYWN0dWFsIGNhc2UgcmVkdWNlciBmdW5jdGlvbi5cclxuICAgKi9cbiAgYWRkQ2FzZTxBY3Rpb25DcmVhdG9yIGV4dGVuZHMgVHlwZWRBY3Rpb25DcmVhdG9yPHN0cmluZz4+KGFjdGlvbkNyZWF0b3I6IEFjdGlvbkNyZWF0b3IsIHJlZHVjZXI6IENhc2VSZWR1Y2VyPFN0YXRlLCBSZXR1cm5UeXBlPEFjdGlvbkNyZWF0b3I+Pik6IEFjdGlvblJlZHVjZXJNYXBCdWlsZGVyPFN0YXRlPjtcbiAgLyoqXHJcbiAgICogQWRkcyBhIGNhc2UgcmVkdWNlciB0byBoYW5kbGUgYSBzaW5nbGUgZXhhY3QgYWN0aW9uIHR5cGUuXHJcbiAgICogQHJlbWFya3NcclxuICAgKiBBbGwgY2FsbHMgdG8gYGJ1aWxkZXIuYWRkQ2FzZWAgbXVzdCBjb21lIGJlZm9yZSBhbnkgY2FsbHMgdG8gYGJ1aWxkZXIuYWRkTWF0Y2hlcmAgb3IgYGJ1aWxkZXIuYWRkRGVmYXVsdENhc2VgLlxyXG4gICAqIEBwYXJhbSBhY3Rpb25DcmVhdG9yIC0gRWl0aGVyIGEgcGxhaW4gYWN0aW9uIHR5cGUgc3RyaW5nLCBvciBhbiBhY3Rpb24gY3JlYXRvciBnZW5lcmF0ZWQgYnkgW2BjcmVhdGVBY3Rpb25gXSguL2NyZWF0ZUFjdGlvbikgdGhhdCBjYW4gYmUgdXNlZCB0byBkZXRlcm1pbmUgdGhlIGFjdGlvbiB0eXBlLlxyXG4gICAqIEBwYXJhbSByZWR1Y2VyIC0gVGhlIGFjdHVhbCBjYXNlIHJlZHVjZXIgZnVuY3Rpb24uXHJcbiAgICovXG4gIGFkZENhc2U8VHlwZSBleHRlbmRzIHN0cmluZywgQSBleHRlbmRzIEFjdGlvbjxUeXBlPj4odHlwZTogVHlwZSwgcmVkdWNlcjogQ2FzZVJlZHVjZXI8U3RhdGUsIEE+KTogQWN0aW9uUmVkdWNlck1hcEJ1aWxkZXI8U3RhdGU+O1xuXG4gIC8qKlxyXG4gICAqIEFsbG93cyB5b3UgdG8gbWF0Y2ggeW91ciBpbmNvbWluZyBhY3Rpb25zIGFnYWluc3QgeW91ciBvd24gZmlsdGVyIGZ1bmN0aW9uIGluc3RlYWQgb2Ygb25seSB0aGUgYGFjdGlvbi50eXBlYCBwcm9wZXJ0eS5cclxuICAgKiBAcmVtYXJrc1xyXG4gICAqIElmIG11bHRpcGxlIG1hdGNoZXIgcmVkdWNlcnMgbWF0Y2gsIGFsbCBvZiB0aGVtIHdpbGwgYmUgZXhlY3V0ZWQgaW4gdGhlIG9yZGVyXHJcbiAgICogdGhleSB3ZXJlIGRlZmluZWQgaW4gLSBldmVuIGlmIGEgY2FzZSByZWR1Y2VyIGFscmVhZHkgbWF0Y2hlZC5cclxuICAgKiBBbGwgY2FsbHMgdG8gYGJ1aWxkZXIuYWRkTWF0Y2hlcmAgbXVzdCBjb21lIGFmdGVyIGFueSBjYWxscyB0byBgYnVpbGRlci5hZGRDYXNlYCBhbmQgYmVmb3JlIGFueSBjYWxscyB0byBgYnVpbGRlci5hZGREZWZhdWx0Q2FzZWAuXHJcbiAgICogQHBhcmFtIG1hdGNoZXIgLSBBIG1hdGNoZXIgZnVuY3Rpb24uIEluIFR5cGVTY3JpcHQsIHRoaXMgc2hvdWxkIGJlIGEgW3R5cGUgcHJlZGljYXRlXShodHRwczovL3d3dy50eXBlc2NyaXB0bGFuZy5vcmcvZG9jcy9oYW5kYm9vay8yL25hcnJvd2luZy5odG1sI3VzaW5nLXR5cGUtcHJlZGljYXRlcylcclxuICAgKiAgIGZ1bmN0aW9uXHJcbiAgICogQHBhcmFtIHJlZHVjZXIgLSBUaGUgYWN0dWFsIGNhc2UgcmVkdWNlciBmdW5jdGlvbi5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgYGBgdHNcclxuICBpbXBvcnQge1xyXG4gIGNyZWF0ZUFjdGlvbixcclxuICBjcmVhdGVSZWR1Y2VyLFxyXG4gIEFzeW5jVGh1bmssXHJcbiAgVW5rbm93bkFjdGlvbixcclxuICB9IGZyb20gXCJAcmVkdXhqcy90b29sa2l0XCI7XHJcbiAgdHlwZSBHZW5lcmljQXN5bmNUaHVuayA9IEFzeW5jVGh1bms8dW5rbm93biwgdW5rbm93biwgYW55PjtcclxuICB0eXBlIFBlbmRpbmdBY3Rpb24gPSBSZXR1cm5UeXBlPEdlbmVyaWNBc3luY1RodW5rW1wicGVuZGluZ1wiXT47XHJcbiAgdHlwZSBSZWplY3RlZEFjdGlvbiA9IFJldHVyblR5cGU8R2VuZXJpY0FzeW5jVGh1bmtbXCJyZWplY3RlZFwiXT47XHJcbiAgdHlwZSBGdWxmaWxsZWRBY3Rpb24gPSBSZXR1cm5UeXBlPEdlbmVyaWNBc3luY1RodW5rW1wiZnVsZmlsbGVkXCJdPjtcclxuICBjb25zdCBpbml0aWFsU3RhdGU6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcclxuICBjb25zdCByZXNldEFjdGlvbiA9IGNyZWF0ZUFjdGlvbihcInJlc2V0LXRyYWNrZWQtbG9hZGluZy1zdGF0ZVwiKTtcclxuICBmdW5jdGlvbiBpc1BlbmRpbmdBY3Rpb24oYWN0aW9uOiBVbmtub3duQWN0aW9uKTogYWN0aW9uIGlzIFBlbmRpbmdBY3Rpb24ge1xyXG4gIHJldHVybiB0eXBlb2YgYWN0aW9uLnR5cGUgPT09IFwic3RyaW5nXCIgJiYgYWN0aW9uLnR5cGUuZW5kc1dpdGgoXCIvcGVuZGluZ1wiKTtcclxuICB9XHJcbiAgY29uc3QgcmVkdWNlciA9IGNyZWF0ZVJlZHVjZXIoaW5pdGlhbFN0YXRlLCAoYnVpbGRlcikgPT4ge1xyXG4gIGJ1aWxkZXJcclxuICAgIC5hZGRDYXNlKHJlc2V0QWN0aW9uLCAoKSA9PiBpbml0aWFsU3RhdGUpXHJcbiAgICAvLyBtYXRjaGVyIGNhbiBiZSBkZWZpbmVkIG91dHNpZGUgYXMgYSB0eXBlIHByZWRpY2F0ZSBmdW5jdGlvblxyXG4gICAgLmFkZE1hdGNoZXIoaXNQZW5kaW5nQWN0aW9uLCAoc3RhdGUsIGFjdGlvbikgPT4ge1xyXG4gICAgICBzdGF0ZVthY3Rpb24ubWV0YS5yZXF1ZXN0SWRdID0gXCJwZW5kaW5nXCI7XHJcbiAgICB9KVxyXG4gICAgLmFkZE1hdGNoZXIoXHJcbiAgICAgIC8vIG1hdGNoZXIgY2FuIGJlIGRlZmluZWQgaW5saW5lIGFzIGEgdHlwZSBwcmVkaWNhdGUgZnVuY3Rpb25cclxuICAgICAgKGFjdGlvbik6IGFjdGlvbiBpcyBSZWplY3RlZEFjdGlvbiA9PiBhY3Rpb24udHlwZS5lbmRzV2l0aChcIi9yZWplY3RlZFwiKSxcclxuICAgICAgKHN0YXRlLCBhY3Rpb24pID0+IHtcclxuICAgICAgICBzdGF0ZVthY3Rpb24ubWV0YS5yZXF1ZXN0SWRdID0gXCJyZWplY3RlZFwiO1xyXG4gICAgICB9XHJcbiAgICApXHJcbiAgICAvLyBtYXRjaGVyIGNhbiBqdXN0IHJldHVybiBib29sZWFuIGFuZCB0aGUgbWF0Y2hlciBjYW4gcmVjZWl2ZSBhIGdlbmVyaWMgYXJndW1lbnRcclxuICAgIC5hZGRNYXRjaGVyPEZ1bGZpbGxlZEFjdGlvbj4oXHJcbiAgICAgIChhY3Rpb24pID0+IGFjdGlvbi50eXBlLmVuZHNXaXRoKFwiL2Z1bGZpbGxlZFwiKSxcclxuICAgICAgKHN0YXRlLCBhY3Rpb24pID0+IHtcclxuICAgICAgICBzdGF0ZVthY3Rpb24ubWV0YS5yZXF1ZXN0SWRdID0gXCJmdWxmaWxsZWRcIjtcclxuICAgICAgfVxyXG4gICAgKTtcclxuICB9KTtcclxuICBgYGBcclxuICAgKi9cbiAgYWRkTWF0Y2hlcjxBPihtYXRjaGVyOiBUeXBlR3VhcmQ8QT4gfCAoKGFjdGlvbjogYW55KSA9PiBib29sZWFuKSwgcmVkdWNlcjogQ2FzZVJlZHVjZXI8U3RhdGUsIEEgZXh0ZW5kcyBBY3Rpb24gPyBBIDogQSAmIEFjdGlvbj4pOiBPbWl0PEFjdGlvblJlZHVjZXJNYXBCdWlsZGVyPFN0YXRlPiwgJ2FkZENhc2UnPjtcblxuICAvKipcclxuICAgKiBBZGRzIGEgXCJkZWZhdWx0IGNhc2VcIiByZWR1Y2VyIHRoYXQgaXMgZXhlY3V0ZWQgaWYgbm8gY2FzZSByZWR1Y2VyIGFuZCBubyBtYXRjaGVyXHJcbiAgICogcmVkdWNlciB3YXMgZXhlY3V0ZWQgZm9yIHRoaXMgYWN0aW9uLlxyXG4gICAqIEBwYXJhbSByZWR1Y2VyIC0gVGhlIGZhbGxiYWNrIFwiZGVmYXVsdCBjYXNlXCIgcmVkdWNlciBmdW5jdGlvbi5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgYGBgdHNcclxuICBpbXBvcnQgeyBjcmVhdGVSZWR1Y2VyIH0gZnJvbSAnQHJlZHV4anMvdG9vbGtpdCdcclxuICBjb25zdCBpbml0aWFsU3RhdGUgPSB7IG90aGVyQWN0aW9uczogMCB9XHJcbiAgY29uc3QgcmVkdWNlciA9IGNyZWF0ZVJlZHVjZXIoaW5pdGlhbFN0YXRlLCBidWlsZGVyID0+IHtcclxuICBidWlsZGVyXHJcbiAgICAvLyAuYWRkQ2FzZSguLi4pXHJcbiAgICAvLyAuYWRkTWF0Y2hlciguLi4pXHJcbiAgICAuYWRkRGVmYXVsdENhc2UoKHN0YXRlLCBhY3Rpb24pID0+IHtcclxuICAgICAgc3RhdGUub3RoZXJBY3Rpb25zKytcclxuICAgIH0pXHJcbiAgfSlcclxuICBgYGBcclxuICAgKi9cbiAgYWRkRGVmYXVsdENhc2UocmVkdWNlcjogQ2FzZVJlZHVjZXI8U3RhdGUsIEFjdGlvbj4pOiB7fTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBleGVjdXRlUmVkdWNlckJ1aWxkZXJDYWxsYmFjazxTPihidWlsZGVyQ2FsbGJhY2s6IChidWlsZGVyOiBBY3Rpb25SZWR1Y2VyTWFwQnVpbGRlcjxTPikgPT4gdm9pZCk6IFtDYXNlUmVkdWNlcnM8UywgYW55PiwgQWN0aW9uTWF0Y2hlckRlc2NyaXB0aW9uQ29sbGVjdGlvbjxTPiwgQ2FzZVJlZHVjZXI8UywgQWN0aW9uPiB8IHVuZGVmaW5lZF0ge1xuICBjb25zdCBhY3Rpb25zTWFwOiBDYXNlUmVkdWNlcnM8UywgYW55PiA9IHt9O1xuICBjb25zdCBhY3Rpb25NYXRjaGVyczogQWN0aW9uTWF0Y2hlckRlc2NyaXB0aW9uQ29sbGVjdGlvbjxTPiA9IFtdO1xuICBsZXQgZGVmYXVsdENhc2VSZWR1Y2VyOiBDYXNlUmVkdWNlcjxTLCBBY3Rpb24+IHwgdW5kZWZpbmVkO1xuICBjb25zdCBidWlsZGVyID0ge1xuICAgIGFkZENhc2UodHlwZU9yQWN0aW9uQ3JlYXRvcjogc3RyaW5nIHwgVHlwZWRBY3Rpb25DcmVhdG9yPGFueT4sIHJlZHVjZXI6IENhc2VSZWR1Y2VyPFM+KSB7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAvKlxyXG4gICAgICAgICB0byBrZWVwIHRoZSBkZWZpbml0aW9uIGJ5IHRoZSB1c2VyIGluIGxpbmUgd2l0aCBhY3R1YWwgYmVoYXZpb3IsXHJcbiAgICAgICAgIHdlIGVuZm9yY2UgYGFkZENhc2VgIHRvIGFsd2F5cyBiZSBjYWxsZWQgYmVmb3JlIGNhbGxpbmcgYGFkZE1hdGNoZXJgXHJcbiAgICAgICAgIGFzIG1hdGNoaW5nIGNhc2VzIHRha2UgcHJlY2VkZW5jZSBvdmVyIG1hdGNoZXJzXHJcbiAgICAgICAgICovXG4gICAgICAgIGlmIChhY3Rpb25NYXRjaGVycy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIiA/IF9mb3JtYXRQcm9kRXJyb3JNZXNzYWdlKDI2KSA6ICdgYnVpbGRlci5hZGRDYXNlYCBzaG91bGQgb25seSBiZSBjYWxsZWQgYmVmb3JlIGNhbGxpbmcgYGJ1aWxkZXIuYWRkTWF0Y2hlcmAnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVmYXVsdENhc2VSZWR1Y2VyKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIiA/IF9mb3JtYXRQcm9kRXJyb3JNZXNzYWdlMigyNykgOiAnYGJ1aWxkZXIuYWRkQ2FzZWAgc2hvdWxkIG9ubHkgYmUgY2FsbGVkIGJlZm9yZSBjYWxsaW5nIGBidWlsZGVyLmFkZERlZmF1bHRDYXNlYCcpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjb25zdCB0eXBlID0gdHlwZW9mIHR5cGVPckFjdGlvbkNyZWF0b3IgPT09ICdzdHJpbmcnID8gdHlwZU9yQWN0aW9uQ3JlYXRvciA6IHR5cGVPckFjdGlvbkNyZWF0b3IudHlwZTtcbiAgICAgIGlmICghdHlwZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiID8gX2Zvcm1hdFByb2RFcnJvck1lc3NhZ2UzKDI4KSA6ICdgYnVpbGRlci5hZGRDYXNlYCBjYW5ub3QgYmUgY2FsbGVkIHdpdGggYW4gZW1wdHkgYWN0aW9uIHR5cGUnKTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlIGluIGFjdGlvbnNNYXApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIiA/IF9mb3JtYXRQcm9kRXJyb3JNZXNzYWdlNCgyOSkgOiAnYGJ1aWxkZXIuYWRkQ2FzZWAgY2Fubm90IGJlIGNhbGxlZCB3aXRoIHR3byByZWR1Y2VycyBmb3IgdGhlIHNhbWUgYWN0aW9uIHR5cGUgJyArIGAnJHt0eXBlfSdgKTtcbiAgICAgIH1cbiAgICAgIGFjdGlvbnNNYXBbdHlwZV0gPSByZWR1Y2VyO1xuICAgICAgcmV0dXJuIGJ1aWxkZXI7XG4gICAgfSxcbiAgICBhZGRNYXRjaGVyPEE+KG1hdGNoZXI6IFR5cGVHdWFyZDxBPiwgcmVkdWNlcjogQ2FzZVJlZHVjZXI8UywgQSBleHRlbmRzIEFjdGlvbiA/IEEgOiBBICYgQWN0aW9uPikge1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgaWYgKGRlZmF1bHRDYXNlUmVkdWNlcikge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJwcm9kdWN0aW9uXCIgPyBfZm9ybWF0UHJvZEVycm9yTWVzc2FnZTUoMzApIDogJ2BidWlsZGVyLmFkZE1hdGNoZXJgIHNob3VsZCBvbmx5IGJlIGNhbGxlZCBiZWZvcmUgY2FsbGluZyBgYnVpbGRlci5hZGREZWZhdWx0Q2FzZWAnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgYWN0aW9uTWF0Y2hlcnMucHVzaCh7XG4gICAgICAgIG1hdGNoZXIsXG4gICAgICAgIHJlZHVjZXJcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGJ1aWxkZXI7XG4gICAgfSxcbiAgICBhZGREZWZhdWx0Q2FzZShyZWR1Y2VyOiBDYXNlUmVkdWNlcjxTLCBBY3Rpb24+KSB7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBpZiAoZGVmYXVsdENhc2VSZWR1Y2VyKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIiA/IF9mb3JtYXRQcm9kRXJyb3JNZXNzYWdlNigzMSkgOiAnYGJ1aWxkZXIuYWRkRGVmYXVsdENhc2VgIGNhbiBvbmx5IGJlIGNhbGxlZCBvbmNlJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGRlZmF1bHRDYXNlUmVkdWNlciA9IHJlZHVjZXI7XG4gICAgICByZXR1cm4gYnVpbGRlcjtcbiAgICB9XG4gIH07XG4gIGJ1aWxkZXJDYWxsYmFjayhidWlsZGVyKTtcbiAgcmV0dXJuIFthY3Rpb25zTWFwLCBhY3Rpb25NYXRjaGVycywgZGVmYXVsdENhc2VSZWR1Y2VyXTtcbn0iLCIvLyBCb3Jyb3dlZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9haS9uYW5vaWQvYmxvYi8zLjAuMi9ub24tc2VjdXJlL2luZGV4LmpzXG4vLyBUaGlzIGFscGhhYmV0IHVzZXMgYEEtWmEtejAtOV8tYCBzeW1ib2xzLiBBIGdlbmV0aWMgYWxnb3JpdGhtIGhlbHBlZFxuLy8gb3B0aW1pemUgdGhlIGd6aXAgY29tcHJlc3Npb24gZm9yIHRoaXMgYWxwaGFiZXQuXG5sZXQgdXJsQWxwaGFiZXQgPSAnTW9kdWxlU3ltYmhhc093blByLTAxMjM0NTY3ODlBQkNERUZHSE5SVmZnY3RpVXZ6X0txWVRKa0x4cFpYSWpRVyc7XG5cbi8qKlxyXG4gKlxyXG4gKiBAcHVibGljXHJcbiAqL1xuZXhwb3J0IGxldCBuYW5vaWQgPSAoc2l6ZSA9IDIxKSA9PiB7XG4gIGxldCBpZCA9ICcnO1xuICAvLyBBIGNvbXBhY3QgYWx0ZXJuYXRpdmUgZm9yIGBmb3IgKHZhciBpID0gMDsgaSA8IHN0ZXA7IGkrKylgLlxuICBsZXQgaSA9IHNpemU7XG4gIHdoaWxlIChpLS0pIHtcbiAgICAvLyBgfCAwYCBpcyBtb3JlIGNvbXBhY3QgYW5kIGZhc3RlciB0aGFuIGBNYXRoLmZsb29yKClgLlxuICAgIGlkICs9IHVybEFscGhhYmV0W01hdGgucmFuZG9tKCkgKiA2NCB8IDBdO1xuICB9XG4gIHJldHVybiBpZDtcbn07IiwiaW1wb3J0IHR5cGUgeyBBY3Rpb25Gcm9tTWF0Y2hlciwgTWF0Y2hlciwgVW5pb25Ub0ludGVyc2VjdGlvbiB9IGZyb20gJy4vdHNIZWxwZXJzJztcbmltcG9ydCB7IGhhc01hdGNoRnVuY3Rpb24gfSBmcm9tICcuL3RzSGVscGVycyc7XG5pbXBvcnQgdHlwZSB7IEFzeW5jVGh1bmssIEFzeW5jVGh1bmtGdWxmaWxsZWRBY3Rpb25DcmVhdG9yLCBBc3luY1RodW5rUGVuZGluZ0FjdGlvbkNyZWF0b3IsIEFzeW5jVGh1bmtSZWplY3RlZEFjdGlvbkNyZWF0b3IgfSBmcm9tICcuL2NyZWF0ZUFzeW5jVGh1bmsnO1xuXG4vKiogQHB1YmxpYyAqL1xuZXhwb3J0IHR5cGUgQWN0aW9uTWF0Y2hpbmdBbnlPZjxNYXRjaGVycyBleHRlbmRzIE1hdGNoZXI8YW55PltdPiA9IEFjdGlvbkZyb21NYXRjaGVyPE1hdGNoZXJzW251bWJlcl0+O1xuXG4vKiogQHB1YmxpYyAqL1xuZXhwb3J0IHR5cGUgQWN0aW9uTWF0Y2hpbmdBbGxPZjxNYXRjaGVycyBleHRlbmRzIE1hdGNoZXI8YW55PltdPiA9IFVuaW9uVG9JbnRlcnNlY3Rpb248QWN0aW9uTWF0Y2hpbmdBbnlPZjxNYXRjaGVycz4+O1xuY29uc3QgbWF0Y2hlcyA9IChtYXRjaGVyOiBNYXRjaGVyPGFueT4sIGFjdGlvbjogYW55KSA9PiB7XG4gIGlmIChoYXNNYXRjaEZ1bmN0aW9uKG1hdGNoZXIpKSB7XG4gICAgcmV0dXJuIG1hdGNoZXIubWF0Y2goYWN0aW9uKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbWF0Y2hlcihhY3Rpb24pO1xuICB9XG59O1xuXG4vKipcbiAqIEEgaGlnaGVyLW9yZGVyIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgbWF5IGJlIHVzZWQgdG8gY2hlY2tcbiAqIHdoZXRoZXIgYW4gYWN0aW9uIG1hdGNoZXMgYW55IG9uZSBvZiB0aGUgc3VwcGxpZWQgdHlwZSBndWFyZHMgb3IgYWN0aW9uXG4gKiBjcmVhdG9ycy5cbiAqXG4gKiBAcGFyYW0gbWF0Y2hlcnMgVGhlIHR5cGUgZ3VhcmRzIG9yIGFjdGlvbiBjcmVhdG9ycyB0byBtYXRjaCBhZ2FpbnN0LlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzQW55T2Y8TWF0Y2hlcnMgZXh0ZW5kcyBNYXRjaGVyPGFueT5bXT4oLi4ubWF0Y2hlcnM6IE1hdGNoZXJzKSB7XG4gIHJldHVybiAoYWN0aW9uOiBhbnkpOiBhY3Rpb24gaXMgQWN0aW9uTWF0Y2hpbmdBbnlPZjxNYXRjaGVycz4gPT4ge1xuICAgIHJldHVybiBtYXRjaGVycy5zb21lKG1hdGNoZXIgPT4gbWF0Y2hlcyhtYXRjaGVyLCBhY3Rpb24pKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBBIGhpZ2hlci1vcmRlciBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSBmdW5jdGlvbiB0aGF0IG1heSBiZSB1c2VkIHRvIGNoZWNrXG4gKiB3aGV0aGVyIGFuIGFjdGlvbiBtYXRjaGVzIGFsbCBvZiB0aGUgc3VwcGxpZWQgdHlwZSBndWFyZHMgb3IgYWN0aW9uXG4gKiBjcmVhdG9ycy5cbiAqXG4gKiBAcGFyYW0gbWF0Y2hlcnMgVGhlIHR5cGUgZ3VhcmRzIG9yIGFjdGlvbiBjcmVhdG9ycyB0byBtYXRjaCBhZ2FpbnN0LlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzQWxsT2Y8TWF0Y2hlcnMgZXh0ZW5kcyBNYXRjaGVyPGFueT5bXT4oLi4ubWF0Y2hlcnM6IE1hdGNoZXJzKSB7XG4gIHJldHVybiAoYWN0aW9uOiBhbnkpOiBhY3Rpb24gaXMgQWN0aW9uTWF0Y2hpbmdBbGxPZjxNYXRjaGVycz4gPT4ge1xuICAgIHJldHVybiBtYXRjaGVycy5ldmVyeShtYXRjaGVyID0+IG1hdGNoZXMobWF0Y2hlciwgYWN0aW9uKSk7XG4gIH07XG59XG5cbi8qKlxuICogQHBhcmFtIGFjdGlvbiBBIHJlZHV4IGFjdGlvblxuICogQHBhcmFtIHZhbGlkU3RhdHVzIEFuIGFycmF5IG9mIHZhbGlkIG1ldGEucmVxdWVzdFN0YXR1cyB2YWx1ZXNcbiAqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhhc0V4cGVjdGVkUmVxdWVzdE1ldGFkYXRhKGFjdGlvbjogYW55LCB2YWxpZFN0YXR1czogcmVhZG9ubHkgc3RyaW5nW10pIHtcbiAgaWYgKCFhY3Rpb24gfHwgIWFjdGlvbi5tZXRhKSByZXR1cm4gZmFsc2U7XG4gIGNvbnN0IGhhc1ZhbGlkUmVxdWVzdElkID0gdHlwZW9mIGFjdGlvbi5tZXRhLnJlcXVlc3RJZCA9PT0gJ3N0cmluZyc7XG4gIGNvbnN0IGhhc1ZhbGlkUmVxdWVzdFN0YXR1cyA9IHZhbGlkU3RhdHVzLmluZGV4T2YoYWN0aW9uLm1ldGEucmVxdWVzdFN0YXR1cykgPiAtMTtcbiAgcmV0dXJuIGhhc1ZhbGlkUmVxdWVzdElkICYmIGhhc1ZhbGlkUmVxdWVzdFN0YXR1cztcbn1cbmZ1bmN0aW9uIGlzQXN5bmNUaHVua0FycmF5KGE6IFthbnldIHwgQW55QXN5bmNUaHVua1tdKTogYSBpcyBBbnlBc3luY1RodW5rW10ge1xuICByZXR1cm4gdHlwZW9mIGFbMF0gPT09ICdmdW5jdGlvbicgJiYgJ3BlbmRpbmcnIGluIGFbMF0gJiYgJ2Z1bGZpbGxlZCcgaW4gYVswXSAmJiAncmVqZWN0ZWQnIGluIGFbMF07XG59XG5leHBvcnQgdHlwZSBVbmtub3duQXN5bmNUaHVua1BlbmRpbmdBY3Rpb24gPSBSZXR1cm5UeXBlPEFzeW5jVGh1bmtQZW5kaW5nQWN0aW9uQ3JlYXRvcjx1bmtub3duPj47XG5leHBvcnQgdHlwZSBQZW5kaW5nQWN0aW9uRnJvbUFzeW5jVGh1bms8VCBleHRlbmRzIEFueUFzeW5jVGh1bms+ID0gQWN0aW9uRnJvbU1hdGNoZXI8VFsncGVuZGluZyddPjtcblxuLyoqXG4gKiBBIGhpZ2hlci1vcmRlciBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSBmdW5jdGlvbiB0aGF0IG1heSBiZSB1c2VkIHRvIGNoZWNrXG4gKiB3aGV0aGVyIGFuIGFjdGlvbiB3YXMgY3JlYXRlZCBieSBhbiBhc3luYyB0aHVuayBhY3Rpb24gY3JlYXRvciwgYW5kIHRoYXRcbiAqIHRoZSBhY3Rpb24gaXMgcGVuZGluZy5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1BlbmRpbmcoKTogKGFjdGlvbjogYW55KSA9PiBhY3Rpb24gaXMgVW5rbm93bkFzeW5jVGh1bmtQZW5kaW5nQWN0aW9uO1xuLyoqXG4gKiBBIGhpZ2hlci1vcmRlciBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSBmdW5jdGlvbiB0aGF0IG1heSBiZSB1c2VkIHRvIGNoZWNrXG4gKiB3aGV0aGVyIGFuIGFjdGlvbiBiZWxvbmdzIHRvIG9uZSBvZiB0aGUgcHJvdmlkZWQgYXN5bmMgdGh1bmsgYWN0aW9uIGNyZWF0b3JzLFxuICogYW5kIHRoYXQgdGhlIGFjdGlvbiBpcyBwZW5kaW5nLlxuICpcbiAqIEBwYXJhbSBhc3luY1RodW5rcyAob3B0aW9uYWwpIFRoZSBhc3luYyB0aHVuayBhY3Rpb24gY3JlYXRvcnMgdG8gbWF0Y2ggYWdhaW5zdC5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1BlbmRpbmc8QXN5bmNUaHVua3MgZXh0ZW5kcyBbQW55QXN5bmNUaHVuaywgLi4uQW55QXN5bmNUaHVua1tdXT4oLi4uYXN5bmNUaHVua3M6IEFzeW5jVGh1bmtzKTogKGFjdGlvbjogYW55KSA9PiBhY3Rpb24gaXMgUGVuZGluZ0FjdGlvbkZyb21Bc3luY1RodW5rPEFzeW5jVGh1bmtzW251bWJlcl0+O1xuLyoqXG4gKiBUZXN0cyBpZiBgYWN0aW9uYCBpcyBhIHBlbmRpbmcgdGh1bmsgYWN0aW9uXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1BlbmRpbmcoYWN0aW9uOiBhbnkpOiBhY3Rpb24gaXMgVW5rbm93bkFzeW5jVGh1bmtQZW5kaW5nQWN0aW9uO1xuZXhwb3J0IGZ1bmN0aW9uIGlzUGVuZGluZzxBc3luY1RodW5rcyBleHRlbmRzIFtBbnlBc3luY1RodW5rLCAuLi5BbnlBc3luY1RodW5rW11dPiguLi5hc3luY1RodW5rczogQXN5bmNUaHVua3MgfCBbYW55XSkge1xuICBpZiAoYXN5bmNUaHVua3MubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIChhY3Rpb246IGFueSkgPT4gaGFzRXhwZWN0ZWRSZXF1ZXN0TWV0YWRhdGEoYWN0aW9uLCBbJ3BlbmRpbmcnXSk7XG4gIH1cbiAgaWYgKCFpc0FzeW5jVGh1bmtBcnJheShhc3luY1RodW5rcykpIHtcbiAgICByZXR1cm4gaXNQZW5kaW5nKCkoYXN5bmNUaHVua3NbMF0pO1xuICB9XG4gIHJldHVybiBpc0FueU9mKC4uLmFzeW5jVGh1bmtzLm1hcChhc3luY1RodW5rID0+IGFzeW5jVGh1bmsucGVuZGluZykpO1xufVxuZXhwb3J0IHR5cGUgVW5rbm93bkFzeW5jVGh1bmtSZWplY3RlZEFjdGlvbiA9IFJldHVyblR5cGU8QXN5bmNUaHVua1JlamVjdGVkQWN0aW9uQ3JlYXRvcjx1bmtub3duLCB1bmtub3duPj47XG5leHBvcnQgdHlwZSBSZWplY3RlZEFjdGlvbkZyb21Bc3luY1RodW5rPFQgZXh0ZW5kcyBBbnlBc3luY1RodW5rPiA9IEFjdGlvbkZyb21NYXRjaGVyPFRbJ3JlamVjdGVkJ10+O1xuXG4vKipcbiAqIEEgaGlnaGVyLW9yZGVyIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgbWF5IGJlIHVzZWQgdG8gY2hlY2tcbiAqIHdoZXRoZXIgYW4gYWN0aW9uIHdhcyBjcmVhdGVkIGJ5IGFuIGFzeW5jIHRodW5rIGFjdGlvbiBjcmVhdG9yLCBhbmQgdGhhdFxuICogdGhlIGFjdGlvbiBpcyByZWplY3RlZC5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1JlamVjdGVkKCk6IChhY3Rpb246IGFueSkgPT4gYWN0aW9uIGlzIFVua25vd25Bc3luY1RodW5rUmVqZWN0ZWRBY3Rpb247XG4vKipcbiAqIEEgaGlnaGVyLW9yZGVyIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgbWF5IGJlIHVzZWQgdG8gY2hlY2tcbiAqIHdoZXRoZXIgYW4gYWN0aW9uIGJlbG9uZ3MgdG8gb25lIG9mIHRoZSBwcm92aWRlZCBhc3luYyB0aHVuayBhY3Rpb24gY3JlYXRvcnMsXG4gKiBhbmQgdGhhdCB0aGUgYWN0aW9uIGlzIHJlamVjdGVkLlxuICpcbiAqIEBwYXJhbSBhc3luY1RodW5rcyAob3B0aW9uYWwpIFRoZSBhc3luYyB0aHVuayBhY3Rpb24gY3JlYXRvcnMgdG8gbWF0Y2ggYWdhaW5zdC5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1JlamVjdGVkPEFzeW5jVGh1bmtzIGV4dGVuZHMgW0FueUFzeW5jVGh1bmssIC4uLkFueUFzeW5jVGh1bmtbXV0+KC4uLmFzeW5jVGh1bmtzOiBBc3luY1RodW5rcyk6IChhY3Rpb246IGFueSkgPT4gYWN0aW9uIGlzIFJlamVjdGVkQWN0aW9uRnJvbUFzeW5jVGh1bms8QXN5bmNUaHVua3NbbnVtYmVyXT47XG4vKipcbiAqIFRlc3RzIGlmIGBhY3Rpb25gIGlzIGEgcmVqZWN0ZWQgdGh1bmsgYWN0aW9uXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1JlamVjdGVkKGFjdGlvbjogYW55KTogYWN0aW9uIGlzIFVua25vd25Bc3luY1RodW5rUmVqZWN0ZWRBY3Rpb247XG5leHBvcnQgZnVuY3Rpb24gaXNSZWplY3RlZDxBc3luY1RodW5rcyBleHRlbmRzIFtBbnlBc3luY1RodW5rLCAuLi5BbnlBc3luY1RodW5rW11dPiguLi5hc3luY1RodW5rczogQXN5bmNUaHVua3MgfCBbYW55XSkge1xuICBpZiAoYXN5bmNUaHVua3MubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIChhY3Rpb246IGFueSkgPT4gaGFzRXhwZWN0ZWRSZXF1ZXN0TWV0YWRhdGEoYWN0aW9uLCBbJ3JlamVjdGVkJ10pO1xuICB9XG4gIGlmICghaXNBc3luY1RodW5rQXJyYXkoYXN5bmNUaHVua3MpKSB7XG4gICAgcmV0dXJuIGlzUmVqZWN0ZWQoKShhc3luY1RodW5rc1swXSk7XG4gIH1cbiAgcmV0dXJuIGlzQW55T2YoLi4uYXN5bmNUaHVua3MubWFwKGFzeW5jVGh1bmsgPT4gYXN5bmNUaHVuay5yZWplY3RlZCkpO1xufVxuZXhwb3J0IHR5cGUgVW5rbm93bkFzeW5jVGh1bmtSZWplY3RlZFdpdGhWYWx1ZUFjdGlvbiA9IFJldHVyblR5cGU8QXN5bmNUaHVua1JlamVjdGVkQWN0aW9uQ3JlYXRvcjx1bmtub3duLCB1bmtub3duPj47XG5leHBvcnQgdHlwZSBSZWplY3RlZFdpdGhWYWx1ZUFjdGlvbkZyb21Bc3luY1RodW5rPFQgZXh0ZW5kcyBBbnlBc3luY1RodW5rPiA9IEFjdGlvbkZyb21NYXRjaGVyPFRbJ3JlamVjdGVkJ10+ICYgKFQgZXh0ZW5kcyBBc3luY1RodW5rPGFueSwgYW55LCB7XG4gIHJlamVjdFZhbHVlOiBpbmZlciBSZWplY3RlZFZhbHVlO1xufT4gPyB7XG4gIHBheWxvYWQ6IFJlamVjdGVkVmFsdWU7XG59IDogdW5rbm93bik7XG5cbi8qKlxuICogQSBoaWdoZXItb3JkZXIgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCBtYXkgYmUgdXNlZCB0byBjaGVja1xuICogd2hldGhlciBhbiBhY3Rpb24gd2FzIGNyZWF0ZWQgYnkgYW4gYXN5bmMgdGh1bmsgYWN0aW9uIGNyZWF0b3IsIGFuZCB0aGF0XG4gKiB0aGUgYWN0aW9uIGlzIHJlamVjdGVkIHdpdGggdmFsdWUuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gaXNSZWplY3RlZFdpdGhWYWx1ZSgpOiAoYWN0aW9uOiBhbnkpID0+IGFjdGlvbiBpcyBVbmtub3duQXN5bmNUaHVua1JlamVjdGVkQWN0aW9uO1xuLyoqXG4gKiBBIGhpZ2hlci1vcmRlciBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSBmdW5jdGlvbiB0aGF0IG1heSBiZSB1c2VkIHRvIGNoZWNrXG4gKiB3aGV0aGVyIGFuIGFjdGlvbiBiZWxvbmdzIHRvIG9uZSBvZiB0aGUgcHJvdmlkZWQgYXN5bmMgdGh1bmsgYWN0aW9uIGNyZWF0b3JzLFxuICogYW5kIHRoYXQgdGhlIGFjdGlvbiBpcyByZWplY3RlZCB3aXRoIHZhbHVlLlxuICpcbiAqIEBwYXJhbSBhc3luY1RodW5rcyAob3B0aW9uYWwpIFRoZSBhc3luYyB0aHVuayBhY3Rpb24gY3JlYXRvcnMgdG8gbWF0Y2ggYWdhaW5zdC5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1JlamVjdGVkV2l0aFZhbHVlPEFzeW5jVGh1bmtzIGV4dGVuZHMgW0FueUFzeW5jVGh1bmssIC4uLkFueUFzeW5jVGh1bmtbXV0+KC4uLmFzeW5jVGh1bmtzOiBBc3luY1RodW5rcyk6IChhY3Rpb246IGFueSkgPT4gYWN0aW9uIGlzIFJlamVjdGVkV2l0aFZhbHVlQWN0aW9uRnJvbUFzeW5jVGh1bms8QXN5bmNUaHVua3NbbnVtYmVyXT47XG4vKipcbiAqIFRlc3RzIGlmIGBhY3Rpb25gIGlzIGEgcmVqZWN0ZWQgdGh1bmsgYWN0aW9uIHdpdGggdmFsdWVcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzUmVqZWN0ZWRXaXRoVmFsdWUoYWN0aW9uOiBhbnkpOiBhY3Rpb24gaXMgVW5rbm93bkFzeW5jVGh1bmtSZWplY3RlZEFjdGlvbjtcbmV4cG9ydCBmdW5jdGlvbiBpc1JlamVjdGVkV2l0aFZhbHVlPEFzeW5jVGh1bmtzIGV4dGVuZHMgW0FueUFzeW5jVGh1bmssIC4uLkFueUFzeW5jVGh1bmtbXV0+KC4uLmFzeW5jVGh1bmtzOiBBc3luY1RodW5rcyB8IFthbnldKSB7XG4gIGNvbnN0IGhhc0ZsYWcgPSAoYWN0aW9uOiBhbnkpOiBhY3Rpb24gaXMgYW55ID0+IHtcbiAgICByZXR1cm4gYWN0aW9uICYmIGFjdGlvbi5tZXRhICYmIGFjdGlvbi5tZXRhLnJlamVjdGVkV2l0aFZhbHVlO1xuICB9O1xuICBpZiAoYXN5bmNUaHVua3MubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIGlzQWxsT2YoaXNSZWplY3RlZCguLi5hc3luY1RodW5rcyksIGhhc0ZsYWcpO1xuICB9XG4gIGlmICghaXNBc3luY1RodW5rQXJyYXkoYXN5bmNUaHVua3MpKSB7XG4gICAgcmV0dXJuIGlzUmVqZWN0ZWRXaXRoVmFsdWUoKShhc3luY1RodW5rc1swXSk7XG4gIH1cbiAgcmV0dXJuIGlzQWxsT2YoaXNSZWplY3RlZCguLi5hc3luY1RodW5rcyksIGhhc0ZsYWcpO1xufVxuZXhwb3J0IHR5cGUgVW5rbm93bkFzeW5jVGh1bmtGdWxmaWxsZWRBY3Rpb24gPSBSZXR1cm5UeXBlPEFzeW5jVGh1bmtGdWxmaWxsZWRBY3Rpb25DcmVhdG9yPHVua25vd24sIHVua25vd24+PjtcbmV4cG9ydCB0eXBlIEZ1bGZpbGxlZEFjdGlvbkZyb21Bc3luY1RodW5rPFQgZXh0ZW5kcyBBbnlBc3luY1RodW5rPiA9IEFjdGlvbkZyb21NYXRjaGVyPFRbJ2Z1bGZpbGxlZCddPjtcblxuLyoqXG4gKiBBIGhpZ2hlci1vcmRlciBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSBmdW5jdGlvbiB0aGF0IG1heSBiZSB1c2VkIHRvIGNoZWNrXG4gKiB3aGV0aGVyIGFuIGFjdGlvbiB3YXMgY3JlYXRlZCBieSBhbiBhc3luYyB0aHVuayBhY3Rpb24gY3JlYXRvciwgYW5kIHRoYXRcbiAqIHRoZSBhY3Rpb24gaXMgZnVsZmlsbGVkLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzRnVsZmlsbGVkKCk6IChhY3Rpb246IGFueSkgPT4gYWN0aW9uIGlzIFVua25vd25Bc3luY1RodW5rRnVsZmlsbGVkQWN0aW9uO1xuLyoqXG4gKiBBIGhpZ2hlci1vcmRlciBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSBmdW5jdGlvbiB0aGF0IG1heSBiZSB1c2VkIHRvIGNoZWNrXG4gKiB3aGV0aGVyIGFuIGFjdGlvbiBiZWxvbmdzIHRvIG9uZSBvZiB0aGUgcHJvdmlkZWQgYXN5bmMgdGh1bmsgYWN0aW9uIGNyZWF0b3JzLFxuICogYW5kIHRoYXQgdGhlIGFjdGlvbiBpcyBmdWxmaWxsZWQuXG4gKlxuICogQHBhcmFtIGFzeW5jVGh1bmtzIChvcHRpb25hbCkgVGhlIGFzeW5jIHRodW5rIGFjdGlvbiBjcmVhdG9ycyB0byBtYXRjaCBhZ2FpbnN0LlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzRnVsZmlsbGVkPEFzeW5jVGh1bmtzIGV4dGVuZHMgW0FueUFzeW5jVGh1bmssIC4uLkFueUFzeW5jVGh1bmtbXV0+KC4uLmFzeW5jVGh1bmtzOiBBc3luY1RodW5rcyk6IChhY3Rpb246IGFueSkgPT4gYWN0aW9uIGlzIEZ1bGZpbGxlZEFjdGlvbkZyb21Bc3luY1RodW5rPEFzeW5jVGh1bmtzW251bWJlcl0+O1xuLyoqXG4gKiBUZXN0cyBpZiBgYWN0aW9uYCBpcyBhIGZ1bGZpbGxlZCB0aHVuayBhY3Rpb25cbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzRnVsZmlsbGVkKGFjdGlvbjogYW55KTogYWN0aW9uIGlzIFVua25vd25Bc3luY1RodW5rRnVsZmlsbGVkQWN0aW9uO1xuZXhwb3J0IGZ1bmN0aW9uIGlzRnVsZmlsbGVkPEFzeW5jVGh1bmtzIGV4dGVuZHMgW0FueUFzeW5jVGh1bmssIC4uLkFueUFzeW5jVGh1bmtbXV0+KC4uLmFzeW5jVGh1bmtzOiBBc3luY1RodW5rcyB8IFthbnldKSB7XG4gIGlmIChhc3luY1RodW5rcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gKGFjdGlvbjogYW55KSA9PiBoYXNFeHBlY3RlZFJlcXVlc3RNZXRhZGF0YShhY3Rpb24sIFsnZnVsZmlsbGVkJ10pO1xuICB9XG4gIGlmICghaXNBc3luY1RodW5rQXJyYXkoYXN5bmNUaHVua3MpKSB7XG4gICAgcmV0dXJuIGlzRnVsZmlsbGVkKCkoYXN5bmNUaHVua3NbMF0pO1xuICB9XG4gIHJldHVybiBpc0FueU9mKC4uLmFzeW5jVGh1bmtzLm1hcChhc3luY1RodW5rID0+IGFzeW5jVGh1bmsuZnVsZmlsbGVkKSk7XG59XG5leHBvcnQgdHlwZSBVbmtub3duQXN5bmNUaHVua0FjdGlvbiA9IFVua25vd25Bc3luY1RodW5rUGVuZGluZ0FjdGlvbiB8IFVua25vd25Bc3luY1RodW5rUmVqZWN0ZWRBY3Rpb24gfCBVbmtub3duQXN5bmNUaHVua0Z1bGZpbGxlZEFjdGlvbjtcbmV4cG9ydCB0eXBlIEFueUFzeW5jVGh1bmsgPSB7XG4gIHBlbmRpbmc6IHtcbiAgICBtYXRjaDogKGFjdGlvbjogYW55KSA9PiBhY3Rpb24gaXMgYW55O1xuICB9O1xuICBmdWxmaWxsZWQ6IHtcbiAgICBtYXRjaDogKGFjdGlvbjogYW55KSA9PiBhY3Rpb24gaXMgYW55O1xuICB9O1xuICByZWplY3RlZDoge1xuICAgIG1hdGNoOiAoYWN0aW9uOiBhbnkpID0+IGFjdGlvbiBpcyBhbnk7XG4gIH07XG59O1xuZXhwb3J0IHR5cGUgQWN0aW9uc0Zyb21Bc3luY1RodW5rPFQgZXh0ZW5kcyBBbnlBc3luY1RodW5rPiA9IEFjdGlvbkZyb21NYXRjaGVyPFRbJ3BlbmRpbmcnXT4gfCBBY3Rpb25Gcm9tTWF0Y2hlcjxUWydmdWxmaWxsZWQnXT4gfCBBY3Rpb25Gcm9tTWF0Y2hlcjxUWydyZWplY3RlZCddPjtcblxuLyoqXG4gKiBBIGhpZ2hlci1vcmRlciBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSBmdW5jdGlvbiB0aGF0IG1heSBiZSB1c2VkIHRvIGNoZWNrXG4gKiB3aGV0aGVyIGFuIGFjdGlvbiB3YXMgY3JlYXRlZCBieSBhbiBhc3luYyB0aHVuayBhY3Rpb24gY3JlYXRvci5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0FzeW5jVGh1bmtBY3Rpb24oKTogKGFjdGlvbjogYW55KSA9PiBhY3Rpb24gaXMgVW5rbm93bkFzeW5jVGh1bmtBY3Rpb247XG4vKipcbiAqIEEgaGlnaGVyLW9yZGVyIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgbWF5IGJlIHVzZWQgdG8gY2hlY2tcbiAqIHdoZXRoZXIgYW4gYWN0aW9uIGJlbG9uZ3MgdG8gb25lIG9mIHRoZSBwcm92aWRlZCBhc3luYyB0aHVuayBhY3Rpb24gY3JlYXRvcnMuXG4gKlxuICogQHBhcmFtIGFzeW5jVGh1bmtzIChvcHRpb25hbCkgVGhlIGFzeW5jIHRodW5rIGFjdGlvbiBjcmVhdG9ycyB0byBtYXRjaCBhZ2FpbnN0LlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzQXN5bmNUaHVua0FjdGlvbjxBc3luY1RodW5rcyBleHRlbmRzIFtBbnlBc3luY1RodW5rLCAuLi5BbnlBc3luY1RodW5rW11dPiguLi5hc3luY1RodW5rczogQXN5bmNUaHVua3MpOiAoYWN0aW9uOiBhbnkpID0+IGFjdGlvbiBpcyBBY3Rpb25zRnJvbUFzeW5jVGh1bms8QXN5bmNUaHVua3NbbnVtYmVyXT47XG4vKipcbiAqIFRlc3RzIGlmIGBhY3Rpb25gIGlzIGEgdGh1bmsgYWN0aW9uXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0FzeW5jVGh1bmtBY3Rpb24oYWN0aW9uOiBhbnkpOiBhY3Rpb24gaXMgVW5rbm93bkFzeW5jVGh1bmtBY3Rpb247XG5leHBvcnQgZnVuY3Rpb24gaXNBc3luY1RodW5rQWN0aW9uPEFzeW5jVGh1bmtzIGV4dGVuZHMgW0FueUFzeW5jVGh1bmssIC4uLkFueUFzeW5jVGh1bmtbXV0+KC4uLmFzeW5jVGh1bmtzOiBBc3luY1RodW5rcyB8IFthbnldKSB7XG4gIGlmIChhc3luY1RodW5rcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gKGFjdGlvbjogYW55KSA9PiBoYXNFeHBlY3RlZFJlcXVlc3RNZXRhZGF0YShhY3Rpb24sIFsncGVuZGluZycsICdmdWxmaWxsZWQnLCAncmVqZWN0ZWQnXSk7XG4gIH1cbiAgaWYgKCFpc0FzeW5jVGh1bmtBcnJheShhc3luY1RodW5rcykpIHtcbiAgICByZXR1cm4gaXNBc3luY1RodW5rQWN0aW9uKCkoYXN5bmNUaHVua3NbMF0pO1xuICB9XG4gIHJldHVybiBpc0FueU9mKC4uLmFzeW5jVGh1bmtzLmZsYXRNYXAoYXN5bmNUaHVuayA9PiBbYXN5bmNUaHVuay5wZW5kaW5nLCBhc3luY1RodW5rLnJlamVjdGVkLCBhc3luY1RodW5rLmZ1bGZpbGxlZF0pKTtcbn0iLCJpbXBvcnQgdHlwZSB7IERpc3BhdGNoLCBVbmtub3duQWN0aW9uIH0gZnJvbSAncmVkdXgnO1xuaW1wb3J0IHR5cGUgeyBQYXlsb2FkQWN0aW9uLCBBY3Rpb25DcmVhdG9yV2l0aFByZXBhcmVkUGF5bG9hZCB9IGZyb20gJy4vY3JlYXRlQWN0aW9uJztcbmltcG9ydCB7IGNyZWF0ZUFjdGlvbiB9IGZyb20gJy4vY3JlYXRlQWN0aW9uJztcbmltcG9ydCB0eXBlIHsgVGh1bmtEaXNwYXRjaCB9IGZyb20gJ3JlZHV4LXRodW5rJztcbmltcG9ydCB0eXBlIHsgQWN0aW9uRnJvbU1hdGNoZXIsIEZhbGxiYWNrSWZVbmtub3duLCBJZCwgSXNBbnksIElzVW5rbm93biwgU2FmZVByb21pc2UsIFR5cGVHdWFyZCB9IGZyb20gJy4vdHNIZWxwZXJzJztcbmltcG9ydCB7IG5hbm9pZCB9IGZyb20gJy4vbmFub2lkJztcbmltcG9ydCB7IGlzQW55T2YgfSBmcm9tICcuL21hdGNoZXJzJztcblxuLy8gQHRzLWlnbm9yZSB3ZSBuZWVkIHRoZSBpbXBvcnQgb2YgdGhlc2UgdHlwZXMgZHVlIHRvIGEgYnVuZGxpbmcgaXNzdWUuXG50eXBlIF9LZWVwID0gUGF5bG9hZEFjdGlvbiB8IEFjdGlvbkNyZWF0b3JXaXRoUHJlcGFyZWRQYXlsb2FkPGFueSwgdW5rbm93bj47XG5leHBvcnQgdHlwZSBCYXNlVGh1bmtBUEk8UywgRSwgRCBleHRlbmRzIERpc3BhdGNoID0gRGlzcGF0Y2gsIFJlamVjdGVkVmFsdWUgPSB1bmtub3duLCBSZWplY3RlZE1ldGEgPSB1bmtub3duLCBGdWxmaWxsZWRNZXRhID0gdW5rbm93bj4gPSB7XG4gIGRpc3BhdGNoOiBEO1xuICBnZXRTdGF0ZTogKCkgPT4gUztcbiAgZXh0cmE6IEU7XG4gIHJlcXVlc3RJZDogc3RyaW5nO1xuICBzaWduYWw6IEFib3J0U2lnbmFsO1xuICBhYm9ydDogKHJlYXNvbj86IHN0cmluZykgPT4gdm9pZDtcbiAgcmVqZWN0V2l0aFZhbHVlOiBJc1Vua25vd248UmVqZWN0ZWRNZXRhLCAodmFsdWU6IFJlamVjdGVkVmFsdWUpID0+IFJlamVjdFdpdGhWYWx1ZTxSZWplY3RlZFZhbHVlLCBSZWplY3RlZE1ldGE+LCAodmFsdWU6IFJlamVjdGVkVmFsdWUsIG1ldGE6IFJlamVjdGVkTWV0YSkgPT4gUmVqZWN0V2l0aFZhbHVlPFJlamVjdGVkVmFsdWUsIFJlamVjdGVkTWV0YT4+O1xuICBmdWxmaWxsV2l0aFZhbHVlOiBJc1Vua25vd248RnVsZmlsbGVkTWV0YSwgPEZ1bGZpbGxlZFZhbHVlPih2YWx1ZTogRnVsZmlsbGVkVmFsdWUpID0+IEZ1bGZpbGxlZFZhbHVlLCA8RnVsZmlsbGVkVmFsdWU+KHZhbHVlOiBGdWxmaWxsZWRWYWx1ZSwgbWV0YTogRnVsZmlsbGVkTWV0YSkgPT4gRnVsZmlsbFdpdGhNZXRhPEZ1bGZpbGxlZFZhbHVlLCBGdWxmaWxsZWRNZXRhPj47XG59O1xuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTZXJpYWxpemVkRXJyb3Ige1xuICBuYW1lPzogc3RyaW5nO1xuICBtZXNzYWdlPzogc3RyaW5nO1xuICBzdGFjaz86IHN0cmluZztcbiAgY29kZT86IHN0cmluZztcbn1cbmNvbnN0IGNvbW1vblByb3BlcnRpZXM6IEFycmF5PGtleW9mIFNlcmlhbGl6ZWRFcnJvcj4gPSBbJ25hbWUnLCAnbWVzc2FnZScsICdzdGFjaycsICdjb2RlJ107XG5jbGFzcyBSZWplY3RXaXRoVmFsdWU8UGF5bG9hZCwgUmVqZWN0ZWRNZXRhPiB7XG4gIC8qXG4gIHR5cGUtb25seSBwcm9wZXJ0eSB0byBkaXN0aW5ndWlzaCBiZXR3ZWVuIFJlamVjdFdpdGhWYWx1ZSBhbmQgRnVsZmlsbFdpdGhNZXRhXG4gIGRvZXMgbm90IGV4aXN0IGF0IHJ1bnRpbWVcbiAgKi9cbiAgcHJpdmF0ZSByZWFkb25seSBfdHlwZSE6ICdSZWplY3RXaXRoVmFsdWUnO1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgcGF5bG9hZDogUGF5bG9hZCwgcHVibGljIHJlYWRvbmx5IG1ldGE6IFJlamVjdGVkTWV0YSkge31cbn1cbmNsYXNzIEZ1bGZpbGxXaXRoTWV0YTxQYXlsb2FkLCBGdWxmaWxsZWRNZXRhPiB7XG4gIC8qXG4gIHR5cGUtb25seSBwcm9wZXJ0eSB0byBkaXN0aW5ndWlzaCBiZXR3ZWVuIFJlamVjdFdpdGhWYWx1ZSBhbmQgRnVsZmlsbFdpdGhNZXRhXG4gIGRvZXMgbm90IGV4aXN0IGF0IHJ1bnRpbWVcbiAgKi9cbiAgcHJpdmF0ZSByZWFkb25seSBfdHlwZSE6ICdGdWxmaWxsV2l0aE1ldGEnO1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgcGF5bG9hZDogUGF5bG9hZCwgcHVibGljIHJlYWRvbmx5IG1ldGE6IEZ1bGZpbGxlZE1ldGEpIHt9XG59XG5cbi8qKlxuICogU2VyaWFsaXplcyBhbiBlcnJvciBpbnRvIGEgcGxhaW4gb2JqZWN0LlxuICogUmV3b3JrZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vc2luZHJlc29yaHVzL3NlcmlhbGl6ZS1lcnJvclxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IG1pbmlTZXJpYWxpemVFcnJvciA9ICh2YWx1ZTogYW55KTogU2VyaWFsaXplZEVycm9yID0+IHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgIT09IG51bGwpIHtcbiAgICBjb25zdCBzaW1wbGVFcnJvcjogU2VyaWFsaXplZEVycm9yID0ge307XG4gICAgZm9yIChjb25zdCBwcm9wZXJ0eSBvZiBjb21tb25Qcm9wZXJ0aWVzKSB7XG4gICAgICBpZiAodHlwZW9mIHZhbHVlW3Byb3BlcnR5XSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgc2ltcGxlRXJyb3JbcHJvcGVydHldID0gdmFsdWVbcHJvcGVydHldO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc2ltcGxlRXJyb3I7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBtZXNzYWdlOiBTdHJpbmcodmFsdWUpXG4gIH07XG59O1xuZXhwb3J0IHR5cGUgQXN5bmNUaHVua0NvbmZpZyA9IHtcbiAgc3RhdGU/OiB1bmtub3duO1xuICBkaXNwYXRjaD86IFRodW5rRGlzcGF0Y2g8dW5rbm93biwgdW5rbm93biwgVW5rbm93bkFjdGlvbj47XG4gIGV4dHJhPzogdW5rbm93bjtcbiAgcmVqZWN0VmFsdWU/OiB1bmtub3duO1xuICBzZXJpYWxpemVkRXJyb3JUeXBlPzogdW5rbm93bjtcbiAgcGVuZGluZ01ldGE/OiB1bmtub3duO1xuICBmdWxmaWxsZWRNZXRhPzogdW5rbm93bjtcbiAgcmVqZWN0ZWRNZXRhPzogdW5rbm93bjtcbn07XG50eXBlIEdldFN0YXRlPFRodW5rQXBpQ29uZmlnPiA9IFRodW5rQXBpQ29uZmlnIGV4dGVuZHMge1xuICBzdGF0ZTogaW5mZXIgU3RhdGU7XG59ID8gU3RhdGUgOiB1bmtub3duO1xudHlwZSBHZXRFeHRyYTxUaHVua0FwaUNvbmZpZz4gPSBUaHVua0FwaUNvbmZpZyBleHRlbmRzIHtcbiAgZXh0cmE6IGluZmVyIEV4dHJhO1xufSA/IEV4dHJhIDogdW5rbm93bjtcbnR5cGUgR2V0RGlzcGF0Y2g8VGh1bmtBcGlDb25maWc+ID0gVGh1bmtBcGlDb25maWcgZXh0ZW5kcyB7XG4gIGRpc3BhdGNoOiBpbmZlciBEaXNwYXRjaDtcbn0gPyBGYWxsYmFja0lmVW5rbm93bjxEaXNwYXRjaCwgVGh1bmtEaXNwYXRjaDxHZXRTdGF0ZTxUaHVua0FwaUNvbmZpZz4sIEdldEV4dHJhPFRodW5rQXBpQ29uZmlnPiwgVW5rbm93bkFjdGlvbj4+IDogVGh1bmtEaXNwYXRjaDxHZXRTdGF0ZTxUaHVua0FwaUNvbmZpZz4sIEdldEV4dHJhPFRodW5rQXBpQ29uZmlnPiwgVW5rbm93bkFjdGlvbj47XG5leHBvcnQgdHlwZSBHZXRUaHVua0FQSTxUaHVua0FwaUNvbmZpZz4gPSBCYXNlVGh1bmtBUEk8R2V0U3RhdGU8VGh1bmtBcGlDb25maWc+LCBHZXRFeHRyYTxUaHVua0FwaUNvbmZpZz4sIEdldERpc3BhdGNoPFRodW5rQXBpQ29uZmlnPiwgR2V0UmVqZWN0VmFsdWU8VGh1bmtBcGlDb25maWc+LCBHZXRSZWplY3RlZE1ldGE8VGh1bmtBcGlDb25maWc+LCBHZXRGdWxmaWxsZWRNZXRhPFRodW5rQXBpQ29uZmlnPj47XG50eXBlIEdldFJlamVjdFZhbHVlPFRodW5rQXBpQ29uZmlnPiA9IFRodW5rQXBpQ29uZmlnIGV4dGVuZHMge1xuICByZWplY3RWYWx1ZTogaW5mZXIgUmVqZWN0VmFsdWU7XG59ID8gUmVqZWN0VmFsdWUgOiB1bmtub3duO1xudHlwZSBHZXRQZW5kaW5nTWV0YTxUaHVua0FwaUNvbmZpZz4gPSBUaHVua0FwaUNvbmZpZyBleHRlbmRzIHtcbiAgcGVuZGluZ01ldGE6IGluZmVyIFBlbmRpbmdNZXRhO1xufSA/IFBlbmRpbmdNZXRhIDogdW5rbm93bjtcbnR5cGUgR2V0RnVsZmlsbGVkTWV0YTxUaHVua0FwaUNvbmZpZz4gPSBUaHVua0FwaUNvbmZpZyBleHRlbmRzIHtcbiAgZnVsZmlsbGVkTWV0YTogaW5mZXIgRnVsZmlsbGVkTWV0YTtcbn0gPyBGdWxmaWxsZWRNZXRhIDogdW5rbm93bjtcbnR5cGUgR2V0UmVqZWN0ZWRNZXRhPFRodW5rQXBpQ29uZmlnPiA9IFRodW5rQXBpQ29uZmlnIGV4dGVuZHMge1xuICByZWplY3RlZE1ldGE6IGluZmVyIFJlamVjdGVkTWV0YTtcbn0gPyBSZWplY3RlZE1ldGEgOiB1bmtub3duO1xudHlwZSBHZXRTZXJpYWxpemVkRXJyb3JUeXBlPFRodW5rQXBpQ29uZmlnPiA9IFRodW5rQXBpQ29uZmlnIGV4dGVuZHMge1xuICBzZXJpYWxpemVkRXJyb3JUeXBlOiBpbmZlciBHZXRTZXJpYWxpemVkRXJyb3JUeXBlO1xufSA/IEdldFNlcmlhbGl6ZWRFcnJvclR5cGUgOiBTZXJpYWxpemVkRXJyb3I7XG50eXBlIE1heWJlUHJvbWlzZTxUPiA9IFQgfCBQcm9taXNlPFQ+IHwgKFQgZXh0ZW5kcyBhbnkgPyBQcm9taXNlPFQ+IDogbmV2ZXIpO1xuXG4vKipcbiAqIEEgdHlwZSBkZXNjcmliaW5nIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIGBwYXlsb2FkQ3JlYXRvcmAgYXJndW1lbnQgdG8gYGNyZWF0ZUFzeW5jVGh1bmtgLlxuICogTWlnaHQgYmUgdXNlZnVsIGZvciB3cmFwcGluZyBgY3JlYXRlQXN5bmNUaHVua2AgaW4gY3VzdG9tIGFic3RyYWN0aW9ucy5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB0eXBlIEFzeW5jVGh1bmtQYXlsb2FkQ3JlYXRvclJldHVyblZhbHVlPFJldHVybmVkLCBUaHVua0FwaUNvbmZpZyBleHRlbmRzIEFzeW5jVGh1bmtDb25maWc+ID0gTWF5YmVQcm9taXNlPElzVW5rbm93bjxHZXRGdWxmaWxsZWRNZXRhPFRodW5rQXBpQ29uZmlnPiwgUmV0dXJuZWQsIEZ1bGZpbGxXaXRoTWV0YTxSZXR1cm5lZCwgR2V0RnVsZmlsbGVkTWV0YTxUaHVua0FwaUNvbmZpZz4+PiB8IFJlamVjdFdpdGhWYWx1ZTxHZXRSZWplY3RWYWx1ZTxUaHVua0FwaUNvbmZpZz4sIEdldFJlamVjdGVkTWV0YTxUaHVua0FwaUNvbmZpZz4+Pjtcbi8qKlxuICogQSB0eXBlIGRlc2NyaWJpbmcgdGhlIGBwYXlsb2FkQ3JlYXRvcmAgYXJndW1lbnQgdG8gYGNyZWF0ZUFzeW5jVGh1bmtgLlxuICogTWlnaHQgYmUgdXNlZnVsIGZvciB3cmFwcGluZyBgY3JlYXRlQXN5bmNUaHVua2AgaW4gY3VzdG9tIGFic3RyYWN0aW9ucy5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB0eXBlIEFzeW5jVGh1bmtQYXlsb2FkQ3JlYXRvcjxSZXR1cm5lZCwgVGh1bmtBcmcgPSB2b2lkLCBUaHVua0FwaUNvbmZpZyBleHRlbmRzIEFzeW5jVGh1bmtDb25maWcgPSB7fT4gPSAoYXJnOiBUaHVua0FyZywgdGh1bmtBUEk6IEdldFRodW5rQVBJPFRodW5rQXBpQ29uZmlnPikgPT4gQXN5bmNUaHVua1BheWxvYWRDcmVhdG9yUmV0dXJuVmFsdWU8UmV0dXJuZWQsIFRodW5rQXBpQ29uZmlnPjtcblxuLyoqXG4gKiBBIFRodW5rQWN0aW9uIGNyZWF0ZWQgYnkgYGNyZWF0ZUFzeW5jVGh1bmtgLlxuICogRGlzcGF0Y2hpbmcgaXQgcmV0dXJucyBhIFByb21pc2UgZm9yIGVpdGhlciBhXG4gKiBmdWxmaWxsZWQgb3IgcmVqZWN0ZWQgYWN0aW9uLlxuICogQWxzbywgdGhlIHJldHVybmVkIHZhbHVlIGNvbnRhaW5zIGFuIGBhYm9ydCgpYCBtZXRob2RcbiAqIHRoYXQgYWxsb3dzIHRoZSBhc3luY0FjdGlvbiB0byBiZSBjYW5jZWxsZWQgZnJvbSB0aGUgb3V0c2lkZS5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB0eXBlIEFzeW5jVGh1bmtBY3Rpb248UmV0dXJuZWQsIFRodW5rQXJnLCBUaHVua0FwaUNvbmZpZyBleHRlbmRzIEFzeW5jVGh1bmtDb25maWc+ID0gKGRpc3BhdGNoOiBOb25OdWxsYWJsZTxHZXREaXNwYXRjaDxUaHVua0FwaUNvbmZpZz4+LCBnZXRTdGF0ZTogKCkgPT4gR2V0U3RhdGU8VGh1bmtBcGlDb25maWc+LCBleHRyYTogR2V0RXh0cmE8VGh1bmtBcGlDb25maWc+KSA9PiBTYWZlUHJvbWlzZTxSZXR1cm5UeXBlPEFzeW5jVGh1bmtGdWxmaWxsZWRBY3Rpb25DcmVhdG9yPFJldHVybmVkLCBUaHVua0FyZz4+IHwgUmV0dXJuVHlwZTxBc3luY1RodW5rUmVqZWN0ZWRBY3Rpb25DcmVhdG9yPFRodW5rQXJnLCBUaHVua0FwaUNvbmZpZz4+PiAmIHtcbiAgYWJvcnQ6IChyZWFzb24/OiBzdHJpbmcpID0+IHZvaWQ7XG4gIHJlcXVlc3RJZDogc3RyaW5nO1xuICBhcmc6IFRodW5rQXJnO1xuICB1bndyYXA6ICgpID0+IFByb21pc2U8UmV0dXJuZWQ+O1xufTtcbnR5cGUgQXN5bmNUaHVua0FjdGlvbkNyZWF0b3I8UmV0dXJuZWQsIFRodW5rQXJnLCBUaHVua0FwaUNvbmZpZyBleHRlbmRzIEFzeW5jVGh1bmtDb25maWc+ID0gSXNBbnk8VGh1bmtBcmcsXG4vLyBhbnkgaGFuZGxpbmdcbihhcmc6IFRodW5rQXJnKSA9PiBBc3luY1RodW5rQWN0aW9uPFJldHVybmVkLCBUaHVua0FyZywgVGh1bmtBcGlDb25maWc+LFxuLy8gdW5rbm93biBoYW5kbGluZ1xudW5rbm93biBleHRlbmRzIFRodW5rQXJnID8gKGFyZzogVGh1bmtBcmcpID0+IEFzeW5jVGh1bmtBY3Rpb248UmV0dXJuZWQsIFRodW5rQXJnLCBUaHVua0FwaUNvbmZpZz4gLyogYXJndW1lbnQgbm90IHNwZWNpZmllZCBvciBzcGVjaWZpZWQgYXMgdm9pZCBvciB1bmRlZmluZWQqLyA6IFtUaHVua0FyZ10gZXh0ZW5kcyBbdm9pZF0gfCBbdW5kZWZpbmVkXSA/ICgpID0+IEFzeW5jVGh1bmtBY3Rpb248UmV0dXJuZWQsIFRodW5rQXJnLCBUaHVua0FwaUNvbmZpZz4gLyogYXJndW1lbnQgY29udGFpbnMgdm9pZCovIDogW3ZvaWRdIGV4dGVuZHMgW1RodW5rQXJnXSAvLyBtYWtlIG9wdGlvbmFsXG4/IChhcmc/OiBUaHVua0FyZykgPT4gQXN5bmNUaHVua0FjdGlvbjxSZXR1cm5lZCwgVGh1bmtBcmcsIFRodW5rQXBpQ29uZmlnPiAvKiBhcmd1bWVudCBjb250YWlucyB1bmRlZmluZWQqLyA6IFt1bmRlZmluZWRdIGV4dGVuZHMgW1RodW5rQXJnXSA/IFdpdGhTdHJpY3ROdWxsQ2hlY2tzPFxuLy8gd2l0aCBzdHJpY3QgbnVsbENoZWNrczogbWFrZSBvcHRpb25hbFxuKGFyZz86IFRodW5rQXJnKSA9PiBBc3luY1RodW5rQWN0aW9uPFJldHVybmVkLCBUaHVua0FyZywgVGh1bmtBcGlDb25maWc+LFxuLy8gd2l0aG91dCBzdHJpY3QgbnVsbCBjaGVja3MgdGhpcyB3aWxsIG1hdGNoIGV2ZXJ5dGhpbmcsIHNvIGRvbid0IG1ha2UgaXQgb3B0aW9uYWxcbihhcmc6IFRodW5rQXJnKSA9PiBBc3luY1RodW5rQWN0aW9uPFJldHVybmVkLCBUaHVua0FyZywgVGh1bmtBcGlDb25maWc+PiAvKiBkZWZhdWx0IGNhc2U6IG5vcm1hbCBhcmd1bWVudCovIDogKGFyZzogVGh1bmtBcmcpID0+IEFzeW5jVGh1bmtBY3Rpb248UmV0dXJuZWQsIFRodW5rQXJnLCBUaHVua0FwaUNvbmZpZz4+O1xuXG4vKipcbiAqIE9wdGlvbnMgb2JqZWN0IGZvciBgY3JlYXRlQXN5bmNUaHVua2AuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdHlwZSBBc3luY1RodW5rT3B0aW9uczxUaHVua0FyZyA9IHZvaWQsIFRodW5rQXBpQ29uZmlnIGV4dGVuZHMgQXN5bmNUaHVua0NvbmZpZyA9IHt9PiA9IHtcbiAgLyoqXG4gICAqIEEgbWV0aG9kIHRvIGNvbnRyb2wgd2hldGhlciB0aGUgYXN5bmNUaHVuayBzaG91bGQgYmUgZXhlY3V0ZWQuIEhhcyBhY2Nlc3MgdG8gdGhlXG4gICAqIGBhcmdgLCBgYXBpLmdldFN0YXRlKClgIGFuZCBgYXBpLmV4dHJhYCBhcmd1bWVudHMuXG4gICAqXG4gICAqIEByZXR1cm5zIGBmYWxzZWAgaWYgaXQgc2hvdWxkIGJlIHNraXBwZWRcbiAgICovXG4gIGNvbmRpdGlvbj8oYXJnOiBUaHVua0FyZywgYXBpOiBQaWNrPEdldFRodW5rQVBJPFRodW5rQXBpQ29uZmlnPiwgJ2dldFN0YXRlJyB8ICdleHRyYSc+KTogTWF5YmVQcm9taXNlPGJvb2xlYW4gfCB1bmRlZmluZWQ+O1xuICAvKipcbiAgICogSWYgYGNvbmRpdGlvbmAgcmV0dXJucyBgZmFsc2VgLCB0aGUgYXN5bmNUaHVuayB3aWxsIGJlIHNraXBwZWQuXG4gICAqIFRoaXMgb3B0aW9uIGFsbG93cyB5b3UgdG8gY29udHJvbCB3aGV0aGVyIGEgYHJlamVjdGVkYCBhY3Rpb24gd2l0aCBgbWV0YS5jb25kaXRpb24gPT0gZmFsc2VgXG4gICAqIHdpbGwgYmUgZGlzcGF0Y2hlZCBvciBub3QuXG4gICAqXG4gICAqIEBkZWZhdWx0IGBmYWxzZWBcbiAgICovXG4gIGRpc3BhdGNoQ29uZGl0aW9uUmVqZWN0aW9uPzogYm9vbGVhbjtcbiAgc2VyaWFsaXplRXJyb3I/OiAoeDogdW5rbm93bikgPT4gR2V0U2VyaWFsaXplZEVycm9yVHlwZTxUaHVua0FwaUNvbmZpZz47XG5cbiAgLyoqXG4gICAqIEEgZnVuY3Rpb24gdG8gdXNlIHdoZW4gZ2VuZXJhdGluZyB0aGUgYHJlcXVlc3RJZGAgZm9yIHRoZSByZXF1ZXN0IHNlcXVlbmNlLlxuICAgKlxuICAgKiBAZGVmYXVsdCBgbmFub2lkYFxuICAgKi9cbiAgaWRHZW5lcmF0b3I/OiAoYXJnOiBUaHVua0FyZykgPT4gc3RyaW5nO1xufSAmIElzVW5rbm93bjxHZXRQZW5kaW5nTWV0YTxUaHVua0FwaUNvbmZpZz4sIHtcbiAgLyoqXG4gICAqIEEgbWV0aG9kIHRvIGdlbmVyYXRlIGFkZGl0aW9uYWwgcHJvcGVydGllcyB0byBiZSBhZGRlZCB0byBgbWV0YWAgb2YgdGhlIHBlbmRpbmcgYWN0aW9uLlxuICAgKlxuICAgKiBVc2luZyB0aGlzIG9wdGlvbmFsIG92ZXJsb2FkIHdpbGwgbm90IG1vZGlmeSB0aGUgdHlwZXMgY29ycmVjdGx5LCB0aGlzIG92ZXJsb2FkIGlzIG9ubHkgaW4gcGxhY2UgdG8gc3VwcG9ydCBKYXZhU2NyaXB0IHVzZXJzLlxuICAgKiBQbGVhc2UgdXNlIHRoZSBgVGh1bmtBcGlDb25maWdgIHBhcmFtZXRlciBgcGVuZGluZ01ldGFgIHRvIGdldCBhY2Nlc3MgdG8gYSBjb3JyZWN0bHkgdHlwZWQgb3ZlcmxvYWRcbiAgICovXG4gIGdldFBlbmRpbmdNZXRhPyhiYXNlOiB7XG4gICAgYXJnOiBUaHVua0FyZztcbiAgICByZXF1ZXN0SWQ6IHN0cmluZztcbiAgfSwgYXBpOiBQaWNrPEdldFRodW5rQVBJPFRodW5rQXBpQ29uZmlnPiwgJ2dldFN0YXRlJyB8ICdleHRyYSc+KTogR2V0UGVuZGluZ01ldGE8VGh1bmtBcGlDb25maWc+O1xufSwge1xuICAvKipcbiAgICogQSBtZXRob2QgdG8gZ2VuZXJhdGUgYWRkaXRpb25hbCBwcm9wZXJ0aWVzIHRvIGJlIGFkZGVkIHRvIGBtZXRhYCBvZiB0aGUgcGVuZGluZyBhY3Rpb24uXG4gICAqL1xuICBnZXRQZW5kaW5nTWV0YShiYXNlOiB7XG4gICAgYXJnOiBUaHVua0FyZztcbiAgICByZXF1ZXN0SWQ6IHN0cmluZztcbiAgfSwgYXBpOiBQaWNrPEdldFRodW5rQVBJPFRodW5rQXBpQ29uZmlnPiwgJ2dldFN0YXRlJyB8ICdleHRyYSc+KTogR2V0UGVuZGluZ01ldGE8VGh1bmtBcGlDb25maWc+O1xufT47XG5leHBvcnQgdHlwZSBBc3luY1RodW5rUGVuZGluZ0FjdGlvbkNyZWF0b3I8VGh1bmtBcmcsIFRodW5rQXBpQ29uZmlnID0ge30+ID0gQWN0aW9uQ3JlYXRvcldpdGhQcmVwYXJlZFBheWxvYWQ8W3N0cmluZywgVGh1bmtBcmcsIEdldFBlbmRpbmdNZXRhPFRodW5rQXBpQ29uZmlnPj9dLCB1bmRlZmluZWQsIHN0cmluZywgbmV2ZXIsIHtcbiAgYXJnOiBUaHVua0FyZztcbiAgcmVxdWVzdElkOiBzdHJpbmc7XG4gIHJlcXVlc3RTdGF0dXM6ICdwZW5kaW5nJztcbn0gJiBHZXRQZW5kaW5nTWV0YTxUaHVua0FwaUNvbmZpZz4+O1xuZXhwb3J0IHR5cGUgQXN5bmNUaHVua1JlamVjdGVkQWN0aW9uQ3JlYXRvcjxUaHVua0FyZywgVGh1bmtBcGlDb25maWcgPSB7fT4gPSBBY3Rpb25DcmVhdG9yV2l0aFByZXBhcmVkUGF5bG9hZDxbRXJyb3IgfCBudWxsLCBzdHJpbmcsIFRodW5rQXJnLCBHZXRSZWplY3RWYWx1ZTxUaHVua0FwaUNvbmZpZz4/LCBHZXRSZWplY3RlZE1ldGE8VGh1bmtBcGlDb25maWc+P10sIEdldFJlamVjdFZhbHVlPFRodW5rQXBpQ29uZmlnPiB8IHVuZGVmaW5lZCwgc3RyaW5nLCBHZXRTZXJpYWxpemVkRXJyb3JUeXBlPFRodW5rQXBpQ29uZmlnPiwge1xuICBhcmc6IFRodW5rQXJnO1xuICByZXF1ZXN0SWQ6IHN0cmluZztcbiAgcmVxdWVzdFN0YXR1czogJ3JlamVjdGVkJztcbiAgYWJvcnRlZDogYm9vbGVhbjtcbiAgY29uZGl0aW9uOiBib29sZWFuO1xufSAmICgoe1xuICByZWplY3RlZFdpdGhWYWx1ZTogZmFsc2U7XG59ICYgeyBbSyBpbiBrZXlvZiBHZXRSZWplY3RlZE1ldGE8VGh1bmtBcGlDb25maWc+XT86IHVuZGVmaW5lZCB9KSB8ICh7XG4gIHJlamVjdGVkV2l0aFZhbHVlOiB0cnVlO1xufSAmIEdldFJlamVjdGVkTWV0YTxUaHVua0FwaUNvbmZpZz4pKT47XG5leHBvcnQgdHlwZSBBc3luY1RodW5rRnVsZmlsbGVkQWN0aW9uQ3JlYXRvcjxSZXR1cm5lZCwgVGh1bmtBcmcsIFRodW5rQXBpQ29uZmlnID0ge30+ID0gQWN0aW9uQ3JlYXRvcldpdGhQcmVwYXJlZFBheWxvYWQ8W1JldHVybmVkLCBzdHJpbmcsIFRodW5rQXJnLCBHZXRGdWxmaWxsZWRNZXRhPFRodW5rQXBpQ29uZmlnPj9dLCBSZXR1cm5lZCwgc3RyaW5nLCBuZXZlciwge1xuICBhcmc6IFRodW5rQXJnO1xuICByZXF1ZXN0SWQ6IHN0cmluZztcbiAgcmVxdWVzdFN0YXR1czogJ2Z1bGZpbGxlZCc7XG59ICYgR2V0RnVsZmlsbGVkTWV0YTxUaHVua0FwaUNvbmZpZz4+O1xuXG4vKipcbiAqIEEgdHlwZSBkZXNjcmliaW5nIHRoZSByZXR1cm4gdmFsdWUgb2YgYGNyZWF0ZUFzeW5jVGh1bmtgLlxuICogTWlnaHQgYmUgdXNlZnVsIGZvciB3cmFwcGluZyBgY3JlYXRlQXN5bmNUaHVua2AgaW4gY3VzdG9tIGFic3RyYWN0aW9ucy5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB0eXBlIEFzeW5jVGh1bms8UmV0dXJuZWQsIFRodW5rQXJnLCBUaHVua0FwaUNvbmZpZyBleHRlbmRzIEFzeW5jVGh1bmtDb25maWc+ID0gQXN5bmNUaHVua0FjdGlvbkNyZWF0b3I8UmV0dXJuZWQsIFRodW5rQXJnLCBUaHVua0FwaUNvbmZpZz4gJiB7XG4gIHBlbmRpbmc6IEFzeW5jVGh1bmtQZW5kaW5nQWN0aW9uQ3JlYXRvcjxUaHVua0FyZywgVGh1bmtBcGlDb25maWc+O1xuICByZWplY3RlZDogQXN5bmNUaHVua1JlamVjdGVkQWN0aW9uQ3JlYXRvcjxUaHVua0FyZywgVGh1bmtBcGlDb25maWc+O1xuICBmdWxmaWxsZWQ6IEFzeW5jVGh1bmtGdWxmaWxsZWRBY3Rpb25DcmVhdG9yPFJldHVybmVkLCBUaHVua0FyZywgVGh1bmtBcGlDb25maWc+O1xuICAvLyBtYXRjaFNldHRsZWQ/XG4gIHNldHRsZWQ6IChhY3Rpb246IGFueSkgPT4gYWN0aW9uIGlzIFJldHVyblR5cGU8QXN5bmNUaHVua1JlamVjdGVkQWN0aW9uQ3JlYXRvcjxUaHVua0FyZywgVGh1bmtBcGlDb25maWc+IHwgQXN5bmNUaHVua0Z1bGZpbGxlZEFjdGlvbkNyZWF0b3I8UmV0dXJuZWQsIFRodW5rQXJnLCBUaHVua0FwaUNvbmZpZz4+O1xuICB0eXBlUHJlZml4OiBzdHJpbmc7XG59O1xuZXhwb3J0IHR5cGUgT3ZlcnJpZGVUaHVua0FwaUNvbmZpZ3M8T2xkQ29uZmlnLCBOZXdDb25maWc+ID0gSWQ8TmV3Q29uZmlnICYgT21pdDxPbGRDb25maWcsIGtleW9mIE5ld0NvbmZpZz4+O1xudHlwZSBDcmVhdGVBc3luY1RodW5rPEN1cnJpZWRUaHVua0FwaUNvbmZpZyBleHRlbmRzIEFzeW5jVGh1bmtDb25maWc+ID0ge1xuICAvKipcbiAgICpcbiAgICogQHBhcmFtIHR5cGVQcmVmaXhcbiAgICogQHBhcmFtIHBheWxvYWRDcmVhdG9yXG4gICAqIEBwYXJhbSBvcHRpb25zXG4gICAqXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIC8vIHNlcGFyYXRlIHNpZ25hdHVyZSB3aXRob3V0IGBBc3luY1RodW5rQ29uZmlnYCBmb3IgYmV0dGVyIGluZmVyZW5jZVxuICA8UmV0dXJuZWQsIFRodW5rQXJnID0gdm9pZD4odHlwZVByZWZpeDogc3RyaW5nLCBwYXlsb2FkQ3JlYXRvcjogQXN5bmNUaHVua1BheWxvYWRDcmVhdG9yPFJldHVybmVkLCBUaHVua0FyZywgQ3VycmllZFRodW5rQXBpQ29uZmlnPiwgb3B0aW9ucz86IEFzeW5jVGh1bmtPcHRpb25zPFRodW5rQXJnLCBDdXJyaWVkVGh1bmtBcGlDb25maWc+KTogQXN5bmNUaHVuazxSZXR1cm5lZCwgVGh1bmtBcmcsIEN1cnJpZWRUaHVua0FwaUNvbmZpZz47XG5cbiAgLyoqXG4gICAqXG4gICAqIEBwYXJhbSB0eXBlUHJlZml4XG4gICAqIEBwYXJhbSBwYXlsb2FkQ3JlYXRvclxuICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgKlxuICAgKiBAcHVibGljXG4gICAqL1xuICA8UmV0dXJuZWQsIFRodW5rQXJnLCBUaHVua0FwaUNvbmZpZyBleHRlbmRzIEFzeW5jVGh1bmtDb25maWc+KHR5cGVQcmVmaXg6IHN0cmluZywgcGF5bG9hZENyZWF0b3I6IEFzeW5jVGh1bmtQYXlsb2FkQ3JlYXRvcjxSZXR1cm5lZCwgVGh1bmtBcmcsIE92ZXJyaWRlVGh1bmtBcGlDb25maWdzPEN1cnJpZWRUaHVua0FwaUNvbmZpZywgVGh1bmtBcGlDb25maWc+Piwgb3B0aW9ucz86IEFzeW5jVGh1bmtPcHRpb25zPFRodW5rQXJnLCBPdmVycmlkZVRodW5rQXBpQ29uZmlnczxDdXJyaWVkVGh1bmtBcGlDb25maWcsIFRodW5rQXBpQ29uZmlnPj4pOiBBc3luY1RodW5rPFJldHVybmVkLCBUaHVua0FyZywgT3ZlcnJpZGVUaHVua0FwaUNvbmZpZ3M8Q3VycmllZFRodW5rQXBpQ29uZmlnLCBUaHVua0FwaUNvbmZpZz4+O1xuICB3aXRoVHlwZXM8VGh1bmtBcGlDb25maWcgZXh0ZW5kcyBBc3luY1RodW5rQ29uZmlnPigpOiBDcmVhdGVBc3luY1RodW5rPE92ZXJyaWRlVGh1bmtBcGlDb25maWdzPEN1cnJpZWRUaHVua0FwaUNvbmZpZywgVGh1bmtBcGlDb25maWc+Pjtcbn07XG5leHBvcnQgY29uc3QgY3JlYXRlQXN5bmNUaHVuayA9IC8qIEBfX1BVUkVfXyAqLygoKSA9PiB7XG4gIGZ1bmN0aW9uIGNyZWF0ZUFzeW5jVGh1bms8UmV0dXJuZWQsIFRodW5rQXJnLCBUaHVua0FwaUNvbmZpZyBleHRlbmRzIEFzeW5jVGh1bmtDb25maWc+KHR5cGVQcmVmaXg6IHN0cmluZywgcGF5bG9hZENyZWF0b3I6IEFzeW5jVGh1bmtQYXlsb2FkQ3JlYXRvcjxSZXR1cm5lZCwgVGh1bmtBcmcsIFRodW5rQXBpQ29uZmlnPiwgb3B0aW9ucz86IEFzeW5jVGh1bmtPcHRpb25zPFRodW5rQXJnLCBUaHVua0FwaUNvbmZpZz4pOiBBc3luY1RodW5rPFJldHVybmVkLCBUaHVua0FyZywgVGh1bmtBcGlDb25maWc+IHtcbiAgICB0eXBlIFJlamVjdGVkVmFsdWUgPSBHZXRSZWplY3RWYWx1ZTxUaHVua0FwaUNvbmZpZz47XG4gICAgdHlwZSBQZW5kaW5nTWV0YSA9IEdldFBlbmRpbmdNZXRhPFRodW5rQXBpQ29uZmlnPjtcbiAgICB0eXBlIEZ1bGZpbGxlZE1ldGEgPSBHZXRGdWxmaWxsZWRNZXRhPFRodW5rQXBpQ29uZmlnPjtcbiAgICB0eXBlIFJlamVjdGVkTWV0YSA9IEdldFJlamVjdGVkTWV0YTxUaHVua0FwaUNvbmZpZz47XG4gICAgY29uc3QgZnVsZmlsbGVkOiBBc3luY1RodW5rRnVsZmlsbGVkQWN0aW9uQ3JlYXRvcjxSZXR1cm5lZCwgVGh1bmtBcmcsIFRodW5rQXBpQ29uZmlnPiA9IGNyZWF0ZUFjdGlvbih0eXBlUHJlZml4ICsgJy9mdWxmaWxsZWQnLCAocGF5bG9hZDogUmV0dXJuZWQsIHJlcXVlc3RJZDogc3RyaW5nLCBhcmc6IFRodW5rQXJnLCBtZXRhPzogRnVsZmlsbGVkTWV0YSkgPT4gKHtcbiAgICAgIHBheWxvYWQsXG4gICAgICBtZXRhOiB7XG4gICAgICAgIC4uLigobWV0YSBhcyBhbnkpIHx8IHt9KSxcbiAgICAgICAgYXJnLFxuICAgICAgICByZXF1ZXN0SWQsXG4gICAgICAgIHJlcXVlc3RTdGF0dXM6ICgnZnVsZmlsbGVkJyBhcyBjb25zdClcbiAgICAgIH1cbiAgICB9KSk7XG4gICAgY29uc3QgcGVuZGluZzogQXN5bmNUaHVua1BlbmRpbmdBY3Rpb25DcmVhdG9yPFRodW5rQXJnLCBUaHVua0FwaUNvbmZpZz4gPSBjcmVhdGVBY3Rpb24odHlwZVByZWZpeCArICcvcGVuZGluZycsIChyZXF1ZXN0SWQ6IHN0cmluZywgYXJnOiBUaHVua0FyZywgbWV0YT86IFBlbmRpbmdNZXRhKSA9PiAoe1xuICAgICAgcGF5bG9hZDogdW5kZWZpbmVkLFxuICAgICAgbWV0YToge1xuICAgICAgICAuLi4oKG1ldGEgYXMgYW55KSB8fCB7fSksXG4gICAgICAgIGFyZyxcbiAgICAgICAgcmVxdWVzdElkLFxuICAgICAgICByZXF1ZXN0U3RhdHVzOiAoJ3BlbmRpbmcnIGFzIGNvbnN0KVxuICAgICAgfVxuICAgIH0pKTtcbiAgICBjb25zdCByZWplY3RlZDogQXN5bmNUaHVua1JlamVjdGVkQWN0aW9uQ3JlYXRvcjxUaHVua0FyZywgVGh1bmtBcGlDb25maWc+ID0gY3JlYXRlQWN0aW9uKHR5cGVQcmVmaXggKyAnL3JlamVjdGVkJywgKGVycm9yOiBFcnJvciB8IG51bGwsIHJlcXVlc3RJZDogc3RyaW5nLCBhcmc6IFRodW5rQXJnLCBwYXlsb2FkPzogUmVqZWN0ZWRWYWx1ZSwgbWV0YT86IFJlamVjdGVkTWV0YSkgPT4gKHtcbiAgICAgIHBheWxvYWQsXG4gICAgICBlcnJvcjogKChvcHRpb25zICYmIG9wdGlvbnMuc2VyaWFsaXplRXJyb3IgfHwgbWluaVNlcmlhbGl6ZUVycm9yKShlcnJvciB8fCAnUmVqZWN0ZWQnKSBhcyBHZXRTZXJpYWxpemVkRXJyb3JUeXBlPFRodW5rQXBpQ29uZmlnPiksXG4gICAgICBtZXRhOiB7XG4gICAgICAgIC4uLigobWV0YSBhcyBhbnkpIHx8IHt9KSxcbiAgICAgICAgYXJnLFxuICAgICAgICByZXF1ZXN0SWQsXG4gICAgICAgIHJlamVjdGVkV2l0aFZhbHVlOiAhIXBheWxvYWQsXG4gICAgICAgIHJlcXVlc3RTdGF0dXM6ICgncmVqZWN0ZWQnIGFzIGNvbnN0KSxcbiAgICAgICAgYWJvcnRlZDogZXJyb3I/Lm5hbWUgPT09ICdBYm9ydEVycm9yJyxcbiAgICAgICAgY29uZGl0aW9uOiBlcnJvcj8ubmFtZSA9PT0gJ0NvbmRpdGlvbkVycm9yJ1xuICAgICAgfVxuICAgIH0pKTtcbiAgICBmdW5jdGlvbiBhY3Rpb25DcmVhdG9yKGFyZzogVGh1bmtBcmcpOiBBc3luY1RodW5rQWN0aW9uPFJldHVybmVkLCBUaHVua0FyZywgUmVxdWlyZWQ8VGh1bmtBcGlDb25maWc+PiB7XG4gICAgICByZXR1cm4gKGRpc3BhdGNoLCBnZXRTdGF0ZSwgZXh0cmEpID0+IHtcbiAgICAgICAgY29uc3QgcmVxdWVzdElkID0gb3B0aW9ucz8uaWRHZW5lcmF0b3IgPyBvcHRpb25zLmlkR2VuZXJhdG9yKGFyZykgOiBuYW5vaWQoKTtcbiAgICAgICAgY29uc3QgYWJvcnRDb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgICAgICBsZXQgYWJvcnRIYW5kbGVyOiAoKCkgPT4gdm9pZCkgfCB1bmRlZmluZWQ7XG4gICAgICAgIGxldCBhYm9ydFJlYXNvbjogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAgICAgICBmdW5jdGlvbiBhYm9ydChyZWFzb24/OiBzdHJpbmcpIHtcbiAgICAgICAgICBhYm9ydFJlYXNvbiA9IHJlYXNvbjtcbiAgICAgICAgICBhYm9ydENvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwcm9taXNlID0gYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGxldCBmaW5hbEFjdGlvbjogUmV0dXJuVHlwZTx0eXBlb2YgZnVsZmlsbGVkIHwgdHlwZW9mIHJlamVjdGVkPjtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgbGV0IGNvbmRpdGlvblJlc3VsdCA9IG9wdGlvbnM/LmNvbmRpdGlvbj8uKGFyZywge1xuICAgICAgICAgICAgICBnZXRTdGF0ZSxcbiAgICAgICAgICAgICAgZXh0cmFcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKGlzVGhlbmFibGUoY29uZGl0aW9uUmVzdWx0KSkge1xuICAgICAgICAgICAgICBjb25kaXRpb25SZXN1bHQgPSBhd2FpdCBjb25kaXRpb25SZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY29uZGl0aW9uUmVzdWx0ID09PSBmYWxzZSB8fCBhYm9ydENvbnRyb2xsZXIuc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXRocm93LWxpdGVyYWxcbiAgICAgICAgICAgICAgdGhyb3cge1xuICAgICAgICAgICAgICAgIG5hbWU6ICdDb25kaXRpb25FcnJvcicsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJ0Fib3J0ZWQgZHVlIHRvIGNvbmRpdGlvbiBjYWxsYmFjayByZXR1cm5pbmcgZmFsc2UuJ1xuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgYWJvcnRlZFByb21pc2UgPSBuZXcgUHJvbWlzZTxuZXZlcj4oKF8sIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICBhYm9ydEhhbmRsZXIgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KHtcbiAgICAgICAgICAgICAgICAgIG5hbWU6ICdBYm9ydEVycm9yJyxcbiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGFib3J0UmVhc29uIHx8ICdBYm9ydGVkJ1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICBhYm9ydENvbnRyb2xsZXIuc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgYWJvcnRIYW5kbGVyKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZGlzcGF0Y2goKHBlbmRpbmcocmVxdWVzdElkLCBhcmcsIG9wdGlvbnM/LmdldFBlbmRpbmdNZXRhPy4oe1xuICAgICAgICAgICAgICByZXF1ZXN0SWQsXG4gICAgICAgICAgICAgIGFyZ1xuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICBnZXRTdGF0ZSxcbiAgICAgICAgICAgICAgZXh0cmFcbiAgICAgICAgICAgIH0pKSBhcyBhbnkpKTtcbiAgICAgICAgICAgIGZpbmFsQWN0aW9uID0gYXdhaXQgUHJvbWlzZS5yYWNlKFthYm9ydGVkUHJvbWlzZSwgUHJvbWlzZS5yZXNvbHZlKHBheWxvYWRDcmVhdG9yKGFyZywge1xuICAgICAgICAgICAgICBkaXNwYXRjaCxcbiAgICAgICAgICAgICAgZ2V0U3RhdGUsXG4gICAgICAgICAgICAgIGV4dHJhLFxuICAgICAgICAgICAgICByZXF1ZXN0SWQsXG4gICAgICAgICAgICAgIHNpZ25hbDogYWJvcnRDb250cm9sbGVyLnNpZ25hbCxcbiAgICAgICAgICAgICAgYWJvcnQsXG4gICAgICAgICAgICAgIHJlamVjdFdpdGhWYWx1ZTogKCgodmFsdWU6IFJlamVjdGVkVmFsdWUsIG1ldGE/OiBSZWplY3RlZE1ldGEpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJlamVjdFdpdGhWYWx1ZSh2YWx1ZSwgbWV0YSk7XG4gICAgICAgICAgICAgIH0pIGFzIGFueSksXG4gICAgICAgICAgICAgIGZ1bGZpbGxXaXRoVmFsdWU6ICgoKHZhbHVlOiB1bmtub3duLCBtZXRhPzogRnVsZmlsbGVkTWV0YSkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgRnVsZmlsbFdpdGhNZXRhKHZhbHVlLCBtZXRhKTtcbiAgICAgICAgICAgICAgfSkgYXMgYW55KVxuICAgICAgICAgICAgfSkpLnRoZW4ocmVzdWx0ID0+IHtcbiAgICAgICAgICAgICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIFJlamVjdFdpdGhWYWx1ZSkge1xuICAgICAgICAgICAgICAgIHRocm93IHJlc3VsdDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgRnVsZmlsbFdpdGhNZXRhKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bGZpbGxlZChyZXN1bHQucGF5bG9hZCwgcmVxdWVzdElkLCBhcmcsIHJlc3VsdC5tZXRhKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gZnVsZmlsbGVkKChyZXN1bHQgYXMgYW55KSwgcmVxdWVzdElkLCBhcmcpO1xuICAgICAgICAgICAgfSldKTtcbiAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGZpbmFsQWN0aW9uID0gZXJyIGluc3RhbmNlb2YgUmVqZWN0V2l0aFZhbHVlID8gcmVqZWN0ZWQobnVsbCwgcmVxdWVzdElkLCBhcmcsIGVyci5wYXlsb2FkLCBlcnIubWV0YSkgOiByZWplY3RlZCgoZXJyIGFzIGFueSksIHJlcXVlc3RJZCwgYXJnKTtcbiAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgaWYgKGFib3J0SGFuZGxlcikge1xuICAgICAgICAgICAgICBhYm9ydENvbnRyb2xsZXIuc2lnbmFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgYWJvcnRIYW5kbGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gV2UgZGlzcGF0Y2ggdGhlIHJlc3VsdCBhY3Rpb24gX2FmdGVyXyB0aGUgY2F0Y2gsIHRvIGF2b2lkIGhhdmluZyBhbnkgZXJyb3JzXG4gICAgICAgICAgLy8gaGVyZSBnZXQgc3dhbGxvd2VkIGJ5IHRoZSB0cnkvY2F0Y2ggYmxvY2ssXG4gICAgICAgICAgLy8gcGVyIGh0dHBzOi8vdHdpdHRlci5jb20vZGFuX2FicmFtb3Yvc3RhdHVzLzc3MDkxNDIyMTYzODk0MjcyMFxuICAgICAgICAgIC8vIGFuZCBodHRwczovL2dpdGh1Yi5jb20vcmVkdXhqcy9yZWR1eC10b29sa2l0L2Jsb2IvZTg1ZWIxN2IzOWEyMTE4ZDg1OWY3Yjc3NDZlMGYzZmVlNTIzZTA4OS9kb2NzL3R1dG9yaWFscy9hZHZhbmNlZC10dXRvcmlhbC5tZCNhc3luYy1lcnJvci1oYW5kbGluZy1sb2dpYy1pbi10aHVua3NcblxuICAgICAgICAgIGNvbnN0IHNraXBEaXNwYXRjaCA9IG9wdGlvbnMgJiYgIW9wdGlvbnMuZGlzcGF0Y2hDb25kaXRpb25SZWplY3Rpb24gJiYgcmVqZWN0ZWQubWF0Y2goZmluYWxBY3Rpb24pICYmIChmaW5hbEFjdGlvbiBhcyBhbnkpLm1ldGEuY29uZGl0aW9uO1xuICAgICAgICAgIGlmICghc2tpcERpc3BhdGNoKSB7XG4gICAgICAgICAgICBkaXNwYXRjaCgoZmluYWxBY3Rpb24gYXMgYW55KSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBmaW5hbEFjdGlvbjtcbiAgICAgICAgfSgpO1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbigocHJvbWlzZSBhcyBTYWZlUHJvbWlzZTxhbnk+KSwge1xuICAgICAgICAgIGFib3J0LFxuICAgICAgICAgIHJlcXVlc3RJZCxcbiAgICAgICAgICBhcmcsXG4gICAgICAgICAgdW53cmFwKCkge1xuICAgICAgICAgICAgcmV0dXJuIHByb21pc2UudGhlbjxhbnk+KHVud3JhcFJlc3VsdCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBPYmplY3QuYXNzaWduKChhY3Rpb25DcmVhdG9yIGFzIEFzeW5jVGh1bmtBY3Rpb25DcmVhdG9yPFJldHVybmVkLCBUaHVua0FyZywgVGh1bmtBcGlDb25maWc+KSwge1xuICAgICAgcGVuZGluZyxcbiAgICAgIHJlamVjdGVkLFxuICAgICAgZnVsZmlsbGVkLFxuICAgICAgc2V0dGxlZDogaXNBbnlPZihyZWplY3RlZCwgZnVsZmlsbGVkKSxcbiAgICAgIHR5cGVQcmVmaXhcbiAgICB9KTtcbiAgfVxuICBjcmVhdGVBc3luY1RodW5rLndpdGhUeXBlcyA9ICgpID0+IGNyZWF0ZUFzeW5jVGh1bms7XG4gIHJldHVybiAoY3JlYXRlQXN5bmNUaHVuayBhcyBDcmVhdGVBc3luY1RodW5rPEFzeW5jVGh1bmtDb25maWc+KTtcbn0pKCk7XG5pbnRlcmZhY2UgVW53cmFwcGFibGVBY3Rpb24ge1xuICBwYXlsb2FkOiBhbnk7XG4gIG1ldGE/OiBhbnk7XG4gIGVycm9yPzogYW55O1xufVxudHlwZSBVbndyYXBwZWRBY3Rpb25QYXlsb2FkPFQgZXh0ZW5kcyBVbndyYXBwYWJsZUFjdGlvbj4gPSBFeGNsdWRlPFQsIHtcbiAgZXJyb3I6IGFueTtcbn0+WydwYXlsb2FkJ107XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gdW53cmFwUmVzdWx0PFIgZXh0ZW5kcyBVbndyYXBwYWJsZUFjdGlvbj4oYWN0aW9uOiBSKTogVW53cmFwcGVkQWN0aW9uUGF5bG9hZDxSPiB7XG4gIGlmIChhY3Rpb24ubWV0YSAmJiBhY3Rpb24ubWV0YS5yZWplY3RlZFdpdGhWYWx1ZSkge1xuICAgIHRocm93IGFjdGlvbi5wYXlsb2FkO1xuICB9XG4gIGlmIChhY3Rpb24uZXJyb3IpIHtcbiAgICB0aHJvdyBhY3Rpb24uZXJyb3I7XG4gIH1cbiAgcmV0dXJuIGFjdGlvbi5wYXlsb2FkO1xufVxudHlwZSBXaXRoU3RyaWN0TnVsbENoZWNrczxUcnVlLCBGYWxzZT4gPSB1bmRlZmluZWQgZXh0ZW5kcyBib29sZWFuID8gRmFsc2UgOiBUcnVlO1xuZnVuY3Rpb24gaXNUaGVuYWJsZSh2YWx1ZTogYW55KTogdmFsdWUgaXMgUHJvbWlzZUxpa2U8YW55PiB7XG4gIHJldHVybiB2YWx1ZSAhPT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHR5cGVvZiB2YWx1ZS50aGVuID09PSAnZnVuY3Rpb24nO1xufSIsImltcG9ydCB7IGZvcm1hdFByb2RFcnJvck1lc3NhZ2UgYXMgX2Zvcm1hdFByb2RFcnJvck1lc3NhZ2U4IH0gZnJvbSBcIkByZWR1eGpzL3Rvb2xraXRcIjtcbmltcG9ydCB7IGZvcm1hdFByb2RFcnJvck1lc3NhZ2UgYXMgX2Zvcm1hdFByb2RFcnJvck1lc3NhZ2U3IH0gZnJvbSBcIkByZWR1eGpzL3Rvb2xraXRcIjtcbmltcG9ydCB7IGZvcm1hdFByb2RFcnJvck1lc3NhZ2UgYXMgX2Zvcm1hdFByb2RFcnJvck1lc3NhZ2U2IH0gZnJvbSBcIkByZWR1eGpzL3Rvb2xraXRcIjtcbmltcG9ydCB7IGZvcm1hdFByb2RFcnJvck1lc3NhZ2UgYXMgX2Zvcm1hdFByb2RFcnJvck1lc3NhZ2U1IH0gZnJvbSBcIkByZWR1eGpzL3Rvb2xraXRcIjtcbmltcG9ydCB7IGZvcm1hdFByb2RFcnJvck1lc3NhZ2UgYXMgX2Zvcm1hdFByb2RFcnJvck1lc3NhZ2U0IH0gZnJvbSBcIkByZWR1eGpzL3Rvb2xraXRcIjtcbmltcG9ydCB7IGZvcm1hdFByb2RFcnJvck1lc3NhZ2UgYXMgX2Zvcm1hdFByb2RFcnJvck1lc3NhZ2UzIH0gZnJvbSBcIkByZWR1eGpzL3Rvb2xraXRcIjtcbmltcG9ydCB7IGZvcm1hdFByb2RFcnJvck1lc3NhZ2UgYXMgX2Zvcm1hdFByb2RFcnJvck1lc3NhZ2UyIH0gZnJvbSBcIkByZWR1eGpzL3Rvb2xraXRcIjtcbmltcG9ydCB7IGZvcm1hdFByb2RFcnJvck1lc3NhZ2UgYXMgX2Zvcm1hdFByb2RFcnJvck1lc3NhZ2UgfSBmcm9tIFwiQHJlZHV4anMvdG9vbGtpdFwiO1xuaW1wb3J0IHR5cGUgeyBBY3Rpb24sIFVua25vd25BY3Rpb24sIFJlZHVjZXIgfSBmcm9tICdyZWR1eCc7XG5pbXBvcnQgdHlwZSB7IFNlbGVjdG9yIH0gZnJvbSAncmVzZWxlY3QnO1xuaW1wb3J0IHR5cGUgeyBBY3Rpb25DcmVhdG9yV2l0aG91dFBheWxvYWQsIFBheWxvYWRBY3Rpb24sIFBheWxvYWRBY3Rpb25DcmVhdG9yLCBQcmVwYXJlQWN0aW9uLCBfQWN0aW9uQ3JlYXRvcldpdGhQcmVwYXJlZFBheWxvYWQgfSBmcm9tICcuL2NyZWF0ZUFjdGlvbic7XG5pbXBvcnQgeyBjcmVhdGVBY3Rpb24gfSBmcm9tICcuL2NyZWF0ZUFjdGlvbic7XG5pbXBvcnQgdHlwZSB7IEFjdGlvbk1hdGNoZXJEZXNjcmlwdGlvbkNvbGxlY3Rpb24sIENhc2VSZWR1Y2VyLCBSZWR1Y2VyV2l0aEluaXRpYWxTdGF0ZSB9IGZyb20gJy4vY3JlYXRlUmVkdWNlcic7XG5pbXBvcnQgeyBjcmVhdGVSZWR1Y2VyIH0gZnJvbSAnLi9jcmVhdGVSZWR1Y2VyJztcbmltcG9ydCB0eXBlIHsgQWN0aW9uUmVkdWNlck1hcEJ1aWxkZXIsIFR5cGVkQWN0aW9uQ3JlYXRvciB9IGZyb20gJy4vbWFwQnVpbGRlcnMnO1xuaW1wb3J0IHsgZXhlY3V0ZVJlZHVjZXJCdWlsZGVyQ2FsbGJhY2sgfSBmcm9tICcuL21hcEJ1aWxkZXJzJztcbmltcG9ydCB0eXBlIHsgSWQsIFRhaWwsIFR5cGVHdWFyZCB9IGZyb20gJy4vdHNIZWxwZXJzJztcbmltcG9ydCB0eXBlIHsgSW5qZWN0Q29uZmlnIH0gZnJvbSAnLi9jb21iaW5lU2xpY2VzJztcbmltcG9ydCB0eXBlIHsgQXN5bmNUaHVuaywgQXN5bmNUaHVua0NvbmZpZywgQXN5bmNUaHVua09wdGlvbnMsIEFzeW5jVGh1bmtQYXlsb2FkQ3JlYXRvciwgT3ZlcnJpZGVUaHVua0FwaUNvbmZpZ3MgfSBmcm9tICcuL2NyZWF0ZUFzeW5jVGh1bmsnO1xuaW1wb3J0IHsgY3JlYXRlQXN5bmNUaHVuayBhcyBfY3JlYXRlQXN5bmNUaHVuayB9IGZyb20gJy4vY3JlYXRlQXN5bmNUaHVuayc7XG5pbXBvcnQgeyBlbXBsYWNlIH0gZnJvbSAnLi91dGlscyc7XG5jb25zdCBhc3luY1RodW5rU3ltYm9sID0gLyogQF9fUFVSRV9fICovU3ltYm9sLmZvcigncnRrLXNsaWNlLWNyZWF0ZWFzeW5jdGh1bmsnKTtcbi8vIHR5cGUgaXMgYW5ub3RhdGVkIGJlY2F1c2UgaXQncyB0b28gbG9uZyB0byBpbmZlclxuZXhwb3J0IGNvbnN0IGFzeW5jVGh1bmtDcmVhdG9yOiB7XG4gIFthc3luY1RodW5rU3ltYm9sXTogdHlwZW9mIF9jcmVhdGVBc3luY1RodW5rO1xufSA9IHtcbiAgW2FzeW5jVGh1bmtTeW1ib2xdOiBfY3JlYXRlQXN5bmNUaHVua1xufTtcbmludGVyZmFjZSBJbmplY3RJbnRvQ29uZmlnPE5ld1JlZHVjZXJQYXRoIGV4dGVuZHMgc3RyaW5nPiBleHRlbmRzIEluamVjdENvbmZpZyB7XG4gIHJlZHVjZXJQYXRoPzogTmV3UmVkdWNlclBhdGg7XG59XG5cbi8qKlxuICogVGhlIHJldHVybiB2YWx1ZSBvZiBgY3JlYXRlU2xpY2VgXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgaW50ZXJmYWNlIFNsaWNlPFN0YXRlID0gYW55LCBDYXNlUmVkdWNlcnMgZXh0ZW5kcyBTbGljZUNhc2VSZWR1Y2VyczxTdGF0ZT4gPSBTbGljZUNhc2VSZWR1Y2VyczxTdGF0ZT4sIE5hbWUgZXh0ZW5kcyBzdHJpbmcgPSBzdHJpbmcsIFJlZHVjZXJQYXRoIGV4dGVuZHMgc3RyaW5nID0gTmFtZSwgU2VsZWN0b3JzIGV4dGVuZHMgU2xpY2VTZWxlY3RvcnM8U3RhdGU+ID0gU2xpY2VTZWxlY3RvcnM8U3RhdGU+PiB7XG4gIC8qKlxuICAgKiBUaGUgc2xpY2UgbmFtZS5cbiAgICovXG4gIG5hbWU6IE5hbWU7XG5cbiAgLyoqXG4gICAqICBUaGUgc2xpY2UgcmVkdWNlciBwYXRoLlxuICAgKi9cbiAgcmVkdWNlclBhdGg6IFJlZHVjZXJQYXRoO1xuXG4gIC8qKlxuICAgKiBUaGUgc2xpY2UncyByZWR1Y2VyLlxuICAgKi9cbiAgcmVkdWNlcjogUmVkdWNlcjxTdGF0ZT47XG5cbiAgLyoqXG4gICAqIEFjdGlvbiBjcmVhdG9ycyBmb3IgdGhlIHR5cGVzIG9mIGFjdGlvbnMgdGhhdCBhcmUgaGFuZGxlZCBieSB0aGUgc2xpY2VcbiAgICogcmVkdWNlci5cbiAgICovXG4gIGFjdGlvbnM6IENhc2VSZWR1Y2VyQWN0aW9uczxDYXNlUmVkdWNlcnMsIE5hbWU+O1xuXG4gIC8qKlxuICAgKiBUaGUgaW5kaXZpZHVhbCBjYXNlIHJlZHVjZXIgZnVuY3Rpb25zIHRoYXQgd2VyZSBwYXNzZWQgaW4gdGhlIGByZWR1Y2Vyc2AgcGFyYW1ldGVyLlxuICAgKiBUaGlzIGVuYWJsZXMgcmV1c2UgYW5kIHRlc3RpbmcgaWYgdGhleSB3ZXJlIGRlZmluZWQgaW5saW5lIHdoZW4gY2FsbGluZyBgY3JlYXRlU2xpY2VgLlxuICAgKi9cbiAgY2FzZVJlZHVjZXJzOiBTbGljZURlZmluZWRDYXNlUmVkdWNlcnM8Q2FzZVJlZHVjZXJzPjtcblxuICAvKipcbiAgICogUHJvdmlkZXMgYWNjZXNzIHRvIHRoZSBpbml0aWFsIHN0YXRlIHZhbHVlIGdpdmVuIHRvIHRoZSBzbGljZS5cbiAgICogSWYgYSBsYXp5IHN0YXRlIGluaXRpYWxpemVyIHdhcyBwcm92aWRlZCwgaXQgd2lsbCBiZSBjYWxsZWQgYW5kIGEgZnJlc2ggdmFsdWUgcmV0dXJuZWQuXG4gICAqL1xuICBnZXRJbml0aWFsU3RhdGU6ICgpID0+IFN0YXRlO1xuXG4gIC8qKlxuICAgKiBHZXQgbG9jYWxpc2VkIHNsaWNlIHNlbGVjdG9ycyAoZXhwZWN0cyB0byBiZSBjYWxsZWQgd2l0aCAqanVzdCogdGhlIHNsaWNlJ3Mgc3RhdGUgYXMgdGhlIGZpcnN0IHBhcmFtZXRlcilcbiAgICovXG4gIGdldFNlbGVjdG9ycygpOiBJZDxTbGljZURlZmluZWRTZWxlY3RvcnM8U3RhdGUsIFNlbGVjdG9ycywgU3RhdGU+PjtcblxuICAvKipcbiAgICogR2V0IGdsb2JhbGlzZWQgc2xpY2Ugc2VsZWN0b3JzIChgc2VsZWN0U3RhdGVgIGNhbGxiYWNrIGlzIGV4cGVjdGVkIHRvIHJlY2VpdmUgZmlyc3QgcGFyYW1ldGVyIGFuZCByZXR1cm4gc2xpY2Ugc3RhdGUpXG4gICAqL1xuICBnZXRTZWxlY3RvcnM8Um9vdFN0YXRlPihzZWxlY3RTdGF0ZTogKHJvb3RTdGF0ZTogUm9vdFN0YXRlKSA9PiBTdGF0ZSk6IElkPFNsaWNlRGVmaW5lZFNlbGVjdG9yczxTdGF0ZSwgU2VsZWN0b3JzLCBSb290U3RhdGU+PjtcblxuICAvKipcbiAgICogU2VsZWN0b3JzIHRoYXQgYXNzdW1lIHRoZSBzbGljZSdzIHN0YXRlIGlzIGByb290U3RhdGVbc2xpY2UucmVkdWNlclBhdGhdYCAod2hpY2ggaXMgdXN1YWxseSB0aGUgY2FzZSlcbiAgICpcbiAgICogRXF1aXZhbGVudCB0byBgc2xpY2UuZ2V0U2VsZWN0b3JzKChzdGF0ZTogUm9vdFN0YXRlKSA9PiBzdGF0ZVtzbGljZS5yZWR1Y2VyUGF0aF0pYC5cbiAgICovXG4gIGdldCBzZWxlY3RvcnMoKTogSWQ8U2xpY2VEZWZpbmVkU2VsZWN0b3JzPFN0YXRlLCBTZWxlY3RvcnMsIHsgW0sgaW4gUmVkdWNlclBhdGhdOiBTdGF0ZSB9Pj47XG5cbiAgLyoqXG4gICAqIEluamVjdCBzbGljZSBpbnRvIHByb3ZpZGVkIHJlZHVjZXIgKHJldHVybiB2YWx1ZSBmcm9tIGBjb21iaW5lU2xpY2VzYCksIGFuZCByZXR1cm4gaW5qZWN0ZWQgc2xpY2UuXG4gICAqL1xuICBpbmplY3RJbnRvPE5ld1JlZHVjZXJQYXRoIGV4dGVuZHMgc3RyaW5nID0gUmVkdWNlclBhdGg+KHRoaXM6IHRoaXMsIGluamVjdGFibGU6IHtcbiAgICBpbmplY3Q6IChzbGljZToge1xuICAgICAgcmVkdWNlclBhdGg6IHN0cmluZztcbiAgICAgIHJlZHVjZXI6IFJlZHVjZXI7XG4gICAgfSwgY29uZmlnPzogSW5qZWN0Q29uZmlnKSA9PiB2b2lkO1xuICB9LCBjb25maWc/OiBJbmplY3RJbnRvQ29uZmlnPE5ld1JlZHVjZXJQYXRoPik6IEluamVjdGVkU2xpY2U8U3RhdGUsIENhc2VSZWR1Y2VycywgTmFtZSwgTmV3UmVkdWNlclBhdGgsIFNlbGVjdG9ycz47XG5cbiAgLyoqXG4gICAqIFNlbGVjdCB0aGUgc2xpY2Ugc3RhdGUsIHVzaW5nIHRoZSBzbGljZSdzIGN1cnJlbnQgcmVkdWNlclBhdGguXG4gICAqXG4gICAqIFdpbGwgdGhyb3cgYW4gZXJyb3IgaWYgc2xpY2UgaXMgbm90IGZvdW5kLlxuICAgKi9cbiAgc2VsZWN0U2xpY2Uoc3RhdGU6IHsgW0sgaW4gUmVkdWNlclBhdGhdOiBTdGF0ZSB9KTogU3RhdGU7XG59XG5cbi8qKlxuICogQSBzbGljZSBhZnRlciBiZWluZyBjYWxsZWQgd2l0aCBgaW5qZWN0SW50byhyZWR1Y2VyKWAuXG4gKlxuICogU2VsZWN0b3JzIGNhbiBub3cgYmUgY2FsbGVkIHdpdGggYW4gYHVuZGVmaW5lZGAgdmFsdWUsIGluIHdoaWNoIGNhc2UgdGhleSB1c2UgdGhlIHNsaWNlJ3MgaW5pdGlhbCBzdGF0ZS5cbiAqL1xuaW50ZXJmYWNlIEluamVjdGVkU2xpY2U8U3RhdGUgPSBhbnksIENhc2VSZWR1Y2VycyBleHRlbmRzIFNsaWNlQ2FzZVJlZHVjZXJzPFN0YXRlPiA9IFNsaWNlQ2FzZVJlZHVjZXJzPFN0YXRlPiwgTmFtZSBleHRlbmRzIHN0cmluZyA9IHN0cmluZywgUmVkdWNlclBhdGggZXh0ZW5kcyBzdHJpbmcgPSBOYW1lLCBTZWxlY3RvcnMgZXh0ZW5kcyBTbGljZVNlbGVjdG9yczxTdGF0ZT4gPSBTbGljZVNlbGVjdG9yczxTdGF0ZT4+IGV4dGVuZHMgT21pdDxTbGljZTxTdGF0ZSwgQ2FzZVJlZHVjZXJzLCBOYW1lLCBSZWR1Y2VyUGF0aCwgU2VsZWN0b3JzPiwgJ2dldFNlbGVjdG9ycycgfCAnc2VsZWN0b3JzJz4ge1xuICAvKipcbiAgICogR2V0IGxvY2FsaXNlZCBzbGljZSBzZWxlY3RvcnMgKGV4cGVjdHMgdG8gYmUgY2FsbGVkIHdpdGggKmp1c3QqIHRoZSBzbGljZSdzIHN0YXRlIGFzIHRoZSBmaXJzdCBwYXJhbWV0ZXIpXG4gICAqL1xuICBnZXRTZWxlY3RvcnMoKTogSWQ8U2xpY2VEZWZpbmVkU2VsZWN0b3JzPFN0YXRlLCBTZWxlY3RvcnMsIFN0YXRlIHwgdW5kZWZpbmVkPj47XG5cbiAgLyoqXG4gICAqIEdldCBnbG9iYWxpc2VkIHNsaWNlIHNlbGVjdG9ycyAoYHNlbGVjdFN0YXRlYCBjYWxsYmFjayBpcyBleHBlY3RlZCB0byByZWNlaXZlIGZpcnN0IHBhcmFtZXRlciBhbmQgcmV0dXJuIHNsaWNlIHN0YXRlKVxuICAgKi9cbiAgZ2V0U2VsZWN0b3JzPFJvb3RTdGF0ZT4oc2VsZWN0U3RhdGU6IChyb290U3RhdGU6IFJvb3RTdGF0ZSkgPT4gU3RhdGUgfCB1bmRlZmluZWQpOiBJZDxTbGljZURlZmluZWRTZWxlY3RvcnM8U3RhdGUsIFNlbGVjdG9ycywgUm9vdFN0YXRlPj47XG5cbiAgLyoqXG4gICAqIFNlbGVjdG9ycyB0aGF0IGFzc3VtZSB0aGUgc2xpY2UncyBzdGF0ZSBpcyBgcm9vdFN0YXRlW3NsaWNlLm5hbWVdYCAod2hpY2ggaXMgdXN1YWxseSB0aGUgY2FzZSlcbiAgICpcbiAgICogRXF1aXZhbGVudCB0byBgc2xpY2UuZ2V0U2VsZWN0b3JzKChzdGF0ZTogUm9vdFN0YXRlKSA9PiBzdGF0ZVtzbGljZS5uYW1lXSlgLlxuICAgKi9cbiAgZ2V0IHNlbGVjdG9ycygpOiBJZDxTbGljZURlZmluZWRTZWxlY3RvcnM8U3RhdGUsIFNlbGVjdG9ycywgeyBbSyBpbiBSZWR1Y2VyUGF0aF0/OiBTdGF0ZSB8IHVuZGVmaW5lZCB9Pj47XG5cbiAgLyoqXG4gICAqIFNlbGVjdCB0aGUgc2xpY2Ugc3RhdGUsIHVzaW5nIHRoZSBzbGljZSdzIGN1cnJlbnQgcmVkdWNlclBhdGguXG4gICAqXG4gICAqIFJldHVybnMgaW5pdGlhbCBzdGF0ZSBpZiBzbGljZSBpcyBub3QgZm91bmQuXG4gICAqL1xuICBzZWxlY3RTbGljZShzdGF0ZTogeyBbSyBpbiBSZWR1Y2VyUGF0aF0/OiBTdGF0ZSB8IHVuZGVmaW5lZCB9KTogU3RhdGU7XG59XG5cbi8qKlxuICogT3B0aW9ucyBmb3IgYGNyZWF0ZVNsaWNlKClgLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDcmVhdGVTbGljZU9wdGlvbnM8U3RhdGUgPSBhbnksIENSIGV4dGVuZHMgU2xpY2VDYXNlUmVkdWNlcnM8U3RhdGU+ID0gU2xpY2VDYXNlUmVkdWNlcnM8U3RhdGU+LCBOYW1lIGV4dGVuZHMgc3RyaW5nID0gc3RyaW5nLCBSZWR1Y2VyUGF0aCBleHRlbmRzIHN0cmluZyA9IE5hbWUsIFNlbGVjdG9ycyBleHRlbmRzIFNsaWNlU2VsZWN0b3JzPFN0YXRlPiA9IFNsaWNlU2VsZWN0b3JzPFN0YXRlPj4ge1xuICAvKipcbiAgICogVGhlIHNsaWNlJ3MgbmFtZS4gVXNlZCB0byBuYW1lc3BhY2UgdGhlIGdlbmVyYXRlZCBhY3Rpb24gdHlwZXMuXG4gICAqL1xuICBuYW1lOiBOYW1lO1xuXG4gIC8qKlxuICAgKiBUaGUgc2xpY2UncyByZWR1Y2VyIHBhdGguIFVzZWQgd2hlbiBpbmplY3RpbmcgaW50byBhIGNvbWJpbmVkIHNsaWNlIHJlZHVjZXIuXG4gICAqL1xuICByZWR1Y2VyUGF0aD86IFJlZHVjZXJQYXRoO1xuXG4gIC8qKlxuICAgKiBUaGUgaW5pdGlhbCBzdGF0ZSB0aGF0IHNob3VsZCBiZSB1c2VkIHdoZW4gdGhlIHJlZHVjZXIgaXMgY2FsbGVkIHRoZSBmaXJzdCB0aW1lLiBUaGlzIG1heSBhbHNvIGJlIGEgXCJsYXp5IGluaXRpYWxpemVyXCIgZnVuY3Rpb24sIHdoaWNoIHNob3VsZCByZXR1cm4gYW4gaW5pdGlhbCBzdGF0ZSB2YWx1ZSB3aGVuIGNhbGxlZC4gVGhpcyB3aWxsIGJlIHVzZWQgd2hlbmV2ZXIgdGhlIHJlZHVjZXIgaXMgY2FsbGVkIHdpdGggYHVuZGVmaW5lZGAgYXMgaXRzIHN0YXRlIHZhbHVlLCBhbmQgaXMgcHJpbWFyaWx5IHVzZWZ1bCBmb3IgY2FzZXMgbGlrZSByZWFkaW5nIGluaXRpYWwgc3RhdGUgZnJvbSBgbG9jYWxTdG9yYWdlYC5cbiAgICovXG4gIGluaXRpYWxTdGF0ZTogU3RhdGUgfCAoKCkgPT4gU3RhdGUpO1xuXG4gIC8qKlxuICAgKiBBIG1hcHBpbmcgZnJvbSBhY3Rpb24gdHlwZXMgdG8gYWN0aW9uLXR5cGUtc3BlY2lmaWMgKmNhc2UgcmVkdWNlcipcbiAgICogZnVuY3Rpb25zLiBGb3IgZXZlcnkgYWN0aW9uIHR5cGUsIGEgbWF0Y2hpbmcgYWN0aW9uIGNyZWF0b3Igd2lsbCBiZVxuICAgKiBnZW5lcmF0ZWQgdXNpbmcgYGNyZWF0ZUFjdGlvbigpYC5cbiAgICovXG4gIHJlZHVjZXJzOiBWYWxpZGF0ZVNsaWNlQ2FzZVJlZHVjZXJzPFN0YXRlLCBDUj4gfCAoKGNyZWF0b3JzOiBSZWR1Y2VyQ3JlYXRvcnM8U3RhdGU+KSA9PiBDUik7XG5cbiAgLyoqXG4gICAqIEEgY2FsbGJhY2sgdGhhdCByZWNlaXZlcyBhICpidWlsZGVyKiBvYmplY3QgdG8gZGVmaW5lXG4gICAqIGNhc2UgcmVkdWNlcnMgdmlhIGNhbGxzIHRvIGBidWlsZGVyLmFkZENhc2UoYWN0aW9uQ3JlYXRvck9yVHlwZSwgcmVkdWNlcilgLlxuICAgKiBcbiAgICogXG4gICAqIEBleGFtcGxlXG4gIGBgYHRzXG4gIGltcG9ydCB7IGNyZWF0ZUFjdGlvbiwgY3JlYXRlU2xpY2UsIEFjdGlvbiB9IGZyb20gJ0ByZWR1eGpzL3Rvb2xraXQnXG4gIGNvbnN0IGluY3JlbWVudEJ5ID0gY3JlYXRlQWN0aW9uPG51bWJlcj4oJ2luY3JlbWVudEJ5JylcbiAgY29uc3QgZGVjcmVtZW50ID0gY3JlYXRlQWN0aW9uKCdkZWNyZW1lbnQnKVxuICBpbnRlcmZhY2UgUmVqZWN0ZWRBY3Rpb24gZXh0ZW5kcyBBY3Rpb24ge1xuICBlcnJvcjogRXJyb3JcbiAgfVxuICBmdW5jdGlvbiBpc1JlamVjdGVkQWN0aW9uKGFjdGlvbjogQWN0aW9uKTogYWN0aW9uIGlzIFJlamVjdGVkQWN0aW9uIHtcbiAgcmV0dXJuIGFjdGlvbi50eXBlLmVuZHNXaXRoKCdyZWplY3RlZCcpXG4gIH1cbiAgY3JlYXRlU2xpY2Uoe1xuICBuYW1lOiAnY291bnRlcicsXG4gIGluaXRpYWxTdGF0ZTogMCxcbiAgcmVkdWNlcnM6IHt9LFxuICBleHRyYVJlZHVjZXJzOiBidWlsZGVyID0+IHtcbiAgICBidWlsZGVyXG4gICAgICAuYWRkQ2FzZShpbmNyZW1lbnRCeSwgKHN0YXRlLCBhY3Rpb24pID0+IHtcbiAgICAgICAgLy8gYWN0aW9uIGlzIGluZmVycmVkIGNvcnJlY3RseSBoZXJlIGlmIHVzaW5nIFRTXG4gICAgICB9KVxuICAgICAgLy8gWW91IGNhbiBjaGFpbiBjYWxscywgb3IgaGF2ZSBzZXBhcmF0ZSBgYnVpbGRlci5hZGRDYXNlKClgIGxpbmVzIGVhY2ggdGltZVxuICAgICAgLmFkZENhc2UoZGVjcmVtZW50LCAoc3RhdGUsIGFjdGlvbikgPT4ge30pXG4gICAgICAvLyBZb3UgY2FuIG1hdGNoIGEgcmFuZ2Ugb2YgYWN0aW9uIHR5cGVzXG4gICAgICAuYWRkTWF0Y2hlcihcbiAgICAgICAgaXNSZWplY3RlZEFjdGlvbixcbiAgICAgICAgLy8gYGFjdGlvbmAgd2lsbCBiZSBpbmZlcnJlZCBhcyBhIFJlamVjdGVkQWN0aW9uIGR1ZSB0byBpc1JlamVjdGVkQWN0aW9uIGJlaW5nIGRlZmluZWQgYXMgYSB0eXBlIGd1YXJkXG4gICAgICAgIChzdGF0ZSwgYWN0aW9uKSA9PiB7fVxuICAgICAgKVxuICAgICAgLy8gYW5kIHByb3ZpZGUgYSBkZWZhdWx0IGNhc2UgaWYgbm8gb3RoZXIgaGFuZGxlcnMgbWF0Y2hlZFxuICAgICAgLmFkZERlZmF1bHRDYXNlKChzdGF0ZSwgYWN0aW9uKSA9PiB7fSlcbiAgICB9XG4gIH0pXG4gIGBgYFxuICAgKi9cbiAgZXh0cmFSZWR1Y2Vycz86IChidWlsZGVyOiBBY3Rpb25SZWR1Y2VyTWFwQnVpbGRlcjxTdGF0ZT4pID0+IHZvaWQ7XG5cbiAgLyoqXG4gICAqIEEgbWFwIG9mIHNlbGVjdG9ycyB0aGF0IHJlY2VpdmUgdGhlIHNsaWNlJ3Mgc3RhdGUgYW5kIGFueSBhZGRpdGlvbmFsIGFyZ3VtZW50cywgYW5kIHJldHVybiBhIHJlc3VsdC5cbiAgICovXG4gIHNlbGVjdG9ycz86IFNlbGVjdG9ycztcbn1cbmV4cG9ydCBlbnVtIFJlZHVjZXJUeXBlIHtcbiAgcmVkdWNlciA9ICdyZWR1Y2VyJyxcbiAgcmVkdWNlcldpdGhQcmVwYXJlID0gJ3JlZHVjZXJXaXRoUHJlcGFyZScsXG4gIGFzeW5jVGh1bmsgPSAnYXN5bmNUaHVuaycsXG59XG5pbnRlcmZhY2UgUmVkdWNlckRlZmluaXRpb248VCBleHRlbmRzIFJlZHVjZXJUeXBlID0gUmVkdWNlclR5cGU+IHtcbiAgX3JlZHVjZXJEZWZpbml0aW9uVHlwZTogVDtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgQ2FzZVJlZHVjZXJEZWZpbml0aW9uPFMgPSBhbnksIEEgZXh0ZW5kcyBBY3Rpb24gPSBVbmtub3duQWN0aW9uPiBleHRlbmRzIENhc2VSZWR1Y2VyPFMsIEE+LCBSZWR1Y2VyRGVmaW5pdGlvbjxSZWR1Y2VyVHlwZS5yZWR1Y2VyPiB7fVxuXG4vKipcbiAqIEEgQ2FzZVJlZHVjZXIgd2l0aCBhIGBwcmVwYXJlYCBtZXRob2QuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdHlwZSBDYXNlUmVkdWNlcldpdGhQcmVwYXJlPFN0YXRlLCBBY3Rpb24gZXh0ZW5kcyBQYXlsb2FkQWN0aW9uPiA9IHtcbiAgcmVkdWNlcjogQ2FzZVJlZHVjZXI8U3RhdGUsIEFjdGlvbj47XG4gIHByZXBhcmU6IFByZXBhcmVBY3Rpb248QWN0aW9uWydwYXlsb2FkJ10+O1xufTtcbmV4cG9ydCBpbnRlcmZhY2UgQ2FzZVJlZHVjZXJXaXRoUHJlcGFyZURlZmluaXRpb248U3RhdGUsIEFjdGlvbiBleHRlbmRzIFBheWxvYWRBY3Rpb24+IGV4dGVuZHMgQ2FzZVJlZHVjZXJXaXRoUHJlcGFyZTxTdGF0ZSwgQWN0aW9uPiwgUmVkdWNlckRlZmluaXRpb248UmVkdWNlclR5cGUucmVkdWNlcldpdGhQcmVwYXJlPiB7fVxuZXhwb3J0IGludGVyZmFjZSBBc3luY1RodW5rU2xpY2VSZWR1Y2VyQ29uZmlnPFN0YXRlLCBUaHVua0FyZyBleHRlbmRzIGFueSwgUmV0dXJuZWQgPSB1bmtub3duLCBUaHVua0FwaUNvbmZpZyBleHRlbmRzIEFzeW5jVGh1bmtDb25maWcgPSB7fT4ge1xuICBwZW5kaW5nPzogQ2FzZVJlZHVjZXI8U3RhdGUsIFJldHVyblR5cGU8QXN5bmNUaHVuazxSZXR1cm5lZCwgVGh1bmtBcmcsIFRodW5rQXBpQ29uZmlnPlsncGVuZGluZyddPj47XG4gIHJlamVjdGVkPzogQ2FzZVJlZHVjZXI8U3RhdGUsIFJldHVyblR5cGU8QXN5bmNUaHVuazxSZXR1cm5lZCwgVGh1bmtBcmcsIFRodW5rQXBpQ29uZmlnPlsncmVqZWN0ZWQnXT4+O1xuICBmdWxmaWxsZWQ/OiBDYXNlUmVkdWNlcjxTdGF0ZSwgUmV0dXJuVHlwZTxBc3luY1RodW5rPFJldHVybmVkLCBUaHVua0FyZywgVGh1bmtBcGlDb25maWc+WydmdWxmaWxsZWQnXT4+O1xuICBzZXR0bGVkPzogQ2FzZVJlZHVjZXI8U3RhdGUsIFJldHVyblR5cGU8QXN5bmNUaHVuazxSZXR1cm5lZCwgVGh1bmtBcmcsIFRodW5rQXBpQ29uZmlnPlsncmVqZWN0ZWQnIHwgJ2Z1bGZpbGxlZCddPj47XG4gIG9wdGlvbnM/OiBBc3luY1RodW5rT3B0aW9uczxUaHVua0FyZywgVGh1bmtBcGlDb25maWc+O1xufVxuZXhwb3J0IGludGVyZmFjZSBBc3luY1RodW5rU2xpY2VSZWR1Y2VyRGVmaW5pdGlvbjxTdGF0ZSwgVGh1bmtBcmcgZXh0ZW5kcyBhbnksIFJldHVybmVkID0gdW5rbm93biwgVGh1bmtBcGlDb25maWcgZXh0ZW5kcyBBc3luY1RodW5rQ29uZmlnID0ge30+IGV4dGVuZHMgQXN5bmNUaHVua1NsaWNlUmVkdWNlckNvbmZpZzxTdGF0ZSwgVGh1bmtBcmcsIFJldHVybmVkLCBUaHVua0FwaUNvbmZpZz4sIFJlZHVjZXJEZWZpbml0aW9uPFJlZHVjZXJUeXBlLmFzeW5jVGh1bms+IHtcbiAgcGF5bG9hZENyZWF0b3I6IEFzeW5jVGh1bmtQYXlsb2FkQ3JlYXRvcjxSZXR1cm5lZCwgVGh1bmtBcmcsIFRodW5rQXBpQ29uZmlnPjtcbn1cblxuLyoqXG4gKiBQcm92aWRpbmcgdGhlc2UgYXMgcGFydCBvZiB0aGUgY29uZmlnIHdvdWxkIGNhdXNlIGNpcmN1bGFyIHR5cGVzLCBzbyB3ZSBkaXNhbGxvdyBwYXNzaW5nIHRoZW1cbiAqL1xudHlwZSBQcmV2ZW50Q2lyY3VsYXI8VGh1bmtBcGlDb25maWc+ID0geyBbSyBpbiBrZXlvZiBUaHVua0FwaUNvbmZpZ106IEsgZXh0ZW5kcyAnc3RhdGUnIHwgJ2Rpc3BhdGNoJyA/IG5ldmVyIDogVGh1bmtBcGlDb25maWdbS10gfTtcbmludGVyZmFjZSBBc3luY1RodW5rQ3JlYXRvcjxTdGF0ZSwgQ3VycmllZFRodW5rQXBpQ29uZmlnIGV4dGVuZHMgUHJldmVudENpcmN1bGFyPEFzeW5jVGh1bmtDb25maWc+ID0gUHJldmVudENpcmN1bGFyPEFzeW5jVGh1bmtDb25maWc+PiB7XG4gIDxSZXR1cm5lZCwgVGh1bmtBcmcgPSB2b2lkPihwYXlsb2FkQ3JlYXRvcjogQXN5bmNUaHVua1BheWxvYWRDcmVhdG9yPFJldHVybmVkLCBUaHVua0FyZywgQ3VycmllZFRodW5rQXBpQ29uZmlnPiwgY29uZmlnPzogQXN5bmNUaHVua1NsaWNlUmVkdWNlckNvbmZpZzxTdGF0ZSwgVGh1bmtBcmcsIFJldHVybmVkLCBDdXJyaWVkVGh1bmtBcGlDb25maWc+KTogQXN5bmNUaHVua1NsaWNlUmVkdWNlckRlZmluaXRpb248U3RhdGUsIFRodW5rQXJnLCBSZXR1cm5lZCwgQ3VycmllZFRodW5rQXBpQ29uZmlnPjtcbiAgPFJldHVybmVkLCBUaHVua0FyZywgVGh1bmtBcGlDb25maWcgZXh0ZW5kcyBQcmV2ZW50Q2lyY3VsYXI8QXN5bmNUaHVua0NvbmZpZz4gPSB7fT4ocGF5bG9hZENyZWF0b3I6IEFzeW5jVGh1bmtQYXlsb2FkQ3JlYXRvcjxSZXR1cm5lZCwgVGh1bmtBcmcsIFRodW5rQXBpQ29uZmlnPiwgY29uZmlnPzogQXN5bmNUaHVua1NsaWNlUmVkdWNlckNvbmZpZzxTdGF0ZSwgVGh1bmtBcmcsIFJldHVybmVkLCBUaHVua0FwaUNvbmZpZz4pOiBBc3luY1RodW5rU2xpY2VSZWR1Y2VyRGVmaW5pdGlvbjxTdGF0ZSwgVGh1bmtBcmcsIFJldHVybmVkLCBUaHVua0FwaUNvbmZpZz47XG4gIHdpdGhUeXBlczxUaHVua0FwaUNvbmZpZyBleHRlbmRzIFByZXZlbnRDaXJjdWxhcjxBc3luY1RodW5rQ29uZmlnPj4oKTogQXN5bmNUaHVua0NyZWF0b3I8U3RhdGUsIE92ZXJyaWRlVGh1bmtBcGlDb25maWdzPEN1cnJpZWRUaHVua0FwaUNvbmZpZywgVGh1bmtBcGlDb25maWc+Pjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgUmVkdWNlckNyZWF0b3JzPFN0YXRlPiB7XG4gIHJlZHVjZXIoY2FzZVJlZHVjZXI6IENhc2VSZWR1Y2VyPFN0YXRlLCBQYXlsb2FkQWN0aW9uPik6IENhc2VSZWR1Y2VyRGVmaW5pdGlvbjxTdGF0ZSwgUGF5bG9hZEFjdGlvbj47XG4gIHJlZHVjZXI8UGF5bG9hZD4oY2FzZVJlZHVjZXI6IENhc2VSZWR1Y2VyPFN0YXRlLCBQYXlsb2FkQWN0aW9uPFBheWxvYWQ+Pik6IENhc2VSZWR1Y2VyRGVmaW5pdGlvbjxTdGF0ZSwgUGF5bG9hZEFjdGlvbjxQYXlsb2FkPj47XG4gIGFzeW5jVGh1bms6IEFzeW5jVGh1bmtDcmVhdG9yPFN0YXRlPjtcbiAgcHJlcGFyZWRSZWR1Y2VyPFByZXBhcmUgZXh0ZW5kcyBQcmVwYXJlQWN0aW9uPGFueT4+KHByZXBhcmU6IFByZXBhcmUsIHJlZHVjZXI6IENhc2VSZWR1Y2VyPFN0YXRlLCBSZXR1cm5UeXBlPF9BY3Rpb25DcmVhdG9yV2l0aFByZXBhcmVkUGF5bG9hZDxQcmVwYXJlPj4+KToge1xuICAgIF9yZWR1Y2VyRGVmaW5pdGlvblR5cGU6IFJlZHVjZXJUeXBlLnJlZHVjZXJXaXRoUHJlcGFyZTtcbiAgICBwcmVwYXJlOiBQcmVwYXJlO1xuICAgIHJlZHVjZXI6IENhc2VSZWR1Y2VyPFN0YXRlLCBSZXR1cm5UeXBlPF9BY3Rpb25DcmVhdG9yV2l0aFByZXBhcmVkUGF5bG9hZDxQcmVwYXJlPj4+O1xuICB9O1xufVxuXG4vKipcbiAqIFRoZSB0eXBlIGRlc2NyaWJpbmcgYSBzbGljZSdzIGByZWR1Y2Vyc2Agb3B0aW9uLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHR5cGUgU2xpY2VDYXNlUmVkdWNlcnM8U3RhdGU+ID0gUmVjb3JkPHN0cmluZywgUmVkdWNlckRlZmluaXRpb24+IHwgUmVjb3JkPHN0cmluZywgQ2FzZVJlZHVjZXI8U3RhdGUsIFBheWxvYWRBY3Rpb248YW55Pj4gfCBDYXNlUmVkdWNlcldpdGhQcmVwYXJlPFN0YXRlLCBQYXlsb2FkQWN0aW9uPGFueSwgc3RyaW5nLCBhbnksIGFueT4+PjtcblxuLyoqXG4gKiBUaGUgdHlwZSBkZXNjcmliaW5nIGEgc2xpY2UncyBgc2VsZWN0b3JzYCBvcHRpb24uXG4gKi9cbmV4cG9ydCB0eXBlIFNsaWNlU2VsZWN0b3JzPFN0YXRlPiA9IHtcbiAgW0s6IHN0cmluZ106IChzbGljZVN0YXRlOiBTdGF0ZSwgLi4uYXJnczogYW55W10pID0+IGFueTtcbn07XG50eXBlIFNsaWNlQWN0aW9uVHlwZTxTbGljZU5hbWUgZXh0ZW5kcyBzdHJpbmcsIEFjdGlvbk5hbWUgZXh0ZW5kcyBrZXlvZiBhbnk+ID0gQWN0aW9uTmFtZSBleHRlbmRzIHN0cmluZyB8IG51bWJlciA/IGAke1NsaWNlTmFtZX0vJHtBY3Rpb25OYW1lfWAgOiBzdHJpbmc7XG5cbi8qKlxuICogRGVyaXZlcyB0aGUgc2xpY2UncyBgYWN0aW9uc2AgcHJvcGVydHkgZnJvbSB0aGUgYHJlZHVjZXJzYCBvcHRpb25zXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdHlwZSBDYXNlUmVkdWNlckFjdGlvbnM8Q2FzZVJlZHVjZXJzIGV4dGVuZHMgU2xpY2VDYXNlUmVkdWNlcnM8YW55PiwgU2xpY2VOYW1lIGV4dGVuZHMgc3RyaW5nPiA9IHsgW1R5cGUgaW4ga2V5b2YgQ2FzZVJlZHVjZXJzXTogQ2FzZVJlZHVjZXJzW1R5cGVdIGV4dGVuZHMgaW5mZXIgRGVmaW5pdGlvbiA/IERlZmluaXRpb24gZXh0ZW5kcyB7XG4gIHByZXBhcmU6IGFueTtcbn0gPyBBY3Rpb25DcmVhdG9yRm9yQ2FzZVJlZHVjZXJXaXRoUHJlcGFyZTxEZWZpbml0aW9uLCBTbGljZUFjdGlvblR5cGU8U2xpY2VOYW1lLCBUeXBlPj4gOiBEZWZpbml0aW9uIGV4dGVuZHMgQXN5bmNUaHVua1NsaWNlUmVkdWNlckRlZmluaXRpb248YW55LCBpbmZlciBUaHVua0FyZywgaW5mZXIgUmV0dXJuZWQsIGluZmVyIFRodW5rQXBpQ29uZmlnPiA/IEFzeW5jVGh1bms8UmV0dXJuZWQsIFRodW5rQXJnLCBUaHVua0FwaUNvbmZpZz4gOiBEZWZpbml0aW9uIGV4dGVuZHMge1xuICByZWR1Y2VyOiBhbnk7XG59ID8gQWN0aW9uQ3JlYXRvckZvckNhc2VSZWR1Y2VyPERlZmluaXRpb25bJ3JlZHVjZXInXSwgU2xpY2VBY3Rpb25UeXBlPFNsaWNlTmFtZSwgVHlwZT4+IDogQWN0aW9uQ3JlYXRvckZvckNhc2VSZWR1Y2VyPERlZmluaXRpb24sIFNsaWNlQWN0aW9uVHlwZTxTbGljZU5hbWUsIFR5cGU+PiA6IG5ldmVyIH07XG5cbi8qKlxuICogR2V0IGEgYFBheWxvYWRBY3Rpb25DcmVhdG9yYCB0eXBlIGZvciBhIHBhc3NlZCBgQ2FzZVJlZHVjZXJXaXRoUHJlcGFyZWBcbiAqXG4gKiBAaW50ZXJuYWxcbiAqL1xudHlwZSBBY3Rpb25DcmVhdG9yRm9yQ2FzZVJlZHVjZXJXaXRoUHJlcGFyZTxDUiBleHRlbmRzIHtcbiAgcHJlcGFyZTogYW55O1xufSwgVHlwZSBleHRlbmRzIHN0cmluZz4gPSBfQWN0aW9uQ3JlYXRvcldpdGhQcmVwYXJlZFBheWxvYWQ8Q1JbJ3ByZXBhcmUnXSwgVHlwZT47XG5cbi8qKlxuICogR2V0IGEgYFBheWxvYWRBY3Rpb25DcmVhdG9yYCB0eXBlIGZvciBhIHBhc3NlZCBgQ2FzZVJlZHVjZXJgXG4gKlxuICogQGludGVybmFsXG4gKi9cbnR5cGUgQWN0aW9uQ3JlYXRvckZvckNhc2VSZWR1Y2VyPENSLCBUeXBlIGV4dGVuZHMgc3RyaW5nPiA9IENSIGV4dGVuZHMgKHN0YXRlOiBhbnksIGFjdGlvbjogaW5mZXIgQWN0aW9uKSA9PiBhbnkgPyBBY3Rpb24gZXh0ZW5kcyB7XG4gIHBheWxvYWQ6IGluZmVyIFA7XG59ID8gUGF5bG9hZEFjdGlvbkNyZWF0b3I8UCwgVHlwZT4gOiBBY3Rpb25DcmVhdG9yV2l0aG91dFBheWxvYWQ8VHlwZT4gOiBBY3Rpb25DcmVhdG9yV2l0aG91dFBheWxvYWQ8VHlwZT47XG5cbi8qKlxuICogRXh0cmFjdHMgdGhlIENhc2VSZWR1Y2VycyBvdXQgb2YgYSBgcmVkdWNlcnNgIG9iamVjdCwgZXZlbiBpZiB0aGV5IGFyZVxuICogdGVzdGVkIGludG8gYSBgQ2FzZVJlZHVjZXJXaXRoUHJlcGFyZWAuXG4gKlxuICogQGludGVybmFsXG4gKi9cbnR5cGUgU2xpY2VEZWZpbmVkQ2FzZVJlZHVjZXJzPENhc2VSZWR1Y2VycyBleHRlbmRzIFNsaWNlQ2FzZVJlZHVjZXJzPGFueT4+ID0geyBbVHlwZSBpbiBrZXlvZiBDYXNlUmVkdWNlcnNdOiBDYXNlUmVkdWNlcnNbVHlwZV0gZXh0ZW5kcyBpbmZlciBEZWZpbml0aW9uID8gRGVmaW5pdGlvbiBleHRlbmRzIEFzeW5jVGh1bmtTbGljZVJlZHVjZXJEZWZpbml0aW9uPGFueSwgYW55LCBhbnksIGFueT4gPyBJZDxQaWNrPFJlcXVpcmVkPERlZmluaXRpb24+LCAnZnVsZmlsbGVkJyB8ICdyZWplY3RlZCcgfCAncGVuZGluZycgfCAnc2V0dGxlZCc+PiA6IERlZmluaXRpb24gZXh0ZW5kcyB7XG4gIHJlZHVjZXI6IGluZmVyIFJlZHVjZXI7XG59ID8gUmVkdWNlciA6IERlZmluaXRpb24gOiBuZXZlciB9O1xudHlwZSBSZW1hcHBlZFNlbGVjdG9yPFMgZXh0ZW5kcyBTZWxlY3RvciwgTmV3U3RhdGU+ID0gUyBleHRlbmRzIFNlbGVjdG9yPGFueSwgaW5mZXIgUiwgaW5mZXIgUD4gPyBTZWxlY3RvcjxOZXdTdGF0ZSwgUiwgUD4gJiB7XG4gIHVud3JhcHBlZDogUztcbn0gOiBuZXZlcjtcblxuLyoqXG4gKiBFeHRyYWN0cyB0aGUgZmluYWwgc2VsZWN0b3IgdHlwZSBmcm9tIHRoZSBgc2VsZWN0b3JzYCBvYmplY3QuXG4gKlxuICogUmVtb3ZlcyB0aGUgYHN0cmluZ2AgaW5kZXggc2lnbmF0dXJlIGZyb20gdGhlIGRlZmF1bHQgdmFsdWUuXG4gKi9cbnR5cGUgU2xpY2VEZWZpbmVkU2VsZWN0b3JzPFN0YXRlLCBTZWxlY3RvcnMgZXh0ZW5kcyBTbGljZVNlbGVjdG9yczxTdGF0ZT4sIFJvb3RTdGF0ZT4gPSB7IFtLIGluIGtleW9mIFNlbGVjdG9ycyBhcyBzdHJpbmcgZXh0ZW5kcyBLID8gbmV2ZXIgOiBLXTogUmVtYXBwZWRTZWxlY3RvcjxTZWxlY3RvcnNbS10sIFJvb3RTdGF0ZT4gfTtcblxuLyoqXG4gKiBVc2VkIG9uIGEgU2xpY2VDYXNlUmVkdWNlcnMgb2JqZWN0LlxuICogRW5zdXJlcyB0aGF0IGlmIGEgQ2FzZVJlZHVjZXIgaXMgYSBgQ2FzZVJlZHVjZXJXaXRoUHJlcGFyZWAsIHRoYXRcbiAqIHRoZSBgcmVkdWNlcmAgYW5kIHRoZSBgcHJlcGFyZWAgZnVuY3Rpb24gdXNlIHRoZSBzYW1lIHR5cGUgb2YgYHBheWxvYWRgLlxuICpcbiAqIE1pZ2h0IGRvIGFkZGl0aW9uYWwgc3VjaCBjaGVja3MgaW4gdGhlIGZ1dHVyZS5cbiAqXG4gKiBUaGlzIHR5cGUgaXMgb25seSBldmVyIHVzZWZ1bCBpZiB5b3Ugd2FudCB0byB3cml0ZSB5b3VyIG93biB3cmFwcGVyIGFyb3VuZFxuICogYGNyZWF0ZVNsaWNlYC4gUGxlYXNlIGRvbid0IHVzZSBpdCBvdGhlcndpc2UhXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdHlwZSBWYWxpZGF0ZVNsaWNlQ2FzZVJlZHVjZXJzPFMsIEFDUiBleHRlbmRzIFNsaWNlQ2FzZVJlZHVjZXJzPFM+PiA9IEFDUiAmIHsgW1QgaW4ga2V5b2YgQUNSXTogQUNSW1RdIGV4dGVuZHMge1xuICByZWR1Y2VyKHM6IFMsIGFjdGlvbj86IGluZmVyIEEpOiBhbnk7XG59ID8ge1xuICBwcmVwYXJlKC4uLmE6IG5ldmVyW10pOiBPbWl0PEEsICd0eXBlJz47XG59IDoge30gfTtcbmZ1bmN0aW9uIGdldFR5cGUoc2xpY2U6IHN0cmluZywgYWN0aW9uS2V5OiBzdHJpbmcpOiBzdHJpbmcge1xuICByZXR1cm4gYCR7c2xpY2V9LyR7YWN0aW9uS2V5fWA7XG59XG5pbnRlcmZhY2UgQnVpbGRDcmVhdGVTbGljZUNvbmZpZyB7XG4gIGNyZWF0b3JzPzoge1xuICAgIGFzeW5jVGh1bms/OiB0eXBlb2YgYXN5bmNUaHVua0NyZWF0b3I7XG4gIH07XG59XG5leHBvcnQgZnVuY3Rpb24gYnVpbGRDcmVhdGVTbGljZSh7XG4gIGNyZWF0b3JzXG59OiBCdWlsZENyZWF0ZVNsaWNlQ29uZmlnID0ge30pIHtcbiAgY29uc3QgY0FUID0gY3JlYXRvcnM/LmFzeW5jVGh1bms/Llthc3luY1RodW5rU3ltYm9sXTtcbiAgcmV0dXJuIGZ1bmN0aW9uIGNyZWF0ZVNsaWNlPFN0YXRlLCBDYXNlUmVkdWNlcnMgZXh0ZW5kcyBTbGljZUNhc2VSZWR1Y2VyczxTdGF0ZT4sIE5hbWUgZXh0ZW5kcyBzdHJpbmcsIFNlbGVjdG9ycyBleHRlbmRzIFNsaWNlU2VsZWN0b3JzPFN0YXRlPiwgUmVkdWNlclBhdGggZXh0ZW5kcyBzdHJpbmcgPSBOYW1lPihvcHRpb25zOiBDcmVhdGVTbGljZU9wdGlvbnM8U3RhdGUsIENhc2VSZWR1Y2VycywgTmFtZSwgUmVkdWNlclBhdGgsIFNlbGVjdG9ycz4pOiBTbGljZTxTdGF0ZSwgQ2FzZVJlZHVjZXJzLCBOYW1lLCBSZWR1Y2VyUGF0aCwgU2VsZWN0b3JzPiB7XG4gICAgY29uc3Qge1xuICAgICAgbmFtZSxcbiAgICAgIHJlZHVjZXJQYXRoID0gKChuYW1lIGFzIHVua25vd24pIGFzIFJlZHVjZXJQYXRoKVxuICAgIH0gPSBvcHRpb25zO1xuICAgIGlmICghbmFtZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIiA/IF9mb3JtYXRQcm9kRXJyb3JNZXNzYWdlKDExKSA6ICdgbmFtZWAgaXMgYSByZXF1aXJlZCBvcHRpb24gZm9yIGNyZWF0ZVNsaWNlJyk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcpIHtcbiAgICAgIGlmIChvcHRpb25zLmluaXRpYWxTdGF0ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1lvdSBtdXN0IHByb3ZpZGUgYW4gYGluaXRpYWxTdGF0ZWAgdmFsdWUgdGhhdCBpcyBub3QgYHVuZGVmaW5lZGAuIFlvdSBtYXkgaGF2ZSBtaXNzcGVsbGVkIGBpbml0aWFsU3RhdGVgJyk7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHJlZHVjZXJzID0gKHR5cGVvZiBvcHRpb25zLnJlZHVjZXJzID09PSAnZnVuY3Rpb24nID8gb3B0aW9ucy5yZWR1Y2VycyhidWlsZFJlZHVjZXJDcmVhdG9yczxTdGF0ZT4oKSkgOiBvcHRpb25zLnJlZHVjZXJzKSB8fCB7fTtcbiAgICBjb25zdCByZWR1Y2VyTmFtZXMgPSBPYmplY3Qua2V5cyhyZWR1Y2Vycyk7XG4gICAgY29uc3QgY29udGV4dDogUmVkdWNlckhhbmRsaW5nQ29udGV4dDxTdGF0ZT4gPSB7XG4gICAgICBzbGljZUNhc2VSZWR1Y2Vyc0J5TmFtZToge30sXG4gICAgICBzbGljZUNhc2VSZWR1Y2Vyc0J5VHlwZToge30sXG4gICAgICBhY3Rpb25DcmVhdG9yczoge30sXG4gICAgICBzbGljZU1hdGNoZXJzOiBbXVxuICAgIH07XG4gICAgY29uc3QgY29udGV4dE1ldGhvZHM6IFJlZHVjZXJIYW5kbGluZ0NvbnRleHRNZXRob2RzPFN0YXRlPiA9IHtcbiAgICAgIGFkZENhc2UodHlwZU9yQWN0aW9uQ3JlYXRvcjogc3RyaW5nIHwgVHlwZWRBY3Rpb25DcmVhdG9yPGFueT4sIHJlZHVjZXI6IENhc2VSZWR1Y2VyPFN0YXRlPikge1xuICAgICAgICBjb25zdCB0eXBlID0gdHlwZW9mIHR5cGVPckFjdGlvbkNyZWF0b3IgPT09ICdzdHJpbmcnID8gdHlwZU9yQWN0aW9uQ3JlYXRvciA6IHR5cGVPckFjdGlvbkNyZWF0b3IudHlwZTtcbiAgICAgICAgaWYgKCF0eXBlKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIiA/IF9mb3JtYXRQcm9kRXJyb3JNZXNzYWdlMigxMikgOiAnYGNvbnRleHQuYWRkQ2FzZWAgY2Fubm90IGJlIGNhbGxlZCB3aXRoIGFuIGVtcHR5IGFjdGlvbiB0eXBlJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGUgaW4gY29udGV4dC5zbGljZUNhc2VSZWR1Y2Vyc0J5VHlwZSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJwcm9kdWN0aW9uXCIgPyBfZm9ybWF0UHJvZEVycm9yTWVzc2FnZTMoMTMpIDogJ2Bjb250ZXh0LmFkZENhc2VgIGNhbm5vdCBiZSBjYWxsZWQgd2l0aCB0d28gcmVkdWNlcnMgZm9yIHRoZSBzYW1lIGFjdGlvbiB0eXBlOiAnICsgdHlwZSk7XG4gICAgICAgIH1cbiAgICAgICAgY29udGV4dC5zbGljZUNhc2VSZWR1Y2Vyc0J5VHlwZVt0eXBlXSA9IHJlZHVjZXI7XG4gICAgICAgIHJldHVybiBjb250ZXh0TWV0aG9kcztcbiAgICAgIH0sXG4gICAgICBhZGRNYXRjaGVyKG1hdGNoZXIsIHJlZHVjZXIpIHtcbiAgICAgICAgY29udGV4dC5zbGljZU1hdGNoZXJzLnB1c2goe1xuICAgICAgICAgIG1hdGNoZXIsXG4gICAgICAgICAgcmVkdWNlclxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGNvbnRleHRNZXRob2RzO1xuICAgICAgfSxcbiAgICAgIGV4cG9zZUFjdGlvbihuYW1lLCBhY3Rpb25DcmVhdG9yKSB7XG4gICAgICAgIGNvbnRleHQuYWN0aW9uQ3JlYXRvcnNbbmFtZV0gPSBhY3Rpb25DcmVhdG9yO1xuICAgICAgICByZXR1cm4gY29udGV4dE1ldGhvZHM7XG4gICAgICB9LFxuICAgICAgZXhwb3NlQ2FzZVJlZHVjZXIobmFtZSwgcmVkdWNlcikge1xuICAgICAgICBjb250ZXh0LnNsaWNlQ2FzZVJlZHVjZXJzQnlOYW1lW25hbWVdID0gcmVkdWNlcjtcbiAgICAgICAgcmV0dXJuIGNvbnRleHRNZXRob2RzO1xuICAgICAgfVxuICAgIH07XG4gICAgcmVkdWNlck5hbWVzLmZvckVhY2gocmVkdWNlck5hbWUgPT4ge1xuICAgICAgY29uc3QgcmVkdWNlckRlZmluaXRpb24gPSByZWR1Y2Vyc1tyZWR1Y2VyTmFtZV07XG4gICAgICBjb25zdCByZWR1Y2VyRGV0YWlsczogUmVkdWNlckRldGFpbHMgPSB7XG4gICAgICAgIHJlZHVjZXJOYW1lLFxuICAgICAgICB0eXBlOiBnZXRUeXBlKG5hbWUsIHJlZHVjZXJOYW1lKSxcbiAgICAgICAgY3JlYXRlTm90YXRpb246IHR5cGVvZiBvcHRpb25zLnJlZHVjZXJzID09PSAnZnVuY3Rpb24nXG4gICAgICB9O1xuICAgICAgaWYgKGlzQXN5bmNUaHVua1NsaWNlUmVkdWNlckRlZmluaXRpb248U3RhdGU+KHJlZHVjZXJEZWZpbml0aW9uKSkge1xuICAgICAgICBoYW5kbGVUaHVua0Nhc2VSZWR1Y2VyRGVmaW5pdGlvbihyZWR1Y2VyRGV0YWlscywgcmVkdWNlckRlZmluaXRpb24sIGNvbnRleHRNZXRob2RzLCBjQVQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaGFuZGxlTm9ybWFsUmVkdWNlckRlZmluaXRpb248U3RhdGU+KHJlZHVjZXJEZXRhaWxzLCAocmVkdWNlckRlZmluaXRpb24gYXMgYW55KSwgY29udGV4dE1ldGhvZHMpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGZ1bmN0aW9uIGJ1aWxkUmVkdWNlcigpIHtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5leHRyYVJlZHVjZXJzID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJwcm9kdWN0aW9uXCIgPyBfZm9ybWF0UHJvZEVycm9yTWVzc2FnZTQoMTQpIDogXCJUaGUgb2JqZWN0IG5vdGF0aW9uIGZvciBgY3JlYXRlU2xpY2UuZXh0cmFSZWR1Y2Vyc2AgaGFzIGJlZW4gcmVtb3ZlZC4gUGxlYXNlIHVzZSB0aGUgJ2J1aWxkZXIgY2FsbGJhY2snIG5vdGF0aW9uIGluc3RlYWQ6IGh0dHBzOi8vcmVkdXgtdG9vbGtpdC5qcy5vcmcvYXBpL2NyZWF0ZVNsaWNlXCIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjb25zdCBbZXh0cmFSZWR1Y2VycyA9IHt9LCBhY3Rpb25NYXRjaGVycyA9IFtdLCBkZWZhdWx0Q2FzZVJlZHVjZXIgPSB1bmRlZmluZWRdID0gdHlwZW9mIG9wdGlvbnMuZXh0cmFSZWR1Y2VycyA9PT0gJ2Z1bmN0aW9uJyA/IGV4ZWN1dGVSZWR1Y2VyQnVpbGRlckNhbGxiYWNrKG9wdGlvbnMuZXh0cmFSZWR1Y2VycykgOiBbb3B0aW9ucy5leHRyYVJlZHVjZXJzXTtcbiAgICAgIGNvbnN0IGZpbmFsQ2FzZVJlZHVjZXJzID0ge1xuICAgICAgICAuLi5leHRyYVJlZHVjZXJzLFxuICAgICAgICAuLi5jb250ZXh0LnNsaWNlQ2FzZVJlZHVjZXJzQnlUeXBlXG4gICAgICB9O1xuICAgICAgcmV0dXJuIGNyZWF0ZVJlZHVjZXIob3B0aW9ucy5pbml0aWFsU3RhdGUsIGJ1aWxkZXIgPT4ge1xuICAgICAgICBmb3IgKGxldCBrZXkgaW4gZmluYWxDYXNlUmVkdWNlcnMpIHtcbiAgICAgICAgICBidWlsZGVyLmFkZENhc2Uoa2V5LCAoZmluYWxDYXNlUmVkdWNlcnNba2V5XSBhcyBDYXNlUmVkdWNlcjxhbnk+KSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgc00gb2YgY29udGV4dC5zbGljZU1hdGNoZXJzKSB7XG4gICAgICAgICAgYnVpbGRlci5hZGRNYXRjaGVyKHNNLm1hdGNoZXIsIHNNLnJlZHVjZXIpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IG0gb2YgYWN0aW9uTWF0Y2hlcnMpIHtcbiAgICAgICAgICBidWlsZGVyLmFkZE1hdGNoZXIobS5tYXRjaGVyLCBtLnJlZHVjZXIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkZWZhdWx0Q2FzZVJlZHVjZXIpIHtcbiAgICAgICAgICBidWlsZGVyLmFkZERlZmF1bHRDYXNlKGRlZmF1bHRDYXNlUmVkdWNlcik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb25zdCBzZWxlY3RTZWxmID0gKHN0YXRlOiBTdGF0ZSkgPT4gc3RhdGU7XG4gICAgY29uc3QgaW5qZWN0ZWRTZWxlY3RvckNhY2hlID0gbmV3IE1hcDxib29sZWFuLCBXZWFrTWFwPChyb290U3RhdGU6IGFueSkgPT4gU3RhdGUgfCB1bmRlZmluZWQsIFJlY29yZDxzdHJpbmcsIChyb290U3RhdGU6IGFueSkgPT4gYW55Pj4+KCk7XG4gICAgbGV0IF9yZWR1Y2VyOiBSZWR1Y2VyV2l0aEluaXRpYWxTdGF0ZTxTdGF0ZT47XG4gICAgZnVuY3Rpb24gcmVkdWNlcihzdGF0ZTogU3RhdGUgfCB1bmRlZmluZWQsIGFjdGlvbjogVW5rbm93bkFjdGlvbikge1xuICAgICAgaWYgKCFfcmVkdWNlcikgX3JlZHVjZXIgPSBidWlsZFJlZHVjZXIoKTtcbiAgICAgIHJldHVybiBfcmVkdWNlcihzdGF0ZSwgYWN0aW9uKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0SW5pdGlhbFN0YXRlKCkge1xuICAgICAgaWYgKCFfcmVkdWNlcikgX3JlZHVjZXIgPSBidWlsZFJlZHVjZXIoKTtcbiAgICAgIHJldHVybiBfcmVkdWNlci5nZXRJbml0aWFsU3RhdGUoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbWFrZVNlbGVjdG9yUHJvcHM8Q3VycmVudFJlZHVjZXJQYXRoIGV4dGVuZHMgc3RyaW5nID0gUmVkdWNlclBhdGg+KHJlZHVjZXJQYXRoOiBDdXJyZW50UmVkdWNlclBhdGgsIGluamVjdGVkID0gZmFsc2UpOiBQaWNrPFNsaWNlPFN0YXRlLCBDYXNlUmVkdWNlcnMsIE5hbWUsIEN1cnJlbnRSZWR1Y2VyUGF0aCwgU2VsZWN0b3JzPiwgJ2dldFNlbGVjdG9ycycgfCAnc2VsZWN0b3JzJyB8ICdzZWxlY3RTbGljZScgfCAncmVkdWNlclBhdGgnPiB7XG4gICAgICBmdW5jdGlvbiBzZWxlY3RTbGljZShzdGF0ZTogeyBbSyBpbiBDdXJyZW50UmVkdWNlclBhdGhdOiBTdGF0ZSB9KSB7XG4gICAgICAgIGxldCBzbGljZVN0YXRlID0gc3RhdGVbcmVkdWNlclBhdGhdO1xuICAgICAgICBpZiAodHlwZW9mIHNsaWNlU3RhdGUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgaWYgKGluamVjdGVkKSB7XG4gICAgICAgICAgICBzbGljZVN0YXRlID0gZ2V0SW5pdGlhbFN0YXRlKCk7XG4gICAgICAgICAgfSBlbHNlIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiID8gX2Zvcm1hdFByb2RFcnJvck1lc3NhZ2U1KDE1KSA6ICdzZWxlY3RTbGljZSByZXR1cm5lZCB1bmRlZmluZWQgZm9yIGFuIHVuaW5qZWN0ZWQgc2xpY2UgcmVkdWNlcicpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2xpY2VTdGF0ZTtcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIGdldFNlbGVjdG9ycyhzZWxlY3RTdGF0ZTogKHJvb3RTdGF0ZTogYW55KSA9PiBTdGF0ZSA9IHNlbGVjdFNlbGYpIHtcbiAgICAgICAgY29uc3Qgc2VsZWN0b3JDYWNoZSA9IGVtcGxhY2UoaW5qZWN0ZWRTZWxlY3RvckNhY2hlLCBpbmplY3RlZCwge1xuICAgICAgICAgIGluc2VydDogKCkgPT4gbmV3IFdlYWtNYXAoKVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIChlbXBsYWNlKHNlbGVjdG9yQ2FjaGUsIHNlbGVjdFN0YXRlLCB7XG4gICAgICAgICAgaW5zZXJ0OiAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBtYXA6IFJlY29yZDxzdHJpbmcsIFNlbGVjdG9yPGFueSwgYW55Pj4gPSB7fTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgW25hbWUsIHNlbGVjdG9yXSBvZiBPYmplY3QuZW50cmllcyhvcHRpb25zLnNlbGVjdG9ycyA/PyB7fSkpIHtcbiAgICAgICAgICAgICAgbWFwW25hbWVdID0gd3JhcFNlbGVjdG9yKHNlbGVjdG9yLCBzZWxlY3RTdGF0ZSwgZ2V0SW5pdGlhbFN0YXRlLCBpbmplY3RlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbWFwO1xuICAgICAgICAgIH1cbiAgICAgICAgfSkgYXMgYW55KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJlZHVjZXJQYXRoLFxuICAgICAgICBnZXRTZWxlY3RvcnMsXG4gICAgICAgIGdldCBzZWxlY3RvcnMoKSB7XG4gICAgICAgICAgcmV0dXJuIGdldFNlbGVjdG9ycyhzZWxlY3RTbGljZSk7XG4gICAgICAgIH0sXG4gICAgICAgIHNlbGVjdFNsaWNlXG4gICAgICB9O1xuICAgIH1cbiAgICBjb25zdCBzbGljZTogU2xpY2U8U3RhdGUsIENhc2VSZWR1Y2VycywgTmFtZSwgUmVkdWNlclBhdGgsIFNlbGVjdG9ycz4gPSB7XG4gICAgICBuYW1lLFxuICAgICAgcmVkdWNlcixcbiAgICAgIGFjdGlvbnM6IChjb250ZXh0LmFjdGlvbkNyZWF0b3JzIGFzIGFueSksXG4gICAgICBjYXNlUmVkdWNlcnM6IChjb250ZXh0LnNsaWNlQ2FzZVJlZHVjZXJzQnlOYW1lIGFzIGFueSksXG4gICAgICBnZXRJbml0aWFsU3RhdGUsXG4gICAgICAuLi5tYWtlU2VsZWN0b3JQcm9wcyhyZWR1Y2VyUGF0aCksXG4gICAgICBpbmplY3RJbnRvKGluamVjdGFibGUsIHtcbiAgICAgICAgcmVkdWNlclBhdGg6IHBhdGhPcHQsXG4gICAgICAgIC4uLmNvbmZpZ1xuICAgICAgfSA9IHt9KSB7XG4gICAgICAgIGNvbnN0IG5ld1JlZHVjZXJQYXRoID0gcGF0aE9wdCA/PyByZWR1Y2VyUGF0aDtcbiAgICAgICAgaW5qZWN0YWJsZS5pbmplY3Qoe1xuICAgICAgICAgIHJlZHVjZXJQYXRoOiBuZXdSZWR1Y2VyUGF0aCxcbiAgICAgICAgICByZWR1Y2VyXG4gICAgICAgIH0sIGNvbmZpZyk7XG4gICAgICAgIHJldHVybiAoe1xuICAgICAgICAgIC4uLnNsaWNlLFxuICAgICAgICAgIC4uLm1ha2VTZWxlY3RvclByb3BzKG5ld1JlZHVjZXJQYXRoLCB0cnVlKVxuICAgICAgICB9IGFzIGFueSk7XG4gICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gc2xpY2U7XG4gIH07XG59XG5mdW5jdGlvbiB3cmFwU2VsZWN0b3I8U3RhdGUsIE5ld1N0YXRlLCBTIGV4dGVuZHMgU2VsZWN0b3I8U3RhdGU+PihzZWxlY3RvcjogUywgc2VsZWN0U3RhdGU6IFNlbGVjdG9yPE5ld1N0YXRlLCBTdGF0ZT4sIGdldEluaXRpYWxTdGF0ZTogKCkgPT4gU3RhdGUsIGluamVjdGVkPzogYm9vbGVhbikge1xuICBmdW5jdGlvbiB3cmFwcGVyKHJvb3RTdGF0ZTogTmV3U3RhdGUsIC4uLmFyZ3M6IGFueVtdKSB7XG4gICAgbGV0IHNsaWNlU3RhdGUgPSBzZWxlY3RTdGF0ZShyb290U3RhdGUpO1xuICAgIGlmICh0eXBlb2Ygc2xpY2VTdGF0ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGlmIChpbmplY3RlZCkge1xuICAgICAgICBzbGljZVN0YXRlID0gZ2V0SW5pdGlhbFN0YXRlKCk7XG4gICAgICB9IGVsc2UgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIiA/IF9mb3JtYXRQcm9kRXJyb3JNZXNzYWdlNigxNikgOiAnc2VsZWN0U3RhdGUgcmV0dXJuZWQgdW5kZWZpbmVkIGZvciBhbiB1bmluamVjdGVkIHNsaWNlIHJlZHVjZXInKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHNlbGVjdG9yKHNsaWNlU3RhdGUsIC4uLmFyZ3MpO1xuICB9XG4gIHdyYXBwZXIudW53cmFwcGVkID0gc2VsZWN0b3I7XG4gIHJldHVybiAod3JhcHBlciBhcyBSZW1hcHBlZFNlbGVjdG9yPFMsIE5ld1N0YXRlPik7XG59XG5cbi8qKlxuICogQSBmdW5jdGlvbiB0aGF0IGFjY2VwdHMgYW4gaW5pdGlhbCBzdGF0ZSwgYW4gb2JqZWN0IGZ1bGwgb2YgcmVkdWNlclxuICogZnVuY3Rpb25zLCBhbmQgYSBcInNsaWNlIG5hbWVcIiwgYW5kIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVzXG4gKiBhY3Rpb24gY3JlYXRvcnMgYW5kIGFjdGlvbiB0eXBlcyB0aGF0IGNvcnJlc3BvbmQgdG8gdGhlXG4gKiByZWR1Y2VycyBhbmQgc3RhdGUuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgY3JlYXRlU2xpY2UgPSAvKiBAX19QVVJFX18gKi9idWlsZENyZWF0ZVNsaWNlKCk7XG5pbnRlcmZhY2UgUmVkdWNlckhhbmRsaW5nQ29udGV4dDxTdGF0ZT4ge1xuICBzbGljZUNhc2VSZWR1Y2Vyc0J5TmFtZTogUmVjb3JkPHN0cmluZywgQ2FzZVJlZHVjZXI8U3RhdGUsIGFueT4gfCBQaWNrPEFzeW5jVGh1bmtTbGljZVJlZHVjZXJEZWZpbml0aW9uPFN0YXRlLCBhbnksIGFueSwgYW55PiwgJ2Z1bGZpbGxlZCcgfCAncmVqZWN0ZWQnIHwgJ3BlbmRpbmcnIHwgJ3NldHRsZWQnPj47XG4gIHNsaWNlQ2FzZVJlZHVjZXJzQnlUeXBlOiBSZWNvcmQ8c3RyaW5nLCBDYXNlUmVkdWNlcjxTdGF0ZSwgYW55Pj47XG4gIHNsaWNlTWF0Y2hlcnM6IEFjdGlvbk1hdGNoZXJEZXNjcmlwdGlvbkNvbGxlY3Rpb248U3RhdGU+O1xuICBhY3Rpb25DcmVhdG9yczogUmVjb3JkPHN0cmluZywgRnVuY3Rpb24+O1xufVxuaW50ZXJmYWNlIFJlZHVjZXJIYW5kbGluZ0NvbnRleHRNZXRob2RzPFN0YXRlPiB7XG4gIC8qKlxuICAgKiBBZGRzIGEgY2FzZSByZWR1Y2VyIHRvIGhhbmRsZSBhIHNpbmdsZSBhY3Rpb24gdHlwZS5cbiAgICogQHBhcmFtIGFjdGlvbkNyZWF0b3IgLSBFaXRoZXIgYSBwbGFpbiBhY3Rpb24gdHlwZSBzdHJpbmcsIG9yIGFuIGFjdGlvbiBjcmVhdG9yIGdlbmVyYXRlZCBieSBbYGNyZWF0ZUFjdGlvbmBdKC4vY3JlYXRlQWN0aW9uKSB0aGF0IGNhbiBiZSB1c2VkIHRvIGRldGVybWluZSB0aGUgYWN0aW9uIHR5cGUuXG4gICAqIEBwYXJhbSByZWR1Y2VyIC0gVGhlIGFjdHVhbCBjYXNlIHJlZHVjZXIgZnVuY3Rpb24uXG4gICAqL1xuICBhZGRDYXNlPEFjdGlvbkNyZWF0b3IgZXh0ZW5kcyBUeXBlZEFjdGlvbkNyZWF0b3I8c3RyaW5nPj4oYWN0aW9uQ3JlYXRvcjogQWN0aW9uQ3JlYXRvciwgcmVkdWNlcjogQ2FzZVJlZHVjZXI8U3RhdGUsIFJldHVyblR5cGU8QWN0aW9uQ3JlYXRvcj4+KTogUmVkdWNlckhhbmRsaW5nQ29udGV4dE1ldGhvZHM8U3RhdGU+O1xuICAvKipcbiAgICogQWRkcyBhIGNhc2UgcmVkdWNlciB0byBoYW5kbGUgYSBzaW5nbGUgYWN0aW9uIHR5cGUuXG4gICAqIEBwYXJhbSBhY3Rpb25DcmVhdG9yIC0gRWl0aGVyIGEgcGxhaW4gYWN0aW9uIHR5cGUgc3RyaW5nLCBvciBhbiBhY3Rpb24gY3JlYXRvciBnZW5lcmF0ZWQgYnkgW2BjcmVhdGVBY3Rpb25gXSguL2NyZWF0ZUFjdGlvbikgdGhhdCBjYW4gYmUgdXNlZCB0byBkZXRlcm1pbmUgdGhlIGFjdGlvbiB0eXBlLlxuICAgKiBAcGFyYW0gcmVkdWNlciAtIFRoZSBhY3R1YWwgY2FzZSByZWR1Y2VyIGZ1bmN0aW9uLlxuICAgKi9cbiAgYWRkQ2FzZTxUeXBlIGV4dGVuZHMgc3RyaW5nLCBBIGV4dGVuZHMgQWN0aW9uPFR5cGU+Pih0eXBlOiBUeXBlLCByZWR1Y2VyOiBDYXNlUmVkdWNlcjxTdGF0ZSwgQT4pOiBSZWR1Y2VySGFuZGxpbmdDb250ZXh0TWV0aG9kczxTdGF0ZT47XG5cbiAgLyoqXG4gICAqIEFsbG93cyB5b3UgdG8gbWF0Y2ggaW5jb21pbmcgYWN0aW9ucyBhZ2FpbnN0IHlvdXIgb3duIGZpbHRlciBmdW5jdGlvbiBpbnN0ZWFkIG9mIG9ubHkgdGhlIGBhY3Rpb24udHlwZWAgcHJvcGVydHkuXG4gICAqIEByZW1hcmtzXG4gICAqIElmIG11bHRpcGxlIG1hdGNoZXIgcmVkdWNlcnMgbWF0Y2gsIGFsbCBvZiB0aGVtIHdpbGwgYmUgZXhlY3V0ZWQgaW4gdGhlIG9yZGVyXG4gICAqIHRoZXkgd2VyZSBkZWZpbmVkIGluIC0gZXZlbiBpZiBhIGNhc2UgcmVkdWNlciBhbHJlYWR5IG1hdGNoZWQuXG4gICAqIEFsbCBjYWxscyB0byBgYnVpbGRlci5hZGRNYXRjaGVyYCBtdXN0IGNvbWUgYWZ0ZXIgYW55IGNhbGxzIHRvIGBidWlsZGVyLmFkZENhc2VgIGFuZCBiZWZvcmUgYW55IGNhbGxzIHRvIGBidWlsZGVyLmFkZERlZmF1bHRDYXNlYC5cbiAgICogQHBhcmFtIG1hdGNoZXIgLSBBIG1hdGNoZXIgZnVuY3Rpb24uIEluIFR5cGVTY3JpcHQsIHRoaXMgc2hvdWxkIGJlIGEgW3R5cGUgcHJlZGljYXRlXShodHRwczovL3d3dy50eXBlc2NyaXB0bGFuZy5vcmcvZG9jcy9oYW5kYm9vay8yL25hcnJvd2luZy5odG1sI3VzaW5nLXR5cGUtcHJlZGljYXRlcylcbiAgICogICBmdW5jdGlvblxuICAgKiBAcGFyYW0gcmVkdWNlciAtIFRoZSBhY3R1YWwgY2FzZSByZWR1Y2VyIGZ1bmN0aW9uLlxuICAgKlxuICAgKi9cbiAgYWRkTWF0Y2hlcjxBPihtYXRjaGVyOiBUeXBlR3VhcmQ8QT4sIHJlZHVjZXI6IENhc2VSZWR1Y2VyPFN0YXRlLCBBIGV4dGVuZHMgQWN0aW9uID8gQSA6IEEgJiBBY3Rpb24+KTogUmVkdWNlckhhbmRsaW5nQ29udGV4dE1ldGhvZHM8U3RhdGU+O1xuICAvKipcbiAgICogQWRkIGFuIGFjdGlvbiB0byBiZSBleHBvc2VkIHVuZGVyIHRoZSBmaW5hbCBgc2xpY2UuYWN0aW9uc2Aga2V5LlxuICAgKiBAcGFyYW0gbmFtZSBUaGUga2V5IHRvIGJlIGV4cG9zZWQgYXMuXG4gICAqIEBwYXJhbSBhY3Rpb25DcmVhdG9yIFRoZSBhY3Rpb24gdG8gZXhwb3NlLlxuICAgKiBAZXhhbXBsZVxuICAgKiBjb250ZXh0LmV4cG9zZUFjdGlvbihcImFkZFBvc3RcIiwgY3JlYXRlQWN0aW9uPFBvc3Q+KFwiYWRkUG9zdFwiKSk7XG4gICAqXG4gICAqIGV4cG9ydCBjb25zdCB7IGFkZFBvc3QgfSA9IHNsaWNlLmFjdGlvbnNcbiAgICpcbiAgICogZGlzcGF0Y2goYWRkUG9zdChwb3N0KSlcbiAgICovXG4gIGV4cG9zZUFjdGlvbihuYW1lOiBzdHJpbmcsIGFjdGlvbkNyZWF0b3I6IEZ1bmN0aW9uKTogUmVkdWNlckhhbmRsaW5nQ29udGV4dE1ldGhvZHM8U3RhdGU+O1xuICAvKipcbiAgICogQWRkIGEgY2FzZSByZWR1Y2VyIHRvIGJlIGV4cG9zZWQgdW5kZXIgdGhlIGZpbmFsIGBzbGljZS5jYXNlUmVkdWNlcnNgIGtleS5cbiAgICogQHBhcmFtIG5hbWUgVGhlIGtleSB0byBiZSBleHBvc2VkIGFzLlxuICAgKiBAcGFyYW0gcmVkdWNlciBUaGUgcmVkdWNlciB0byBleHBvc2UuXG4gICAqIEBleGFtcGxlXG4gICAqIGNvbnRleHQuZXhwb3NlQ2FzZVJlZHVjZXIoXCJhZGRQb3N0XCIsIChzdGF0ZSwgYWN0aW9uOiBQYXlsb2FkQWN0aW9uPFBvc3Q+KSA9PiB7XG4gICAqICAgc3RhdGUucHVzaChhY3Rpb24ucGF5bG9hZClcbiAgICogfSlcbiAgICpcbiAgICogc2xpY2UuY2FzZVJlZHVjZXJzLmFkZFBvc3QoW10sIGFkZFBvc3QocG9zdCkpXG4gICAqL1xuICBleHBvc2VDYXNlUmVkdWNlcihuYW1lOiBzdHJpbmcsIHJlZHVjZXI6IENhc2VSZWR1Y2VyPFN0YXRlLCBhbnk+IHwgUGljazxBc3luY1RodW5rU2xpY2VSZWR1Y2VyRGVmaW5pdGlvbjxTdGF0ZSwgYW55LCBhbnksIGFueT4sICdmdWxmaWxsZWQnIHwgJ3JlamVjdGVkJyB8ICdwZW5kaW5nJyB8ICdzZXR0bGVkJz4pOiBSZWR1Y2VySGFuZGxpbmdDb250ZXh0TWV0aG9kczxTdGF0ZT47XG59XG5pbnRlcmZhY2UgUmVkdWNlckRldGFpbHMge1xuICAvKiogVGhlIGtleSB0aGUgcmVkdWNlciB3YXMgZGVmaW5lZCB1bmRlciAqL1xuICByZWR1Y2VyTmFtZTogc3RyaW5nO1xuICAvKiogVGhlIHByZWRlZmluZWQgYWN0aW9uIHR5cGUsIGkuZS4gYCR7c2xpY2UubmFtZX0vJHtyZWR1Y2VyTmFtZX1gICovXG4gIHR5cGU6IHN0cmluZztcbiAgLyoqIFdoZXRoZXIgY3JlYXRlLiBub3RhdGlvbiB3YXMgdXNlZCB3aGVuIGRlZmluaW5nIHJlZHVjZXJzICovXG4gIGNyZWF0ZU5vdGF0aW9uOiBib29sZWFuO1xufVxuZnVuY3Rpb24gYnVpbGRSZWR1Y2VyQ3JlYXRvcnM8U3RhdGU+KCk6IFJlZHVjZXJDcmVhdG9yczxTdGF0ZT4ge1xuICBmdW5jdGlvbiBhc3luY1RodW5rKHBheWxvYWRDcmVhdG9yOiBBc3luY1RodW5rUGF5bG9hZENyZWF0b3I8YW55LCBhbnk+LCBjb25maWc6IEFzeW5jVGh1bmtTbGljZVJlZHVjZXJDb25maWc8U3RhdGUsIGFueT4pOiBBc3luY1RodW5rU2xpY2VSZWR1Y2VyRGVmaW5pdGlvbjxTdGF0ZSwgYW55PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIF9yZWR1Y2VyRGVmaW5pdGlvblR5cGU6IFJlZHVjZXJUeXBlLmFzeW5jVGh1bmssXG4gICAgICBwYXlsb2FkQ3JlYXRvcixcbiAgICAgIC4uLmNvbmZpZ1xuICAgIH07XG4gIH1cbiAgYXN5bmNUaHVuay53aXRoVHlwZXMgPSAoKSA9PiBhc3luY1RodW5rO1xuICByZXR1cm4ge1xuICAgIHJlZHVjZXIoY2FzZVJlZHVjZXI6IENhc2VSZWR1Y2VyPFN0YXRlLCBhbnk+KSB7XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgIC8vIGhhY2sgc28gdGhlIHdyYXBwaW5nIGZ1bmN0aW9uIGhhcyB0aGUgc2FtZSBuYW1lIGFzIHRoZSBvcmlnaW5hbFxuICAgICAgICAvLyB3ZSBuZWVkIHRvIGNyZWF0ZSBhIHdyYXBwZXIgc28gdGhlIGByZWR1Y2VyRGVmaW5pdGlvblR5cGVgIGlzIG5vdCBhc3NpZ25lZCB0byB0aGUgb3JpZ2luYWxcbiAgICAgICAgW2Nhc2VSZWR1Y2VyLm5hbWVdKC4uLmFyZ3M6IFBhcmFtZXRlcnM8dHlwZW9mIGNhc2VSZWR1Y2VyPikge1xuICAgICAgICAgIHJldHVybiBjYXNlUmVkdWNlciguLi5hcmdzKTtcbiAgICAgICAgfVxuICAgICAgfVtjYXNlUmVkdWNlci5uYW1lXSwgKHtcbiAgICAgICAgX3JlZHVjZXJEZWZpbml0aW9uVHlwZTogUmVkdWNlclR5cGUucmVkdWNlclxuICAgICAgfSBhcyBjb25zdCkpO1xuICAgIH0sXG4gICAgcHJlcGFyZWRSZWR1Y2VyKHByZXBhcmUsIHJlZHVjZXIpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIF9yZWR1Y2VyRGVmaW5pdGlvblR5cGU6IFJlZHVjZXJUeXBlLnJlZHVjZXJXaXRoUHJlcGFyZSxcbiAgICAgICAgcHJlcGFyZSxcbiAgICAgICAgcmVkdWNlclxuICAgICAgfTtcbiAgICB9LFxuICAgIGFzeW5jVGh1bms6IChhc3luY1RodW5rIGFzIGFueSlcbiAgfTtcbn1cbmZ1bmN0aW9uIGhhbmRsZU5vcm1hbFJlZHVjZXJEZWZpbml0aW9uPFN0YXRlPih7XG4gIHR5cGUsXG4gIHJlZHVjZXJOYW1lLFxuICBjcmVhdGVOb3RhdGlvblxufTogUmVkdWNlckRldGFpbHMsIG1heWJlUmVkdWNlcldpdGhQcmVwYXJlOiBDYXNlUmVkdWNlcjxTdGF0ZSwge1xuICBwYXlsb2FkOiBhbnk7XG4gIHR5cGU6IHN0cmluZztcbn0+IHwgQ2FzZVJlZHVjZXJXaXRoUHJlcGFyZTxTdGF0ZSwgUGF5bG9hZEFjdGlvbjxhbnksIHN0cmluZywgYW55LCBhbnk+PiwgY29udGV4dDogUmVkdWNlckhhbmRsaW5nQ29udGV4dE1ldGhvZHM8U3RhdGU+KSB7XG4gIGxldCBjYXNlUmVkdWNlcjogQ2FzZVJlZHVjZXI8U3RhdGUsIGFueT47XG4gIGxldCBwcmVwYXJlQ2FsbGJhY2s6IFByZXBhcmVBY3Rpb248YW55PiB8IHVuZGVmaW5lZDtcbiAgaWYgKCdyZWR1Y2VyJyBpbiBtYXliZVJlZHVjZXJXaXRoUHJlcGFyZSkge1xuICAgIGlmIChjcmVhdGVOb3RhdGlvbiAmJiAhaXNDYXNlUmVkdWNlcldpdGhQcmVwYXJlRGVmaW5pdGlvbihtYXliZVJlZHVjZXJXaXRoUHJlcGFyZSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJwcm9kdWN0aW9uXCIgPyBfZm9ybWF0UHJvZEVycm9yTWVzc2FnZTcoMTcpIDogJ1BsZWFzZSB1c2UgdGhlIGBjcmVhdGUucHJlcGFyZWRSZWR1Y2VyYCBub3RhdGlvbiBmb3IgcHJlcGFyZWQgYWN0aW9uIGNyZWF0b3JzIHdpdGggdGhlIGBjcmVhdGVgIG5vdGF0aW9uLicpO1xuICAgIH1cbiAgICBjYXNlUmVkdWNlciA9IG1heWJlUmVkdWNlcldpdGhQcmVwYXJlLnJlZHVjZXI7XG4gICAgcHJlcGFyZUNhbGxiYWNrID0gbWF5YmVSZWR1Y2VyV2l0aFByZXBhcmUucHJlcGFyZTtcbiAgfSBlbHNlIHtcbiAgICBjYXNlUmVkdWNlciA9IG1heWJlUmVkdWNlcldpdGhQcmVwYXJlO1xuICB9XG4gIGNvbnRleHQuYWRkQ2FzZSh0eXBlLCBjYXNlUmVkdWNlcikuZXhwb3NlQ2FzZVJlZHVjZXIocmVkdWNlck5hbWUsIGNhc2VSZWR1Y2VyKS5leHBvc2VBY3Rpb24ocmVkdWNlck5hbWUsIHByZXBhcmVDYWxsYmFjayA/IGNyZWF0ZUFjdGlvbih0eXBlLCBwcmVwYXJlQ2FsbGJhY2spIDogY3JlYXRlQWN0aW9uKHR5cGUpKTtcbn1cbmZ1bmN0aW9uIGlzQXN5bmNUaHVua1NsaWNlUmVkdWNlckRlZmluaXRpb248U3RhdGU+KHJlZHVjZXJEZWZpbml0aW9uOiBhbnkpOiByZWR1Y2VyRGVmaW5pdGlvbiBpcyBBc3luY1RodW5rU2xpY2VSZWR1Y2VyRGVmaW5pdGlvbjxTdGF0ZSwgYW55LCBhbnksIGFueT4ge1xuICByZXR1cm4gcmVkdWNlckRlZmluaXRpb24uX3JlZHVjZXJEZWZpbml0aW9uVHlwZSA9PT0gUmVkdWNlclR5cGUuYXN5bmNUaHVuaztcbn1cbmZ1bmN0aW9uIGlzQ2FzZVJlZHVjZXJXaXRoUHJlcGFyZURlZmluaXRpb248U3RhdGU+KHJlZHVjZXJEZWZpbml0aW9uOiBhbnkpOiByZWR1Y2VyRGVmaW5pdGlvbiBpcyBDYXNlUmVkdWNlcldpdGhQcmVwYXJlRGVmaW5pdGlvbjxTdGF0ZSwgYW55PiB7XG4gIHJldHVybiByZWR1Y2VyRGVmaW5pdGlvbi5fcmVkdWNlckRlZmluaXRpb25UeXBlID09PSBSZWR1Y2VyVHlwZS5yZWR1Y2VyV2l0aFByZXBhcmU7XG59XG5mdW5jdGlvbiBoYW5kbGVUaHVua0Nhc2VSZWR1Y2VyRGVmaW5pdGlvbjxTdGF0ZT4oe1xuICB0eXBlLFxuICByZWR1Y2VyTmFtZVxufTogUmVkdWNlckRldGFpbHMsIHJlZHVjZXJEZWZpbml0aW9uOiBBc3luY1RodW5rU2xpY2VSZWR1Y2VyRGVmaW5pdGlvbjxTdGF0ZSwgYW55LCBhbnksIGFueT4sIGNvbnRleHQ6IFJlZHVjZXJIYW5kbGluZ0NvbnRleHRNZXRob2RzPFN0YXRlPiwgY0FUOiB0eXBlb2YgX2NyZWF0ZUFzeW5jVGh1bmsgfCB1bmRlZmluZWQpIHtcbiAgaWYgKCFjQVQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiID8gX2Zvcm1hdFByb2RFcnJvck1lc3NhZ2U4KDE4KSA6ICdDYW5ub3QgdXNlIGBjcmVhdGUuYXN5bmNUaHVua2AgaW4gdGhlIGJ1aWx0LWluIGBjcmVhdGVTbGljZWAuICcgKyAnVXNlIGBidWlsZENyZWF0ZVNsaWNlKHsgY3JlYXRvcnM6IHsgYXN5bmNUaHVuazogYXN5bmNUaHVua0NyZWF0b3IgfSB9KWAgdG8gY3JlYXRlIGEgY3VzdG9taXNlZCB2ZXJzaW9uIG9mIGBjcmVhdGVTbGljZWAuJyk7XG4gIH1cbiAgY29uc3Qge1xuICAgIHBheWxvYWRDcmVhdG9yLFxuICAgIGZ1bGZpbGxlZCxcbiAgICBwZW5kaW5nLFxuICAgIHJlamVjdGVkLFxuICAgIHNldHRsZWQsXG4gICAgb3B0aW9uc1xuICB9ID0gcmVkdWNlckRlZmluaXRpb247XG4gIGNvbnN0IHRodW5rID0gY0FUKHR5cGUsIHBheWxvYWRDcmVhdG9yLCAob3B0aW9ucyBhcyBhbnkpKTtcbiAgY29udGV4dC5leHBvc2VBY3Rpb24ocmVkdWNlck5hbWUsIHRodW5rKTtcbiAgaWYgKGZ1bGZpbGxlZCkge1xuICAgIGNvbnRleHQuYWRkQ2FzZSh0aHVuay5mdWxmaWxsZWQsIGZ1bGZpbGxlZCk7XG4gIH1cbiAgaWYgKHBlbmRpbmcpIHtcbiAgICBjb250ZXh0LmFkZENhc2UodGh1bmsucGVuZGluZywgcGVuZGluZyk7XG4gIH1cbiAgaWYgKHJlamVjdGVkKSB7XG4gICAgY29udGV4dC5hZGRDYXNlKHRodW5rLnJlamVjdGVkLCByZWplY3RlZCk7XG4gIH1cbiAgaWYgKHNldHRsZWQpIHtcbiAgICBjb250ZXh0LmFkZE1hdGNoZXIodGh1bmsuc2V0dGxlZCwgc2V0dGxlZCk7XG4gIH1cbiAgY29udGV4dC5leHBvc2VDYXNlUmVkdWNlcihyZWR1Y2VyTmFtZSwge1xuICAgIGZ1bGZpbGxlZDogZnVsZmlsbGVkIHx8IG5vb3AsXG4gICAgcGVuZGluZzogcGVuZGluZyB8fCBub29wLFxuICAgIHJlamVjdGVkOiByZWplY3RlZCB8fCBub29wLFxuICAgIHNldHRsZWQ6IHNldHRsZWQgfHwgbm9vcFxuICB9KTtcbn1cbmZ1bmN0aW9uIG5vb3AoKSB7fSIsImltcG9ydCB0eXBlIHsgRW50aXR5SWQsIEVudGl0eVN0YXRlLCBFbnRpdHlTdGF0ZUFkYXB0ZXIsIEVudGl0eVN0YXRlRmFjdG9yeSB9IGZyb20gJy4vbW9kZWxzJztcbmV4cG9ydCBmdW5jdGlvbiBnZXRJbml0aWFsRW50aXR5U3RhdGU8VCwgSWQgZXh0ZW5kcyBFbnRpdHlJZD4oKTogRW50aXR5U3RhdGU8VCwgSWQ+IHtcbiAgcmV0dXJuIHtcbiAgICBpZHM6IFtdLFxuICAgIGVudGl0aWVzOiAoe30gYXMgUmVjb3JkPElkLCBUPilcbiAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVJbml0aWFsU3RhdGVGYWN0b3J5PFQsIElkIGV4dGVuZHMgRW50aXR5SWQ+KHN0YXRlQWRhcHRlcjogRW50aXR5U3RhdGVBZGFwdGVyPFQsIElkPik6IEVudGl0eVN0YXRlRmFjdG9yeTxULCBJZD4ge1xuICBmdW5jdGlvbiBnZXRJbml0aWFsU3RhdGUoc3RhdGU/OiB1bmRlZmluZWQsIGVudGl0aWVzPzogcmVhZG9ubHkgVFtdIHwgUmVjb3JkPElkLCBUPik6IEVudGl0eVN0YXRlPFQsIElkPjtcbiAgZnVuY3Rpb24gZ2V0SW5pdGlhbFN0YXRlPFMgZXh0ZW5kcyBvYmplY3Q+KGFkZGl0aW9uYWxTdGF0ZTogUywgZW50aXRpZXM/OiByZWFkb25seSBUW10gfCBSZWNvcmQ8SWQsIFQ+KTogRW50aXR5U3RhdGU8VCwgSWQ+ICYgUztcbiAgZnVuY3Rpb24gZ2V0SW5pdGlhbFN0YXRlKGFkZGl0aW9uYWxTdGF0ZTogYW55ID0ge30sIGVudGl0aWVzPzogcmVhZG9ubHkgVFtdIHwgUmVjb3JkPElkLCBUPik6IGFueSB7XG4gICAgY29uc3Qgc3RhdGUgPSBPYmplY3QuYXNzaWduKGdldEluaXRpYWxFbnRpdHlTdGF0ZSgpLCBhZGRpdGlvbmFsU3RhdGUpO1xuICAgIHJldHVybiBlbnRpdGllcyA/IHN0YXRlQWRhcHRlci5zZXRBbGwoc3RhdGUsIGVudGl0aWVzKSA6IHN0YXRlO1xuICB9XG4gIHJldHVybiB7XG4gICAgZ2V0SW5pdGlhbFN0YXRlXG4gIH07XG59IiwiaW1wb3J0IHR5cGUgeyBDcmVhdGVTZWxlY3RvckZ1bmN0aW9uLCBTZWxlY3RvciwgY3JlYXRlU2VsZWN0b3IgfSBmcm9tICdyZXNlbGVjdCc7XG5pbXBvcnQgeyBjcmVhdGVEcmFmdFNhZmVTZWxlY3RvciB9IGZyb20gJy4uL2NyZWF0ZURyYWZ0U2FmZVNlbGVjdG9yJztcbmltcG9ydCB0eXBlIHsgRW50aXR5U3RhdGUsIEVudGl0eVNlbGVjdG9ycywgRW50aXR5SWQgfSBmcm9tICcuL21vZGVscyc7XG50eXBlIEFueUZ1bmN0aW9uID0gKC4uLmFyZ3M6IGFueSkgPT4gYW55O1xudHlwZSBBbnlDcmVhdGVTZWxlY3RvckZ1bmN0aW9uID0gQ3JlYXRlU2VsZWN0b3JGdW5jdGlvbjw8RiBleHRlbmRzIEFueUZ1bmN0aW9uPihmOiBGKSA9PiBGLCA8RiBleHRlbmRzIEFueUZ1bmN0aW9uPihmOiBGKSA9PiBGPjtcbmV4cG9ydCBpbnRlcmZhY2UgR2V0U2VsZWN0b3JzT3B0aW9ucyB7XG4gIGNyZWF0ZVNlbGVjdG9yPzogQW55Q3JlYXRlU2VsZWN0b3JGdW5jdGlvbjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTZWxlY3RvcnNGYWN0b3J5PFQsIElkIGV4dGVuZHMgRW50aXR5SWQ+KCkge1xuICBmdW5jdGlvbiBnZXRTZWxlY3RvcnMoc2VsZWN0U3RhdGU/OiB1bmRlZmluZWQsIG9wdGlvbnM/OiBHZXRTZWxlY3RvcnNPcHRpb25zKTogRW50aXR5U2VsZWN0b3JzPFQsIEVudGl0eVN0YXRlPFQsIElkPiwgSWQ+O1xuICBmdW5jdGlvbiBnZXRTZWxlY3RvcnM8Vj4oc2VsZWN0U3RhdGU6IChzdGF0ZTogVikgPT4gRW50aXR5U3RhdGU8VCwgSWQ+LCBvcHRpb25zPzogR2V0U2VsZWN0b3JzT3B0aW9ucyk6IEVudGl0eVNlbGVjdG9yczxULCBWLCBJZD47XG4gIGZ1bmN0aW9uIGdldFNlbGVjdG9yczxWPihzZWxlY3RTdGF0ZT86IChzdGF0ZTogVikgPT4gRW50aXR5U3RhdGU8VCwgSWQ+LCBvcHRpb25zOiBHZXRTZWxlY3RvcnNPcHRpb25zID0ge30pOiBFbnRpdHlTZWxlY3RvcnM8VCwgYW55LCBJZD4ge1xuICAgIGNvbnN0IHtcbiAgICAgIGNyZWF0ZVNlbGVjdG9yID0gKGNyZWF0ZURyYWZ0U2FmZVNlbGVjdG9yIGFzIEFueUNyZWF0ZVNlbGVjdG9yRnVuY3Rpb24pXG4gICAgfSA9IG9wdGlvbnM7XG4gICAgY29uc3Qgc2VsZWN0SWRzID0gKHN0YXRlOiBFbnRpdHlTdGF0ZTxULCBJZD4pID0+IHN0YXRlLmlkcztcbiAgICBjb25zdCBzZWxlY3RFbnRpdGllcyA9IChzdGF0ZTogRW50aXR5U3RhdGU8VCwgSWQ+KSA9PiBzdGF0ZS5lbnRpdGllcztcbiAgICBjb25zdCBzZWxlY3RBbGwgPSBjcmVhdGVTZWxlY3RvcihzZWxlY3RJZHMsIHNlbGVjdEVudGl0aWVzLCAoaWRzLCBlbnRpdGllcyk6IFRbXSA9PiBpZHMubWFwKGlkID0+IGVudGl0aWVzW2lkXSEpKTtcbiAgICBjb25zdCBzZWxlY3RJZCA9IChfOiB1bmtub3duLCBpZDogSWQpID0+IGlkO1xuICAgIGNvbnN0IHNlbGVjdEJ5SWQgPSAoZW50aXRpZXM6IFJlY29yZDxJZCwgVD4sIGlkOiBJZCkgPT4gZW50aXRpZXNbaWRdO1xuICAgIGNvbnN0IHNlbGVjdFRvdGFsID0gY3JlYXRlU2VsZWN0b3Ioc2VsZWN0SWRzLCBpZHMgPT4gaWRzLmxlbmd0aCk7XG4gICAgaWYgKCFzZWxlY3RTdGF0ZSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc2VsZWN0SWRzLFxuICAgICAgICBzZWxlY3RFbnRpdGllcyxcbiAgICAgICAgc2VsZWN0QWxsLFxuICAgICAgICBzZWxlY3RUb3RhbCxcbiAgICAgICAgc2VsZWN0QnlJZDogY3JlYXRlU2VsZWN0b3Ioc2VsZWN0RW50aXRpZXMsIHNlbGVjdElkLCBzZWxlY3RCeUlkKVxuICAgICAgfTtcbiAgICB9XG4gICAgY29uc3Qgc2VsZWN0R2xvYmFsaXplZEVudGl0aWVzID0gY3JlYXRlU2VsZWN0b3IoKHNlbGVjdFN0YXRlIGFzIFNlbGVjdG9yPFYsIEVudGl0eVN0YXRlPFQsIElkPj4pLCBzZWxlY3RFbnRpdGllcyk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNlbGVjdElkczogY3JlYXRlU2VsZWN0b3Ioc2VsZWN0U3RhdGUsIHNlbGVjdElkcyksXG4gICAgICBzZWxlY3RFbnRpdGllczogc2VsZWN0R2xvYmFsaXplZEVudGl0aWVzLFxuICAgICAgc2VsZWN0QWxsOiBjcmVhdGVTZWxlY3RvcihzZWxlY3RTdGF0ZSwgc2VsZWN0QWxsKSxcbiAgICAgIHNlbGVjdFRvdGFsOiBjcmVhdGVTZWxlY3RvcihzZWxlY3RTdGF0ZSwgc2VsZWN0VG90YWwpLFxuICAgICAgc2VsZWN0QnlJZDogY3JlYXRlU2VsZWN0b3Ioc2VsZWN0R2xvYmFsaXplZEVudGl0aWVzLCBzZWxlY3RJZCwgc2VsZWN0QnlJZClcbiAgICB9O1xuICB9XG4gIHJldHVybiB7XG4gICAgZ2V0U2VsZWN0b3JzXG4gIH07XG59IiwiaW1wb3J0IHsgY3VycmVudCwgaXNEcmFmdCB9IGZyb20gJ2ltbWVyJztcbmltcG9ydCB0eXBlIHsgSWRTZWxlY3RvciwgQ29tcGFyZXIsIEVudGl0eVN0YXRlQWRhcHRlciwgVXBkYXRlLCBFbnRpdHlJZCwgRHJhZnRhYmxlRW50aXR5U3RhdGUgfSBmcm9tICcuL21vZGVscyc7XG5pbXBvcnQgeyBjcmVhdGVTdGF0ZU9wZXJhdG9yIH0gZnJvbSAnLi9zdGF0ZV9hZGFwdGVyJztcbmltcG9ydCB7IGNyZWF0ZVVuc29ydGVkU3RhdGVBZGFwdGVyIH0gZnJvbSAnLi91bnNvcnRlZF9zdGF0ZV9hZGFwdGVyJztcbmltcG9ydCB7IHNlbGVjdElkVmFsdWUsIGVuc3VyZUVudGl0aWVzQXJyYXksIHNwbGl0QWRkZWRVcGRhdGVkRW50aXRpZXMsIGdldEN1cnJlbnQgfSBmcm9tICcuL3V0aWxzJztcblxuLy8gQm9ycm93ZWQgZnJvbSBSZXBsYXlcbmV4cG9ydCBmdW5jdGlvbiBmaW5kSW5zZXJ0SW5kZXg8VD4oc29ydGVkSXRlbXM6IFRbXSwgaXRlbTogVCwgY29tcGFyaXNvbkZ1bmN0aW9uOiBDb21wYXJlcjxUPik6IG51bWJlciB7XG4gIGxldCBsb3dJbmRleCA9IDA7XG4gIGxldCBoaWdoSW5kZXggPSBzb3J0ZWRJdGVtcy5sZW5ndGg7XG4gIHdoaWxlIChsb3dJbmRleCA8IGhpZ2hJbmRleCkge1xuICAgIGxldCBtaWRkbGVJbmRleCA9IGxvd0luZGV4ICsgaGlnaEluZGV4ID4+PiAxO1xuICAgIGNvbnN0IGN1cnJlbnRJdGVtID0gc29ydGVkSXRlbXNbbWlkZGxlSW5kZXhdO1xuICAgIGNvbnN0IHJlcyA9IGNvbXBhcmlzb25GdW5jdGlvbihpdGVtLCBjdXJyZW50SXRlbSk7XG4gICAgaWYgKHJlcyA+PSAwKSB7XG4gICAgICBsb3dJbmRleCA9IG1pZGRsZUluZGV4ICsgMTtcbiAgICB9IGVsc2Uge1xuICAgICAgaGlnaEluZGV4ID0gbWlkZGxlSW5kZXg7XG4gICAgfVxuICB9XG4gIHJldHVybiBsb3dJbmRleDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpbnNlcnQ8VD4oc29ydGVkSXRlbXM6IFRbXSwgaXRlbTogVCwgY29tcGFyaXNvbkZ1bmN0aW9uOiBDb21wYXJlcjxUPik6IFRbXSB7XG4gIGNvbnN0IGluc2VydEF0SW5kZXggPSBmaW5kSW5zZXJ0SW5kZXgoc29ydGVkSXRlbXMsIGl0ZW0sIGNvbXBhcmlzb25GdW5jdGlvbik7XG4gIHNvcnRlZEl0ZW1zLnNwbGljZShpbnNlcnRBdEluZGV4LCAwLCBpdGVtKTtcbiAgcmV0dXJuIHNvcnRlZEl0ZW1zO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVNvcnRlZFN0YXRlQWRhcHRlcjxULCBJZCBleHRlbmRzIEVudGl0eUlkPihzZWxlY3RJZDogSWRTZWxlY3RvcjxULCBJZD4sIGNvbXBhcmVyOiBDb21wYXJlcjxUPik6IEVudGl0eVN0YXRlQWRhcHRlcjxULCBJZD4ge1xuICB0eXBlIFIgPSBEcmFmdGFibGVFbnRpdHlTdGF0ZTxULCBJZD47XG4gIGNvbnN0IHtcbiAgICByZW1vdmVPbmUsXG4gICAgcmVtb3ZlTWFueSxcbiAgICByZW1vdmVBbGxcbiAgfSA9IGNyZWF0ZVVuc29ydGVkU3RhdGVBZGFwdGVyKHNlbGVjdElkKTtcbiAgZnVuY3Rpb24gYWRkT25lTXV0YWJseShlbnRpdHk6IFQsIHN0YXRlOiBSKTogdm9pZCB7XG4gICAgcmV0dXJuIGFkZE1hbnlNdXRhYmx5KFtlbnRpdHldLCBzdGF0ZSk7XG4gIH1cbiAgZnVuY3Rpb24gYWRkTWFueU11dGFibHkobmV3RW50aXRpZXM6IHJlYWRvbmx5IFRbXSB8IFJlY29yZDxJZCwgVD4sIHN0YXRlOiBSLCBleGlzdGluZ0lkcz86IElkW10pOiB2b2lkIHtcbiAgICBuZXdFbnRpdGllcyA9IGVuc3VyZUVudGl0aWVzQXJyYXkobmV3RW50aXRpZXMpO1xuICAgIGNvbnN0IGV4aXN0aW5nS2V5cyA9IG5ldyBTZXQ8SWQ+KGV4aXN0aW5nSWRzID8/IChjdXJyZW50KHN0YXRlLmlkcykgYXMgSWRbXSkpO1xuICAgIGNvbnN0IG1vZGVscyA9IG5ld0VudGl0aWVzLmZpbHRlcihtb2RlbCA9PiAhZXhpc3RpbmdLZXlzLmhhcyhzZWxlY3RJZFZhbHVlKG1vZGVsLCBzZWxlY3RJZCkpKTtcbiAgICBpZiAobW9kZWxzLmxlbmd0aCAhPT0gMCkge1xuICAgICAgbWVyZ2VGdW5jdGlvbihzdGF0ZSwgbW9kZWxzKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gc2V0T25lTXV0YWJseShlbnRpdHk6IFQsIHN0YXRlOiBSKTogdm9pZCB7XG4gICAgcmV0dXJuIHNldE1hbnlNdXRhYmx5KFtlbnRpdHldLCBzdGF0ZSk7XG4gIH1cbiAgZnVuY3Rpb24gc2V0TWFueU11dGFibHkobmV3RW50aXRpZXM6IHJlYWRvbmx5IFRbXSB8IFJlY29yZDxJZCwgVD4sIHN0YXRlOiBSKTogdm9pZCB7XG4gICAgbmV3RW50aXRpZXMgPSBlbnN1cmVFbnRpdGllc0FycmF5KG5ld0VudGl0aWVzKTtcbiAgICBpZiAobmV3RW50aXRpZXMubGVuZ3RoICE9PSAwKSB7XG4gICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgbmV3RW50aXRpZXMpIHtcbiAgICAgICAgZGVsZXRlIChzdGF0ZS5lbnRpdGllcyBhcyBSZWNvcmQ8SWQsIFQ+KVtzZWxlY3RJZChpdGVtKV07XG4gICAgICB9XG4gICAgICBtZXJnZUZ1bmN0aW9uKHN0YXRlLCBuZXdFbnRpdGllcyk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIHNldEFsbE11dGFibHkobmV3RW50aXRpZXM6IHJlYWRvbmx5IFRbXSB8IFJlY29yZDxJZCwgVD4sIHN0YXRlOiBSKTogdm9pZCB7XG4gICAgbmV3RW50aXRpZXMgPSBlbnN1cmVFbnRpdGllc0FycmF5KG5ld0VudGl0aWVzKTtcbiAgICBzdGF0ZS5lbnRpdGllcyA9ICh7fSBhcyBSZWNvcmQ8SWQsIFQ+KTtcbiAgICBzdGF0ZS5pZHMgPSBbXTtcbiAgICBhZGRNYW55TXV0YWJseShuZXdFbnRpdGllcywgc3RhdGUsIFtdKTtcbiAgfVxuICBmdW5jdGlvbiB1cGRhdGVPbmVNdXRhYmx5KHVwZGF0ZTogVXBkYXRlPFQsIElkPiwgc3RhdGU6IFIpOiB2b2lkIHtcbiAgICByZXR1cm4gdXBkYXRlTWFueU11dGFibHkoW3VwZGF0ZV0sIHN0YXRlKTtcbiAgfVxuICBmdW5jdGlvbiB1cGRhdGVNYW55TXV0YWJseSh1cGRhdGVzOiBSZWFkb25seUFycmF5PFVwZGF0ZTxULCBJZD4+LCBzdGF0ZTogUik6IHZvaWQge1xuICAgIGxldCBhcHBsaWVkVXBkYXRlcyA9IGZhbHNlO1xuICAgIGxldCByZXBsYWNlZElkcyA9IGZhbHNlO1xuICAgIGZvciAobGV0IHVwZGF0ZSBvZiB1cGRhdGVzKSB7XG4gICAgICBjb25zdCBlbnRpdHk6IFQgfCB1bmRlZmluZWQgPSAoc3RhdGUuZW50aXRpZXMgYXMgUmVjb3JkPElkLCBUPilbdXBkYXRlLmlkXTtcbiAgICAgIGlmICghZW50aXR5KSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgYXBwbGllZFVwZGF0ZXMgPSB0cnVlO1xuICAgICAgT2JqZWN0LmFzc2lnbihlbnRpdHksIHVwZGF0ZS5jaGFuZ2VzKTtcbiAgICAgIGNvbnN0IG5ld0lkID0gc2VsZWN0SWQoZW50aXR5KTtcbiAgICAgIGlmICh1cGRhdGUuaWQgIT09IG5ld0lkKSB7XG4gICAgICAgIC8vIFdlIGRvIHN1cHBvcnQgdGhlIGNhc2Ugd2hlcmUgdXBkYXRlcyBjYW4gY2hhbmdlIGFuIGl0ZW0ncyBJRC5cbiAgICAgICAgLy8gVGhpcyBtYWtlcyB0aGluZ3MgdHJpY2tpZXIgLSBnbyBhaGVhZCBhbmQgc3dhcCB0aGUgSURzIGluIHN0YXRlIG5vdy5cbiAgICAgICAgcmVwbGFjZWRJZHMgPSB0cnVlO1xuICAgICAgICBkZWxldGUgKHN0YXRlLmVudGl0aWVzIGFzIFJlY29yZDxJZCwgVD4pW3VwZGF0ZS5pZF07XG4gICAgICAgIGNvbnN0IG9sZEluZGV4ID0gKHN0YXRlLmlkcyBhcyBJZFtdKS5pbmRleE9mKHVwZGF0ZS5pZCk7XG4gICAgICAgIHN0YXRlLmlkc1tvbGRJbmRleF0gPSBuZXdJZDtcbiAgICAgICAgKHN0YXRlLmVudGl0aWVzIGFzIFJlY29yZDxJZCwgVD4pW25ld0lkXSA9IGVudGl0eTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGFwcGxpZWRVcGRhdGVzKSB7XG4gICAgICBtZXJnZUZ1bmN0aW9uKHN0YXRlLCBbXSwgYXBwbGllZFVwZGF0ZXMsIHJlcGxhY2VkSWRzKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gdXBzZXJ0T25lTXV0YWJseShlbnRpdHk6IFQsIHN0YXRlOiBSKTogdm9pZCB7XG4gICAgcmV0dXJuIHVwc2VydE1hbnlNdXRhYmx5KFtlbnRpdHldLCBzdGF0ZSk7XG4gIH1cbiAgZnVuY3Rpb24gdXBzZXJ0TWFueU11dGFibHkobmV3RW50aXRpZXM6IHJlYWRvbmx5IFRbXSB8IFJlY29yZDxJZCwgVD4sIHN0YXRlOiBSKTogdm9pZCB7XG4gICAgY29uc3QgW2FkZGVkLCB1cGRhdGVkLCBleGlzdGluZ0lkc0FycmF5XSA9IHNwbGl0QWRkZWRVcGRhdGVkRW50aXRpZXM8VCwgSWQ+KG5ld0VudGl0aWVzLCBzZWxlY3RJZCwgc3RhdGUpO1xuICAgIGlmICh1cGRhdGVkLmxlbmd0aCkge1xuICAgICAgdXBkYXRlTWFueU11dGFibHkodXBkYXRlZCwgc3RhdGUpO1xuICAgIH1cbiAgICBpZiAoYWRkZWQubGVuZ3RoKSB7XG4gICAgICBhZGRNYW55TXV0YWJseShhZGRlZCwgc3RhdGUsIGV4aXN0aW5nSWRzQXJyYXkpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBhcmVBcnJheXNFcXVhbChhOiByZWFkb25seSB1bmtub3duW10sIGI6IHJlYWRvbmx5IHVua25vd25bXSkge1xuICAgIGlmIChhLmxlbmd0aCAhPT0gYi5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhLmxlbmd0aCAmJiBpIDwgYi5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGFbaV0gPT09IGJbaV0pIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHR5cGUgTWVyZ2VGdW5jdGlvbiA9IChzdGF0ZTogUiwgYWRkZWRJdGVtczogcmVhZG9ubHkgVFtdLCBhcHBsaWVkVXBkYXRlcz86IGJvb2xlYW4sIHJlcGxhY2VkSWRzPzogYm9vbGVhbikgPT4gdm9pZDtcbiAgY29uc3QgbWVyZ2VJbnNlcnRpb246IE1lcmdlRnVuY3Rpb24gPSAoc3RhdGUsIGFkZGVkSXRlbXMsIGFwcGxpZWRVcGRhdGVzLCByZXBsYWNlZElkcykgPT4ge1xuICAgIGNvbnN0IGN1cnJlbnRFbnRpdGllcyA9IChnZXRDdXJyZW50KHN0YXRlLmVudGl0aWVzKSBhcyBSZWNvcmQ8SWQsIFQ+KTtcbiAgICBjb25zdCBjdXJyZW50SWRzID0gKGdldEN1cnJlbnQoc3RhdGUuaWRzKSBhcyBJZFtdKTtcbiAgICBjb25zdCBzdGF0ZUVudGl0aWVzID0gKHN0YXRlLmVudGl0aWVzIGFzIFJlY29yZDxJZCwgVD4pO1xuICAgIGxldCBpZHMgPSBjdXJyZW50SWRzO1xuICAgIGlmIChyZXBsYWNlZElkcykge1xuICAgICAgaWRzID0gQXJyYXkuZnJvbShuZXcgU2V0KGN1cnJlbnRJZHMpKTtcbiAgICB9XG4gICAgbGV0IHNvcnRlZEVudGl0aWVzOiBUW10gPSBbXTtcbiAgICBmb3IgKGNvbnN0IGlkIG9mIGlkcykge1xuICAgICAgY29uc3QgZW50aXR5ID0gY3VycmVudEVudGl0aWVzW2lkXTtcbiAgICAgIGlmIChlbnRpdHkpIHtcbiAgICAgICAgc29ydGVkRW50aXRpZXMucHVzaChlbnRpdHkpO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCB3YXNQcmV2aW91c2x5RW1wdHkgPSBzb3J0ZWRFbnRpdGllcy5sZW5ndGggPT09IDA7XG5cbiAgICAvLyBJbnNlcnQvb3ZlcndyaXRlIGFsbCBuZXcvdXBkYXRlZFxuICAgIGZvciAoY29uc3QgaXRlbSBvZiBhZGRlZEl0ZW1zKSB7XG4gICAgICBzdGF0ZUVudGl0aWVzW3NlbGVjdElkKGl0ZW0pXSA9IGl0ZW07XG4gICAgICBpZiAoIXdhc1ByZXZpb3VzbHlFbXB0eSkge1xuICAgICAgICAvLyBCaW5hcnkgc2VhcmNoIGluc2VydGlvbiBnZW5lcmFsbHkgcmVxdWlyZXMgZmV3ZXIgY29tcGFyaXNvbnNcbiAgICAgICAgaW5zZXJ0KHNvcnRlZEVudGl0aWVzLCBpdGVtLCBjb21wYXJlcik7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh3YXNQcmV2aW91c2x5RW1wdHkpIHtcbiAgICAgIC8vIEFsbCB3ZSBoYXZlIGlzIHRoZSBpbmNvbWluZyB2YWx1ZXMsIHNvcnQgdGhlbVxuICAgICAgc29ydGVkRW50aXRpZXMgPSBhZGRlZEl0ZW1zLnNsaWNlKCkuc29ydChjb21wYXJlcik7XG4gICAgfSBlbHNlIGlmIChhcHBsaWVkVXBkYXRlcykge1xuICAgICAgLy8gV2Ugc2hvdWxkIGhhdmUgYSBfbW9zdGx5Xy1zb3J0ZWQgYXJyYXkgYWxyZWFkeVxuICAgICAgc29ydGVkRW50aXRpZXMuc29ydChjb21wYXJlcik7XG4gICAgfVxuICAgIGNvbnN0IG5ld1NvcnRlZElkcyA9IHNvcnRlZEVudGl0aWVzLm1hcChzZWxlY3RJZCk7XG4gICAgaWYgKCFhcmVBcnJheXNFcXVhbChjdXJyZW50SWRzLCBuZXdTb3J0ZWRJZHMpKSB7XG4gICAgICBzdGF0ZS5pZHMgPSBuZXdTb3J0ZWRJZHM7XG4gICAgfVxuICB9O1xuICBjb25zdCBtZXJnZUZ1bmN0aW9uOiBNZXJnZUZ1bmN0aW9uID0gbWVyZ2VJbnNlcnRpb247XG4gIHJldHVybiB7XG4gICAgcmVtb3ZlT25lLFxuICAgIHJlbW92ZU1hbnksXG4gICAgcmVtb3ZlQWxsLFxuICAgIGFkZE9uZTogY3JlYXRlU3RhdGVPcGVyYXRvcihhZGRPbmVNdXRhYmx5KSxcbiAgICB1cGRhdGVPbmU6IGNyZWF0ZVN0YXRlT3BlcmF0b3IodXBkYXRlT25lTXV0YWJseSksXG4gICAgdXBzZXJ0T25lOiBjcmVhdGVTdGF0ZU9wZXJhdG9yKHVwc2VydE9uZU11dGFibHkpLFxuICAgIHNldE9uZTogY3JlYXRlU3RhdGVPcGVyYXRvcihzZXRPbmVNdXRhYmx5KSxcbiAgICBzZXRNYW55OiBjcmVhdGVTdGF0ZU9wZXJhdG9yKHNldE1hbnlNdXRhYmx5KSxcbiAgICBzZXRBbGw6IGNyZWF0ZVN0YXRlT3BlcmF0b3Ioc2V0QWxsTXV0YWJseSksXG4gICAgYWRkTWFueTogY3JlYXRlU3RhdGVPcGVyYXRvcihhZGRNYW55TXV0YWJseSksXG4gICAgdXBkYXRlTWFueTogY3JlYXRlU3RhdGVPcGVyYXRvcih1cGRhdGVNYW55TXV0YWJseSksXG4gICAgdXBzZXJ0TWFueTogY3JlYXRlU3RhdGVPcGVyYXRvcih1cHNlcnRNYW55TXV0YWJseSlcbiAgfTtcbn0iLCJpbXBvcnQgeyBwcm9kdWNlIGFzIGNyZWF0ZU5leHRTdGF0ZSwgaXNEcmFmdCB9IGZyb20gJ2ltbWVyJztcbmltcG9ydCB0eXBlIHsgRHJhZnQgfSBmcm9tICdpbW1lcic7XG5pbXBvcnQgdHlwZSB7IEVudGl0eUlkLCBEcmFmdGFibGVFbnRpdHlTdGF0ZSwgUHJldmVudEFueSB9IGZyb20gJy4vbW9kZWxzJztcbmltcG9ydCB0eXBlIHsgUGF5bG9hZEFjdGlvbiB9IGZyb20gJy4uL2NyZWF0ZUFjdGlvbic7XG5pbXBvcnQgeyBpc0ZTQSB9IGZyb20gJy4uL2NyZWF0ZUFjdGlvbic7XG5leHBvcnQgY29uc3QgaXNEcmFmdFR5cGVkID0gKGlzRHJhZnQgYXMgPFQ+KHZhbHVlOiBUIHwgRHJhZnQ8VD4pID0+IHZhbHVlIGlzIERyYWZ0PFQ+KTtcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTaW5nbGVBcmd1bWVudFN0YXRlT3BlcmF0b3I8VCwgSWQgZXh0ZW5kcyBFbnRpdHlJZD4obXV0YXRvcjogKHN0YXRlOiBEcmFmdGFibGVFbnRpdHlTdGF0ZTxULCBJZD4pID0+IHZvaWQpIHtcbiAgY29uc3Qgb3BlcmF0b3IgPSBjcmVhdGVTdGF0ZU9wZXJhdG9yKChfOiB1bmRlZmluZWQsIHN0YXRlOiBEcmFmdGFibGVFbnRpdHlTdGF0ZTxULCBJZD4pID0+IG11dGF0b3Ioc3RhdGUpKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIG9wZXJhdGlvbjxTIGV4dGVuZHMgRHJhZnRhYmxlRW50aXR5U3RhdGU8VCwgSWQ+PihzdGF0ZTogUHJldmVudEFueTxTLCBULCBJZD4pOiBTIHtcbiAgICByZXR1cm4gb3BlcmF0b3IoKHN0YXRlIGFzIFMpLCB1bmRlZmluZWQpO1xuICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVN0YXRlT3BlcmF0b3I8VCwgSWQgZXh0ZW5kcyBFbnRpdHlJZCwgUj4obXV0YXRvcjogKGFyZzogUiwgc3RhdGU6IERyYWZ0YWJsZUVudGl0eVN0YXRlPFQsIElkPikgPT4gdm9pZCkge1xuICByZXR1cm4gZnVuY3Rpb24gb3BlcmF0aW9uPFMgZXh0ZW5kcyBEcmFmdGFibGVFbnRpdHlTdGF0ZTxULCBJZD4+KHN0YXRlOiBTLCBhcmc6IFIgfCBQYXlsb2FkQWN0aW9uPFI+KTogUyB7XG4gICAgZnVuY3Rpb24gaXNQYXlsb2FkQWN0aW9uQXJndW1lbnQoYXJnOiBSIHwgUGF5bG9hZEFjdGlvbjxSPik6IGFyZyBpcyBQYXlsb2FkQWN0aW9uPFI+IHtcbiAgICAgIHJldHVybiBpc0ZTQShhcmcpO1xuICAgIH1cbiAgICBjb25zdCBydW5NdXRhdG9yID0gKGRyYWZ0OiBEcmFmdGFibGVFbnRpdHlTdGF0ZTxULCBJZD4pID0+IHtcbiAgICAgIGlmIChpc1BheWxvYWRBY3Rpb25Bcmd1bWVudChhcmcpKSB7XG4gICAgICAgIG11dGF0b3IoYXJnLnBheWxvYWQsIGRyYWZ0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG11dGF0b3IoYXJnLCBkcmFmdCk7XG4gICAgICB9XG4gICAgfTtcbiAgICBpZiAoaXNEcmFmdFR5cGVkPERyYWZ0YWJsZUVudGl0eVN0YXRlPFQsIElkPj4oc3RhdGUpKSB7XG4gICAgICAvLyB3ZSBtdXN0IGFscmVhZHkgYmUgaW5zaWRlIGEgYGNyZWF0ZU5leHRTdGF0ZWAgY2FsbCwgbGlrZWx5IGJlY2F1c2VcbiAgICAgIC8vIHRoaXMgaXMgYmVpbmcgd3JhcHBlZCBpbiBgY3JlYXRlUmVkdWNlcmAgb3IgYGNyZWF0ZVNsaWNlYC5cbiAgICAgIC8vIEl0J3Mgc2FmZSB0byBqdXN0IHBhc3MgdGhlIGRyYWZ0IHRvIHRoZSBtdXRhdG9yLlxuICAgICAgcnVuTXV0YXRvcihzdGF0ZSk7XG5cbiAgICAgIC8vIHNpbmNlIGl0J3MgYSBkcmFmdCwgd2UnbGwganVzdCByZXR1cm4gaXRcbiAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9XG4gICAgcmV0dXJuIGNyZWF0ZU5leHRTdGF0ZShzdGF0ZSwgcnVuTXV0YXRvcik7XG4gIH07XG59IiwiaW1wb3J0IHsgY3VycmVudCwgaXNEcmFmdCB9IGZyb20gJ2ltbWVyJztcbmltcG9ydCB0eXBlIHsgSWRTZWxlY3RvciwgVXBkYXRlLCBFbnRpdHlJZCwgRHJhZnRhYmxlRW50aXR5U3RhdGUgfSBmcm9tICcuL21vZGVscyc7XG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0SWRWYWx1ZTxULCBJZCBleHRlbmRzIEVudGl0eUlkPihlbnRpdHk6IFQsIHNlbGVjdElkOiBJZFNlbGVjdG9yPFQsIElkPikge1xuICBjb25zdCBrZXkgPSBzZWxlY3RJZChlbnRpdHkpO1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBrZXkgPT09IHVuZGVmaW5lZCkge1xuICAgIGNvbnNvbGUud2FybignVGhlIGVudGl0eSBwYXNzZWQgdG8gdGhlIGBzZWxlY3RJZGAgaW1wbGVtZW50YXRpb24gcmV0dXJuZWQgdW5kZWZpbmVkLicsICdZb3Ugc2hvdWxkIHByb2JhYmx5IHByb3ZpZGUgeW91ciBvd24gYHNlbGVjdElkYCBpbXBsZW1lbnRhdGlvbi4nLCAnVGhlIGVudGl0eSB0aGF0IHdhcyBwYXNzZWQ6JywgZW50aXR5LCAnVGhlIGBzZWxlY3RJZGAgaW1wbGVtZW50YXRpb246Jywgc2VsZWN0SWQudG9TdHJpbmcoKSk7XG4gIH1cbiAgcmV0dXJuIGtleTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBlbnN1cmVFbnRpdGllc0FycmF5PFQsIElkIGV4dGVuZHMgRW50aXR5SWQ+KGVudGl0aWVzOiByZWFkb25seSBUW10gfCBSZWNvcmQ8SWQsIFQ+KTogcmVhZG9ubHkgVFtdIHtcbiAgaWYgKCFBcnJheS5pc0FycmF5KGVudGl0aWVzKSkge1xuICAgIGVudGl0aWVzID0gT2JqZWN0LnZhbHVlcyhlbnRpdGllcyk7XG4gIH1cbiAgcmV0dXJuIGVudGl0aWVzO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldEN1cnJlbnQ8VD4odmFsdWU6IFQpOiBUIHtcbiAgcmV0dXJuIGlzRHJhZnQodmFsdWUpID8gY3VycmVudCh2YWx1ZSkgOiB2YWx1ZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzcGxpdEFkZGVkVXBkYXRlZEVudGl0aWVzPFQsIElkIGV4dGVuZHMgRW50aXR5SWQ+KG5ld0VudGl0aWVzOiByZWFkb25seSBUW10gfCBSZWNvcmQ8SWQsIFQ+LCBzZWxlY3RJZDogSWRTZWxlY3RvcjxULCBJZD4sIHN0YXRlOiBEcmFmdGFibGVFbnRpdHlTdGF0ZTxULCBJZD4pOiBbVFtdLCBVcGRhdGU8VCwgSWQ+W10sIElkW11dIHtcbiAgbmV3RW50aXRpZXMgPSBlbnN1cmVFbnRpdGllc0FycmF5KG5ld0VudGl0aWVzKTtcbiAgY29uc3QgZXhpc3RpbmdJZHNBcnJheSA9IChnZXRDdXJyZW50KHN0YXRlLmlkcykgYXMgSWRbXSk7XG4gIGNvbnN0IGV4aXN0aW5nSWRzID0gbmV3IFNldDxJZD4oZXhpc3RpbmdJZHNBcnJheSk7XG4gIGNvbnN0IGFkZGVkOiBUW10gPSBbXTtcbiAgY29uc3QgdXBkYXRlZDogVXBkYXRlPFQsIElkPltdID0gW107XG4gIGZvciAoY29uc3QgZW50aXR5IG9mIG5ld0VudGl0aWVzKSB7XG4gICAgY29uc3QgaWQgPSBzZWxlY3RJZFZhbHVlKGVudGl0eSwgc2VsZWN0SWQpO1xuICAgIGlmIChleGlzdGluZ0lkcy5oYXMoaWQpKSB7XG4gICAgICB1cGRhdGVkLnB1c2goe1xuICAgICAgICBpZCxcbiAgICAgICAgY2hhbmdlczogZW50aXR5XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgYWRkZWQucHVzaChlbnRpdHkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gW2FkZGVkLCB1cGRhdGVkLCBleGlzdGluZ0lkc0FycmF5XTtcbn0iLCJpbXBvcnQgdHlwZSB7IERyYWZ0IH0gZnJvbSAnaW1tZXInO1xuaW1wb3J0IHR5cGUgeyBFbnRpdHlTdGF0ZUFkYXB0ZXIsIElkU2VsZWN0b3IsIFVwZGF0ZSwgRW50aXR5SWQsIERyYWZ0YWJsZUVudGl0eVN0YXRlIH0gZnJvbSAnLi9tb2RlbHMnO1xuaW1wb3J0IHsgY3JlYXRlU3RhdGVPcGVyYXRvciwgY3JlYXRlU2luZ2xlQXJndW1lbnRTdGF0ZU9wZXJhdG9yIH0gZnJvbSAnLi9zdGF0ZV9hZGFwdGVyJztcbmltcG9ydCB7IHNlbGVjdElkVmFsdWUsIGVuc3VyZUVudGl0aWVzQXJyYXksIHNwbGl0QWRkZWRVcGRhdGVkRW50aXRpZXMgfSBmcm9tICcuL3V0aWxzJztcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVVbnNvcnRlZFN0YXRlQWRhcHRlcjxULCBJZCBleHRlbmRzIEVudGl0eUlkPihzZWxlY3RJZDogSWRTZWxlY3RvcjxULCBJZD4pOiBFbnRpdHlTdGF0ZUFkYXB0ZXI8VCwgSWQ+IHtcbiAgdHlwZSBSID0gRHJhZnRhYmxlRW50aXR5U3RhdGU8VCwgSWQ+O1xuICBmdW5jdGlvbiBhZGRPbmVNdXRhYmx5KGVudGl0eTogVCwgc3RhdGU6IFIpOiB2b2lkIHtcbiAgICBjb25zdCBrZXkgPSBzZWxlY3RJZFZhbHVlKGVudGl0eSwgc2VsZWN0SWQpO1xuICAgIGlmIChrZXkgaW4gc3RhdGUuZW50aXRpZXMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc3RhdGUuaWRzLnB1c2goKGtleSBhcyBJZCAmIERyYWZ0PElkPikpO1xuICAgIChzdGF0ZS5lbnRpdGllcyBhcyBSZWNvcmQ8SWQsIFQ+KVtrZXldID0gZW50aXR5O1xuICB9XG4gIGZ1bmN0aW9uIGFkZE1hbnlNdXRhYmx5KG5ld0VudGl0aWVzOiByZWFkb25seSBUW10gfCBSZWNvcmQ8SWQsIFQ+LCBzdGF0ZTogUik6IHZvaWQge1xuICAgIG5ld0VudGl0aWVzID0gZW5zdXJlRW50aXRpZXNBcnJheShuZXdFbnRpdGllcyk7XG4gICAgZm9yIChjb25zdCBlbnRpdHkgb2YgbmV3RW50aXRpZXMpIHtcbiAgICAgIGFkZE9uZU11dGFibHkoZW50aXR5LCBzdGF0ZSk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIHNldE9uZU11dGFibHkoZW50aXR5OiBULCBzdGF0ZTogUik6IHZvaWQge1xuICAgIGNvbnN0IGtleSA9IHNlbGVjdElkVmFsdWUoZW50aXR5LCBzZWxlY3RJZCk7XG4gICAgaWYgKCEoa2V5IGluIHN0YXRlLmVudGl0aWVzKSkge1xuICAgICAgc3RhdGUuaWRzLnB1c2goKGtleSBhcyBJZCAmIERyYWZ0PElkPikpO1xuICAgIH1cbiAgICA7XG4gICAgKHN0YXRlLmVudGl0aWVzIGFzIFJlY29yZDxJZCwgVD4pW2tleV0gPSBlbnRpdHk7XG4gIH1cbiAgZnVuY3Rpb24gc2V0TWFueU11dGFibHkobmV3RW50aXRpZXM6IHJlYWRvbmx5IFRbXSB8IFJlY29yZDxJZCwgVD4sIHN0YXRlOiBSKTogdm9pZCB7XG4gICAgbmV3RW50aXRpZXMgPSBlbnN1cmVFbnRpdGllc0FycmF5KG5ld0VudGl0aWVzKTtcbiAgICBmb3IgKGNvbnN0IGVudGl0eSBvZiBuZXdFbnRpdGllcykge1xuICAgICAgc2V0T25lTXV0YWJseShlbnRpdHksIHN0YXRlKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gc2V0QWxsTXV0YWJseShuZXdFbnRpdGllczogcmVhZG9ubHkgVFtdIHwgUmVjb3JkPElkLCBUPiwgc3RhdGU6IFIpOiB2b2lkIHtcbiAgICBuZXdFbnRpdGllcyA9IGVuc3VyZUVudGl0aWVzQXJyYXkobmV3RW50aXRpZXMpO1xuICAgIHN0YXRlLmlkcyA9IFtdO1xuICAgIHN0YXRlLmVudGl0aWVzID0gKHt9IGFzIFJlY29yZDxJZCwgVD4pO1xuICAgIGFkZE1hbnlNdXRhYmx5KG5ld0VudGl0aWVzLCBzdGF0ZSk7XG4gIH1cbiAgZnVuY3Rpb24gcmVtb3ZlT25lTXV0YWJseShrZXk6IElkLCBzdGF0ZTogUik6IHZvaWQge1xuICAgIHJldHVybiByZW1vdmVNYW55TXV0YWJseShba2V5XSwgc3RhdGUpO1xuICB9XG4gIGZ1bmN0aW9uIHJlbW92ZU1hbnlNdXRhYmx5KGtleXM6IHJlYWRvbmx5IElkW10sIHN0YXRlOiBSKTogdm9pZCB7XG4gICAgbGV0IGRpZE11dGF0ZSA9IGZhbHNlO1xuICAgIGtleXMuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgaWYgKGtleSBpbiBzdGF0ZS5lbnRpdGllcykge1xuICAgICAgICBkZWxldGUgKHN0YXRlLmVudGl0aWVzIGFzIFJlY29yZDxJZCwgVD4pW2tleV07XG4gICAgICAgIGRpZE11dGF0ZSA9IHRydWU7XG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKGRpZE11dGF0ZSkge1xuICAgICAgc3RhdGUuaWRzID0gKChzdGF0ZS5pZHMgYXMgSWRbXSkuZmlsdGVyKGlkID0+IGlkIGluIHN0YXRlLmVudGl0aWVzKSBhcyBJZFtdIHwgRHJhZnQ8SWRbXT4pO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiByZW1vdmVBbGxNdXRhYmx5KHN0YXRlOiBSKTogdm9pZCB7XG4gICAgT2JqZWN0LmFzc2lnbihzdGF0ZSwge1xuICAgICAgaWRzOiBbXSxcbiAgICAgIGVudGl0aWVzOiB7fVxuICAgIH0pO1xuICB9XG4gIGZ1bmN0aW9uIHRha2VOZXdLZXkoa2V5czoge1xuICAgIFtpZDogc3RyaW5nXTogSWQ7XG4gIH0sIHVwZGF0ZTogVXBkYXRlPFQsIElkPiwgc3RhdGU6IFIpOiBib29sZWFuIHtcbiAgICBjb25zdCBvcmlnaW5hbDogVCB8IHVuZGVmaW5lZCA9IChzdGF0ZS5lbnRpdGllcyBhcyBSZWNvcmQ8SWQsIFQ+KVt1cGRhdGUuaWRdO1xuICAgIGlmIChvcmlnaW5hbCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IHVwZGF0ZWQ6IFQgPSBPYmplY3QuYXNzaWduKHt9LCBvcmlnaW5hbCwgdXBkYXRlLmNoYW5nZXMpO1xuICAgIGNvbnN0IG5ld0tleSA9IHNlbGVjdElkVmFsdWUodXBkYXRlZCwgc2VsZWN0SWQpO1xuICAgIGNvbnN0IGhhc05ld0tleSA9IG5ld0tleSAhPT0gdXBkYXRlLmlkO1xuICAgIGlmIChoYXNOZXdLZXkpIHtcbiAgICAgIGtleXNbdXBkYXRlLmlkXSA9IG5ld0tleTtcbiAgICAgIGRlbGV0ZSAoc3RhdGUuZW50aXRpZXMgYXMgUmVjb3JkPElkLCBUPilbdXBkYXRlLmlkXTtcbiAgICB9XG4gICAgO1xuICAgIChzdGF0ZS5lbnRpdGllcyBhcyBSZWNvcmQ8SWQsIFQ+KVtuZXdLZXldID0gdXBkYXRlZDtcbiAgICByZXR1cm4gaGFzTmV3S2V5O1xuICB9XG4gIGZ1bmN0aW9uIHVwZGF0ZU9uZU11dGFibHkodXBkYXRlOiBVcGRhdGU8VCwgSWQ+LCBzdGF0ZTogUik6IHZvaWQge1xuICAgIHJldHVybiB1cGRhdGVNYW55TXV0YWJseShbdXBkYXRlXSwgc3RhdGUpO1xuICB9XG4gIGZ1bmN0aW9uIHVwZGF0ZU1hbnlNdXRhYmx5KHVwZGF0ZXM6IFJlYWRvbmx5QXJyYXk8VXBkYXRlPFQsIElkPj4sIHN0YXRlOiBSKTogdm9pZCB7XG4gICAgY29uc3QgbmV3S2V5czoge1xuICAgICAgW2lkOiBzdHJpbmddOiBJZDtcbiAgICB9ID0ge307XG4gICAgY29uc3QgdXBkYXRlc1BlckVudGl0eToge1xuICAgICAgW2lkOiBzdHJpbmddOiBVcGRhdGU8VCwgSWQ+O1xuICAgIH0gPSB7fTtcbiAgICB1cGRhdGVzLmZvckVhY2godXBkYXRlID0+IHtcbiAgICAgIC8vIE9ubHkgYXBwbHkgdXBkYXRlcyB0byBlbnRpdGllcyB0aGF0IGN1cnJlbnRseSBleGlzdFxuICAgICAgaWYgKHVwZGF0ZS5pZCBpbiBzdGF0ZS5lbnRpdGllcykge1xuICAgICAgICAvLyBJZiB0aGVyZSBhcmUgbXVsdGlwbGUgdXBkYXRlcyB0byBvbmUgZW50aXR5LCBtZXJnZSB0aGVtIHRvZ2V0aGVyXG4gICAgICAgIHVwZGF0ZXNQZXJFbnRpdHlbdXBkYXRlLmlkXSA9IHtcbiAgICAgICAgICBpZDogdXBkYXRlLmlkLFxuICAgICAgICAgIC8vIFNwcmVhZHMgaWdub3JlIGZhbHN5IHZhbHVlcywgc28gdGhpcyB3b3JrcyBldmVuIGlmIHRoZXJlIGlzbid0XG4gICAgICAgICAgLy8gYW4gZXhpc3RpbmcgdXBkYXRlIGFscmVhZHkgYXQgdGhpcyBrZXlcbiAgICAgICAgICBjaGFuZ2VzOiB7XG4gICAgICAgICAgICAuLi4odXBkYXRlc1BlckVudGl0eVt1cGRhdGUuaWRdID8gdXBkYXRlc1BlckVudGl0eVt1cGRhdGUuaWRdLmNoYW5nZXMgOiBudWxsKSxcbiAgICAgICAgICAgIC4uLnVwZGF0ZS5jaGFuZ2VzXG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH0pO1xuICAgIHVwZGF0ZXMgPSBPYmplY3QudmFsdWVzKHVwZGF0ZXNQZXJFbnRpdHkpO1xuICAgIGNvbnN0IGRpZE11dGF0ZUVudGl0aWVzID0gdXBkYXRlcy5sZW5ndGggPiAwO1xuICAgIGlmIChkaWRNdXRhdGVFbnRpdGllcykge1xuICAgICAgY29uc3QgZGlkTXV0YXRlSWRzID0gdXBkYXRlcy5maWx0ZXIodXBkYXRlID0+IHRha2VOZXdLZXkobmV3S2V5cywgdXBkYXRlLCBzdGF0ZSkpLmxlbmd0aCA+IDA7XG4gICAgICBpZiAoZGlkTXV0YXRlSWRzKSB7XG4gICAgICAgIHN0YXRlLmlkcyA9IE9iamVjdC52YWx1ZXMoc3RhdGUuZW50aXRpZXMpLm1hcChlID0+IHNlbGVjdElkVmFsdWUoKGUgYXMgVCksIHNlbGVjdElkKSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIHVwc2VydE9uZU11dGFibHkoZW50aXR5OiBULCBzdGF0ZTogUik6IHZvaWQge1xuICAgIHJldHVybiB1cHNlcnRNYW55TXV0YWJseShbZW50aXR5XSwgc3RhdGUpO1xuICB9XG4gIGZ1bmN0aW9uIHVwc2VydE1hbnlNdXRhYmx5KG5ld0VudGl0aWVzOiByZWFkb25seSBUW10gfCBSZWNvcmQ8SWQsIFQ+LCBzdGF0ZTogUik6IHZvaWQge1xuICAgIGNvbnN0IFthZGRlZCwgdXBkYXRlZF0gPSBzcGxpdEFkZGVkVXBkYXRlZEVudGl0aWVzPFQsIElkPihuZXdFbnRpdGllcywgc2VsZWN0SWQsIHN0YXRlKTtcbiAgICB1cGRhdGVNYW55TXV0YWJseSh1cGRhdGVkLCBzdGF0ZSk7XG4gICAgYWRkTWFueU11dGFibHkoYWRkZWQsIHN0YXRlKTtcbiAgfVxuICByZXR1cm4ge1xuICAgIHJlbW92ZUFsbDogY3JlYXRlU2luZ2xlQXJndW1lbnRTdGF0ZU9wZXJhdG9yKHJlbW92ZUFsbE11dGFibHkpLFxuICAgIGFkZE9uZTogY3JlYXRlU3RhdGVPcGVyYXRvcihhZGRPbmVNdXRhYmx5KSxcbiAgICBhZGRNYW55OiBjcmVhdGVTdGF0ZU9wZXJhdG9yKGFkZE1hbnlNdXRhYmx5KSxcbiAgICBzZXRPbmU6IGNyZWF0ZVN0YXRlT3BlcmF0b3Ioc2V0T25lTXV0YWJseSksXG4gICAgc2V0TWFueTogY3JlYXRlU3RhdGVPcGVyYXRvcihzZXRNYW55TXV0YWJseSksXG4gICAgc2V0QWxsOiBjcmVhdGVTdGF0ZU9wZXJhdG9yKHNldEFsbE11dGFibHkpLFxuICAgIHVwZGF0ZU9uZTogY3JlYXRlU3RhdGVPcGVyYXRvcih1cGRhdGVPbmVNdXRhYmx5KSxcbiAgICB1cGRhdGVNYW55OiBjcmVhdGVTdGF0ZU9wZXJhdG9yKHVwZGF0ZU1hbnlNdXRhYmx5KSxcbiAgICB1cHNlcnRPbmU6IGNyZWF0ZVN0YXRlT3BlcmF0b3IodXBzZXJ0T25lTXV0YWJseSksXG4gICAgdXBzZXJ0TWFueTogY3JlYXRlU3RhdGVPcGVyYXRvcih1cHNlcnRNYW55TXV0YWJseSksXG4gICAgcmVtb3ZlT25lOiBjcmVhdGVTdGF0ZU9wZXJhdG9yKHJlbW92ZU9uZU11dGFibHkpLFxuICAgIHJlbW92ZU1hbnk6IGNyZWF0ZVN0YXRlT3BlcmF0b3IocmVtb3ZlTWFueU11dGFibHkpXG4gIH07XG59IiwiaW1wb3J0IHR5cGUgeyBFbnRpdHlBZGFwdGVyLCBFbnRpdHlJZCwgRW50aXR5QWRhcHRlck9wdGlvbnMgfSBmcm9tICcuL21vZGVscyc7XG5pbXBvcnQgeyBjcmVhdGVJbml0aWFsU3RhdGVGYWN0b3J5IH0gZnJvbSAnLi9lbnRpdHlfc3RhdGUnO1xuaW1wb3J0IHsgY3JlYXRlU2VsZWN0b3JzRmFjdG9yeSB9IGZyb20gJy4vc3RhdGVfc2VsZWN0b3JzJztcbmltcG9ydCB7IGNyZWF0ZVNvcnRlZFN0YXRlQWRhcHRlciB9IGZyb20gJy4vc29ydGVkX3N0YXRlX2FkYXB0ZXInO1xuaW1wb3J0IHsgY3JlYXRlVW5zb3J0ZWRTdGF0ZUFkYXB0ZXIgfSBmcm9tICcuL3Vuc29ydGVkX3N0YXRlX2FkYXB0ZXInO1xuaW1wb3J0IHR5cGUgeyBXaXRoUmVxdWlyZWRQcm9wIH0gZnJvbSAnLi4vdHNIZWxwZXJzJztcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVFbnRpdHlBZGFwdGVyPFQsIElkIGV4dGVuZHMgRW50aXR5SWQ+KG9wdGlvbnM6IFdpdGhSZXF1aXJlZFByb3A8RW50aXR5QWRhcHRlck9wdGlvbnM8VCwgSWQ+LCAnc2VsZWN0SWQnPik6IEVudGl0eUFkYXB0ZXI8VCwgSWQ+O1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUVudGl0eUFkYXB0ZXI8VCBleHRlbmRzIHtcbiAgaWQ6IEVudGl0eUlkO1xufT4ob3B0aW9ucz86IE9taXQ8RW50aXR5QWRhcHRlck9wdGlvbnM8VCwgVFsnaWQnXT4sICdzZWxlY3RJZCc+KTogRW50aXR5QWRhcHRlcjxULCBUWydpZCddPjtcblxuLyoqXHJcbiAqXHJcbiAqIEBwYXJhbSBvcHRpb25zXHJcbiAqXHJcbiAqIEBwdWJsaWNcclxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRW50aXR5QWRhcHRlcjxUPihvcHRpb25zOiBFbnRpdHlBZGFwdGVyT3B0aW9uczxULCBFbnRpdHlJZD4gPSB7fSk6IEVudGl0eUFkYXB0ZXI8VCwgRW50aXR5SWQ+IHtcbiAgY29uc3Qge1xuICAgIHNlbGVjdElkLFxuICAgIHNvcnRDb21wYXJlclxuICB9OiBSZXF1aXJlZDxFbnRpdHlBZGFwdGVyT3B0aW9uczxULCBFbnRpdHlJZD4+ID0ge1xuICAgIHNvcnRDb21wYXJlcjogZmFsc2UsXG4gICAgc2VsZWN0SWQ6IChpbnN0YW5jZTogYW55KSA9PiBpbnN0YW5jZS5pZCxcbiAgICAuLi5vcHRpb25zXG4gIH07XG4gIGNvbnN0IHN0YXRlQWRhcHRlciA9IHNvcnRDb21wYXJlciA/IGNyZWF0ZVNvcnRlZFN0YXRlQWRhcHRlcihzZWxlY3RJZCwgc29ydENvbXBhcmVyKSA6IGNyZWF0ZVVuc29ydGVkU3RhdGVBZGFwdGVyKHNlbGVjdElkKTtcbiAgY29uc3Qgc3RhdGVGYWN0b3J5ID0gY3JlYXRlSW5pdGlhbFN0YXRlRmFjdG9yeShzdGF0ZUFkYXB0ZXIpO1xuICBjb25zdCBzZWxlY3RvcnNGYWN0b3J5ID0gY3JlYXRlU2VsZWN0b3JzRmFjdG9yeTxULCBFbnRpdHlJZD4oKTtcbiAgcmV0dXJuIHtcbiAgICBzZWxlY3RJZCxcbiAgICBzb3J0Q29tcGFyZXIsXG4gICAgLi4uc3RhdGVGYWN0b3J5LFxuICAgIC4uLnNlbGVjdG9yc0ZhY3RvcnksXG4gICAgLi4uc3RhdGVBZGFwdGVyXG4gIH07XG59IiwiaW1wb3J0IHsgZm9ybWF0UHJvZEVycm9yTWVzc2FnZSBhcyBfZm9ybWF0UHJvZEVycm9yTWVzc2FnZTMgfSBmcm9tIFwiQHJlZHV4anMvdG9vbGtpdFwiO1xuaW1wb3J0IHsgZm9ybWF0UHJvZEVycm9yTWVzc2FnZSBhcyBfZm9ybWF0UHJvZEVycm9yTWVzc2FnZTIgfSBmcm9tIFwiQHJlZHV4anMvdG9vbGtpdFwiO1xuaW1wb3J0IHsgZm9ybWF0UHJvZEVycm9yTWVzc2FnZSBhcyBfZm9ybWF0UHJvZEVycm9yTWVzc2FnZSB9IGZyb20gXCJAcmVkdXhqcy90b29sa2l0XCI7XG5pbXBvcnQgdHlwZSB7IEFjdGlvbiwgRGlzcGF0Y2gsIE1pZGRsZXdhcmVBUEksIFVua25vd25BY3Rpb24gfSBmcm9tICdyZWR1eCc7XG5pbXBvcnQgeyBpc0FjdGlvbiB9IGZyb20gJ3JlZHV4JztcbmltcG9ydCB0eXBlIHsgVGh1bmtEaXNwYXRjaCB9IGZyb20gJ3JlZHV4LXRodW5rJztcbmltcG9ydCB7IGNyZWF0ZUFjdGlvbiB9IGZyb20gJy4uL2NyZWF0ZUFjdGlvbic7XG5pbXBvcnQgeyBuYW5vaWQgfSBmcm9tICcuLi9uYW5vaWQnO1xuaW1wb3J0IHsgZmluZCB9IGZyb20gJy4uL3V0aWxzJztcbmltcG9ydCB7IFRhc2tBYm9ydEVycm9yLCBsaXN0ZW5lckNhbmNlbGxlZCwgbGlzdGVuZXJDb21wbGV0ZWQsIHRhc2tDYW5jZWxsZWQsIHRhc2tDb21wbGV0ZWQgfSBmcm9tICcuL2V4Y2VwdGlvbnMnO1xuaW1wb3J0IHsgY3JlYXRlRGVsYXksIGNyZWF0ZVBhdXNlLCByYWNlV2l0aFNpZ25hbCwgcnVuVGFzaywgdmFsaWRhdGVBY3RpdmUgfSBmcm9tICcuL3Rhc2snO1xuaW1wb3J0IHR5cGUgeyBBYm9ydFNpZ25hbFdpdGhSZWFzb24sIEFkZExpc3RlbmVyT3ZlcmxvYWRzLCBBbnlMaXN0ZW5lclByZWRpY2F0ZSwgQ3JlYXRlTGlzdGVuZXJNaWRkbGV3YXJlT3B0aW9ucywgRmFsbGJhY2tBZGRMaXN0ZW5lck9wdGlvbnMsIEZvcmtPcHRpb25zLCBGb3JrZWRUYXNrLCBGb3JrZWRUYXNrRXhlY3V0b3IsIExpc3RlbmVyRW50cnksIExpc3RlbmVyRXJyb3JIYW5kbGVyLCBMaXN0ZW5lckVycm9ySW5mbywgTGlzdGVuZXJNaWRkbGV3YXJlLCBMaXN0ZW5lck1pZGRsZXdhcmVJbnN0YW5jZSwgVGFrZVBhdHRlcm4sIFRhc2tSZXN1bHQsIFR5cGVkQWRkTGlzdGVuZXIsIFR5cGVkQ3JlYXRlTGlzdGVuZXJFbnRyeSwgVHlwZWRSZW1vdmVMaXN0ZW5lciwgVW5zdWJzY3JpYmVMaXN0ZW5lciwgVW5zdWJzY3JpYmVMaXN0ZW5lck9wdGlvbnMgfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IGFib3J0Q29udHJvbGxlcldpdGhSZWFzb24sIGFkZEFib3J0U2lnbmFsTGlzdGVuZXIsIGFzc2VydEZ1bmN0aW9uLCBjYXRjaFJlamVjdGlvbiwgbm9vcCB9IGZyb20gJy4vdXRpbHMnO1xuZXhwb3J0IHsgVGFza0Fib3J0RXJyb3IgfSBmcm9tICcuL2V4Y2VwdGlvbnMnO1xuZXhwb3J0IHR5cGUgeyBBc3luY1Rhc2tFeGVjdXRvciwgQ3JlYXRlTGlzdGVuZXJNaWRkbGV3YXJlT3B0aW9ucywgRm9ya2VkVGFzaywgRm9ya2VkVGFza0FQSSwgRm9ya2VkVGFza0V4ZWN1dG9yLCBMaXN0ZW5lckVmZmVjdCwgTGlzdGVuZXJFZmZlY3RBUEksIExpc3RlbmVyRXJyb3JIYW5kbGVyLCBMaXN0ZW5lck1pZGRsZXdhcmUsIExpc3RlbmVyTWlkZGxld2FyZUluc3RhbmNlLCBTeW5jVGFza0V4ZWN1dG9yLCBUYXNrQ2FuY2VsbGVkLCBUYXNrUmVqZWN0ZWQsIFRhc2tSZXNvbHZlZCwgVGFza1Jlc3VsdCwgVHlwZWRBZGRMaXN0ZW5lciwgVHlwZWRSZW1vdmVMaXN0ZW5lciwgVHlwZWRTdGFydExpc3RlbmluZywgVHlwZWRTdG9wTGlzdGVuaW5nLCBVbnN1YnNjcmliZUxpc3RlbmVyLCBVbnN1YnNjcmliZUxpc3RlbmVyT3B0aW9ucyB9IGZyb20gJy4vdHlwZXMnO1xuXG4vL092ZXJseS1hZ2dyZXNzaXZlIGJ5dGUtc2hhdmluZ1xuY29uc3Qge1xuICBhc3NpZ25cbn0gPSBPYmplY3Q7XG4vKipcclxuICogQGludGVybmFsXHJcbiAqL1xuY29uc3QgSU5URVJOQUxfTklMX1RPS0VOID0gKHt9IGFzIGNvbnN0KTtcbmNvbnN0IGFsbSA9ICgnbGlzdGVuZXJNaWRkbGV3YXJlJyBhcyBjb25zdCk7XG5jb25zdCBjcmVhdGVGb3JrID0gKHBhcmVudEFib3J0U2lnbmFsOiBBYm9ydFNpZ25hbFdpdGhSZWFzb248dW5rbm93bj4sIHBhcmVudEJsb2NraW5nUHJvbWlzZXM6IFByb21pc2U8YW55PltdKSA9PiB7XG4gIGNvbnN0IGxpbmtDb250cm9sbGVycyA9IChjb250cm9sbGVyOiBBYm9ydENvbnRyb2xsZXIpID0+IGFkZEFib3J0U2lnbmFsTGlzdGVuZXIocGFyZW50QWJvcnRTaWduYWwsICgpID0+IGFib3J0Q29udHJvbGxlcldpdGhSZWFzb24oY29udHJvbGxlciwgcGFyZW50QWJvcnRTaWduYWwucmVhc29uKSk7XG4gIHJldHVybiA8VCw+KHRhc2tFeGVjdXRvcjogRm9ya2VkVGFza0V4ZWN1dG9yPFQ+LCBvcHRzPzogRm9ya09wdGlvbnMpOiBGb3JrZWRUYXNrPFQ+ID0+IHtcbiAgICBhc3NlcnRGdW5jdGlvbih0YXNrRXhlY3V0b3IsICd0YXNrRXhlY3V0b3InKTtcbiAgICBjb25zdCBjaGlsZEFib3J0Q29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICBsaW5rQ29udHJvbGxlcnMoY2hpbGRBYm9ydENvbnRyb2xsZXIpO1xuICAgIGNvbnN0IHJlc3VsdCA9IHJ1blRhc2s8VD4oYXN5bmMgKCk6IFByb21pc2U8VD4gPT4ge1xuICAgICAgdmFsaWRhdGVBY3RpdmUocGFyZW50QWJvcnRTaWduYWwpO1xuICAgICAgdmFsaWRhdGVBY3RpdmUoY2hpbGRBYm9ydENvbnRyb2xsZXIuc2lnbmFsKTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IChhd2FpdCB0YXNrRXhlY3V0b3Ioe1xuICAgICAgICBwYXVzZTogY3JlYXRlUGF1c2UoY2hpbGRBYm9ydENvbnRyb2xsZXIuc2lnbmFsKSxcbiAgICAgICAgZGVsYXk6IGNyZWF0ZURlbGF5KGNoaWxkQWJvcnRDb250cm9sbGVyLnNpZ25hbCksXG4gICAgICAgIHNpZ25hbDogY2hpbGRBYm9ydENvbnRyb2xsZXIuc2lnbmFsXG4gICAgICB9KSBhcyBUKTtcbiAgICAgIHZhbGlkYXRlQWN0aXZlKGNoaWxkQWJvcnRDb250cm9sbGVyLnNpZ25hbCk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0sICgpID0+IGFib3J0Q29udHJvbGxlcldpdGhSZWFzb24oY2hpbGRBYm9ydENvbnRyb2xsZXIsIHRhc2tDb21wbGV0ZWQpKTtcbiAgICBpZiAob3B0cz8uYXV0b0pvaW4pIHtcbiAgICAgIHBhcmVudEJsb2NraW5nUHJvbWlzZXMucHVzaChyZXN1bHQuY2F0Y2gobm9vcCkpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgcmVzdWx0OiBjcmVhdGVQYXVzZTxUYXNrUmVzdWx0PFQ+PihwYXJlbnRBYm9ydFNpZ25hbCkocmVzdWx0KSxcbiAgICAgIGNhbmNlbCgpIHtcbiAgICAgICAgYWJvcnRDb250cm9sbGVyV2l0aFJlYXNvbihjaGlsZEFib3J0Q29udHJvbGxlciwgdGFza0NhbmNlbGxlZCk7XG4gICAgICB9XG4gICAgfTtcbiAgfTtcbn07XG5jb25zdCBjcmVhdGVUYWtlUGF0dGVybiA9IDxTLD4oc3RhcnRMaXN0ZW5pbmc6IEFkZExpc3RlbmVyT3ZlcmxvYWRzPFVuc3Vic2NyaWJlTGlzdGVuZXIsIFMsIERpc3BhdGNoPiwgc2lnbmFsOiBBYm9ydFNpZ25hbCk6IFRha2VQYXR0ZXJuPFM+ID0+IHtcbiAgLyoqXHJcbiAgICogQSBmdW5jdGlvbiB0aGF0IHRha2VzIGEgTGlzdGVuZXJQcmVkaWNhdGUgYW5kIGFuIG9wdGlvbmFsIHRpbWVvdXQsXHJcbiAgICogYW5kIHJlc29sdmVzIHdoZW4gZWl0aGVyIHRoZSBwcmVkaWNhdGUgcmV0dXJucyBgdHJ1ZWAgYmFzZWQgb24gYW4gYWN0aW9uXHJcbiAgICogc3RhdGUgY29tYmluYXRpb24gb3Igd2hlbiB0aGUgdGltZW91dCBleHBpcmVzLlxyXG4gICAqIElmIHRoZSBwYXJlbnQgbGlzdGVuZXIgaXMgY2FuY2VsZWQgd2hpbGUgd2FpdGluZywgdGhpcyB3aWxsIHRocm93IGFcclxuICAgKiBUYXNrQWJvcnRFcnJvci5cclxuICAgKi9cbiAgY29uc3QgdGFrZSA9IGFzeW5jIDxQIGV4dGVuZHMgQW55TGlzdGVuZXJQcmVkaWNhdGU8Uz4sPihwcmVkaWNhdGU6IFAsIHRpbWVvdXQ6IG51bWJlciB8IHVuZGVmaW5lZCkgPT4ge1xuICAgIHZhbGlkYXRlQWN0aXZlKHNpZ25hbCk7XG5cbiAgICAvLyBQbGFjZWhvbGRlciB1bnN1YnNjcmliZSBmdW5jdGlvbiB1bnRpbCB0aGUgbGlzdGVuZXIgaXMgYWRkZWRcbiAgICBsZXQgdW5zdWJzY3JpYmU6IFVuc3Vic2NyaWJlTGlzdGVuZXIgPSAoKSA9PiB7fTtcbiAgICBjb25zdCB0dXBsZVByb21pc2UgPSBuZXcgUHJvbWlzZTxbQWN0aW9uLCBTLCBTXT4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgLy8gSW5zaWRlIHRoZSBQcm9taXNlLCB3ZSBzeW5jaHJvbm91c2x5IGFkZCB0aGUgbGlzdGVuZXIuXG4gICAgICBsZXQgc3RvcExpc3RlbmluZyA9IHN0YXJ0TGlzdGVuaW5nKHtcbiAgICAgICAgcHJlZGljYXRlOiAocHJlZGljYXRlIGFzIGFueSksXG4gICAgICAgIGVmZmVjdDogKGFjdGlvbiwgbGlzdGVuZXJBcGkpOiB2b2lkID0+IHtcbiAgICAgICAgICAvLyBPbmUtc2hvdCBsaXN0ZW5lciB0aGF0IGNsZWFucyB1cCBhcyBzb29uIGFzIHRoZSBwcmVkaWNhdGUgcGFzc2VzXG4gICAgICAgICAgbGlzdGVuZXJBcGkudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAvLyBSZXNvbHZlIHRoZSBwcm9taXNlIHdpdGggdGhlIHNhbWUgYXJndW1lbnRzIHRoZSBwcmVkaWNhdGUgc2F3XG4gICAgICAgICAgcmVzb2x2ZShbYWN0aW9uLCBsaXN0ZW5lckFwaS5nZXRTdGF0ZSgpLCBsaXN0ZW5lckFwaS5nZXRPcmlnaW5hbFN0YXRlKCldKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICB1bnN1YnNjcmliZSA9ICgpID0+IHtcbiAgICAgICAgc3RvcExpc3RlbmluZygpO1xuICAgICAgICByZWplY3QoKTtcbiAgICAgIH07XG4gICAgfSk7XG4gICAgY29uc3QgcHJvbWlzZXM6IChQcm9taXNlPG51bGw+IHwgUHJvbWlzZTxbQWN0aW9uLCBTLCBTXT4pW10gPSBbdHVwbGVQcm9taXNlXTtcbiAgICBpZiAodGltZW91dCAhPSBudWxsKSB7XG4gICAgICBwcm9taXNlcy5wdXNoKG5ldyBQcm9taXNlPG51bGw+KHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCB0aW1lb3V0LCBudWxsKSkpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgY29uc3Qgb3V0cHV0ID0gYXdhaXQgcmFjZVdpdGhTaWduYWwoc2lnbmFsLCBQcm9taXNlLnJhY2UocHJvbWlzZXMpKTtcbiAgICAgIHZhbGlkYXRlQWN0aXZlKHNpZ25hbCk7XG4gICAgICByZXR1cm4gb3V0cHV0O1xuICAgIH0gZmluYWxseSB7XG4gICAgICAvLyBBbHdheXMgY2xlYW4gdXAgdGhlIGxpc3RlbmVyXG4gICAgICB1bnN1YnNjcmliZSgpO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuICgoKHByZWRpY2F0ZTogQW55TGlzdGVuZXJQcmVkaWNhdGU8Uz4sIHRpbWVvdXQ6IG51bWJlciB8IHVuZGVmaW5lZCkgPT4gY2F0Y2hSZWplY3Rpb24odGFrZShwcmVkaWNhdGUsIHRpbWVvdXQpKSkgYXMgVGFrZVBhdHRlcm48Uz4pO1xufTtcbmNvbnN0IGdldExpc3RlbmVyRW50cnlQcm9wc0Zyb20gPSAob3B0aW9uczogRmFsbGJhY2tBZGRMaXN0ZW5lck9wdGlvbnMpID0+IHtcbiAgbGV0IHtcbiAgICB0eXBlLFxuICAgIGFjdGlvbkNyZWF0b3IsXG4gICAgbWF0Y2hlcixcbiAgICBwcmVkaWNhdGUsXG4gICAgZWZmZWN0XG4gIH0gPSBvcHRpb25zO1xuICBpZiAodHlwZSkge1xuICAgIHByZWRpY2F0ZSA9IGNyZWF0ZUFjdGlvbih0eXBlKS5tYXRjaDtcbiAgfSBlbHNlIGlmIChhY3Rpb25DcmVhdG9yKSB7XG4gICAgdHlwZSA9IGFjdGlvbkNyZWF0b3IhLnR5cGU7XG4gICAgcHJlZGljYXRlID0gYWN0aW9uQ3JlYXRvci5tYXRjaDtcbiAgfSBlbHNlIGlmIChtYXRjaGVyKSB7XG4gICAgcHJlZGljYXRlID0gbWF0Y2hlcjtcbiAgfSBlbHNlIGlmIChwcmVkaWNhdGUpIHtcbiAgICAvLyBwYXNzXG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIiA/IF9mb3JtYXRQcm9kRXJyb3JNZXNzYWdlKDIxKSA6ICdDcmVhdGluZyBvciByZW1vdmluZyBhIGxpc3RlbmVyIHJlcXVpcmVzIG9uZSBvZiB0aGUga25vd24gZmllbGRzIGZvciBtYXRjaGluZyBhbiBhY3Rpb24nKTtcbiAgfVxuICBhc3NlcnRGdW5jdGlvbihlZmZlY3QsICdvcHRpb25zLmxpc3RlbmVyJyk7XG4gIHJldHVybiB7XG4gICAgcHJlZGljYXRlLFxuICAgIHR5cGUsXG4gICAgZWZmZWN0XG4gIH07XG59O1xuXG4vKiogQWNjZXB0cyB0aGUgcG9zc2libGUgb3B0aW9ucyBmb3IgY3JlYXRpbmcgYSBsaXN0ZW5lciwgYW5kIHJldHVybnMgYSBmb3JtYXR0ZWQgbGlzdGVuZXIgZW50cnkgKi9cbmV4cG9ydCBjb25zdCBjcmVhdGVMaXN0ZW5lckVudHJ5OiBUeXBlZENyZWF0ZUxpc3RlbmVyRW50cnk8dW5rbm93bj4gPSAoKE9iamVjdC5hc3NpZ24oKG9wdGlvbnM6IEZhbGxiYWNrQWRkTGlzdGVuZXJPcHRpb25zKSA9PiB7XG4gIGNvbnN0IHtcbiAgICB0eXBlLFxuICAgIHByZWRpY2F0ZSxcbiAgICBlZmZlY3RcbiAgfSA9IGdldExpc3RlbmVyRW50cnlQcm9wc0Zyb20ob3B0aW9ucyk7XG4gIGNvbnN0IGlkID0gbmFub2lkKCk7XG4gIGNvbnN0IGVudHJ5OiBMaXN0ZW5lckVudHJ5PHVua25vd24+ID0ge1xuICAgIGlkLFxuICAgIGVmZmVjdCxcbiAgICB0eXBlLFxuICAgIHByZWRpY2F0ZSxcbiAgICBwZW5kaW5nOiBuZXcgU2V0PEFib3J0Q29udHJvbGxlcj4oKSxcbiAgICB1bnN1YnNjcmliZTogKCkgPT4ge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIiA/IF9mb3JtYXRQcm9kRXJyb3JNZXNzYWdlMigyMikgOiAnVW5zdWJzY3JpYmUgbm90IGluaXRpYWxpemVkJyk7XG4gICAgfVxuICB9O1xuICByZXR1cm4gZW50cnk7XG59LCB7XG4gIHdpdGhUeXBlczogKCkgPT4gY3JlYXRlTGlzdGVuZXJFbnRyeVxufSkgYXMgdW5rbm93bikgYXMgVHlwZWRDcmVhdGVMaXN0ZW5lckVudHJ5PHVua25vd24+KTtcbmNvbnN0IGNhbmNlbEFjdGl2ZUxpc3RlbmVycyA9IChlbnRyeTogTGlzdGVuZXJFbnRyeTx1bmtub3duLCBEaXNwYXRjaDxVbmtub3duQWN0aW9uPj4pID0+IHtcbiAgZW50cnkucGVuZGluZy5mb3JFYWNoKGNvbnRyb2xsZXIgPT4ge1xuICAgIGFib3J0Q29udHJvbGxlcldpdGhSZWFzb24oY29udHJvbGxlciwgbGlzdGVuZXJDYW5jZWxsZWQpO1xuICB9KTtcbn07XG5jb25zdCBjcmVhdGVDbGVhckxpc3RlbmVyTWlkZGxld2FyZSA9IChsaXN0ZW5lck1hcDogTWFwPHN0cmluZywgTGlzdGVuZXJFbnRyeT4pID0+IHtcbiAgcmV0dXJuICgpID0+IHtcbiAgICBsaXN0ZW5lck1hcC5mb3JFYWNoKGNhbmNlbEFjdGl2ZUxpc3RlbmVycyk7XG4gICAgbGlzdGVuZXJNYXAuY2xlYXIoKTtcbiAgfTtcbn07XG5cbi8qKlxyXG4gKiBTYWZlbHkgcmVwb3J0cyBlcnJvcnMgdG8gdGhlIGBlcnJvckhhbmRsZXJgIHByb3ZpZGVkLlxyXG4gKiBFcnJvcnMgdGhhdCBvY2N1ciBpbnNpZGUgYGVycm9ySGFuZGxlcmAgYXJlIG5vdGlmaWVkIGluIGEgbmV3IHRhc2suXHJcbiAqIEluc3BpcmVkIGJ5IFtyeGpzIHJlcG9ydFVuaGFuZGxlZEVycm9yXShodHRwczovL2dpdGh1Yi5jb20vUmVhY3RpdmVYL3J4anMvYmxvYi82ZmFmY2Y1M2RjOWU1NTc0MzliMjVkZWJhZWFkZmQyMjRiMjQ1YTY2L3NyYy9pbnRlcm5hbC91dGlsL3JlcG9ydFVuaGFuZGxlZEVycm9yLnRzKVxyXG4gKiBAcGFyYW0gZXJyb3JIYW5kbGVyXHJcbiAqIEBwYXJhbSBlcnJvclRvTm90aWZ5XHJcbiAqL1xuY29uc3Qgc2FmZWx5Tm90aWZ5RXJyb3IgPSAoZXJyb3JIYW5kbGVyOiBMaXN0ZW5lckVycm9ySGFuZGxlciwgZXJyb3JUb05vdGlmeTogdW5rbm93biwgZXJyb3JJbmZvOiBMaXN0ZW5lckVycm9ySW5mbyk6IHZvaWQgPT4ge1xuICB0cnkge1xuICAgIGVycm9ySGFuZGxlcihlcnJvclRvTm90aWZ5LCBlcnJvckluZm8pO1xuICB9IGNhdGNoIChlcnJvckhhbmRsZXJFcnJvcikge1xuICAgIC8vIFdlIGNhbm5vdCBsZXQgYW4gZXJyb3IgcmFpc2VkIGhlcmUgYmxvY2sgdGhlIGxpc3RlbmVyIHF1ZXVlLlxuICAgIC8vIFRoZSBlcnJvciByYWlzZWQgaGVyZSB3aWxsIGJlIHBpY2tlZCB1cCBieSBgd2luZG93Lm9uZXJyb3JgLCBgcHJvY2Vzcy5vbignZXJyb3InKWAgZXRjLi4uXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aHJvdyBlcnJvckhhbmRsZXJFcnJvcjtcbiAgICB9LCAwKTtcbiAgfVxufTtcblxuLyoqXHJcbiAqIEBwdWJsaWNcclxuICovXG5leHBvcnQgY29uc3QgYWRkTGlzdGVuZXIgPSAoKE9iamVjdC5hc3NpZ24oY3JlYXRlQWN0aW9uKGAke2FsbX0vYWRkYCksIHtcbiAgd2l0aFR5cGVzOiAoKSA9PiBhZGRMaXN0ZW5lclxufSkgYXMgdW5rbm93bikgYXMgVHlwZWRBZGRMaXN0ZW5lcjx1bmtub3duPik7XG5cbi8qKlxyXG4gKiBAcHVibGljXHJcbiAqL1xuZXhwb3J0IGNvbnN0IGNsZWFyQWxsTGlzdGVuZXJzID0gY3JlYXRlQWN0aW9uKGAke2FsbX0vcmVtb3ZlQWxsYCk7XG5cbi8qKlxyXG4gKiBAcHVibGljXHJcbiAqL1xuZXhwb3J0IGNvbnN0IHJlbW92ZUxpc3RlbmVyID0gKChPYmplY3QuYXNzaWduKGNyZWF0ZUFjdGlvbihgJHthbG19L3JlbW92ZWApLCB7XG4gIHdpdGhUeXBlczogKCkgPT4gcmVtb3ZlTGlzdGVuZXJcbn0pIGFzIHVua25vd24pIGFzIFR5cGVkUmVtb3ZlTGlzdGVuZXI8dW5rbm93bj4pO1xuY29uc3QgZGVmYXVsdEVycm9ySGFuZGxlcjogTGlzdGVuZXJFcnJvckhhbmRsZXIgPSAoLi4uYXJnczogdW5rbm93bltdKSA9PiB7XG4gIGNvbnNvbGUuZXJyb3IoYCR7YWxtfS9lcnJvcmAsIC4uLmFyZ3MpO1xufTtcblxuLyoqXHJcbiAqIEBwdWJsaWNcclxuICovXG5leHBvcnQgY29uc3QgY3JlYXRlTGlzdGVuZXJNaWRkbGV3YXJlID0gPFN0YXRlVHlwZSA9IHVua25vd24sIERpc3BhdGNoVHlwZSBleHRlbmRzIERpc3BhdGNoPEFjdGlvbj4gPSBUaHVua0Rpc3BhdGNoPFN0YXRlVHlwZSwgdW5rbm93biwgVW5rbm93bkFjdGlvbj4sIEV4dHJhQXJndW1lbnQgPSB1bmtub3duPihtaWRkbGV3YXJlT3B0aW9uczogQ3JlYXRlTGlzdGVuZXJNaWRkbGV3YXJlT3B0aW9uczxFeHRyYUFyZ3VtZW50PiA9IHt9KSA9PiB7XG4gIGNvbnN0IGxpc3RlbmVyTWFwID0gbmV3IE1hcDxzdHJpbmcsIExpc3RlbmVyRW50cnk+KCk7XG4gIGNvbnN0IHtcbiAgICBleHRyYSxcbiAgICBvbkVycm9yID0gZGVmYXVsdEVycm9ySGFuZGxlclxuICB9ID0gbWlkZGxld2FyZU9wdGlvbnM7XG4gIGFzc2VydEZ1bmN0aW9uKG9uRXJyb3IsICdvbkVycm9yJyk7XG4gIGNvbnN0IGluc2VydEVudHJ5ID0gKGVudHJ5OiBMaXN0ZW5lckVudHJ5KSA9PiB7XG4gICAgZW50cnkudW5zdWJzY3JpYmUgPSAoKSA9PiBsaXN0ZW5lck1hcC5kZWxldGUoZW50cnkhLmlkKTtcbiAgICBsaXN0ZW5lck1hcC5zZXQoZW50cnkuaWQsIGVudHJ5KTtcbiAgICByZXR1cm4gKGNhbmNlbE9wdGlvbnM/OiBVbnN1YnNjcmliZUxpc3RlbmVyT3B0aW9ucykgPT4ge1xuICAgICAgZW50cnkudW5zdWJzY3JpYmUoKTtcbiAgICAgIGlmIChjYW5jZWxPcHRpb25zPy5jYW5jZWxBY3RpdmUpIHtcbiAgICAgICAgY2FuY2VsQWN0aXZlTGlzdGVuZXJzKGVudHJ5KTtcbiAgICAgIH1cbiAgICB9O1xuICB9O1xuICBjb25zdCBzdGFydExpc3RlbmluZyA9ICgoKG9wdGlvbnM6IEZhbGxiYWNrQWRkTGlzdGVuZXJPcHRpb25zKSA9PiB7XG4gICAgbGV0IGVudHJ5ID0gZmluZChBcnJheS5mcm9tKGxpc3RlbmVyTWFwLnZhbHVlcygpKSwgZXhpc3RpbmdFbnRyeSA9PiBleGlzdGluZ0VudHJ5LmVmZmVjdCA9PT0gb3B0aW9ucy5lZmZlY3QpO1xuICAgIGlmICghZW50cnkpIHtcbiAgICAgIGVudHJ5ID0gY3JlYXRlTGlzdGVuZXJFbnRyeSgob3B0aW9ucyBhcyBhbnkpKTtcbiAgICB9XG4gICAgcmV0dXJuIGluc2VydEVudHJ5KGVudHJ5KTtcbiAgfSkgYXMgQWRkTGlzdGVuZXJPdmVybG9hZHM8YW55Pik7XG4gIE9iamVjdC5hc3NpZ24oc3RhcnRMaXN0ZW5pbmcsIHtcbiAgICB3aXRoVHlwZXM6ICgpID0+IHN0YXJ0TGlzdGVuaW5nXG4gIH0pO1xuICBjb25zdCBzdG9wTGlzdGVuaW5nID0gKG9wdGlvbnM6IEZhbGxiYWNrQWRkTGlzdGVuZXJPcHRpb25zICYgVW5zdWJzY3JpYmVMaXN0ZW5lck9wdGlvbnMpOiBib29sZWFuID0+IHtcbiAgICBjb25zdCB7XG4gICAgICB0eXBlLFxuICAgICAgZWZmZWN0LFxuICAgICAgcHJlZGljYXRlXG4gICAgfSA9IGdldExpc3RlbmVyRW50cnlQcm9wc0Zyb20ob3B0aW9ucyk7XG4gICAgY29uc3QgZW50cnkgPSBmaW5kKEFycmF5LmZyb20obGlzdGVuZXJNYXAudmFsdWVzKCkpLCBlbnRyeSA9PiB7XG4gICAgICBjb25zdCBtYXRjaFByZWRpY2F0ZU9yVHlwZSA9IHR5cGVvZiB0eXBlID09PSAnc3RyaW5nJyA/IGVudHJ5LnR5cGUgPT09IHR5cGUgOiBlbnRyeS5wcmVkaWNhdGUgPT09IHByZWRpY2F0ZTtcbiAgICAgIHJldHVybiBtYXRjaFByZWRpY2F0ZU9yVHlwZSAmJiBlbnRyeS5lZmZlY3QgPT09IGVmZmVjdDtcbiAgICB9KTtcbiAgICBpZiAoZW50cnkpIHtcbiAgICAgIGVudHJ5LnVuc3Vic2NyaWJlKCk7XG4gICAgICBpZiAob3B0aW9ucy5jYW5jZWxBY3RpdmUpIHtcbiAgICAgICAgY2FuY2VsQWN0aXZlTGlzdGVuZXJzKGVudHJ5KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuICEhZW50cnk7XG4gIH07XG4gIE9iamVjdC5hc3NpZ24oc3RvcExpc3RlbmluZywge1xuICAgIHdpdGhUeXBlczogKCkgPT4gc3RvcExpc3RlbmluZ1xuICB9KTtcbiAgY29uc3Qgbm90aWZ5TGlzdGVuZXIgPSBhc3luYyAoZW50cnk6IExpc3RlbmVyRW50cnk8dW5rbm93biwgRGlzcGF0Y2g8VW5rbm93bkFjdGlvbj4+LCBhY3Rpb246IHVua25vd24sIGFwaTogTWlkZGxld2FyZUFQSSwgZ2V0T3JpZ2luYWxTdGF0ZTogKCkgPT4gU3RhdGVUeXBlKSA9PiB7XG4gICAgY29uc3QgaW50ZXJuYWxUYXNrQ29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICBjb25zdCB0YWtlID0gY3JlYXRlVGFrZVBhdHRlcm4oKHN0YXJ0TGlzdGVuaW5nIGFzIEFkZExpc3RlbmVyT3ZlcmxvYWRzPGFueT4pLCBpbnRlcm5hbFRhc2tDb250cm9sbGVyLnNpZ25hbCk7XG4gICAgY29uc3QgYXV0b0pvaW5Qcm9taXNlczogUHJvbWlzZTxhbnk+W10gPSBbXTtcbiAgICB0cnkge1xuICAgICAgZW50cnkucGVuZGluZy5hZGQoaW50ZXJuYWxUYXNrQ29udHJvbGxlcik7XG4gICAgICBhd2FpdCBQcm9taXNlLnJlc29sdmUoZW50cnkuZWZmZWN0KGFjdGlvbixcbiAgICAgIC8vIFVzZSBhc3NpZ24oKSByYXRoZXIgdGhhbiAuLi4gdG8gYXZvaWQgZXh0cmEgaGVscGVyIGZ1bmN0aW9ucyBhZGRlZCB0byBidW5kbGVcbiAgICAgIGFzc2lnbih7fSwgYXBpLCB7XG4gICAgICAgIGdldE9yaWdpbmFsU3RhdGUsXG4gICAgICAgIGNvbmRpdGlvbjogKHByZWRpY2F0ZTogQW55TGlzdGVuZXJQcmVkaWNhdGU8YW55PiwgdGltZW91dD86IG51bWJlcikgPT4gdGFrZShwcmVkaWNhdGUsIHRpbWVvdXQpLnRoZW4oQm9vbGVhbiksXG4gICAgICAgIHRha2UsXG4gICAgICAgIGRlbGF5OiBjcmVhdGVEZWxheShpbnRlcm5hbFRhc2tDb250cm9sbGVyLnNpZ25hbCksXG4gICAgICAgIHBhdXNlOiBjcmVhdGVQYXVzZTxhbnk+KGludGVybmFsVGFza0NvbnRyb2xsZXIuc2lnbmFsKSxcbiAgICAgICAgZXh0cmEsXG4gICAgICAgIHNpZ25hbDogaW50ZXJuYWxUYXNrQ29udHJvbGxlci5zaWduYWwsXG4gICAgICAgIGZvcms6IGNyZWF0ZUZvcmsoaW50ZXJuYWxUYXNrQ29udHJvbGxlci5zaWduYWwsIGF1dG9Kb2luUHJvbWlzZXMpLFxuICAgICAgICB1bnN1YnNjcmliZTogZW50cnkudW5zdWJzY3JpYmUsXG4gICAgICAgIHN1YnNjcmliZTogKCkgPT4ge1xuICAgICAgICAgIGxpc3RlbmVyTWFwLnNldChlbnRyeS5pZCwgZW50cnkpO1xuICAgICAgICB9LFxuICAgICAgICBjYW5jZWxBY3RpdmVMaXN0ZW5lcnM6ICgpID0+IHtcbiAgICAgICAgICBlbnRyeS5wZW5kaW5nLmZvckVhY2goKGNvbnRyb2xsZXIsIF8sIHNldCkgPT4ge1xuICAgICAgICAgICAgaWYgKGNvbnRyb2xsZXIgIT09IGludGVybmFsVGFza0NvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgICAgYWJvcnRDb250cm9sbGVyV2l0aFJlYXNvbihjb250cm9sbGVyLCBsaXN0ZW5lckNhbmNlbGxlZCk7XG4gICAgICAgICAgICAgIHNldC5kZWxldGUoY29udHJvbGxlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIGNhbmNlbDogKCkgPT4ge1xuICAgICAgICAgIGFib3J0Q29udHJvbGxlcldpdGhSZWFzb24oaW50ZXJuYWxUYXNrQ29udHJvbGxlciwgbGlzdGVuZXJDYW5jZWxsZWQpO1xuICAgICAgICAgIGVudHJ5LnBlbmRpbmcuZGVsZXRlKGludGVybmFsVGFza0NvbnRyb2xsZXIpO1xuICAgICAgICB9LFxuICAgICAgICB0aHJvd0lmQ2FuY2VsbGVkOiAoKSA9PiB7XG4gICAgICAgICAgdmFsaWRhdGVBY3RpdmUoaW50ZXJuYWxUYXNrQ29udHJvbGxlci5zaWduYWwpO1xuICAgICAgICB9XG4gICAgICB9KSkpO1xuICAgIH0gY2F0Y2ggKGxpc3RlbmVyRXJyb3IpIHtcbiAgICAgIGlmICghKGxpc3RlbmVyRXJyb3IgaW5zdGFuY2VvZiBUYXNrQWJvcnRFcnJvcikpIHtcbiAgICAgICAgc2FmZWx5Tm90aWZ5RXJyb3Iob25FcnJvciwgbGlzdGVuZXJFcnJvciwge1xuICAgICAgICAgIHJhaXNlZEJ5OiAnZWZmZWN0J1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IGZpbmFsbHkge1xuICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoYXV0b0pvaW5Qcm9taXNlcyk7XG4gICAgICBhYm9ydENvbnRyb2xsZXJXaXRoUmVhc29uKGludGVybmFsVGFza0NvbnRyb2xsZXIsIGxpc3RlbmVyQ29tcGxldGVkKTsgLy8gTm90aWZ5IHRoYXQgdGhlIHRhc2sgaGFzIGNvbXBsZXRlZFxuICAgICAgZW50cnkucGVuZGluZy5kZWxldGUoaW50ZXJuYWxUYXNrQ29udHJvbGxlcik7XG4gICAgfVxuICB9O1xuICBjb25zdCBjbGVhckxpc3RlbmVyTWlkZGxld2FyZSA9IGNyZWF0ZUNsZWFyTGlzdGVuZXJNaWRkbGV3YXJlKGxpc3RlbmVyTWFwKTtcbiAgY29uc3QgbWlkZGxld2FyZTogTGlzdGVuZXJNaWRkbGV3YXJlPFN0YXRlVHlwZSwgRGlzcGF0Y2hUeXBlLCBFeHRyYUFyZ3VtZW50PiA9IGFwaSA9PiBuZXh0ID0+IGFjdGlvbiA9PiB7XG4gICAgaWYgKCFpc0FjdGlvbihhY3Rpb24pKSB7XG4gICAgICAvLyB3ZSBvbmx5IHdhbnQgdG8gbm90aWZ5IGxpc3RlbmVycyBmb3IgYWN0aW9uIG9iamVjdHNcbiAgICAgIHJldHVybiBuZXh0KGFjdGlvbik7XG4gICAgfVxuICAgIGlmIChhZGRMaXN0ZW5lci5tYXRjaChhY3Rpb24pKSB7XG4gICAgICByZXR1cm4gc3RhcnRMaXN0ZW5pbmcoKGFjdGlvbi5wYXlsb2FkIGFzIGFueSkpO1xuICAgIH1cbiAgICBpZiAoY2xlYXJBbGxMaXN0ZW5lcnMubWF0Y2goYWN0aW9uKSkge1xuICAgICAgY2xlYXJMaXN0ZW5lck1pZGRsZXdhcmUoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHJlbW92ZUxpc3RlbmVyLm1hdGNoKGFjdGlvbikpIHtcbiAgICAgIHJldHVybiBzdG9wTGlzdGVuaW5nKGFjdGlvbi5wYXlsb2FkKTtcbiAgICB9XG5cbiAgICAvLyBOZWVkIHRvIGdldCB0aGlzIHN0YXRlIF9iZWZvcmVfIHRoZSByZWR1Y2VyIHByb2Nlc3NlcyB0aGUgYWN0aW9uXG4gICAgbGV0IG9yaWdpbmFsU3RhdGU6IFN0YXRlVHlwZSB8IHR5cGVvZiBJTlRFUk5BTF9OSUxfVE9LRU4gPSBhcGkuZ2V0U3RhdGUoKTtcblxuICAgIC8vIGBnZXRPcmlnaW5hbFN0YXRlYCBjYW4gb25seSBiZSBjYWxsZWQgc3luY2hyb25vdXNseS5cbiAgICAvLyBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9yZWR1eGpzL3JlZHV4LXRvb2xraXQvZGlzY3Vzc2lvbnMvMTY0OCNkaXNjdXNzaW9uY29tbWVudC0xOTMyODIwXG4gICAgY29uc3QgZ2V0T3JpZ2luYWxTdGF0ZSA9ICgpOiBTdGF0ZVR5cGUgPT4ge1xuICAgICAgaWYgKG9yaWdpbmFsU3RhdGUgPT09IElOVEVSTkFMX05JTF9UT0tFTikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiID8gX2Zvcm1hdFByb2RFcnJvck1lc3NhZ2UzKDIzKSA6IGAke2FsbX06IGdldE9yaWdpbmFsU3RhdGUgY2FuIG9ubHkgYmUgY2FsbGVkIHN5bmNocm9ub3VzbHlgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAob3JpZ2luYWxTdGF0ZSBhcyBTdGF0ZVR5cGUpO1xuICAgIH07XG4gICAgbGV0IHJlc3VsdDogdW5rbm93bjtcbiAgICB0cnkge1xuICAgICAgLy8gQWN0dWFsbHkgZm9yd2FyZCB0aGUgYWN0aW9uIHRvIHRoZSByZWR1Y2VyIGJlZm9yZSB3ZSBoYW5kbGUgbGlzdGVuZXJzXG4gICAgICByZXN1bHQgPSBuZXh0KGFjdGlvbik7XG4gICAgICBpZiAobGlzdGVuZXJNYXAuc2l6ZSA+IDApIHtcbiAgICAgICAgY29uc3QgY3VycmVudFN0YXRlID0gYXBpLmdldFN0YXRlKCk7XG4gICAgICAgIC8vIFdvcmsgYXJvdW5kIEVTQnVpbGQrVFMgdHJhbnNwaWxhdGlvbiBpc3N1ZVxuICAgICAgICBjb25zdCBsaXN0ZW5lckVudHJpZXMgPSBBcnJheS5mcm9tKGxpc3RlbmVyTWFwLnZhbHVlcygpKTtcbiAgICAgICAgZm9yIChjb25zdCBlbnRyeSBvZiBsaXN0ZW5lckVudHJpZXMpIHtcbiAgICAgICAgICBsZXQgcnVuTGlzdGVuZXIgPSBmYWxzZTtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgcnVuTGlzdGVuZXIgPSBlbnRyeS5wcmVkaWNhdGUoYWN0aW9uLCBjdXJyZW50U3RhdGUsIG9yaWdpbmFsU3RhdGUpO1xuICAgICAgICAgIH0gY2F0Y2ggKHByZWRpY2F0ZUVycm9yKSB7XG4gICAgICAgICAgICBydW5MaXN0ZW5lciA9IGZhbHNlO1xuICAgICAgICAgICAgc2FmZWx5Tm90aWZ5RXJyb3Iob25FcnJvciwgcHJlZGljYXRlRXJyb3IsIHtcbiAgICAgICAgICAgICAgcmFpc2VkQnk6ICdwcmVkaWNhdGUnXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCFydW5MaXN0ZW5lcikge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIG5vdGlmeUxpc3RlbmVyKGVudHJ5LCBhY3Rpb24sIGFwaSwgZ2V0T3JpZ2luYWxTdGF0ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGZpbmFsbHkge1xuICAgICAgLy8gUmVtb3ZlIGBvcmlnaW5hbFN0YXRlYCBzdG9yZSBmcm9tIHRoaXMgc2NvcGUuXG4gICAgICBvcmlnaW5hbFN0YXRlID0gSU5URVJOQUxfTklMX1RPS0VOO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuICByZXR1cm4gKHtcbiAgICBtaWRkbGV3YXJlLFxuICAgIHN0YXJ0TGlzdGVuaW5nLFxuICAgIHN0b3BMaXN0ZW5pbmcsXG4gICAgY2xlYXJMaXN0ZW5lcnM6IGNsZWFyTGlzdGVuZXJNaWRkbGV3YXJlXG4gIH0gYXMgTGlzdGVuZXJNaWRkbGV3YXJlSW5zdGFuY2U8U3RhdGVUeXBlLCBEaXNwYXRjaFR5cGUsIEV4dHJhQXJndW1lbnQ+KTtcbn07IiwiaW1wb3J0IHR5cGUgeyBTZXJpYWxpemVkRXJyb3IgfSBmcm9tICdAcmVkdXhqcy90b29sa2l0JztcbmNvbnN0IHRhc2sgPSAndGFzayc7XG5jb25zdCBsaXN0ZW5lciA9ICdsaXN0ZW5lcic7XG5jb25zdCBjb21wbGV0ZWQgPSAnY29tcGxldGVkJztcbmNvbnN0IGNhbmNlbGxlZCA9ICdjYW5jZWxsZWQnO1xuXG4vKiBUYXNrQWJvcnRFcnJvciBlcnJvciBjb2RlcyAgKi9cbmV4cG9ydCBjb25zdCB0YXNrQ2FuY2VsbGVkID0gKGB0YXNrLSR7Y2FuY2VsbGVkfWAgYXMgY29uc3QpO1xuZXhwb3J0IGNvbnN0IHRhc2tDb21wbGV0ZWQgPSAoYHRhc2stJHtjb21wbGV0ZWR9YCBhcyBjb25zdCk7XG5leHBvcnQgY29uc3QgbGlzdGVuZXJDYW5jZWxsZWQgPSAoYCR7bGlzdGVuZXJ9LSR7Y2FuY2VsbGVkfWAgYXMgY29uc3QpO1xuZXhwb3J0IGNvbnN0IGxpc3RlbmVyQ29tcGxldGVkID0gKGAke2xpc3RlbmVyfS0ke2NvbXBsZXRlZH1gIGFzIGNvbnN0KTtcbmV4cG9ydCBjbGFzcyBUYXNrQWJvcnRFcnJvciBpbXBsZW1lbnRzIFNlcmlhbGl6ZWRFcnJvciB7XG4gIG5hbWUgPSAnVGFza0Fib3J0RXJyb3InO1xuICBtZXNzYWdlOiBzdHJpbmc7XG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBjb2RlOiBzdHJpbmcgfCB1bmRlZmluZWQpIHtcbiAgICB0aGlzLm1lc3NhZ2UgPSBgJHt0YXNrfSAke2NhbmNlbGxlZH0gKHJlYXNvbjogJHtjb2RlfSlgO1xuICB9XG59IiwiaW1wb3J0IHsgZm9ybWF0UHJvZEVycm9yTWVzc2FnZSBhcyBfZm9ybWF0UHJvZEVycm9yTWVzc2FnZSB9IGZyb20gXCJAcmVkdXhqcy90b29sa2l0XCI7XG5pbXBvcnQgdHlwZSB7IEFib3J0U2lnbmFsV2l0aFJlYXNvbiB9IGZyb20gJy4vdHlwZXMnO1xuZXhwb3J0IGNvbnN0IGFzc2VydEZ1bmN0aW9uOiAoZnVuYzogdW5rbm93biwgZXhwZWN0ZWQ6IHN0cmluZykgPT4gYXNzZXJ0cyBmdW5jIGlzICguLi5hcmdzOiB1bmtub3duW10pID0+IHVua25vd24gPSAoZnVuYzogdW5rbm93biwgZXhwZWN0ZWQ6IHN0cmluZykgPT4ge1xuICBpZiAodHlwZW9mIGZ1bmMgIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiID8gX2Zvcm1hdFByb2RFcnJvck1lc3NhZ2UoMzIpIDogYCR7ZXhwZWN0ZWR9IGlzIG5vdCBhIGZ1bmN0aW9uYCk7XG4gIH1cbn07XG5leHBvcnQgY29uc3Qgbm9vcCA9ICgpID0+IHt9O1xuZXhwb3J0IGNvbnN0IGNhdGNoUmVqZWN0aW9uID0gPFQsPihwcm9taXNlOiBQcm9taXNlPFQ+LCBvbkVycm9yID0gbm9vcCk6IFByb21pc2U8VD4gPT4ge1xuICBwcm9taXNlLmNhdGNoKG9uRXJyb3IpO1xuICByZXR1cm4gcHJvbWlzZTtcbn07XG5leHBvcnQgY29uc3QgYWRkQWJvcnRTaWduYWxMaXN0ZW5lciA9IChhYm9ydFNpZ25hbDogQWJvcnRTaWduYWwsIGNhbGxiYWNrOiAoZXZ0OiBFdmVudCkgPT4gdm9pZCkgPT4ge1xuICBhYm9ydFNpZ25hbC5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsIGNhbGxiYWNrLCB7XG4gICAgb25jZTogdHJ1ZVxuICB9KTtcbiAgcmV0dXJuICgpID0+IGFib3J0U2lnbmFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgY2FsbGJhY2spO1xufTtcblxuLyoqXHJcbiAqIENhbGxzIGBhYm9ydENvbnRyb2xsZXIuYWJvcnQocmVhc29uKWAgYW5kIHBhdGNoZXMgYHNpZ25hbC5yZWFzb25gLlxyXG4gKiBpZiBpdCBpcyBub3Qgc3VwcG9ydGVkLlxyXG4gKlxyXG4gKiBBdCB0aGUgdGltZSBvZiB3cml0aW5nIGBzaWduYWwucmVhc29uYCBpcyBhdmFpbGFibGUgaW4gRkYgY2hyb21lLCBlZGdlIG5vZGUgMTcgYW5kIGRlbm8uXHJcbiAqIEBwYXJhbSBhYm9ydENvbnRyb2xsZXJcclxuICogQHBhcmFtIHJlYXNvblxyXG4gKiBAcmV0dXJuc1xyXG4gKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9BYm9ydFNpZ25hbC9yZWFzb25cclxuICovXG5leHBvcnQgY29uc3QgYWJvcnRDb250cm9sbGVyV2l0aFJlYXNvbiA9IDxULD4oYWJvcnRDb250cm9sbGVyOiBBYm9ydENvbnRyb2xsZXIsIHJlYXNvbjogVCk6IHZvaWQgPT4ge1xuICB0eXBlIENvbnN1bWVyPFQ+ID0gKHZhbDogVCkgPT4gdm9pZDtcbiAgY29uc3Qgc2lnbmFsID0gKGFib3J0Q29udHJvbGxlci5zaWduYWwgYXMgQWJvcnRTaWduYWxXaXRoUmVhc29uPFQ+KTtcbiAgaWYgKHNpZ25hbC5hYm9ydGVkKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gUGF0Y2ggYHJlYXNvbmAgaWYgbmVjZXNzYXJ5LlxuICAvLyAtIFdlIHVzZSBkZWZpbmVQcm9wZXJ0eSBoZXJlIGJlY2F1c2UgcmVhc29uIGlzIGEgZ2V0dGVyIG9mIGBBYm9ydFNpZ25hbC5fX3Byb3RvX19gLlxuICAvLyAtIFdlIG5lZWQgdG8gcGF0Y2ggJ3JlYXNvbicgYmVmb3JlIGNhbGxpbmcgYC5hYm9ydCgpYCBiZWNhdXNlIGxpc3RlbmVycyB0byB0aGUgJ2Fib3J0J1xuICAvLyBldmVudCBhcmUgYXJlIG5vdGlmaWVkIGltbWVkaWF0ZWx5LlxuICBpZiAoISgncmVhc29uJyBpbiBzaWduYWwpKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNpZ25hbCwgJ3JlYXNvbicsIHtcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICB2YWx1ZTogcmVhc29uLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgd3JpdGFibGU6IHRydWVcbiAgICB9KTtcbiAgfVxuICA7XG4gIChhYm9ydENvbnRyb2xsZXIuYWJvcnQgYXMgQ29uc3VtZXI8dHlwZW9mIHJlYXNvbj4pKHJlYXNvbik7XG59OyIsImltcG9ydCB7IFRhc2tBYm9ydEVycm9yIH0gZnJvbSAnLi9leGNlcHRpb25zJztcbmltcG9ydCB0eXBlIHsgQWJvcnRTaWduYWxXaXRoUmVhc29uLCBUYXNrUmVzdWx0IH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyBhZGRBYm9ydFNpZ25hbExpc3RlbmVyLCBjYXRjaFJlamVjdGlvbiwgbm9vcCB9IGZyb20gJy4vdXRpbHMnO1xuXG4vKipcclxuICogU3luY2hyb25vdXNseSByYWlzZXMge0BsaW5rIFRhc2tBYm9ydEVycm9yfSBpZiB0aGUgdGFzayB0aWVkIHRvIHRoZSBpbnB1dCBgc2lnbmFsYCBoYXMgYmVlbiBjYW5jZWxsZWQuXHJcbiAqIEBwYXJhbSBzaWduYWxcclxuICogQHBhcmFtIHJlYXNvblxyXG4gKiBAc2VlIHtUYXNrQWJvcnRFcnJvcn1cclxuICovXG5leHBvcnQgY29uc3QgdmFsaWRhdGVBY3RpdmUgPSAoc2lnbmFsOiBBYm9ydFNpZ25hbCk6IHZvaWQgPT4ge1xuICBpZiAoc2lnbmFsLmFib3J0ZWQpIHtcbiAgICBjb25zdCB7XG4gICAgICByZWFzb25cbiAgICB9ID0gKHNpZ25hbCBhcyBBYm9ydFNpZ25hbFdpdGhSZWFzb248c3RyaW5nPik7XG4gICAgdGhyb3cgbmV3IFRhc2tBYm9ydEVycm9yKHJlYXNvbik7XG4gIH1cbn07XG5cbi8qKlxyXG4gKiBHZW5lcmF0ZXMgYSByYWNlIGJldHdlZW4gdGhlIHByb21pc2UocykgYW5kIHRoZSBBYm9ydFNpZ25hbFxyXG4gKiBUaGlzIGF2b2lkcyBgUHJvbWlzZS5yYWNlKClgLXJlbGF0ZWQgbWVtb3J5IGxlYWtzOlxyXG4gKiBodHRwczovL2dpdGh1Yi5jb20vbm9kZWpzL25vZGUvaXNzdWVzLzE3NDY5I2lzc3VlY29tbWVudC0zNDk3OTQ5MDlcclxuICovXG5leHBvcnQgZnVuY3Rpb24gcmFjZVdpdGhTaWduYWw8VD4oc2lnbmFsOiBBYm9ydFNpZ25hbFdpdGhSZWFzb248c3RyaW5nPiwgcHJvbWlzZTogUHJvbWlzZTxUPik6IFByb21pc2U8VD4ge1xuICBsZXQgY2xlYW51cCA9IG5vb3A7XG4gIHJldHVybiBuZXcgUHJvbWlzZTxUPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgY29uc3Qgbm90aWZ5UmVqZWN0aW9uID0gKCkgPT4gcmVqZWN0KG5ldyBUYXNrQWJvcnRFcnJvcihzaWduYWwucmVhc29uKSk7XG4gICAgaWYgKHNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICBub3RpZnlSZWplY3Rpb24oKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY2xlYW51cCA9IGFkZEFib3J0U2lnbmFsTGlzdGVuZXIoc2lnbmFsLCBub3RpZnlSZWplY3Rpb24pO1xuICAgIHByb21pc2UuZmluYWxseSgoKSA9PiBjbGVhbnVwKCkpLnRoZW4ocmVzb2x2ZSwgcmVqZWN0KTtcbiAgfSkuZmluYWxseSgoKSA9PiB7XG4gICAgLy8gYWZ0ZXIgdGhpcyBwb2ludCwgcmVwbGFjZSBgY2xlYW51cGAgd2l0aCBhIG5vb3AsIHNvIHRoZXJlIGlzIG5vIHJlZmVyZW5jZSB0byBgc2lnbmFsYCBhbnkgbW9yZVxuICAgIGNsZWFudXAgPSBub29wO1xuICB9KTtcbn1cblxuLyoqXHJcbiAqIFJ1bnMgYSB0YXNrIGFuZCByZXR1cm5zIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byB7QGxpbmsgVGFza1Jlc3VsdH0uXHJcbiAqIFNlY29uZCBhcmd1bWVudCBpcyBhbiBvcHRpb25hbCBgY2xlYW5VcGAgZnVuY3Rpb24gdGhhdCBhbHdheXMgcnVucyBhZnRlciB0YXNrLlxyXG4gKlxyXG4gKiAqKk5vdGU6KiogYHJ1blRhc2tgIHJ1bnMgdGhlIGV4ZWN1dG9yIGluIHRoZSBuZXh0IG1pY3JvdGFzay5cclxuICogQHJldHVybnNcclxuICovXG5leHBvcnQgY29uc3QgcnVuVGFzayA9IGFzeW5jIDxULD4odGFzazogKCkgPT4gUHJvbWlzZTxUPiwgY2xlYW5VcD86ICgpID0+IHZvaWQpOiBQcm9taXNlPFRhc2tSZXN1bHQ8VD4+ID0+IHtcbiAgdHJ5IHtcbiAgICBhd2FpdCBQcm9taXNlLnJlc29sdmUoKTtcbiAgICBjb25zdCB2YWx1ZSA9IGF3YWl0IHRhc2soKTtcbiAgICByZXR1cm4ge1xuICAgICAgc3RhdHVzOiAnb2snLFxuICAgICAgdmFsdWVcbiAgICB9O1xuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN0YXR1czogZXJyb3IgaW5zdGFuY2VvZiBUYXNrQWJvcnRFcnJvciA/ICdjYW5jZWxsZWQnIDogJ3JlamVjdGVkJyxcbiAgICAgIGVycm9yXG4gICAgfTtcbiAgfSBmaW5hbGx5IHtcbiAgICBjbGVhblVwPy4oKTtcbiAgfVxufTtcblxuLyoqXHJcbiAqIEdpdmVuIGFuIGlucHV0IGBBYm9ydFNpZ25hbGAgYW5kIGEgcHJvbWlzZSByZXR1cm5zIGFub3RoZXIgcHJvbWlzZSB0aGF0IHJlc29sdmVzXHJcbiAqIGFzIHNvb24gdGhlIGlucHV0IHByb21pc2UgaXMgcHJvdmlkZWQgb3IgcmVqZWN0cyBhcyBzb29uIGFzXHJcbiAqIGBBYm9ydFNpZ25hbC5hYm9ydGAgaXMgYHRydWVgLlxyXG4gKiBAcGFyYW0gc2lnbmFsXHJcbiAqIEByZXR1cm5zXHJcbiAqL1xuZXhwb3J0IGNvbnN0IGNyZWF0ZVBhdXNlID0gPFQsPihzaWduYWw6IEFib3J0U2lnbmFsKSA9PiB7XG4gIHJldHVybiAocHJvbWlzZTogUHJvbWlzZTxUPik6IFByb21pc2U8VD4gPT4ge1xuICAgIHJldHVybiBjYXRjaFJlamVjdGlvbihyYWNlV2l0aFNpZ25hbChzaWduYWwsIHByb21pc2UpLnRoZW4ob3V0cHV0ID0+IHtcbiAgICAgIHZhbGlkYXRlQWN0aXZlKHNpZ25hbCk7XG4gICAgICByZXR1cm4gb3V0cHV0O1xuICAgIH0pKTtcbiAgfTtcbn07XG5cbi8qKlxyXG4gKiBHaXZlbiBhbiBpbnB1dCBgQWJvcnRTaWduYWxgIGFuZCBgdGltZW91dE1zYCByZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzXHJcbiAqIGFmdGVyIGB0aW1lb3V0TXNgIG9yIHJlamVjdHMgYXMgc29vbiBhcyBgQWJvcnRTaWduYWwuYWJvcnRgIGlzIGB0cnVlYC5cclxuICogQHBhcmFtIHNpZ25hbFxyXG4gKiBAcmV0dXJuc1xyXG4gKi9cbmV4cG9ydCBjb25zdCBjcmVhdGVEZWxheSA9IChzaWduYWw6IEFib3J0U2lnbmFsKSA9PiB7XG4gIGNvbnN0IHBhdXNlID0gY3JlYXRlUGF1c2U8dm9pZD4oc2lnbmFsKTtcbiAgcmV0dXJuICh0aW1lb3V0TXM6IG51bWJlcik6IFByb21pc2U8dm9pZD4gPT4ge1xuICAgIHJldHVybiBwYXVzZShuZXcgUHJvbWlzZTx2b2lkPihyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgdGltZW91dE1zKSkpO1xuICB9O1xufTsiLCJpbXBvcnQgdHlwZSB7IE1pZGRsZXdhcmUsIERpc3BhdGNoIGFzIFJlZHV4RGlzcGF0Y2gsIFVua25vd25BY3Rpb24gfSBmcm9tICdyZWR1eCc7XG5pbXBvcnQgeyBjb21wb3NlIH0gZnJvbSAncmVkdXgnO1xuaW1wb3J0IHsgY3JlYXRlQWN0aW9uIH0gZnJvbSAnLi4vY3JlYXRlQWN0aW9uJztcbmltcG9ydCB7IGlzQWxsT2YgfSBmcm9tICcuLi9tYXRjaGVycyc7XG5pbXBvcnQgeyBuYW5vaWQgfSBmcm9tICcuLi9uYW5vaWQnO1xuaW1wb3J0IHsgZW1wbGFjZSwgZmluZCB9IGZyb20gJy4uL3V0aWxzJztcbmltcG9ydCB0eXBlIHsgV2l0aE1pZGRsZXdhcmUsIEFkZE1pZGRsZXdhcmUsIE1pZGRsZXdhcmVFbnRyeSwgRHluYW1pY01pZGRsZXdhcmUsIER5bmFtaWNNaWRkbGV3YXJlSW5zdGFuY2UgfSBmcm9tICcuL3R5cGVzJztcbmNvbnN0IGNyZWF0ZU1pZGRsZXdhcmVFbnRyeSA9IDxTdGF0ZSA9IGFueSwgRGlzcGF0Y2ggZXh0ZW5kcyBSZWR1eERpc3BhdGNoPFVua25vd25BY3Rpb24+ID0gUmVkdXhEaXNwYXRjaDxVbmtub3duQWN0aW9uPj4obWlkZGxld2FyZTogTWlkZGxld2FyZTxhbnksIFN0YXRlLCBEaXNwYXRjaD4pOiBNaWRkbGV3YXJlRW50cnk8U3RhdGUsIERpc3BhdGNoPiA9PiAoe1xuICBpZDogbmFub2lkKCksXG4gIG1pZGRsZXdhcmUsXG4gIGFwcGxpZWQ6IG5ldyBNYXAoKVxufSk7XG5jb25zdCBtYXRjaEluc3RhbmNlID0gKGluc3RhbmNlSWQ6IHN0cmluZykgPT4gKGFjdGlvbjogYW55KTogYWN0aW9uIGlzIHtcbiAgbWV0YToge1xuICAgIGluc3RhbmNlSWQ6IHN0cmluZztcbiAgfTtcbn0gPT4gYWN0aW9uPy5tZXRhPy5pbnN0YW5jZUlkID09PSBpbnN0YW5jZUlkO1xuZXhwb3J0IGNvbnN0IGNyZWF0ZUR5bmFtaWNNaWRkbGV3YXJlID0gPFN0YXRlID0gYW55LCBEaXNwYXRjaCBleHRlbmRzIFJlZHV4RGlzcGF0Y2g8VW5rbm93bkFjdGlvbj4gPSBSZWR1eERpc3BhdGNoPFVua25vd25BY3Rpb24+PigpOiBEeW5hbWljTWlkZGxld2FyZUluc3RhbmNlPFN0YXRlLCBEaXNwYXRjaD4gPT4ge1xuICBjb25zdCBpbnN0YW5jZUlkID0gbmFub2lkKCk7XG4gIGNvbnN0IG1pZGRsZXdhcmVNYXAgPSBuZXcgTWFwPHN0cmluZywgTWlkZGxld2FyZUVudHJ5PFN0YXRlLCBEaXNwYXRjaD4+KCk7XG4gIGNvbnN0IHdpdGhNaWRkbGV3YXJlID0gKE9iamVjdC5hc3NpZ24oY3JlYXRlQWN0aW9uKCdkeW5hbWljTWlkZGxld2FyZS9hZGQnLCAoLi4ubWlkZGxld2FyZXM6IE1pZGRsZXdhcmU8YW55LCBTdGF0ZSwgRGlzcGF0Y2g+W10pID0+ICh7XG4gICAgcGF5bG9hZDogbWlkZGxld2FyZXMsXG4gICAgbWV0YToge1xuICAgICAgaW5zdGFuY2VJZFxuICAgIH1cbiAgfSkpLCB7XG4gICAgd2l0aFR5cGVzOiAoKSA9PiB3aXRoTWlkZGxld2FyZVxuICB9KSBhcyBXaXRoTWlkZGxld2FyZTxTdGF0ZSwgRGlzcGF0Y2g+KTtcbiAgY29uc3QgYWRkTWlkZGxld2FyZSA9IChPYmplY3QuYXNzaWduKGZ1bmN0aW9uIGFkZE1pZGRsZXdhcmUoLi4ubWlkZGxld2FyZXM6IE1pZGRsZXdhcmU8YW55LCBTdGF0ZSwgRGlzcGF0Y2g+W10pIHtcbiAgICBtaWRkbGV3YXJlcy5mb3JFYWNoKG1pZGRsZXdhcmUgPT4ge1xuICAgICAgbGV0IGVudHJ5ID0gZmluZChBcnJheS5mcm9tKG1pZGRsZXdhcmVNYXAudmFsdWVzKCkpLCBlbnRyeSA9PiBlbnRyeS5taWRkbGV3YXJlID09PSBtaWRkbGV3YXJlKTtcbiAgICAgIGlmICghZW50cnkpIHtcbiAgICAgICAgZW50cnkgPSBjcmVhdGVNaWRkbGV3YXJlRW50cnkobWlkZGxld2FyZSk7XG4gICAgICB9XG4gICAgICBtaWRkbGV3YXJlTWFwLnNldChlbnRyeS5pZCwgZW50cnkpO1xuICAgIH0pO1xuICB9LCB7XG4gICAgd2l0aFR5cGVzOiAoKSA9PiBhZGRNaWRkbGV3YXJlXG4gIH0pIGFzIEFkZE1pZGRsZXdhcmU8U3RhdGUsIERpc3BhdGNoPik7XG4gIGNvbnN0IGdldEZpbmFsTWlkZGxld2FyZTogTWlkZGxld2FyZTx7fSwgU3RhdGUsIERpc3BhdGNoPiA9IGFwaSA9PiB7XG4gICAgY29uc3QgYXBwbGllZE1pZGRsZXdhcmUgPSBBcnJheS5mcm9tKG1pZGRsZXdhcmVNYXAudmFsdWVzKCkpLm1hcChlbnRyeSA9PiBlbXBsYWNlKGVudHJ5LmFwcGxpZWQsIGFwaSwge1xuICAgICAgaW5zZXJ0OiAoKSA9PiBlbnRyeS5taWRkbGV3YXJlKGFwaSlcbiAgICB9KSk7XG4gICAgcmV0dXJuIGNvbXBvc2UoLi4uYXBwbGllZE1pZGRsZXdhcmUpO1xuICB9O1xuICBjb25zdCBpc1dpdGhNaWRkbGV3YXJlID0gaXNBbGxPZih3aXRoTWlkZGxld2FyZSwgbWF0Y2hJbnN0YW5jZShpbnN0YW5jZUlkKSk7XG4gIGNvbnN0IG1pZGRsZXdhcmU6IER5bmFtaWNNaWRkbGV3YXJlPFN0YXRlLCBEaXNwYXRjaD4gPSBhcGkgPT4gbmV4dCA9PiBhY3Rpb24gPT4ge1xuICAgIGlmIChpc1dpdGhNaWRkbGV3YXJlKGFjdGlvbikpIHtcbiAgICAgIGFkZE1pZGRsZXdhcmUoLi4uYWN0aW9uLnBheWxvYWQpO1xuICAgICAgcmV0dXJuIGFwaS5kaXNwYXRjaDtcbiAgICB9XG4gICAgcmV0dXJuIGdldEZpbmFsTWlkZGxld2FyZShhcGkpKG5leHQpKGFjdGlvbik7XG4gIH07XG4gIHJldHVybiB7XG4gICAgbWlkZGxld2FyZSxcbiAgICBhZGRNaWRkbGV3YXJlLFxuICAgIHdpdGhNaWRkbGV3YXJlLFxuICAgIGluc3RhbmNlSWRcbiAgfTtcbn07IiwiaW1wb3J0IHsgZm9ybWF0UHJvZEVycm9yTWVzc2FnZSBhcyBfZm9ybWF0UHJvZEVycm9yTWVzc2FnZTIgfSBmcm9tIFwiQHJlZHV4anMvdG9vbGtpdFwiO1xuaW1wb3J0IHsgZm9ybWF0UHJvZEVycm9yTWVzc2FnZSBhcyBfZm9ybWF0UHJvZEVycm9yTWVzc2FnZSB9IGZyb20gXCJAcmVkdXhqcy90b29sa2l0XCI7XG5pbXBvcnQgdHlwZSB7IFVua25vd25BY3Rpb24sIFJlZHVjZXIsIFN0YXRlRnJvbVJlZHVjZXJzTWFwT2JqZWN0IH0gZnJvbSAncmVkdXgnO1xuaW1wb3J0IHsgY29tYmluZVJlZHVjZXJzIH0gZnJvbSAncmVkdXgnO1xuaW1wb3J0IHsgbmFub2lkIH0gZnJvbSAnLi9uYW5vaWQnO1xuaW1wb3J0IHR5cGUgeyBJZCwgTm9uVW5kZWZpbmVkLCBUYWlsLCBVbmlvblRvSW50ZXJzZWN0aW9uLCBXaXRoT3B0aW9uYWxQcm9wIH0gZnJvbSAnLi90c0hlbHBlcnMnO1xuaW1wb3J0IHsgZW1wbGFjZSB9IGZyb20gJy4vdXRpbHMnO1xudHlwZSBTbGljZUxpa2U8UmVkdWNlclBhdGggZXh0ZW5kcyBzdHJpbmcsIFN0YXRlPiA9IHtcbiAgcmVkdWNlclBhdGg6IFJlZHVjZXJQYXRoO1xuICByZWR1Y2VyOiBSZWR1Y2VyPFN0YXRlPjtcbn07XG50eXBlIEFueVNsaWNlTGlrZSA9IFNsaWNlTGlrZTxzdHJpbmcsIGFueT47XG50eXBlIFNsaWNlTGlrZVJlZHVjZXJQYXRoPEEgZXh0ZW5kcyBBbnlTbGljZUxpa2U+ID0gQSBleHRlbmRzIFNsaWNlTGlrZTxpbmZlciBSZWR1Y2VyUGF0aCwgYW55PiA/IFJlZHVjZXJQYXRoIDogbmV2ZXI7XG50eXBlIFNsaWNlTGlrZVN0YXRlPEEgZXh0ZW5kcyBBbnlTbGljZUxpa2U+ID0gQSBleHRlbmRzIFNsaWNlTGlrZTxhbnksIGluZmVyIFN0YXRlPiA/IFN0YXRlIDogbmV2ZXI7XG5leHBvcnQgdHlwZSBXaXRoU2xpY2U8QSBleHRlbmRzIEFueVNsaWNlTGlrZT4gPSB7IFtQYXRoIGluIFNsaWNlTGlrZVJlZHVjZXJQYXRoPEE+XTogU2xpY2VMaWtlU3RhdGU8QT4gfTtcbnR5cGUgUmVkdWNlck1hcCA9IFJlY29yZDxzdHJpbmcsIFJlZHVjZXI+O1xudHlwZSBFeGlzdGluZ1NsaWNlTGlrZTxEZWNsYXJlZFN0YXRlPiA9IHsgW1JlZHVjZXJQYXRoIGluIGtleW9mIERlY2xhcmVkU3RhdGVdOiBTbGljZUxpa2U8UmVkdWNlclBhdGggJiBzdHJpbmcsIE5vblVuZGVmaW5lZDxEZWNsYXJlZFN0YXRlW1JlZHVjZXJQYXRoXT4+IH1ba2V5b2YgRGVjbGFyZWRTdGF0ZV07XG5leHBvcnQgdHlwZSBJbmplY3RDb25maWcgPSB7XG4gIC8qKlxyXG4gICAqIEFsbG93IHJlcGxhY2luZyByZWR1Y2VyIHdpdGggYSBkaWZmZXJlbnQgcmVmZXJlbmNlLiBOb3JtYWxseSwgYW4gZXJyb3Igd2lsbCBiZSB0aHJvd24gaWYgYSBkaWZmZXJlbnQgcmVkdWNlciBpbnN0YW5jZSB0byB0aGUgb25lIGFscmVhZHkgaW5qZWN0ZWQgaXMgdXNlZC5cclxuICAgKi9cbiAgb3ZlcnJpZGVFeGlzdGluZz86IGJvb2xlYW47XG59O1xuXG4vKipcclxuICogQSByZWR1Y2VyIHRoYXQgYWxsb3dzIGZvciBzbGljZXMvcmVkdWNlcnMgdG8gYmUgaW5qZWN0ZWQgYWZ0ZXIgaW5pdGlhbGlzYXRpb24uXHJcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDb21iaW5lZFNsaWNlUmVkdWNlcjxJbml0aWFsU3RhdGUsIERlY2xhcmVkU3RhdGUgPSBJbml0aWFsU3RhdGU+IGV4dGVuZHMgUmVkdWNlcjxEZWNsYXJlZFN0YXRlLCBVbmtub3duQWN0aW9uLCBQYXJ0aWFsPERlY2xhcmVkU3RhdGU+PiB7XG4gIC8qKlxyXG4gICAqIFByb3ZpZGUgYSB0eXBlIGZvciBzbGljZXMgdGhhdCB3aWxsIGJlIGluamVjdGVkIGxhemlseS5cclxuICAgKlxyXG4gICAqIE9uZSB3YXkgdG8gZG8gdGhpcyB3b3VsZCBiZSB3aXRoIGludGVyZmFjZSBtZXJnaW5nOlxyXG4gICAqIGBgYHRzXHJcbiAgICpcclxuICAgKiBleHBvcnQgaW50ZXJmYWNlIExhenlMb2FkZWRTbGljZXMge31cclxuICAgKlxyXG4gICAqIGV4cG9ydCBjb25zdCByb290UmVkdWNlciA9IGNvbWJpbmVTbGljZXMoc3RyaW5nU2xpY2UpLndpdGhMYXp5TG9hZGVkU2xpY2VzPExhenlMb2FkZWRTbGljZXM+KCk7XHJcbiAgICpcclxuICAgKiAvLyBlbHNld2hlcmVcclxuICAgKlxyXG4gICAqIGRlY2xhcmUgbW9kdWxlICcuL3JlZHVjZXInIHtcclxuICAgKiAgIGV4cG9ydCBpbnRlcmZhY2UgTGF6eUxvYWRlZFNsaWNlcyBleHRlbmRzIFdpdGhTbGljZTx0eXBlb2YgYm9vbGVhblNsaWNlPiB7fVxyXG4gICAqIH1cclxuICAgKlxyXG4gICAqIGNvbnN0IHdpdGhCb29sZWFuID0gcm9vdFJlZHVjZXIuaW5qZWN0KGJvb2xlYW5TbGljZSk7XHJcbiAgICpcclxuICAgKiAvLyBlbHNld2hlcmUgYWdhaW5cclxuICAgKlxyXG4gICAqIGRlY2xhcmUgbW9kdWxlICcuL3JlZHVjZXInIHtcclxuICAgKiAgIGV4cG9ydCBpbnRlcmZhY2UgTGF6eUxvYWRlZFNsaWNlcyB7XHJcbiAgICogICAgIGN1c3RvbU5hbWU6IEN1c3RvbVN0YXRlXHJcbiAgICogICB9XHJcbiAgICogfVxyXG4gICAqXHJcbiAgICogY29uc3Qgd2l0aEN1c3RvbSA9IHJvb3RSZWR1Y2VyLmluamVjdCh7IHJlZHVjZXJQYXRoOiBcImN1c3RvbU5hbWVcIiwgcmVkdWNlcjogY3VzdG9tU2xpY2UucmVkdWNlciB9KVxyXG4gICAqIGBgYFxyXG4gICAqL1xuICB3aXRoTGF6eUxvYWRlZFNsaWNlczxMYXp5ID0ge30+KCk6IENvbWJpbmVkU2xpY2VSZWR1Y2VyPEluaXRpYWxTdGF0ZSwgSWQ8RGVjbGFyZWRTdGF0ZSAmIFBhcnRpYWw8TGF6eT4+PjtcblxuICAvKipcclxuICAgKiBJbmplY3QgYSBzbGljZS5cclxuICAgKlxyXG4gICAqIEFjY2VwdHMgYW4gaW5kaXZpZHVhbCBzbGljZSwgUlRLUSBBUEkgaW5zdGFuY2UsIG9yIGEgXCJzbGljZS1saWtlXCIgeyByZWR1Y2VyUGF0aCwgcmVkdWNlciB9IG9iamVjdC5cclxuICAgKlxyXG4gICAqIGBgYHRzXHJcbiAgICogcm9vdFJlZHVjZXIuaW5qZWN0KGJvb2xlYW5TbGljZSlcclxuICAgKiByb290UmVkdWNlci5pbmplY3QoYmFzZUFwaSlcclxuICAgKiByb290UmVkdWNlci5pbmplY3QoeyByZWR1Y2VyUGF0aDogJ2Jvb2xlYW4nIGFzIGNvbnN0LCByZWR1Y2VyOiBuZXdSZWR1Y2VyIH0sIHsgb3ZlcnJpZGVFeGlzdGluZzogdHJ1ZSB9KVxyXG4gICAqIGBgYFxyXG4gICAqXHJcbiAgICovXG4gIGluamVjdDxTbCBleHRlbmRzIElkPEV4aXN0aW5nU2xpY2VMaWtlPERlY2xhcmVkU3RhdGU+Pj4oc2xpY2U6IFNsLCBjb25maWc/OiBJbmplY3RDb25maWcpOiBDb21iaW5lZFNsaWNlUmVkdWNlcjxJbml0aWFsU3RhdGUsIElkPERlY2xhcmVkU3RhdGUgJiBXaXRoU2xpY2U8U2w+Pj47XG5cbiAgLyoqXHJcbiAgICogSW5qZWN0IGEgc2xpY2UuXHJcbiAgICpcclxuICAgKiBBY2NlcHRzIGFuIGluZGl2aWR1YWwgc2xpY2UsIFJUS1EgQVBJIGluc3RhbmNlLCBvciBhIFwic2xpY2UtbGlrZVwiIHsgcmVkdWNlclBhdGgsIHJlZHVjZXIgfSBvYmplY3QuXHJcbiAgICpcclxuICAgKiBgYGB0c1xyXG4gICAqIHJvb3RSZWR1Y2VyLmluamVjdChib29sZWFuU2xpY2UpXHJcbiAgICogcm9vdFJlZHVjZXIuaW5qZWN0KGJhc2VBcGkpXHJcbiAgICogcm9vdFJlZHVjZXIuaW5qZWN0KHsgcmVkdWNlclBhdGg6ICdib29sZWFuJyBhcyBjb25zdCwgcmVkdWNlcjogbmV3UmVkdWNlciB9LCB7IG92ZXJyaWRlRXhpc3Rpbmc6IHRydWUgfSlcclxuICAgKiBgYGBcclxuICAgKlxyXG4gICAqL1xuICBpbmplY3Q8UmVkdWNlclBhdGggZXh0ZW5kcyBzdHJpbmcsIFN0YXRlPihzbGljZTogU2xpY2VMaWtlPFJlZHVjZXJQYXRoLCBTdGF0ZSAmIChSZWR1Y2VyUGF0aCBleHRlbmRzIGtleW9mIERlY2xhcmVkU3RhdGUgPyBuZXZlciA6IFN0YXRlKT4sIGNvbmZpZz86IEluamVjdENvbmZpZyk6IENvbWJpbmVkU2xpY2VSZWR1Y2VyPEluaXRpYWxTdGF0ZSwgSWQ8RGVjbGFyZWRTdGF0ZSAmIFdpdGhTbGljZTxTbGljZUxpa2U8UmVkdWNlclBhdGgsIFN0YXRlPj4+PjtcblxuICAvKipcclxuICAgKiBDcmVhdGUgYSBzZWxlY3RvciB0aGF0IGd1YXJhbnRlZXMgdGhhdCB0aGUgc2xpY2VzIGluamVjdGVkIHdpbGwgaGF2ZSBhIGRlZmluZWQgdmFsdWUgd2hlbiBzZWxlY3RvciBpcyBydW4uXHJcbiAgICpcclxuICAgKiBgYGB0c1xyXG4gICAqIGNvbnN0IHNlbGVjdEJvb2xlYW5XaXRob3V0SW5qZWN0aW9uID0gKHN0YXRlOiBSb290U3RhdGUpID0+IHN0YXRlLmJvb2xlYW47XHJcbiAgICogLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXj8gYm9vbGVhbiB8IHVuZGVmaW5lZFxyXG4gICAqXHJcbiAgICogY29uc3Qgc2VsZWN0Qm9vbGVhbiA9IHJvb3RSZWR1Y2VyLmluamVjdChib29sZWFuU2xpY2UpLnNlbGVjdG9yKChzdGF0ZSkgPT4ge1xyXG4gICAqICAgLy8gaWYgYWN0aW9uIGhhc24ndCBiZWVuIGRpc3BhdGNoZWQgc2luY2Ugc2xpY2Ugd2FzIGluamVjdGVkLCB0aGlzIHdvdWxkIHVzdWFsbHkgYmUgdW5kZWZpbmVkXHJcbiAgICogICAvLyBob3dldmVyIHNlbGVjdG9yKCkgdXNlcyBhIFByb3h5IGFyb3VuZCB0aGUgZmlyc3QgcGFyYW1ldGVyIHRvIGVuc3VyZSB0aGF0IGl0IGV2YWx1YXRlcyB0byB0aGUgaW5pdGlhbCBzdGF0ZSBpbnN0ZWFkLCBpZiB1bmRlZmluZWRcclxuICAgKiAgIHJldHVybiBzdGF0ZS5ib29sZWFuO1xyXG4gICAqICAgLy8gICAgICAgICAgIF4/IGJvb2xlYW5cclxuICAgKiB9KVxyXG4gICAqIGBgYFxyXG4gICAqXHJcbiAgICogSWYgdGhlIHJlZHVjZXIgaXMgbmVzdGVkIGluc2lkZSB0aGUgcm9vdCBzdGF0ZSwgYSBzZWxlY3RTdGF0ZSBjYWxsYmFjayBjYW4gYmUgcGFzc2VkIHRvIHJldHJpZXZlIHRoZSByZWR1Y2VyJ3Mgc3RhdGUuXHJcbiAgICpcclxuICAgKiBgYGB0c1xyXG4gICAqXHJcbiAgICogZXhwb3J0IGludGVyZmFjZSBMYXp5TG9hZGVkU2xpY2VzIHt9O1xyXG4gICAqXHJcbiAgICogZXhwb3J0IGNvbnN0IGlubmVyUmVkdWNlciA9IGNvbWJpbmVTbGljZXMoc3RyaW5nU2xpY2UpLndpdGhMYXp5TG9hZGVkU2xpY2VzPExhenlMb2FkZWRTbGljZXM+KCk7XHJcbiAgICpcclxuICAgKiBleHBvcnQgY29uc3Qgcm9vdFJlZHVjZXIgPSBjb21iaW5lU2xpY2VzKHsgaW5uZXI6IGlubmVyUmVkdWNlciB9KTtcclxuICAgKlxyXG4gICAqIGV4cG9ydCB0eXBlIFJvb3RTdGF0ZSA9IFJldHVyblR5cGU8dHlwZW9mIHJvb3RSZWR1Y2VyPjtcclxuICAgKlxyXG4gICAqIC8vIGVsc2V3aGVyZVxyXG4gICAqXHJcbiAgICogZGVjbGFyZSBtb2R1bGUgXCIuL3JlZHVjZXIudHNcIiB7XHJcbiAgICogIGV4cG9ydCBpbnRlcmZhY2UgTGF6eUxvYWRlZFNsaWNlcyBleHRlbmRzIFdpdGhTbGljZTx0eXBlb2YgYm9vbGVhblNsaWNlPiB7fVxyXG4gICAqIH1cclxuICAgKlxyXG4gICAqIGNvbnN0IHdpdGhCb29sID0gaW5uZXJSZWR1Y2VyLmluamVjdChib29sZWFuU2xpY2UpO1xyXG4gICAqXHJcbiAgICogY29uc3Qgc2VsZWN0Qm9vbGVhbiA9IHdpdGhCb29sLnNlbGVjdG9yKFxyXG4gICAqICAgKHN0YXRlKSA9PiBzdGF0ZS5ib29sZWFuLFxyXG4gICAqICAgKHJvb3RTdGF0ZTogUm9vdFN0YXRlKSA9PiBzdGF0ZS5pbm5lclxyXG4gICAqICk7XHJcbiAgICogLy8gICAgbm93IGV4cGVjdHMgdG8gYmUgcGFzc2VkIFJvb3RTdGF0ZSBpbnN0ZWFkIG9mIGlubmVyUmVkdWNlciBzdGF0ZVxyXG4gICAqXHJcbiAgICogYGBgXHJcbiAgICpcclxuICAgKiBWYWx1ZSBwYXNzZWQgdG8gc2VsZWN0b3JGbiB3aWxsIGJlIGEgUHJveHkgLSB1c2Ugc2VsZWN0b3Iub3JpZ2luYWwocHJveHkpIHRvIGdldCBvcmlnaW5hbCBzdGF0ZSB2YWx1ZSAodXNlZnVsIGZvciBkZWJ1Z2dpbmcpXHJcbiAgICpcclxuICAgKiBgYGB0c1xyXG4gICAqIGNvbnN0IGluamVjdGVkUmVkdWNlciA9IHJvb3RSZWR1Y2VyLmluamVjdChib29sZWFuU2xpY2UpO1xyXG4gICAqIGNvbnN0IHNlbGVjdEJvb2xlYW4gPSBpbmplY3RlZFJlZHVjZXIuc2VsZWN0b3IoKHN0YXRlKSA9PiB7XHJcbiAgICogICBjb25zb2xlLmxvZyhpbmplY3RlZFJlZHVjZXIuc2VsZWN0b3Iub3JpZ2luYWwoc3RhdGUpLmJvb2xlYW4pIC8vIHBvc3NpYmx5IHVuZGVmaW5lZFxyXG4gICAqICAgcmV0dXJuIHN0YXRlLmJvb2xlYW5cclxuICAgKiB9KVxyXG4gICAqIGBgYFxyXG4gICAqL1xuICBzZWxlY3Rvcjoge1xuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlIGEgc2VsZWN0b3IgdGhhdCBndWFyYW50ZWVzIHRoYXQgdGhlIHNsaWNlcyBpbmplY3RlZCB3aWxsIGhhdmUgYSBkZWZpbmVkIHZhbHVlIHdoZW4gc2VsZWN0b3IgaXMgcnVuLlxyXG4gICAgICpcclxuICAgICAqIGBgYHRzXHJcbiAgICAgKiBjb25zdCBzZWxlY3RCb29sZWFuV2l0aG91dEluamVjdGlvbiA9IChzdGF0ZTogUm9vdFN0YXRlKSA9PiBzdGF0ZS5ib29sZWFuO1xyXG4gICAgICogLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXj8gYm9vbGVhbiB8IHVuZGVmaW5lZFxyXG4gICAgICpcclxuICAgICAqIGNvbnN0IHNlbGVjdEJvb2xlYW4gPSByb290UmVkdWNlci5pbmplY3QoYm9vbGVhblNsaWNlKS5zZWxlY3Rvcigoc3RhdGUpID0+IHtcclxuICAgICAqICAgLy8gaWYgYWN0aW9uIGhhc24ndCBiZWVuIGRpc3BhdGNoZWQgc2luY2Ugc2xpY2Ugd2FzIGluamVjdGVkLCB0aGlzIHdvdWxkIHVzdWFsbHkgYmUgdW5kZWZpbmVkXHJcbiAgICAgKiAgIC8vIGhvd2V2ZXIgc2VsZWN0b3IoKSB1c2VzIGEgUHJveHkgYXJvdW5kIHRoZSBmaXJzdCBwYXJhbWV0ZXIgdG8gZW5zdXJlIHRoYXQgaXQgZXZhbHVhdGVzIHRvIHRoZSBpbml0aWFsIHN0YXRlIGluc3RlYWQsIGlmIHVuZGVmaW5lZFxyXG4gICAgICogICByZXR1cm4gc3RhdGUuYm9vbGVhbjtcclxuICAgICAqICAgLy8gICAgICAgICAgIF4/IGJvb2xlYW5cclxuICAgICAqIH0pXHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKiBWYWx1ZSBwYXNzZWQgdG8gc2VsZWN0b3JGbiB3aWxsIGJlIGEgUHJveHkgLSB1c2Ugc2VsZWN0b3Iub3JpZ2luYWwocHJveHkpIHRvIGdldCBvcmlnaW5hbCBzdGF0ZSB2YWx1ZSAodXNlZnVsIGZvciBkZWJ1Z2dpbmcpXHJcbiAgICAgKlxyXG4gICAgICogYGBgdHNcclxuICAgICAqIGNvbnN0IGluamVjdGVkUmVkdWNlciA9IHJvb3RSZWR1Y2VyLmluamVjdChib29sZWFuU2xpY2UpO1xyXG4gICAgICogY29uc3Qgc2VsZWN0Qm9vbGVhbiA9IGluamVjdGVkUmVkdWNlci5zZWxlY3Rvcigoc3RhdGUpID0+IHtcclxuICAgICAqICAgY29uc29sZS5sb2coaW5qZWN0ZWRSZWR1Y2VyLnNlbGVjdG9yLm9yaWdpbmFsKHN0YXRlKS5ib29sZWFuKSAvLyB1bmRlZmluZWRcclxuICAgICAqICAgcmV0dXJuIHN0YXRlLmJvb2xlYW5cclxuICAgICAqIH0pXHJcbiAgICAgKiBgYGBcclxuICAgICAqL1xuICAgIDxTZWxlY3RvciBleHRlbmRzIChzdGF0ZTogRGVjbGFyZWRTdGF0ZSwgLi4uYXJnczogYW55W10pID0+IHVua25vd24+KHNlbGVjdG9yRm46IFNlbGVjdG9yKTogKHN0YXRlOiBXaXRoT3B0aW9uYWxQcm9wPFBhcmFtZXRlcnM8U2VsZWN0b3I+WzBdLCBFeGNsdWRlPGtleW9mIERlY2xhcmVkU3RhdGUsIGtleW9mIEluaXRpYWxTdGF0ZT4+LCAuLi5hcmdzOiBUYWlsPFBhcmFtZXRlcnM8U2VsZWN0b3I+PikgPT4gUmV0dXJuVHlwZTxTZWxlY3Rvcj47XG5cbiAgICAvKipcclxuICAgICAqIENyZWF0ZSBhIHNlbGVjdG9yIHRoYXQgZ3VhcmFudGVlcyB0aGF0IHRoZSBzbGljZXMgaW5qZWN0ZWQgd2lsbCBoYXZlIGEgZGVmaW5lZCB2YWx1ZSB3aGVuIHNlbGVjdG9yIGlzIHJ1bi5cclxuICAgICAqXHJcbiAgICAgKiBgYGB0c1xyXG4gICAgICogY29uc3Qgc2VsZWN0Qm9vbGVhbldpdGhvdXRJbmplY3Rpb24gPSAoc3RhdGU6IFJvb3RTdGF0ZSkgPT4gc3RhdGUuYm9vbGVhbjtcclxuICAgICAqIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF4/IGJvb2xlYW4gfCB1bmRlZmluZWRcclxuICAgICAqXHJcbiAgICAgKiBjb25zdCBzZWxlY3RCb29sZWFuID0gcm9vdFJlZHVjZXIuaW5qZWN0KGJvb2xlYW5TbGljZSkuc2VsZWN0b3IoKHN0YXRlKSA9PiB7XHJcbiAgICAgKiAgIC8vIGlmIGFjdGlvbiBoYXNuJ3QgYmVlbiBkaXNwYXRjaGVkIHNpbmNlIHNsaWNlIHdhcyBpbmplY3RlZCwgdGhpcyB3b3VsZCB1c3VhbGx5IGJlIHVuZGVmaW5lZFxyXG4gICAgICogICAvLyBob3dldmVyIHNlbGVjdG9yKCkgdXNlcyBhIFByb3h5IGFyb3VuZCB0aGUgZmlyc3QgcGFyYW1ldGVyIHRvIGVuc3VyZSB0aGF0IGl0IGV2YWx1YXRlcyB0byB0aGUgaW5pdGlhbCBzdGF0ZSBpbnN0ZWFkLCBpZiB1bmRlZmluZWRcclxuICAgICAqICAgcmV0dXJuIHN0YXRlLmJvb2xlYW47XHJcbiAgICAgKiAgIC8vICAgICAgICAgICBePyBib29sZWFuXHJcbiAgICAgKiB9KVxyXG4gICAgICogYGBgXHJcbiAgICAgKlxyXG4gICAgICogSWYgdGhlIHJlZHVjZXIgaXMgbmVzdGVkIGluc2lkZSB0aGUgcm9vdCBzdGF0ZSwgYSBzZWxlY3RTdGF0ZSBjYWxsYmFjayBjYW4gYmUgcGFzc2VkIHRvIHJldHJpZXZlIHRoZSByZWR1Y2VyJ3Mgc3RhdGUuXHJcbiAgICAgKlxyXG4gICAgICogYGBgdHNcclxuICAgICAqXHJcbiAgICAgKiBpbnRlcmZhY2UgTGF6eUxvYWRlZFNsaWNlcyB7fTtcclxuICAgICAqXHJcbiAgICAgKiBjb25zdCBpbm5lclJlZHVjZXIgPSBjb21iaW5lU2xpY2VzKHN0cmluZ1NsaWNlKS53aXRoTGF6eUxvYWRlZFNsaWNlczxMYXp5TG9hZGVkU2xpY2VzPigpO1xyXG4gICAgICpcclxuICAgICAqIGNvbnN0IHJvb3RSZWR1Y2VyID0gY29tYmluZVNsaWNlcyh7IGlubmVyOiBpbm5lclJlZHVjZXIgfSk7XHJcbiAgICAgKlxyXG4gICAgICogdHlwZSBSb290U3RhdGUgPSBSZXR1cm5UeXBlPHR5cGVvZiByb290UmVkdWNlcj47XHJcbiAgICAgKlxyXG4gICAgICogLy8gZWxzZXdoZXJlXHJcbiAgICAgKlxyXG4gICAgICogZGVjbGFyZSBtb2R1bGUgXCIuL3JlZHVjZXIudHNcIiB7XHJcbiAgICAgKiAgaW50ZXJmYWNlIExhenlMb2FkZWRTbGljZXMgZXh0ZW5kcyBXaXRoU2xpY2U8dHlwZW9mIGJvb2xlYW5TbGljZT4ge31cclxuICAgICAqIH1cclxuICAgICAqXHJcbiAgICAgKiBjb25zdCB3aXRoQm9vbCA9IGlubmVyUmVkdWNlci5pbmplY3QoYm9vbGVhblNsaWNlKTtcclxuICAgICAqXHJcbiAgICAgKiBjb25zdCBzZWxlY3RCb29sZWFuID0gd2l0aEJvb2wuc2VsZWN0b3IoXHJcbiAgICAgKiAgIChzdGF0ZSkgPT4gc3RhdGUuYm9vbGVhbixcclxuICAgICAqICAgKHJvb3RTdGF0ZTogUm9vdFN0YXRlKSA9PiBzdGF0ZS5pbm5lclxyXG4gICAgICogKTtcclxuICAgICAqIC8vICAgIG5vdyBleHBlY3RzIHRvIGJlIHBhc3NlZCBSb290U3RhdGUgaW5zdGVhZCBvZiBpbm5lclJlZHVjZXIgc3RhdGVcclxuICAgICAqXHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKiBWYWx1ZSBwYXNzZWQgdG8gc2VsZWN0b3JGbiB3aWxsIGJlIGEgUHJveHkgLSB1c2Ugc2VsZWN0b3Iub3JpZ2luYWwocHJveHkpIHRvIGdldCBvcmlnaW5hbCBzdGF0ZSB2YWx1ZSAodXNlZnVsIGZvciBkZWJ1Z2dpbmcpXHJcbiAgICAgKlxyXG4gICAgICogYGBgdHNcclxuICAgICAqIGNvbnN0IGluamVjdGVkUmVkdWNlciA9IHJvb3RSZWR1Y2VyLmluamVjdChib29sZWFuU2xpY2UpO1xyXG4gICAgICogY29uc3Qgc2VsZWN0Qm9vbGVhbiA9IGluamVjdGVkUmVkdWNlci5zZWxlY3Rvcigoc3RhdGUpID0+IHtcclxuICAgICAqICAgY29uc29sZS5sb2coaW5qZWN0ZWRSZWR1Y2VyLnNlbGVjdG9yLm9yaWdpbmFsKHN0YXRlKS5ib29sZWFuKSAvLyBwb3NzaWJseSB1bmRlZmluZWRcclxuICAgICAqICAgcmV0dXJuIHN0YXRlLmJvb2xlYW5cclxuICAgICAqIH0pXHJcbiAgICAgKiBgYGBcclxuICAgICAqL1xuICAgIDxTZWxlY3RvciBleHRlbmRzIChzdGF0ZTogRGVjbGFyZWRTdGF0ZSwgLi4uYXJnczogYW55W10pID0+IHVua25vd24sIFJvb3RTdGF0ZT4oc2VsZWN0b3JGbjogU2VsZWN0b3IsIHNlbGVjdFN0YXRlOiAocm9vdFN0YXRlOiBSb290U3RhdGUsIC4uLmFyZ3M6IFRhaWw8UGFyYW1ldGVyczxTZWxlY3Rvcj4+KSA9PiBXaXRoT3B0aW9uYWxQcm9wPFBhcmFtZXRlcnM8U2VsZWN0b3I+WzBdLCBFeGNsdWRlPGtleW9mIERlY2xhcmVkU3RhdGUsIGtleW9mIEluaXRpYWxTdGF0ZT4+KTogKHN0YXRlOiBSb290U3RhdGUsIC4uLmFyZ3M6IFRhaWw8UGFyYW1ldGVyczxTZWxlY3Rvcj4+KSA9PiBSZXR1cm5UeXBlPFNlbGVjdG9yPjtcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdGhlIHVucHJveGllZCBzdGF0ZS4gVXNlZnVsIGZvciBkZWJ1Z2dpbmcuXHJcbiAgICAgKiBAcGFyYW0gc3RhdGUgc3RhdGUgUHJveHksIHRoYXQgZW5zdXJlcyBpbmplY3RlZCByZWR1Y2VycyBoYXZlIHZhbHVlXHJcbiAgICAgKiBAcmV0dXJucyBvcmlnaW5hbCwgdW5wcm94aWVkIHN0YXRlXHJcbiAgICAgKiBAdGhyb3dzIGlmIHZhbHVlIHBhc3NlZCBpcyBub3QgYSBzdGF0ZSBQcm94eVxyXG4gICAgICovXG4gICAgb3JpZ2luYWw6IChzdGF0ZTogRGVjbGFyZWRTdGF0ZSkgPT4gSW5pdGlhbFN0YXRlICYgUGFydGlhbDxEZWNsYXJlZFN0YXRlPjtcbiAgfTtcbn1cbnR5cGUgSW5pdGlhbFN0YXRlPFNsaWNlcyBleHRlbmRzIEFycmF5PEFueVNsaWNlTGlrZSB8IFJlZHVjZXJNYXA+PiA9IFVuaW9uVG9JbnRlcnNlY3Rpb248U2xpY2VzW251bWJlcl0gZXh0ZW5kcyBpbmZlciBTbGljZSA/IFNsaWNlIGV4dGVuZHMgQW55U2xpY2VMaWtlID8gV2l0aFNsaWNlPFNsaWNlPiA6IFN0YXRlRnJvbVJlZHVjZXJzTWFwT2JqZWN0PFNsaWNlPiA6IG5ldmVyPjtcbmNvbnN0IGlzU2xpY2VMaWtlID0gKG1heWJlU2xpY2VMaWtlOiBBbnlTbGljZUxpa2UgfCBSZWR1Y2VyTWFwKTogbWF5YmVTbGljZUxpa2UgaXMgQW55U2xpY2VMaWtlID0+ICdyZWR1Y2VyUGF0aCcgaW4gbWF5YmVTbGljZUxpa2UgJiYgdHlwZW9mIG1heWJlU2xpY2VMaWtlLnJlZHVjZXJQYXRoID09PSAnc3RyaW5nJztcbmNvbnN0IGdldFJlZHVjZXJzID0gKHNsaWNlczogQXJyYXk8QW55U2xpY2VMaWtlIHwgUmVkdWNlck1hcD4pID0+IHNsaWNlcy5mbGF0TWFwKHNsaWNlT3JNYXAgPT4gaXNTbGljZUxpa2Uoc2xpY2VPck1hcCkgPyBbKFtzbGljZU9yTWFwLnJlZHVjZXJQYXRoLCBzbGljZU9yTWFwLnJlZHVjZXJdIGFzIGNvbnN0KV0gOiBPYmplY3QuZW50cmllcyhzbGljZU9yTWFwKSk7XG5jb25zdCBPUklHSU5BTF9TVEFURSA9IFN5bWJvbC5mb3IoJ3J0ay1zdGF0ZS1wcm94eS1vcmlnaW5hbCcpO1xuY29uc3QgaXNTdGF0ZVByb3h5ID0gKHZhbHVlOiBhbnkpID0+ICEhdmFsdWUgJiYgISF2YWx1ZVtPUklHSU5BTF9TVEFURV07XG5jb25zdCBzdGF0ZVByb3h5TWFwID0gbmV3IFdlYWtNYXA8b2JqZWN0LCBvYmplY3Q+KCk7XG5jb25zdCBjcmVhdGVTdGF0ZVByb3h5ID0gPFN0YXRlIGV4dGVuZHMgb2JqZWN0LD4oc3RhdGU6IFN0YXRlLCByZWR1Y2VyTWFwOiBQYXJ0aWFsPFJlY29yZDxzdHJpbmcsIFJlZHVjZXI+PikgPT4gKGVtcGxhY2Uoc3RhdGVQcm94eU1hcCwgc3RhdGUsIHtcbiAgaW5zZXJ0OiAoKSA9PiBuZXcgUHJveHkoc3RhdGUsIHtcbiAgICBnZXQ6ICh0YXJnZXQsIHByb3AsIHJlY2VpdmVyKSA9PiB7XG4gICAgICBpZiAocHJvcCA9PT0gT1JJR0lOQUxfU1RBVEUpIHJldHVybiB0YXJnZXQ7XG4gICAgICBjb25zdCByZXN1bHQgPSBSZWZsZWN0LmdldCh0YXJnZXQsIHByb3AsIHJlY2VpdmVyKTtcbiAgICAgIGlmICh0eXBlb2YgcmVzdWx0ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICBjb25zdCByZWR1Y2VyID0gcmVkdWNlck1hcFtwcm9wLnRvU3RyaW5nKCldO1xuICAgICAgICBpZiAocmVkdWNlcikge1xuICAgICAgICAgIC8vIGVuc3VyZSBhY3Rpb24gdHlwZSBpcyByYW5kb20sIHRvIHByZXZlbnQgcmVkdWNlciB0cmVhdGluZyBpdCBkaWZmZXJlbnRseVxuICAgICAgICAgIGNvbnN0IHJlZHVjZXJSZXN1bHQgPSByZWR1Y2VyKHVuZGVmaW5lZCwge1xuICAgICAgICAgICAgdHlwZTogbmFub2lkKClcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBpZiAodHlwZW9mIHJlZHVjZXJSZXN1bHQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiID8gX2Zvcm1hdFByb2RFcnJvck1lc3NhZ2UoMjQpIDogYFRoZSBzbGljZSByZWR1Y2VyIGZvciBrZXkgXCIke3Byb3AudG9TdHJpbmcoKX1cIiByZXR1cm5lZCB1bmRlZmluZWQgd2hlbiBjYWxsZWQgZm9yIHNlbGVjdG9yKCkuIGAgKyBgSWYgdGhlIHN0YXRlIHBhc3NlZCB0byB0aGUgcmVkdWNlciBpcyB1bmRlZmluZWQsIHlvdSBtdXN0IGAgKyBgZXhwbGljaXRseSByZXR1cm4gdGhlIGluaXRpYWwgc3RhdGUuIFRoZSBpbml0aWFsIHN0YXRlIG1heSBgICsgYG5vdCBiZSB1bmRlZmluZWQuIElmIHlvdSBkb24ndCB3YW50IHRvIHNldCBhIHZhbHVlIGZvciB0aGlzIHJlZHVjZXIsIGAgKyBgeW91IGNhbiB1c2UgbnVsbCBpbnN0ZWFkIG9mIHVuZGVmaW5lZC5gKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHJlZHVjZXJSZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICB9KVxufSkgYXMgU3RhdGUpO1xuY29uc3Qgb3JpZ2luYWwgPSAoc3RhdGU6IGFueSkgPT4ge1xuICBpZiAoIWlzU3RhdGVQcm94eShzdGF0ZSkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiID8gX2Zvcm1hdFByb2RFcnJvck1lc3NhZ2UyKDI1KSA6ICdvcmlnaW5hbCBtdXN0IGJlIHVzZWQgb24gc3RhdGUgUHJveHknKTtcbiAgfVxuICByZXR1cm4gc3RhdGVbT1JJR0lOQUxfU1RBVEVdO1xufTtcbmNvbnN0IG5vb3BSZWR1Y2VyOiBSZWR1Y2VyPFJlY29yZDxzdHJpbmcsIGFueT4+ID0gKHN0YXRlID0ge30pID0+IHN0YXRlO1xuZXhwb3J0IGZ1bmN0aW9uIGNvbWJpbmVTbGljZXM8U2xpY2VzIGV4dGVuZHMgQXJyYXk8QW55U2xpY2VMaWtlIHwgUmVkdWNlck1hcD4+KC4uLnNsaWNlczogU2xpY2VzKTogQ29tYmluZWRTbGljZVJlZHVjZXI8SWQ8SW5pdGlhbFN0YXRlPFNsaWNlcz4+PiB7XG4gIGNvbnN0IHJlZHVjZXJNYXAgPSBPYmplY3QuZnJvbUVudHJpZXM8UmVkdWNlcj4oZ2V0UmVkdWNlcnMoc2xpY2VzKSk7XG4gIGNvbnN0IGdldFJlZHVjZXIgPSAoKSA9PiBPYmplY3Qua2V5cyhyZWR1Y2VyTWFwKS5sZW5ndGggPyBjb21iaW5lUmVkdWNlcnMocmVkdWNlck1hcCkgOiBub29wUmVkdWNlcjtcbiAgbGV0IHJlZHVjZXIgPSBnZXRSZWR1Y2VyKCk7XG4gIGZ1bmN0aW9uIGNvbWJpbmVkUmVkdWNlcihzdGF0ZTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4sIGFjdGlvbjogVW5rbm93bkFjdGlvbikge1xuICAgIHJldHVybiByZWR1Y2VyKHN0YXRlLCBhY3Rpb24pO1xuICB9XG4gIGNvbWJpbmVkUmVkdWNlci53aXRoTGF6eUxvYWRlZFNsaWNlcyA9ICgpID0+IGNvbWJpbmVkUmVkdWNlcjtcbiAgY29uc3QgaW5qZWN0ID0gKHNsaWNlOiBBbnlTbGljZUxpa2UsIGNvbmZpZzogSW5qZWN0Q29uZmlnID0ge30pOiB0eXBlb2YgY29tYmluZWRSZWR1Y2VyID0+IHtcbiAgICBjb25zdCB7XG4gICAgICByZWR1Y2VyUGF0aCxcbiAgICAgIHJlZHVjZXI6IHJlZHVjZXJUb0luamVjdFxuICAgIH0gPSBzbGljZTtcbiAgICBjb25zdCBjdXJyZW50UmVkdWNlciA9IHJlZHVjZXJNYXBbcmVkdWNlclBhdGhdO1xuICAgIGlmICghY29uZmlnLm92ZXJyaWRlRXhpc3RpbmcgJiYgY3VycmVudFJlZHVjZXIgJiYgY3VycmVudFJlZHVjZXIgIT09IHJlZHVjZXJUb0luamVjdCkge1xuICAgICAgaWYgKHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50Jykge1xuICAgICAgICBjb25zb2xlLmVycm9yKGBjYWxsZWQgXFxgaW5qZWN0XFxgIHRvIG92ZXJyaWRlIGFscmVhZHktZXhpc3RpbmcgcmVkdWNlciAke3JlZHVjZXJQYXRofSB3aXRob3V0IHNwZWNpZnlpbmcgXFxgb3ZlcnJpZGVFeGlzdGluZzogdHJ1ZVxcYGApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNvbWJpbmVkUmVkdWNlcjtcbiAgICB9XG4gICAgcmVkdWNlck1hcFtyZWR1Y2VyUGF0aF0gPSByZWR1Y2VyVG9JbmplY3Q7XG4gICAgcmVkdWNlciA9IGdldFJlZHVjZXIoKTtcbiAgICByZXR1cm4gY29tYmluZWRSZWR1Y2VyO1xuICB9O1xuICBjb25zdCBzZWxlY3RvciA9IE9iamVjdC5hc3NpZ24oZnVuY3Rpb24gbWFrZVNlbGVjdG9yPFN0YXRlIGV4dGVuZHMgb2JqZWN0LCBSb290U3RhdGUsIEFyZ3MgZXh0ZW5kcyBhbnlbXT4oc2VsZWN0b3JGbjogKHN0YXRlOiBTdGF0ZSwgLi4uYXJnczogQXJncykgPT4gYW55LCBzZWxlY3RTdGF0ZT86IChyb290U3RhdGU6IFJvb3RTdGF0ZSwgLi4uYXJnczogQXJncykgPT4gU3RhdGUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gc2VsZWN0b3Ioc3RhdGU6IFN0YXRlLCAuLi5hcmdzOiBBcmdzKSB7XG4gICAgICByZXR1cm4gc2VsZWN0b3JGbihjcmVhdGVTdGF0ZVByb3h5KHNlbGVjdFN0YXRlID8gc2VsZWN0U3RhdGUoKHN0YXRlIGFzIGFueSksIC4uLmFyZ3MpIDogc3RhdGUsIHJlZHVjZXJNYXApLCAuLi5hcmdzKTtcbiAgICB9O1xuICB9LCB7XG4gICAgb3JpZ2luYWxcbiAgfSk7XG4gIHJldHVybiAoT2JqZWN0LmFzc2lnbihjb21iaW5lZFJlZHVjZXIsIHtcbiAgICBpbmplY3QsXG4gICAgc2VsZWN0b3JcbiAgfSkgYXMgYW55KTtcbn0iLCIvKipcclxuICogQWRhcHRlZCBmcm9tIFJlYWN0OiBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvYmxvYi9tYXN0ZXIvcGFja2FnZXMvc2hhcmVkL2Zvcm1hdFByb2RFcnJvck1lc3NhZ2UuanNcclxuICpcclxuICogRG8gbm90IHJlcXVpcmUgdGhpcyBtb2R1bGUgZGlyZWN0bHkhIFVzZSBub3JtYWwgdGhyb3cgZXJyb3IgY2FsbHMuIFRoZXNlIG1lc3NhZ2VzIHdpbGwgYmUgcmVwbGFjZWQgd2l0aCBlcnJvciBjb2Rlc1xyXG4gKiBkdXJpbmcgYnVpbGQuXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBjb2RlXHJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdFByb2RFcnJvck1lc3NhZ2UoY29kZTogbnVtYmVyKSB7XG4gIHJldHVybiBgTWluaWZpZWQgUmVkdXggVG9vbGtpdCBlcnJvciAjJHtjb2RlfTsgdmlzaXQgaHR0cHM6Ly9yZWR1eC10b29sa2l0LmpzLm9yZy9FcnJvcnM/Y29kZT0ke2NvZGV9IGZvciB0aGUgZnVsbCBtZXNzYWdlIG9yIGAgKyAndXNlIHRoZSBub24tbWluaWZpZWQgZGV2IGVudmlyb25tZW50IGZvciBmdWxsIGVycm9ycy4gJztcbn0iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLElBQUFBLFdBQUE7QUFBQUMsUUFBQSxDQUFBRCxXQUFBO0VBQUFFLFdBQUEsRUFBQUEsQ0FBQSxLQUFBQSxXQUFBO0VBQUFDLGdCQUFBLEVBQUFBLENBQUEsS0FBQUEsZ0JBQUE7RUFBQUMsY0FBQSxFQUFBQSxDQUFBLEtBQUFBLGNBQUE7RUFBQUMsS0FBQSxFQUFBQSxDQUFBLEtBQUFBLEtBQUE7RUFBQUMsV0FBQSxFQUFBQSxDQUFBLEtBQUFBLFdBQUE7RUFBQUMsaUJBQUEsRUFBQUEsQ0FBQSxLQUFBQSxpQkFBQTtFQUFBQyxpQkFBQSxFQUFBQSxDQUFBLEtBQUFBLGlCQUFBO0VBQUFDLGdCQUFBLEVBQUFBLENBQUEsS0FBQUEsZ0JBQUE7RUFBQUMsaUJBQUEsRUFBQUEsQ0FBQSxLQUFBQSxpQkFBQTtFQUFBQyxhQUFBLEVBQUFBLENBQUEsS0FBQUEsYUFBQTtFQUFBQyxjQUFBLEVBQUFBLENBQUEsS0FBQUEsY0FBQTtFQUFBQyxZQUFBLEVBQUFBLENBQUEsS0FBQUEsWUFBQTtFQUFBQyxzQ0FBQSxFQUFBQSxDQUFBLEtBQUFBLHNDQUFBO0VBQUFDLGdCQUFBLEVBQUFBLENBQUEsS0FBQUEsZ0JBQUE7RUFBQUMsdUJBQUEsRUFBQUEsQ0FBQSxLQUFBQSx1QkFBQTtFQUFBQyw4QkFBQSxFQUFBQSxDQUFBLEtBQUFBLDhCQUFBO0VBQUFDLHVCQUFBLEVBQUFBLENBQUEsS0FBQUEsdUJBQUE7RUFBQUMsbUJBQUEsRUFBQUEsQ0FBQSxLQUFBQSxtQkFBQTtFQUFBQyx1Q0FBQSxFQUFBQSxDQUFBLEtBQUFBLHVDQUFBO0VBQUFDLHdCQUFBLEVBQUFBLENBQUEsS0FBQUEsd0JBQUE7RUFBQUMsZUFBQSxFQUFBQSxDQUFBLEtBQUFDLGFBQUEsQ0FBQUMsT0FBQTtFQUFBQyxhQUFBLEVBQUFBLENBQUEsS0FBQUEsYUFBQTtFQUFBQyxjQUFBLEVBQUFBLENBQUEsS0FBQUMsZ0JBQUEsQ0FBQUQsY0FBQTtFQUFBRSxxQkFBQSxFQUFBQSxDQUFBLEtBQUFELGdCQUFBLENBQUFDLHFCQUFBO0VBQUFDLDBDQUFBLEVBQUFBLENBQUEsS0FBQUEsMENBQUE7RUFBQUMsV0FBQSxFQUFBQSxDQUFBLEtBQUFBLFdBQUE7RUFBQUMsT0FBQSxFQUFBQSxDQUFBLEtBQUFS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