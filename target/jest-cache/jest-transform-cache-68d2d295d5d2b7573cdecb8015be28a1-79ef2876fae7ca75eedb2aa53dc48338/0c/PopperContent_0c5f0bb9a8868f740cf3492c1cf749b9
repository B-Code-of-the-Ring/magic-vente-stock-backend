a2fbfb50d4818408e297b3ca41705c3d
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _react = _interopRequireDefault(require("react"));
var _propTypes = _interopRequireDefault(require("prop-types"));
var _reactDom = _interopRequireDefault(require("react-dom"));
var _classnames = _interopRequireDefault(require("classnames"));
var _reactPopper = require("react-popper");
var _utils = require("./utils");
var _Fade = _interopRequireDefault(require("./Fade"));
const _excluded = ["cssModule", "children", "isOpen", "flip", "target", "offset", "fallbackPlacements", "placementPrefix", "arrowClassName", "hideArrow", "popperClassName", "tag", "container", "modifiers", "strategy", "boundariesElement", "onClosed", "fade", "transition", "placement"];
function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : {
    default: obj
  };
}
function _extends() {
  _extends = Object.assign ? Object.assign.bind() : function (target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];
      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }
    return target;
  };
  return _extends.apply(this, arguments);
}
function _objectWithoutProperties(source, excluded) {
  if (source == null) return {};
  var target = _objectWithoutPropertiesLoose(source, excluded);
  var key, i;
  if (Object.getOwnPropertySymbols) {
    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);
    for (i = 0; i < sourceSymbolKeys.length; i++) {
      key = sourceSymbolKeys[i];
      if (excluded.indexOf(key) >= 0) continue;
      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;
      target[key] = source[key];
    }
  }
  return target;
}
function _objectWithoutPropertiesLoose(source, excluded) {
  if (source == null) return {};
  var target = {};
  var sourceKeys = Object.keys(source);
  var key, i;
  for (i = 0; i < sourceKeys.length; i++) {
    key = sourceKeys[i];
    if (excluded.indexOf(key) >= 0) continue;
    target[key] = source[key];
  }
  return target;
}
function ownKeys(object, enumerableOnly) {
  var keys = Object.keys(object);
  if (Object.getOwnPropertySymbols) {
    var symbols = Object.getOwnPropertySymbols(object);
    enumerableOnly && (symbols = symbols.filter(function (sym) {
      return Object.getOwnPropertyDescriptor(object, sym).enumerable;
    })), keys.push.apply(keys, symbols);
  }
  return keys;
}
function _objectSpread(target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = null != arguments[i] ? arguments[i] : {};
    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {
      _defineProperty(target, key, source[key]);
    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {
      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));
    });
  }
  return target;
}
function _defineProperty(obj, key, value) {
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }
  return obj;
}
function noop() {}
const propTypes = {
  children: _propTypes.default.oneOfType([_propTypes.default.node, _propTypes.default.func]).isRequired,
  popperClassName: _propTypes.default.string,
  placement: _propTypes.default.string,
  placementPrefix: _propTypes.default.string,
  arrowClassName: _propTypes.default.string,
  hideArrow: _propTypes.default.bool,
  tag: _utils.tagPropType,
  isOpen: _propTypes.default.bool,
  cssModule: _propTypes.default.object,
  offset: _propTypes.default.arrayOf(_propTypes.default.number),
  fallbackPlacements: _propTypes.default.array,
  flip: _propTypes.default.bool,
  container: _utils.targetPropType,
  target: _utils.targetPropType.isRequired,
  modifiers: _propTypes.default.array,
  strategy: _propTypes.default.string,
  boundariesElement: _propTypes.default.oneOfType([_propTypes.default.string, _utils.DOMElement]),
  onClosed: _propTypes.default.func,
  fade: _propTypes.default.bool,
  transition: _propTypes.default.shape(_Fade.default.propTypes)
};
const defaultProps = {
  boundariesElement: 'scrollParent',
  placement: 'auto',
  hideArrow: false,
  isOpen: false,
  offset: [0, 0],
  flip: true,
  container: 'body',
  modifiers: [],
  onClosed: noop,
  fade: true,
  transition: _objectSpread({}, _Fade.default.defaultProps)
};
class PopperContent extends _react.default.Component {
  constructor(props) {
    super(props);
    this.setTargetNode = this.setTargetNode.bind(this);
    this.getTargetNode = this.getTargetNode.bind(this);
    this.getRef = this.getRef.bind(this);
    this.onClosed = this.onClosed.bind(this);
    this.state = {
      isOpen: props.isOpen
    };
  }
  static getDerivedStateFromProps(props, state) {
    if (props.isOpen && !state.isOpen) {
      return {
        isOpen: props.isOpen
      };
    }
    return null;
  }
  componentDidUpdate() {
    if (this._element && this._element.childNodes && this._element.childNodes[0] && this._element.childNodes[0].focus) {
      this._element.childNodes[0].focus();
    }
  }
  onClosed() {
    this.props.onClosed();
    this.setState({
      isOpen: false
    });
  }
  getTargetNode() {
    return this.targetNode;
  }
  getContainerNode() {
    return (0, _utils.getTarget)(this.props.container);
  }
  getRef(ref) {
    this._element = ref;
  }
  setTargetNode(node) {
    this.targetNode = typeof node === 'string' ? (0, _utils.getTarget)(node) : node;
  }
  renderChildren() {
    const _this$props = this.props,
      {
        cssModule,
        children,
        isOpen,
        flip,
        target,
        offset,
        fallbackPlacements,
        placementPrefix,
        arrowClassName: _arrowClassName,
        hideArrow,
        popperClassName: _popperClassName,
        tag,
        container,
        modifiers,
        strategy,
        boundariesElement,
        onClosed,
        fade,
        transition,
        placement
      } = _this$props,
      attrs = _objectWithoutProperties(_this$props, _excluded);
    const arrowClassName = (0, _utils.mapToCssModules)((0, _classnames.default)('arrow', _arrowClassName), cssModule);
    const popperClassName = (0, _utils.mapToCssModules)((0, _classnames.default)(_popperClassName, placementPrefix ? `${placementPrefix}-auto` : ''), this.props.cssModule);
    const modifierNames = modifiers.map(m => m.name);
    const baseModifiers = [{
      name: 'offset',
      options: {
        offset
      }
    }, {
      name: 'flip',
      enabled: flip,
      options: {
        fallbackPlacements
      }
    }, {
      name: 'preventOverflow',
      options: {
        boundary: boundariesElement
      }
    }].filter(m => !modifierNames.includes(m.name));
    const extendedModifiers = [...baseModifiers, ...modifiers];
    const popperTransition = _objectSpread(_objectSpread(_objectSpread({}, _Fade.default.defaultProps), transition), {}, {
      baseClass: fade ? transition.baseClass : '',
      timeout: fade ? transition.timeout : 0
    });
    return /*#__PURE__*/_react.default.createElement(_Fade.default, _extends({}, popperTransition, attrs, {
      in: isOpen,
      onExited: this.onClosed,
      tag: tag
    }), /*#__PURE__*/_react.default.createElement(_reactPopper.Popper, {
      referenceElement: this.targetNode,
      modifiers: extendedModifiers,
      placement: placement,
      strategy: strategy
    }, ({
      ref,
      style,
      placement: popperPlacement,
      isReferenceHidden,
      arrowProps,
      update
    }) => /*#__PURE__*/_react.default.createElement("div", {
      ref: ref,
      style: style,
      className: popperClassName,
      "data-popper-placement": popperPlacement,
      "data-popper-reference-hidden": isReferenceHidden ? 'true' : undefined
    }, typeof children === 'function' ? children({
      update
    }) : children, !hideArrow && /*#__PURE__*/_react.default.createElement("span", {
      ref: arrowProps.ref,
      className: arrowClassName,
      style: arrowProps.style
    }))));
  }
  render() {
    this.setTargetNode(this.props.target);
    if (this.state.isOpen) {
      return this.props.container === 'inline' ? this.renderChildren() : /*#__PURE__*/_reactDom.default.createPortal( /*#__PURE__*/_react.default.createElement("div", {
        ref: this.getRef
      }, this.renderChildren()), this.getContainerNode());
    }
    return null;
  }
}
PopperContent.propTypes = propTypes;
PopperContent.defaultProps = defaultProps;
var _default = PopperContent;
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsImRlZmF1bHQiLCJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9wcm9wVHlwZXMiLCJfcmVhY3REb20iLCJfY2xhc3NuYW1lcyIsIl9yZWFjdFBvcHBlciIsIl91dGlscyIsIl9GYWRlIiwiX2V4Y2x1ZGVkIiwib2JqIiwiX19lc01vZHVsZSIsIl9leHRlbmRzIiwiYXNzaWduIiwiYmluZCIsInRhcmdldCIsImkiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJzb3VyY2UiLCJrZXkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJhcHBseSIsIl9vYmplY3RXaXRob3V0UHJvcGVydGllcyIsImV4Y2x1ZGVkIiwiX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJzb3VyY2VTeW1ib2xLZXlzIiwiaW5kZXhPZiIsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwic291cmNlS2V5cyIsImtleXMiLCJvd25LZXlzIiwib2JqZWN0IiwiZW51bWVyYWJsZU9ubHkiLCJzeW1ib2xzIiwiZmlsdGVyIiwic3ltIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiZW51bWVyYWJsZSIsInB1c2giLCJfb2JqZWN0U3ByZWFkIiwiZm9yRWFjaCIsIl9kZWZpbmVQcm9wZXJ0eSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvcnMiLCJkZWZpbmVQcm9wZXJ0aWVzIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJub29wIiwicHJvcFR5cGVzIiwiY2hpbGRyZW4iLCJvbmVPZlR5cGUiLCJub2RlIiwiZnVuYyIsImlzUmVxdWlyZWQiLCJwb3BwZXJDbGFzc05hbWUiLCJzdHJpbmciLCJwbGFjZW1lbnQiLCJwbGFjZW1lbnRQcmVmaXgiLCJhcnJvd0NsYXNzTmFtZSIsImhpZGVBcnJvdyIsImJvb2wiLCJ0YWciLCJ0YWdQcm9wVHlwZSIsImlzT3BlbiIsImNzc01vZHVsZSIsIm9mZnNldCIsImFycmF5T2YiLCJudW1iZXIiLCJmYWxsYmFja1BsYWNlbWVudHMiLCJhcnJheSIsImZsaXAiLCJjb250YWluZXIiLCJ0YXJnZXRQcm9wVHlwZSIsIm1vZGlmaWVycyIsInN0cmF0ZWd5IiwiYm91bmRhcmllc0VsZW1lbnQiLCJET01FbGVtZW50Iiwib25DbG9zZWQiLCJmYWRlIiwidHJhbnNpdGlvbiIsInNoYXBlIiwiZGVmYXVsdFByb3BzIiwiUG9wcGVyQ29udGVudCIsIkNvbXBvbmVudCIsImNvbnN0cnVjdG9yIiwicHJvcHMiLCJzZXRUYXJnZXROb2RlIiwiZ2V0VGFyZ2V0Tm9kZSIsImdldFJlZiIsInN0YXRlIiwiZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzIiwiY29tcG9uZW50RGlkVXBkYXRlIiwiX2VsZW1lbnQiLCJjaGlsZE5vZGVzIiwiZm9jdXMiLCJzZXRTdGF0ZSIsInRhcmdldE5vZGUiLCJnZXRDb250YWluZXJOb2RlIiwiZ2V0VGFyZ2V0IiwicmVmIiwicmVuZGVyQ2hpbGRyZW4iLCJfdGhpcyRwcm9wcyIsIl9hcnJvd0NsYXNzTmFtZSIsIl9wb3BwZXJDbGFzc05hbWUiLCJhdHRycyIsIm1hcFRvQ3NzTW9kdWxlcyIsIm1vZGlmaWVyTmFtZXMiLCJtYXAiLCJtIiwibmFtZSIsImJhc2VNb2RpZmllcnMiLCJvcHRpb25zIiwiZW5hYmxlZCIsImJvdW5kYXJ5IiwiaW5jbHVkZXMiLCJleHRlbmRlZE1vZGlmaWVycyIsInBvcHBlclRyYW5zaXRpb24iLCJiYXNlQ2xhc3MiLCJ0aW1lb3V0IiwiY3JlYXRlRWxlbWVudCIsImluIiwib25FeGl0ZWQiLCJQb3BwZXIiLCJyZWZlcmVuY2VFbGVtZW50Iiwic3R5bGUiLCJwb3BwZXJQbGFjZW1lbnQiLCJpc1JlZmVyZW5jZUhpZGRlbiIsImFycm93UHJvcHMiLCJ1cGRhdGUiLCJjbGFzc05hbWUiLCJ1bmRlZmluZWQiLCJyZW5kZXIiLCJjcmVhdGVQb3J0YWwiLCJfZGVmYXVsdCJdLCJzb3VyY2VzIjpbIlBvcHBlckNvbnRlbnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG52YXIgX3JlYWN0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwicmVhY3RcIikpO1xudmFyIF9wcm9wVHlwZXMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJwcm9wLXR5cGVzXCIpKTtcbnZhciBfcmVhY3REb20gPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJyZWFjdC1kb21cIikpO1xudmFyIF9jbGFzc25hbWVzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiY2xhc3NuYW1lc1wiKSk7XG52YXIgX3JlYWN0UG9wcGVyID0gcmVxdWlyZShcInJlYWN0LXBvcHBlclwiKTtcbnZhciBfdXRpbHMgPSByZXF1aXJlKFwiLi91dGlsc1wiKTtcbnZhciBfRmFkZSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vRmFkZVwiKSk7XG5jb25zdCBfZXhjbHVkZWQgPSBbXCJjc3NNb2R1bGVcIiwgXCJjaGlsZHJlblwiLCBcImlzT3BlblwiLCBcImZsaXBcIiwgXCJ0YXJnZXRcIiwgXCJvZmZzZXRcIiwgXCJmYWxsYmFja1BsYWNlbWVudHNcIiwgXCJwbGFjZW1lbnRQcmVmaXhcIiwgXCJhcnJvd0NsYXNzTmFtZVwiLCBcImhpZGVBcnJvd1wiLCBcInBvcHBlckNsYXNzTmFtZVwiLCBcInRhZ1wiLCBcImNvbnRhaW5lclwiLCBcIm1vZGlmaWVyc1wiLCBcInN0cmF0ZWd5XCIsIFwiYm91bmRhcmllc0VsZW1lbnRcIiwgXCJvbkNsb3NlZFwiLCBcImZhZGVcIiwgXCJ0cmFuc2l0aW9uXCIsIFwicGxhY2VtZW50XCJdO1xuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cbmZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gPyBPYmplY3QuYXNzaWduLmJpbmQoKSA6IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKTsgdmFyIGtleSwgaTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHNvdXJjZVN5bWJvbEtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZSk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VTeW1ib2xLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZVN5bWJvbEtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IGlmICghT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHNvdXJjZSwga2V5KSkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSByZXR1cm4gdGFyZ2V0OyB9XG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0ge307IHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgdmFyIGtleSwgaTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5mdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgZW51bWVyYWJsZU9ubHkgJiYgKHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KSksIGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfVxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IG51bGwgIT0gYXJndW1lbnRzW2ldID8gYXJndW1lbnRzW2ldIDoge307IGkgJSAyID8gb3duS2V5cyhPYmplY3Qoc291cmNlKSwgITApLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSkgOiBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IHJldHVybiB0YXJnZXQ7IH1cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5mdW5jdGlvbiBub29wKCkge31cbmNvbnN0IHByb3BUeXBlcyA9IHtcbiAgY2hpbGRyZW46IF9wcm9wVHlwZXMuZGVmYXVsdC5vbmVPZlR5cGUoW19wcm9wVHlwZXMuZGVmYXVsdC5ub2RlLCBfcHJvcFR5cGVzLmRlZmF1bHQuZnVuY10pLmlzUmVxdWlyZWQsXG4gIHBvcHBlckNsYXNzTmFtZTogX3Byb3BUeXBlcy5kZWZhdWx0LnN0cmluZyxcbiAgcGxhY2VtZW50OiBfcHJvcFR5cGVzLmRlZmF1bHQuc3RyaW5nLFxuICBwbGFjZW1lbnRQcmVmaXg6IF9wcm9wVHlwZXMuZGVmYXVsdC5zdHJpbmcsXG4gIGFycm93Q2xhc3NOYW1lOiBfcHJvcFR5cGVzLmRlZmF1bHQuc3RyaW5nLFxuICBoaWRlQXJyb3c6IF9wcm9wVHlwZXMuZGVmYXVsdC5ib29sLFxuICB0YWc6IF91dGlscy50YWdQcm9wVHlwZSxcbiAgaXNPcGVuOiBfcHJvcFR5cGVzLmRlZmF1bHQuYm9vbCxcbiAgY3NzTW9kdWxlOiBfcHJvcFR5cGVzLmRlZmF1bHQub2JqZWN0LFxuICBvZmZzZXQ6IF9wcm9wVHlwZXMuZGVmYXVsdC5hcnJheU9mKF9wcm9wVHlwZXMuZGVmYXVsdC5udW1iZXIpLFxuICBmYWxsYmFja1BsYWNlbWVudHM6IF9wcm9wVHlwZXMuZGVmYXVsdC5hcnJheSxcbiAgZmxpcDogX3Byb3BUeXBlcy5kZWZhdWx0LmJvb2wsXG4gIGNvbnRhaW5lcjogX3V0aWxzLnRhcmdldFByb3BUeXBlLFxuICB0YXJnZXQ6IF91dGlscy50YXJnZXRQcm9wVHlwZS5pc1JlcXVpcmVkLFxuICBtb2RpZmllcnM6IF9wcm9wVHlwZXMuZGVmYXVsdC5hcnJheSxcbiAgc3RyYXRlZ3k6IF9wcm9wVHlwZXMuZGVmYXVsdC5zdHJpbmcsXG4gIGJvdW5kYXJpZXNFbGVtZW50OiBfcHJvcFR5cGVzLmRlZmF1bHQub25lT2ZUeXBlKFtfcHJvcFR5cGVzLmRlZmF1bHQuc3RyaW5nLCBfdXRpbHMuRE9NRWxlbWVudF0pLFxuICBvbkNsb3NlZDogX3Byb3BUeXBlcy5kZWZhdWx0LmZ1bmMsXG4gIGZhZGU6IF9wcm9wVHlwZXMuZGVmYXVsdC5ib29sLFxuICB0cmFuc2l0aW9uOiBfcHJvcFR5cGVzLmRlZmF1bHQuc2hhcGUoX0ZhZGUuZGVmYXVsdC5wcm9wVHlwZXMpXG59O1xuY29uc3QgZGVmYXVsdFByb3BzID0ge1xuICBib3VuZGFyaWVzRWxlbWVudDogJ3Njcm9sbFBhcmVudCcsXG4gIHBsYWNlbWVudDogJ2F1dG8nLFxuICBoaWRlQXJyb3c6IGZhbHNlLFxuICBpc09wZW46IGZhbHNlLFxuICBvZmZzZXQ6IFswLCAwXSxcbiAgZmxpcDogdHJ1ZSxcbiAgY29udGFpbmVyOiAnYm9keScsXG4gIG1vZGlmaWVyczogW10sXG4gIG9uQ2xvc2VkOiBub29wLFxuICBmYWRlOiB0cnVlLFxuICB0cmFuc2l0aW9uOiBfb2JqZWN0U3ByZWFkKHt9LCBfRmFkZS5kZWZhdWx0LmRlZmF1bHRQcm9wcylcbn07XG5jbGFzcyBQb3BwZXJDb250ZW50IGV4dGVuZHMgX3JlYWN0LmRlZmF1bHQuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5zZXRUYXJnZXROb2RlID0gdGhpcy5zZXRUYXJnZXROb2RlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5nZXRUYXJnZXROb2RlID0gdGhpcy5nZXRUYXJnZXROb2RlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5nZXRSZWYgPSB0aGlzLmdldFJlZi5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25DbG9zZWQgPSB0aGlzLm9uQ2xvc2VkLmJpbmQodGhpcyk7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzT3BlbjogcHJvcHMuaXNPcGVuXG4gICAgfTtcbiAgfVxuICBzdGF0aWMgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKHByb3BzLCBzdGF0ZSkge1xuICAgIGlmIChwcm9wcy5pc09wZW4gJiYgIXN0YXRlLmlzT3Blbikge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaXNPcGVuOiBwcm9wcy5pc09wZW5cbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGNvbXBvbmVudERpZFVwZGF0ZSgpIHtcbiAgICBpZiAodGhpcy5fZWxlbWVudCAmJiB0aGlzLl9lbGVtZW50LmNoaWxkTm9kZXMgJiYgdGhpcy5fZWxlbWVudC5jaGlsZE5vZGVzWzBdICYmIHRoaXMuX2VsZW1lbnQuY2hpbGROb2Rlc1swXS5mb2N1cykge1xuICAgICAgdGhpcy5fZWxlbWVudC5jaGlsZE5vZGVzWzBdLmZvY3VzKCk7XG4gICAgfVxuICB9XG4gIG9uQ2xvc2VkKCkge1xuICAgIHRoaXMucHJvcHMub25DbG9zZWQoKTtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGlzT3BlbjogZmFsc2VcbiAgICB9KTtcbiAgfVxuICBnZXRUYXJnZXROb2RlKCkge1xuICAgIHJldHVybiB0aGlzLnRhcmdldE5vZGU7XG4gIH1cbiAgZ2V0Q29udGFpbmVyTm9kZSgpIHtcbiAgICByZXR1cm4gKDAsIF91dGlscy5nZXRUYXJnZXQpKHRoaXMucHJvcHMuY29udGFpbmVyKTtcbiAgfVxuICBnZXRSZWYocmVmKSB7XG4gICAgdGhpcy5fZWxlbWVudCA9IHJlZjtcbiAgfVxuICBzZXRUYXJnZXROb2RlKG5vZGUpIHtcbiAgICB0aGlzLnRhcmdldE5vZGUgPSB0eXBlb2Ygbm9kZSA9PT0gJ3N0cmluZycgPyAoMCwgX3V0aWxzLmdldFRhcmdldCkobm9kZSkgOiBub2RlO1xuICB9XG4gIHJlbmRlckNoaWxkcmVuKCkge1xuICAgIGNvbnN0IF90aGlzJHByb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgIHtcbiAgICAgICAgY3NzTW9kdWxlLFxuICAgICAgICBjaGlsZHJlbixcbiAgICAgICAgaXNPcGVuLFxuICAgICAgICBmbGlwLFxuICAgICAgICB0YXJnZXQsXG4gICAgICAgIG9mZnNldCxcbiAgICAgICAgZmFsbGJhY2tQbGFjZW1lbnRzLFxuICAgICAgICBwbGFjZW1lbnRQcmVmaXgsXG4gICAgICAgIGFycm93Q2xhc3NOYW1lOiBfYXJyb3dDbGFzc05hbWUsXG4gICAgICAgIGhpZGVBcnJvdyxcbiAgICAgICAgcG9wcGVyQ2xhc3NOYW1lOiBfcG9wcGVyQ2xhc3NOYW1lLFxuICAgICAgICB0YWcsXG4gICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgbW9kaWZpZXJzLFxuICAgICAgICBzdHJhdGVneSxcbiAgICAgICAgYm91bmRhcmllc0VsZW1lbnQsXG4gICAgICAgIG9uQ2xvc2VkLFxuICAgICAgICBmYWRlLFxuICAgICAgICB0cmFuc2l0aW9uLFxuICAgICAgICBwbGFjZW1lbnRcbiAgICAgIH0gPSBfdGhpcyRwcm9wcyxcbiAgICAgIGF0dHJzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF90aGlzJHByb3BzLCBfZXhjbHVkZWQpO1xuICAgIGNvbnN0IGFycm93Q2xhc3NOYW1lID0gKDAsIF91dGlscy5tYXBUb0Nzc01vZHVsZXMpKCgwLCBfY2xhc3NuYW1lcy5kZWZhdWx0KSgnYXJyb3cnLCBfYXJyb3dDbGFzc05hbWUpLCBjc3NNb2R1bGUpO1xuICAgIGNvbnN0IHBvcHBlckNsYXNzTmFtZSA9ICgwLCBfdXRpbHMubWFwVG9Dc3NNb2R1bGVzKSgoMCwgX2NsYXNzbmFtZXMuZGVmYXVsdCkoX3BvcHBlckNsYXNzTmFtZSwgcGxhY2VtZW50UHJlZml4ID8gYCR7cGxhY2VtZW50UHJlZml4fS1hdXRvYCA6ICcnKSwgdGhpcy5wcm9wcy5jc3NNb2R1bGUpO1xuICAgIGNvbnN0IG1vZGlmaWVyTmFtZXMgPSBtb2RpZmllcnMubWFwKG0gPT4gbS5uYW1lKTtcbiAgICBjb25zdCBiYXNlTW9kaWZpZXJzID0gW3tcbiAgICAgIG5hbWU6ICdvZmZzZXQnLFxuICAgICAgb3B0aW9uczoge1xuICAgICAgICBvZmZzZXRcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBuYW1lOiAnZmxpcCcsXG4gICAgICBlbmFibGVkOiBmbGlwLFxuICAgICAgb3B0aW9uczoge1xuICAgICAgICBmYWxsYmFja1BsYWNlbWVudHNcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBuYW1lOiAncHJldmVudE92ZXJmbG93JyxcbiAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgYm91bmRhcnk6IGJvdW5kYXJpZXNFbGVtZW50XG4gICAgICB9XG4gICAgfV0uZmlsdGVyKG0gPT4gIW1vZGlmaWVyTmFtZXMuaW5jbHVkZXMobS5uYW1lKSk7XG4gICAgY29uc3QgZXh0ZW5kZWRNb2RpZmllcnMgPSBbLi4uYmFzZU1vZGlmaWVycywgLi4ubW9kaWZpZXJzXTtcbiAgICBjb25zdCBwb3BwZXJUcmFuc2l0aW9uID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIF9GYWRlLmRlZmF1bHQuZGVmYXVsdFByb3BzKSwgdHJhbnNpdGlvbiksIHt9LCB7XG4gICAgICBiYXNlQ2xhc3M6IGZhZGUgPyB0cmFuc2l0aW9uLmJhc2VDbGFzcyA6ICcnLFxuICAgICAgdGltZW91dDogZmFkZSA/IHRyYW5zaXRpb24udGltZW91dCA6IDBcbiAgICB9KTtcbiAgICByZXR1cm4gLyojX19QVVJFX18qL19yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0ZhZGUuZGVmYXVsdCwgX2V4dGVuZHMoe30sIHBvcHBlclRyYW5zaXRpb24sIGF0dHJzLCB7XG4gICAgICBpbjogaXNPcGVuLFxuICAgICAgb25FeGl0ZWQ6IHRoaXMub25DbG9zZWQsXG4gICAgICB0YWc6IHRhZ1xuICAgIH0pLCAvKiNfX1BVUkVfXyovX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3RQb3BwZXIuUG9wcGVyLCB7XG4gICAgICByZWZlcmVuY2VFbGVtZW50OiB0aGlzLnRhcmdldE5vZGUsXG4gICAgICBtb2RpZmllcnM6IGV4dGVuZGVkTW9kaWZpZXJzLFxuICAgICAgcGxhY2VtZW50OiBwbGFjZW1lbnQsXG4gICAgICBzdHJhdGVneTogc3RyYXRlZ3lcbiAgICB9LCAoe1xuICAgICAgcmVmLFxuICAgICAgc3R5bGUsXG4gICAgICBwbGFjZW1lbnQ6IHBvcHBlclBsYWNlbWVudCxcbiAgICAgIGlzUmVmZXJlbmNlSGlkZGVuLFxuICAgICAgYXJyb3dQcm9wcyxcbiAgICAgIHVwZGF0ZVxuICAgIH0pID0+IC8qI19fUFVSRV9fKi9fcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIHJlZjogcmVmLFxuICAgICAgc3R5bGU6IHN0eWxlLFxuICAgICAgY2xhc3NOYW1lOiBwb3BwZXJDbGFzc05hbWUsXG4gICAgICBcImRhdGEtcG9wcGVyLXBsYWNlbWVudFwiOiBwb3BwZXJQbGFjZW1lbnQsXG4gICAgICBcImRhdGEtcG9wcGVyLXJlZmVyZW5jZS1oaWRkZW5cIjogaXNSZWZlcmVuY2VIaWRkZW4gPyAndHJ1ZScgOiB1bmRlZmluZWRcbiAgICB9LCB0eXBlb2YgY2hpbGRyZW4gPT09ICdmdW5jdGlvbicgPyBjaGlsZHJlbih7XG4gICAgICB1cGRhdGVcbiAgICB9KSA6IGNoaWxkcmVuLCAhaGlkZUFycm93ICYmIC8qI19fUFVSRV9fKi9fcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgICByZWY6IGFycm93UHJvcHMucmVmLFxuICAgICAgY2xhc3NOYW1lOiBhcnJvd0NsYXNzTmFtZSxcbiAgICAgIHN0eWxlOiBhcnJvd1Byb3BzLnN0eWxlXG4gICAgfSkpKSk7XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIHRoaXMuc2V0VGFyZ2V0Tm9kZSh0aGlzLnByb3BzLnRhcmdldCk7XG4gICAgaWYgKHRoaXMuc3RhdGUuaXNPcGVuKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5jb250YWluZXIgPT09ICdpbmxpbmUnID8gdGhpcy5yZW5kZXJDaGlsZHJlbigpIDogLyojX19QVVJFX18qL19yZWFjdERvbS5kZWZhdWx0LmNyZWF0ZVBvcnRhbCggLyojX19QVVJFX18qL19yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICByZWY6IHRoaXMuZ2V0UmVmXG4gICAgICB9LCB0aGlzLnJlbmRlckNoaWxkcmVuKCkpLCB0aGlzLmdldENvbnRhaW5lck5vZGUoKSk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5Qb3BwZXJDb250ZW50LnByb3BUeXBlcyA9IHByb3BUeXBlcztcblBvcHBlckNvbnRlbnQuZGVmYXVsdFByb3BzID0gZGVmYXVsdFByb3BzO1xudmFyIF9kZWZhdWx0ID0gUG9wcGVyQ29udGVudDtcbmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0OyJdLCJtYXBwaW5ncyI6IkFBQUEsWUFBWTs7QUFFWkEsTUFBTSxDQUFDQyxjQUFjLENBQUNDLE9BQU8sRUFBRSxZQUFZLEVBQUU7RUFDM0NDLEtBQUssRUFBRTtBQUNULENBQUMsQ0FBQztBQUNGRCxPQUFPLENBQUNFLE9BQU8sR0FBRyxLQUFLLENBQUM7QUFD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