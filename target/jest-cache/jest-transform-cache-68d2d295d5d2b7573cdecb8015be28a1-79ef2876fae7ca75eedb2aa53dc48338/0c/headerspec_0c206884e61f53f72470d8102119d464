15cd6e14381721b6e4267c4390cf5fe2
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = require("tslib");
const react_1 = tslib_1.__importDefault(require("react"));
const react_2 = require("@testing-library/react");
const react_redux_1 = require("react-redux");
const react_router_dom_1 = require("react-router-dom");
const store_1 = tslib_1.__importDefault(require("app/config/store"));
const header_1 = tslib_1.__importDefault(require("./header"));
describe('Header', () => {
    let mountedWrapper;
    const devProps = {
        isAuthenticated: true,
        isAdmin: true,
        ribbonEnv: 'dev',
        isInProduction: false,
        isOpenAPIEnabled: true,
    };
    const prodProps = Object.assign(Object.assign({}, devProps), { ribbonEnv: 'prod', isInProduction: true, isOpenAPIEnabled: false });
    const userProps = Object.assign(Object.assign({}, prodProps), { isAdmin: false });
    const guestProps = Object.assign(Object.assign({}, prodProps), { isAdmin: false, isAuthenticated: false });
    const wrapper = (props = devProps) => {
        if (!mountedWrapper) {
            const store = (0, store_1.default)();
            const { container } = (0, react_2.render)(react_1.default.createElement(react_redux_1.Provider, { store: store },
                react_1.default.createElement(react_router_dom_1.MemoryRouter, null,
                    react_1.default.createElement(header_1.default, Object.assign({}, props)))));
            mountedWrapper = container.innerHTML;
        }
        return mountedWrapper;
    };
    beforeEach(() => {
        mountedWrapper = undefined;
    });
    // All tests will go here
    it('Renders a Header component in dev profile with LoadingBar, Navbar, Nav and dev ribbon.', () => {
        const html = wrapper();
        // Find Navbar component
        expect(html).toContain('navbar');
        // Find AdminMenu component
        expect(html).toContain('admin-menu');
        // Find EntitiesMenu component
        expect(html).toContain('entity-menu');
        // Find AccountMenu component
        expect(html).toContain('account-menu');
        // Ribbon
        expect(html).toContain('ribbon');
    });
    it('Renders a Header component in prod profile with LoadingBar, Navbar, Nav.', () => {
        const html = wrapper(prodProps);
        // Find Navbar component
        expect(html).toContain('navbar');
        // Find AdminMenu component
        expect(html).toContain('admin-menu');
        // Find EntitiesMenu component
        expect(html).toContain('entity-menu');
        // Find AccountMenu component
        expect(html).toContain('account-menu');
        // No Ribbon
        expect(html).not.toContain('ribbon');
    });
    it('Renders a Header component in prod profile with logged in User', () => {
        const html = wrapper(userProps);
        // Find Navbar component
        expect(html).toContain('navbar');
        // Not find AdminMenu component
        expect(html).not.toContain('admin-menu');
        // Find EntitiesMenu component
        expect(html).toContain('entity-menu');
        // Find AccountMenu component
        expect(html).toContain('account-menu');
    });
    it('Renders a Header component in prod profile with no logged in User', () => {
        const html = wrapper(guestProps);
        // Find Navbar component
        expect(html).toContain('navbar');
        // Not find AdminMenu component
        expect(html).not.toContain('admin-menu');
        // Not find EntitiesMenu component
        expect(html).not.toContain('entity-menu');
        // Find AccountMenu component
        expect(html).toContain('account-menu');
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL3BjY28wNTYvRG9jdW1lbnRzL0NvdXJzIElUVS9yaWJvdWNob24vbWFnaWN2ZW50ZXN0b2NrL3NyYy9tYWluL3dlYmFwcC9hcHAvc2hhcmVkL2xheW91dC9oZWFkZXIvaGVhZGVyLnNwZWMudHN4IiwibWFwcGluZ3MiOiI7OztBQUFBLDBEQUEwQjtBQUMxQixrREFBZ0Q7QUFDaEQsNkNBQXVDO0FBQ3ZDLHVEQUFnRDtBQUVoRCxxRUFBeUM7QUFDekMsOERBQThCO0FBRTlCLFFBQVEsQ0FBQyxRQUFRLEVBQUUsR0FBRyxFQUFFO0lBQ3RCLElBQUksY0FBYyxDQUFDO0lBQ25CLE1BQU0sUUFBUSxHQUFHO1FBQ2YsZUFBZSxFQUFFLElBQUk7UUFDckIsT0FBTyxFQUFFLElBQUk7UUFDYixTQUFTLEVBQUUsS0FBSztRQUNoQixjQUFjLEVBQUUsS0FBSztRQUNyQixnQkFBZ0IsRUFBRSxJQUFJO0tBQ3ZCLENBQUM7SUFDRixNQUFNLFNBQVMsbUNBQ1YsUUFBUSxLQUNYLFNBQVMsRUFBRSxNQUFNLEVBQ2pCLGNBQWMsRUFBRSxJQUFJLEVBQ3BCLGdCQUFnQixFQUFFLEtBQUssR0FDeEIsQ0FBQztJQUNGLE1BQU0sU0FBUyxtQ0FDVixTQUFTLEtBQ1osT0FBTyxFQUFFLEtBQUssR0FDZixDQUFDO0lBQ0YsTUFBTSxVQUFVLG1DQUNYLFNBQVMsS0FDWixPQUFPLEVBQUUsS0FBSyxFQUNkLGVBQWUsRUFBRSxLQUFLLEdBQ3ZCLENBQUM7SUFFRixNQUFNLE9BQU8sR0FBRyxDQUFDLEtBQUssR0FBRyxRQUFRLEVBQUUsRUFBRTtRQUNuQyxJQUFJLENBQUMsY0FBYyxFQUFFLENBQUM7WUFDcEIsTUFBTSxLQUFLLEdBQUcsSUFBQSxlQUFTLEdBQUUsQ0FBQztZQUMxQixNQUFNLEVBQUUsU0FBUyxFQUFFLEdBQUcsSUFBQSxjQUFNLEVBQzFCLDhCQUFDLHNCQUFRLElBQUMsS0FBSyxFQUFFLEtBQUs7Z0JBQ3BCLDhCQUFDLCtCQUFZO29CQUNYLDhCQUFDLGdCQUFNLG9CQUFLLEtBQUssRUFB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QUFNLENBQUMsSUFBSSxDQUFDLENBQUMsU0FBUyxDQUFDLGNBQWMsQ0FBQyxDQUFDO0lBQ3pDLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDLENBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiL1VzZXJzL3BjY28wNTYvRG9jdW1lbnRzL0NvdXJzIElUVS9yaWJvdWNob24vbWFnaWN2ZW50ZXN0b2NrL3NyYy9tYWluL3dlYmFwcC9hcHAvc2hhcmVkL2xheW91dC9oZWFkZXIvaGVhZGVyLnNwZWMudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyByZW5kZXIgfSBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3JlYWN0JztcbmltcG9ydCB7IFByb3ZpZGVyIH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuaW1wb3J0IHsgTWVtb3J5Um91dGVyIH0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSc7XG5cbmltcG9ydCBpbml0U3RvcmUgZnJvbSAnYXBwL2NvbmZpZy9zdG9yZSc7XG5pbXBvcnQgSGVhZGVyIGZyb20gJy4vaGVhZGVyJztcblxuZGVzY3JpYmUoJ0hlYWRlcicsICgpID0+IHtcbiAgbGV0IG1vdW50ZWRXcmFwcGVyO1xuICBjb25zdCBkZXZQcm9wcyA9IHtcbiAgICBpc0F1dGhlbnRpY2F0ZWQ6IHRydWUsXG4gICAgaXNBZG1pbjogdHJ1ZSxcbiAgICByaWJib25FbnY6ICdkZXYnLFxuICAgIGlzSW5Qcm9kdWN0aW9uOiBmYWxzZSxcbiAgICBpc09wZW5BUElFbmFibGVkOiB0cnVlLFxuICB9O1xuICBjb25zdCBwcm9kUHJvcHMgPSB7XG4gICAgLi4uZGV2UHJvcHMsXG4gICAgcmliYm9uRW52OiAncHJvZCcsXG4gICAgaXNJblByb2R1Y3Rpb246IHRydWUsXG4gICAgaXNPcGVuQVBJRW5hYmxlZDogZmFsc2UsXG4gIH07XG4gIGNvbnN0IHVzZXJQcm9wcyA9IHtcbiAgICAuLi5wcm9kUHJvcHMsXG4gICAgaXNBZG1pbjogZmFsc2UsXG4gIH07XG4gIGNvbnN0IGd1ZXN0UHJvcHMgPSB7XG4gICAgLi4ucHJvZFByb3BzLFxuICAgIGlzQWRtaW46IGZhbHNlLFxuICAgIGlzQXV0aGVudGljYXRlZDogZmFsc2UsXG4gIH07XG5cbiAgY29uc3Qgd3JhcHBlciA9IChwcm9wcyA9IGRldlByb3BzKSA9PiB7XG4gICAgaWYgKCFtb3VudGVkV3JhcHBlcikge1xuICAgICAgY29uc3Qgc3RvcmUgPSBpbml0U3RvcmUoKTtcbiAgICAgIGNvbnN0IHsgY29udGFpbmVyIH0gPSByZW5kZXIoXG4gICAgICAgIDxQcm92aWRlciBzdG9yZT17c3RvcmV9PlxuICAgICAgICAgIDxNZW1vcnlSb3V0ZXI+XG4gICAgICAgICAgICA8SGVhZGVyIHsuLi5wcm9wc30gLz5cbiAgICAgICAgICA8L01lbW9yeVJvdXRlcj5cbiAgICAgICAgPC9Qcm92aWRlcj4sXG4gICAgICApO1xuICAgICAgbW91bnRlZFdyYXBwZXIgPSBjb250YWluZXIuaW5uZXJIVE1MO1xuICAgIH1cbiAgICByZXR1cm4gbW91bnRlZFdyYXBwZXI7XG4gIH07XG5cbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgbW91bnRlZFdyYXBwZXIgPSB1bmRlZmluZWQ7XG4gIH0pO1xuXG4gIC8vIEFsbCB0ZXN0cyB3aWxsIGdvIGhlcmVcbiAgaXQoJ1JlbmRlcnMgYSBIZWFkZXIgY29tcG9uZW50IGluIGRldiBwcm9maWxlIHdpdGggTG9hZGluZ0JhciwgTmF2YmFyLCBOYXYgYW5kIGRldiByaWJib24uJywgKCkgPT4ge1xuICAgIGNvbnN0IGh0bWwgPSB3cmFwcGVyKCk7XG5cbiAgICAvLyBGaW5kIE5hdmJhciBjb21wb25lbnRcbiAgICBleHBlY3QoaHRtbCkudG9Db250YWluKCduYXZiYXInKTtcbiAgICAvLyBGaW5kIEFkbWluTWVudSBjb21wb25lbnRcbiAgICBleHBlY3QoaHRtbCkudG9Db250YWluKCdhZG1pbi1tZW51Jyk7XG4gICAgLy8gRmluZCBFbnRpdGllc01lbnUgY29tcG9uZW50XG4gICAgZXhwZWN0KGh0bWwpLnRvQ29udGFpbignZW50aXR5LW1lbnUnKTtcbiAgICAvLyBGaW5kIEFjY291bnRNZW51IGNvbXBvbmVudFxuICAgIGV4cGVjdChodG1sKS50b0NvbnRhaW4oJ2FjY291bnQtbWVudScpO1xuICAgIC8vIFJpYmJvblxuICAgIGV4cGVjdChodG1sKS50b0NvbnRhaW4oJ3JpYmJvbicpO1xuICB9KTtcblxuICBpdCgnUmVuZGVycyBhIEhlYWRlciBjb21wb25lbnQgaW4gcHJvZCBwcm9maWxlIHdpdGggTG9hZGluZ0JhciwgTmF2YmFyLCBOYXYuJywgKCkgPT4ge1xuICAgIGNvbnN0IGh0bWwgPSB3cmFwcGVyKHByb2RQcm9wcyk7XG5cbiAgICAvLyBGaW5kIE5hdmJhciBjb21wb25lbnRcbiAgICBleHBlY3QoaHRtbCkudG9Db250YWluKCduYXZiYXInKTtcbiAgICAvLyBGaW5kIEFkbWluTWVudSBjb21wb25lbnRcbiAgICBleHBlY3QoaHRtbCkudG9Db250YWluKCdhZG1pbi1tZW51Jyk7XG4gICAgLy8gRmluZCBFbnRpdGllc01lbnUgY29tcG9uZW50XG4gICAgZXhwZWN0KGh0bWwpLnRvQ29udGFpbignZW50aXR5LW1lbnUnKTtcbiAgICAvLyBGaW5kIEFjY291bnRNZW51IGNvbXBvbmVudFxuICAgIGV4cGVjdChodG1sKS50b0NvbnRhaW4oJ2FjY291bnQtbWVudScpO1xuICAgIC8vIE5vIFJpYmJvblxuICAgIGV4cGVjdChodG1sKS5ub3QudG9Db250YWluKCdyaWJib24nKTtcbiAgfSk7XG5cbiAgaXQoJ1JlbmRlcnMgYSBIZWFkZXIgY29tcG9uZW50IGluIHByb2QgcHJvZmlsZSB3aXRoIGxvZ2dlZCBpbiBVc2VyJywgKCkgPT4ge1xuICAgIGNvbnN0IGh0bWwgPSB3cmFwcGVyKHVzZXJQcm9wcyk7XG5cbiAgICAvLyBGaW5kIE5hdmJhciBjb21wb25lbnRcbiAgICBleHBlY3QoaHRtbCkudG9Db250YWluKCduYXZiYXInKTtcbiAgICAvLyBOb3QgZmluZCBBZG1pbk1lbnUgY29tcG9uZW50XG4gICAgZXhwZWN0KGh0bWwpLm5vdC50b0NvbnRhaW4oJ2FkbWluLW1lbnUnKTtcbiAgICAvLyBGaW5kIEVudGl0aWVzTWVudSBjb21wb25lbnRcbiAgICBleHBlY3QoaHRtbCkudG9Db250YWluKCdlbnRpdHktbWVudScpO1xuICAgIC8vIEZpbmQgQWNjb3VudE1lbnUgY29tcG9uZW50XG4gICAgZXhwZWN0KGh0bWwpLnRvQ29udGFpbignYWNjb3VudC1tZW51Jyk7XG4gIH0pO1xuXG4gIGl0KCdSZW5kZXJzIGEgSGVhZGVyIGNvbXBvbmVudCBpbiBwcm9kIHByb2ZpbGUgd2l0aCBubyBsb2dnZWQgaW4gVXNlcicsICgpID0+IHtcbiAgICBjb25zdCBodG1sID0gd3JhcHBlcihndWVzdFByb3BzKTtcblxuICAgIC8vIEZpbmQgTmF2YmFyIGNvbXBvbmVudFxuICAgIGV4cGVjdChodG1sKS50b0NvbnRhaW4oJ25hdmJhcicpO1xuICAgIC8vIE5vdCBmaW5kIEFkbWluTWVudSBjb21wb25lbnRcbiAgICBleHBlY3QoaHRtbCkubm90LnRvQ29udGFpbignYWRtaW4tbWVudScpO1xuICAgIC8vIE5vdCBmaW5kIEVudGl0aWVzTWVudSBjb21wb25lbnRcbiAgICBleHBlY3QoaHRtbCkubm90LnRvQ29udGFpbignZW50aXR5LW1lbnUnKTtcbiAgICAvLyBGaW5kIEFjY291bnRNZW51IGNvbXBvbmVudFxuICAgIGV4cGVjdChodG1sKS50b0NvbnRhaW4oJ2FjY291bnQtbWVudScpO1xuICB9KTtcbn0pO1xuIl0sInZlcnNpb24iOjN9