a14b16f1746269985abb908def9be645
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = configureStore;
var _redux = require('redux');
var _lodash = require('lodash.isplainobject');
var _lodash2 = _interopRequireDefault(_lodash);
function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : {
    default: obj
  };
}
function _toConsumableArray(arr) {
  if (Array.isArray(arr)) {
    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {
      arr2[i] = arr[i];
    }
    return arr2;
  } else {
    return Array.from(arr);
  }
}
var isFunction = function isFunction(arg) {
  return typeof arg === 'function';
};
function configureStore() {
  var middlewares = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
  return function mockStore() {
    var _getState = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    function mockStoreWithoutMiddleware() {
      var actions = [];
      var listeners = [];
      var self = {
        getState: function getState() {
          return isFunction(_getState) ? _getState(actions) : _getState;
        },
        getActions: function getActions() {
          return actions;
        },
        dispatch: function dispatch(action) {
          if (!(0, _lodash2.default)(action)) {
            throw new Error('Actions must be plain objects. ' + 'Use custom middleware for async actions.');
          }
          if (typeof action.type === 'undefined') {
            throw new Error('Actions may not have an undefined "type" property. ' + 'Have you misspelled a constant? ' + 'Action: ' + JSON.stringify(action));
          }
          actions.push(action);
          for (var i = 0; i < listeners.length; i++) {
            listeners[i]();
          }
          return action;
        },
        clearActions: function clearActions() {
          actions = [];
        },
        subscribe: function subscribe(cb) {
          if (isFunction(cb)) {
            listeners.push(cb);
          }
          return function () {
            var index = listeners.indexOf(cb);
            if (index < 0) {
              return;
            }
            listeners.splice(index, 1);
          };
        },
        replaceReducer: function replaceReducer(nextReducer) {
          if (!isFunction(nextReducer)) {
            throw new Error('Expected the nextReducer to be a function.');
          }
        }
      };
      return self;
    }
    var mockStoreWithMiddleware = _redux.applyMiddleware.apply(undefined, _toConsumableArray(middlewares))(mockStoreWithoutMiddleware);
    return mockStoreWithMiddleware();
  };
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsImRlZmF1bHQiLCJjb25maWd1cmVTdG9yZSIsIl9yZWR1eCIsInJlcXVpcmUiLCJfbG9kYXNoIiwiX2xvZGFzaDIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0Iiwib2JqIiwiX19lc01vZHVsZSIsIl90b0NvbnN1bWFibGVBcnJheSIsImFyciIsIkFycmF5IiwiaXNBcnJheSIsImkiLCJhcnIyIiwibGVuZ3RoIiwiZnJvbSIsImlzRnVuY3Rpb24iLCJhcmciLCJtaWRkbGV3YXJlcyIsImFyZ3VtZW50cyIsInVuZGVmaW5lZCIsIm1vY2tTdG9yZSIsIl9nZXRTdGF0ZSIsIm1vY2tTdG9yZVdpdGhvdXRNaWRkbGV3YXJlIiwiYWN0aW9ucyIsImxpc3RlbmVycyIsInNlbGYiLCJnZXRTdGF0ZSIsImdldEFjdGlvbnMiLCJkaXNwYXRjaCIsImFjdGlvbiIsIkVycm9yIiwidHlwZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJwdXNoIiwiY2xlYXJBY3Rpb25zIiwic3Vic2NyaWJlIiwiY2IiLCJpbmRleCIsImluZGV4T2YiLCJzcGxpY2UiLCJyZXBsYWNlUmVkdWNlciIsIm5leHRSZWR1Y2VyIiwibW9ja1N0b3JlV2l0aE1pZGRsZXdhcmUiLCJhcHBseU1pZGRsZXdhcmUiLCJhcHBseSJdLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IGNvbmZpZ3VyZVN0b3JlO1xuXG52YXIgX3JlZHV4ID0gcmVxdWlyZSgncmVkdXgnKTtcblxudmFyIF9sb2Rhc2ggPSByZXF1aXJlKCdsb2Rhc2guaXNwbGFpbm9iamVjdCcpO1xuXG52YXIgX2xvZGFzaDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9sb2Rhc2gpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9IGVsc2UgeyByZXR1cm4gQXJyYXkuZnJvbShhcnIpOyB9IH1cblxudmFyIGlzRnVuY3Rpb24gPSBmdW5jdGlvbiBpc0Z1bmN0aW9uKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ2Z1bmN0aW9uJztcbn07XG5cbmZ1bmN0aW9uIGNvbmZpZ3VyZVN0b3JlKCkge1xuICB2YXIgbWlkZGxld2FyZXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IFtdO1xuXG4gIHJldHVybiBmdW5jdGlvbiBtb2NrU3RvcmUoKSB7XG4gICAgdmFyIF9nZXRTdGF0ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG5cbiAgICBmdW5jdGlvbiBtb2NrU3RvcmVXaXRob3V0TWlkZGxld2FyZSgpIHtcbiAgICAgIHZhciBhY3Rpb25zID0gW107XG4gICAgICB2YXIgbGlzdGVuZXJzID0gW107XG5cbiAgICAgIHZhciBzZWxmID0ge1xuICAgICAgICBnZXRTdGF0ZTogZnVuY3Rpb24gZ2V0U3RhdGUoKSB7XG4gICAgICAgICAgcmV0dXJuIGlzRnVuY3Rpb24oX2dldFN0YXRlKSA/IF9nZXRTdGF0ZShhY3Rpb25zKSA6IF9nZXRTdGF0ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0QWN0aW9uczogZnVuY3Rpb24gZ2V0QWN0aW9ucygpIHtcbiAgICAgICAgICByZXR1cm4gYWN0aW9ucztcbiAgICAgICAgfSxcbiAgICAgICAgZGlzcGF0Y2g6IGZ1bmN0aW9uIGRpc3BhdGNoKGFjdGlvbikge1xuICAgICAgICAgIGlmICghKDAsIF9sb2Rhc2gyLmRlZmF1bHQpKGFjdGlvbikpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQWN0aW9ucyBtdXN0IGJlIHBsYWluIG9iamVjdHMuICcgKyAnVXNlIGN1c3RvbSBtaWRkbGV3YXJlIGZvciBhc3luYyBhY3Rpb25zLicpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICh0eXBlb2YgYWN0aW9uLnR5cGUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FjdGlvbnMgbWF5IG5vdCBoYXZlIGFuIHVuZGVmaW5lZCBcInR5cGVcIiBwcm9wZXJ0eS4gJyArICdIYXZlIHlvdSBtaXNzcGVsbGVkIGEgY29uc3RhbnQ/ICcgKyAnQWN0aW9uOiAnICsgSlNPTi5zdHJpbmdpZnkoYWN0aW9uKSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYWN0aW9ucy5wdXNoKGFjdGlvbik7XG5cbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGlzdGVuZXJzW2ldKCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIGFjdGlvbjtcbiAgICAgICAgfSxcbiAgICAgICAgY2xlYXJBY3Rpb25zOiBmdW5jdGlvbiBjbGVhckFjdGlvbnMoKSB7XG4gICAgICAgICAgYWN0aW9ucyA9IFtdO1xuICAgICAgICB9LFxuICAgICAgICBzdWJzY3JpYmU6IGZ1bmN0aW9uIHN1YnNjcmliZShjYikge1xuICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKGNiKSkge1xuICAgICAgICAgICAgbGlzdGVuZXJzLnB1c2goY2IpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSBsaXN0ZW5lcnMuaW5kZXhPZihjYik7XG5cbiAgICAgICAgICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVwbGFjZVJlZHVjZXI6IGZ1bmN0aW9uIHJlcGxhY2VSZWR1Y2VyKG5leHRSZWR1Y2VyKSB7XG4gICAgICAgICAgaWYgKCFpc0Z1bmN0aW9uKG5leHRSZWR1Y2VyKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCB0aGUgbmV4dFJlZHVjZXIgdG8gYmUgYSBmdW5jdGlvbi4nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH1cblxuICAgIHZhciBtb2NrU3RvcmVXaXRoTWlkZGxld2FyZSA9IF9yZWR1eC5hcHBseU1pZGRsZXdhcmUuYXBwbHkodW5kZWZpbmVkLCBfdG9Db25zdW1hYmxlQXJyYXkobWlkZGxld2FyZXMpKShtb2NrU3RvcmVXaXRob3V0TWlkZGxld2FyZSk7XG5cbiAgICByZXR1cm4gbW9ja1N0b3JlV2l0aE1pZGRsZXdhcmUoKTtcbiAgfTtcbn0iXSwibWFwcGluZ3MiOiJBQUFBLFlBQVk7O0FBRVpBLE1BQU0sQ0FBQ0MsY0FBYyxDQUFDQyxPQUFPLEVBQUUsWUFBWSxFQUFFO0VBQzNDQyxLQUFLLEVBQUU7QUFDVCxDQUFDLENBQUM7QUFDRkQsT0FBTyxDQUFDRSxPQUFPLEdBQUdDLGNBQWM7QUFFaEMsSUFBSUMsTUFBTSxHQUFHQyxPQUFPLENBQUMsT0FBTyxDQUFDO0FBRTdCLElBQUlDLE9BQU8sR0FBR0QsT0FBTyxDQUFDLHNCQUFzQixDQUFDO0FB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