{"version":3,"names":["cov_smkikrfol","actualCoverage","s","axios_1","tslib_1","__importDefault","require","toolkit_1","reducer_utils_1","initialState","ribbonEnv","inProduction","isOpenAPIEnabled","exports","getProfile","createAsyncThunk","f","__awaiter","default","get","serializeError","serializeAxiosError","ApplicationProfileSlice","createSlice","name","reducers","extraReducers","builder","addCase","fulfilled","state","action","data","payload","activeProfiles","includes","reducer"],"sources":["/Users/pcco056/Documents/Cours ITU/ribouchon/magicventestock/src/main/webapp/app/shared/reducers/application-profile.ts"],"sourcesContent":["import axios from 'axios';\n\nimport { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport { serializeAxiosError } from './reducer.utils';\n\nconst initialState = {\n  ribbonEnv: '',\n  inProduction: true,\n  isOpenAPIEnabled: false,\n};\n\nexport type ApplicationProfileState = Readonly<typeof initialState>;\n\nexport const getProfile = createAsyncThunk('applicationProfile/get_profile', async () => axios.get<any>('management/info'), {\n  serializeError: serializeAxiosError,\n});\n\nexport const ApplicationProfileSlice = createSlice({\n  name: 'applicationProfile',\n  initialState: initialState as ApplicationProfileState,\n  reducers: {},\n  extraReducers(builder) {\n    builder.addCase(getProfile.fulfilled, (state, action) => {\n      const { data } = action.payload;\n      state.ribbonEnv = data['display-ribbon-on-profiles'];\n      state.inProduction = data.activeProfiles.includes('prod');\n      state.isOpenAPIEnabled = data.activeProfiles.includes('api-docs');\n    });\n  },\n});\n\n// Reducer\nexport default ApplicationProfileSlice.reducer;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAiBa;IAAAA,aAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,aAAA;AAAAA,aAAA,GAAAE,CAAA;;;;;;;;;;AAjBb,MAAAC,OAAA;AAAA;AAAA,CAAAH,aAAA,GAAAE,CAAA,OAAAE,OAAA,CAAAC,eAAA,CAAAC,OAAA;AAEA,MAAAC,SAAA;AAAA;AAAA,CAAAP,aAAA,GAAAE,CAAA,OAAAI,OAAA;AACA,MAAAE,eAAA;AAAA;AAAA,CAAAR,aAAA,GAAAE,CAAA,OAAAI,OAAA;AAEA,MAAMG,YAAY;AAAA;AAAA,CAAAT,aAAA,GAAAE,CAAA,OAAG;EACnBQ,SAAS,EAAE,EAAE;EACbC,YAAY,EAAE,IAAI;EAClBC,gBAAgB,EAAE;CACnB;AAAC;AAAAZ,aAAA,GAAAE,CAAA;AAIWW,OAAA,CAAAC,UAAU,GAAG,IAAAP,SAAA,CAAAQ,gBAAgB,EAAC,gCAAgC,EAAE,MAAW;EAAA;EAAAf,aAAA,GAAAgB,CAAA;EAAAhB,aAAA,GAAAE,CAAA;EAAA,OAAAE,OAAA,CAAAa,SAAA;IAAA;IAAAjB,aAAA,GAAAgB,CAAA;IAAAhB,aAAA,GAAAE,CAAA;IAAC,OAAAC,OAAA,CAAAe,OAAK,CAACC,GAAG,CAAM,iBAAiB,CAAC;EAAA;AAAA,GAAE;EAC1HC,cAAc,EAAEZ,eAAA,CAAAa;CACjB,CAAC;AAAC;AAAArB,aAAA,GAAAE,CAAA;AAEUW,OAAA,CAAAS,uBAAuB,GAAG,IAAAf,SAAA,CAAAgB,WAAW,EAAC;EACjDC,IAAI,EAAE,oBAAoB;EAC1Bf,YAAY,EAAEA,YAAuC;EACrDgB,QAAQ,EAAE,EAAE;EACZC,aAAaA,CAACC,OAAO;IAAA;IAAA3B,aAAA,GAAAgB,CAAA;IAAAhB,aAAA,GAAAE,CAAA;IACnByB,OAAO,CAACC,OAAO,CAACf,OAAA,CAAAC,UAAU,CAACe,SAAS,EAAE,CAACC,KAAK,EAAEC,MAAM,KAAI;MAAA;MAAA/B,aAAA,GAAAgB,CAAA;MACtD,MAAM;QAAEgB;MAAI,CAAE;MAAA;MAAA,CAAAhC,aAAA,GAAAE,CAAA,QAAG6B,MAAM,CAACE,OAAO;MAAC;MAAAjC,aAAA,GAAAE,CAAA;MAChC4B,KAAK,CAACpB,SAAS,GAAGsB,IAAI,CAAC,4BAA4B,CAAC;MAAC;MAAAhC,aAAA,GAAAE,CAAA;MACrD4B,KAAK,CAACnB,YAAY,GAAGqB,IAAI,CAACE,cAAc,CAACC,QAAQ,CAAC,MAAM,CAAC;MAAC;MAAAnC,aAAA,GAAAE,CAAA;MAC1D4B,KAAK,CAAClB,gBAAgB,GAAGoB,IAAI,CAACE,cAAc,CAACC,QAAQ,CAAC,UAAU,CAAC;IACnE,CAAC,CAAC;EACJ;CACD,CAAC;AAEF;AAAA;AAAAnC,aAAA,GAAAE,CAAA;AACAW,OAAA,CAAAK,OAAA,GAAeL,OAAA,CAAAS,uBAAuB,CAACc,OAAO","ignoreList":[]}