219b232ab13785cf9ad68e63ddea6389
'use strict';

let Container = require('./container');
let LazyResult, Processor;
class Document extends Container {
  constructor(defaults) {
    // type needs to be passed to super, otherwise child roots won't be normalized correctly
    super({
      type: 'document',
      ...defaults
    });
    if (!this.nodes) {
      this.nodes = [];
    }
  }
  toResult(opts = {}) {
    let lazy = new LazyResult(new Processor(), this, opts);
    return lazy.stringify();
  }
}
Document.registerLazyResult = dependant => {
  LazyResult = dependant;
};
Document.registerProcessor = dependant => {
  Processor = dependant;
};
module.exports = Document;
Document.default = Document;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJDb250YWluZXIiLCJyZXF1aXJlIiwiTGF6eVJlc3VsdCIsIlByb2Nlc3NvciIsIkRvY3VtZW50IiwiY29uc3RydWN0b3IiLCJkZWZhdWx0cyIsInR5cGUiLCJub2RlcyIsInRvUmVzdWx0Iiwib3B0cyIsImxhenkiLCJzdHJpbmdpZnkiLCJyZWdpc3RlckxhenlSZXN1bHQiLCJkZXBlbmRhbnQiLCJyZWdpc3RlclByb2Nlc3NvciIsIm1vZHVsZSIsImV4cG9ydHMiLCJkZWZhdWx0Il0sInNvdXJjZXMiOlsiZG9jdW1lbnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnXG5cbmxldCBDb250YWluZXIgPSByZXF1aXJlKCcuL2NvbnRhaW5lcicpXG5cbmxldCBMYXp5UmVzdWx0LCBQcm9jZXNzb3JcblxuY2xhc3MgRG9jdW1lbnQgZXh0ZW5kcyBDb250YWluZXIge1xuICBjb25zdHJ1Y3RvcihkZWZhdWx0cykge1xuICAgIC8vIHR5cGUgbmVlZHMgdG8gYmUgcGFzc2VkIHRvIHN1cGVyLCBvdGhlcndpc2UgY2hpbGQgcm9vdHMgd29uJ3QgYmUgbm9ybWFsaXplZCBjb3JyZWN0bHlcbiAgICBzdXBlcih7IHR5cGU6ICdkb2N1bWVudCcsIC4uLmRlZmF1bHRzIH0pXG5cbiAgICBpZiAoIXRoaXMubm9kZXMpIHtcbiAgICAgIHRoaXMubm9kZXMgPSBbXVxuICAgIH1cbiAgfVxuXG4gIHRvUmVzdWx0KG9wdHMgPSB7fSkge1xuICAgIGxldCBsYXp5ID0gbmV3IExhenlSZXN1bHQobmV3IFByb2Nlc3NvcigpLCB0aGlzLCBvcHRzKVxuXG4gICAgcmV0dXJuIGxhenkuc3RyaW5naWZ5KClcbiAgfVxufVxuXG5Eb2N1bWVudC5yZWdpc3RlckxhenlSZXN1bHQgPSBkZXBlbmRhbnQgPT4ge1xuICBMYXp5UmVzdWx0ID0gZGVwZW5kYW50XG59XG5cbkRvY3VtZW50LnJlZ2lzdGVyUHJvY2Vzc29yID0gZGVwZW5kYW50ID0+IHtcbiAgUHJvY2Vzc29yID0gZGVwZW5kYW50XG59XG5cbm1vZHVsZS5leHBvcnRzID0gRG9jdW1lbnRcbkRvY3VtZW50LmRlZmF1bHQgPSBEb2N1bWVudFxuIl0sIm1hcHBpbmdzIjoiQUFBQSxZQUFZOztBQUVaLElBQUlBLFNBQVMsR0FBR0MsT0FBTyxDQUFDLGFBQWEsQ0FBQztBQUV0QyxJQUFJQyxVQUFVLEVBQUVDLFNBQVM7QUFFekIsTUFBTUMsUUFBUSxTQUFTSixTQUFTLENBQUM7RUFDL0JLLFdBQVdBLENBQUNDLFFBQVEsRUFBRTtJQUNwQjtJQUNBLEtBQUssQ0FBQztNQUFFQyxJQUFJLEVBQUUsVUFBVTtNQUFFLEdBQUdEO0lBQVMsQ0FBQyxDQUFDO0lBRXhDLElBQUksQ0FBQyxJQUFJLENBQUNFLEtBQUssRUFBRTtNQUNmLElBQUksQ0FBQ0EsS0FBSyxHQUFHLEVBQUU7SUFDakI7RUFDRjtFQUVBQyxRQUFRQSxDQUFDQyxJQUFJLEdBQUcsQ0FBQyxDQUFDLEVBQUU7SUFDbEIsSUFBSUMsSUFBSSxHQUFHLElBQUlULFVBQVUsQ0FBQyxJQUFJQyxTQUFTLENBQUMsQ0FBQyxFQUFFLElBQUksRUFBRU8sSUFBSSxDQUFDO0lBRXRELE9BQU9DLElBQUksQ0FBQ0MsU0FBUyxDQUFDLENBQUM7RUFDekI7QUFDRjtBQUVBUixRQUFRLENBQUNTLGtCQUFrQixHQUFHQyxTQUFTLElBQUk7RUFDekNaLFVBQVUsR0FBR1ksU0FBUztBQUN4QixDQUFDO0FBRURWLFFBQVEsQ0FBQ1csaUJBQWlCLEdBQUdELFNBQVMsSUFBSTtFQUN4Q1gsU0FBUyxHQUFHVyxTQUFTO0FBQ3ZCLENBQUM7QUFFREUsTUFBTSxDQUFDQyxPQUFPLEdBQUdiLFFBQVE7QUFDekJBLFFBQVEsQ0FBQ2MsT0FBTyxHQUFHZCxRQUFRIiwiaWdub3JlTGlzdCI6W119