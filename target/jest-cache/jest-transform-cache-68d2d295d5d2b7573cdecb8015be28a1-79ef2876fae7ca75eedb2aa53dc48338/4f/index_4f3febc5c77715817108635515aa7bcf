10f894b1aa469fba0d20e550a3a6c361
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.decodeXMLStrict = exports.decodeHTML5Strict = exports.decodeHTML4Strict = exports.decodeHTML5 = exports.decodeHTML4 = exports.decodeHTMLAttribute = exports.decodeHTMLStrict = exports.decodeHTML = exports.decodeXML = exports.DecodingMode = exports.EntityDecoder = exports.encodeHTML5 = exports.encodeHTML4 = exports.encodeNonAsciiHTML = exports.encodeHTML = exports.escapeText = exports.escapeAttribute = exports.escapeUTF8 = exports.escape = exports.encodeXML = exports.encode = exports.decodeStrict = exports.decode = exports.EncodingMode = exports.EntityLevel = void 0;
var decode_js_1 = require("./decode.js");
var encode_js_1 = require("./encode.js");
var escape_js_1 = require("./escape.js");
/** The level of entities to support. */
var EntityLevel;
(function (EntityLevel) {
  /** Support only XML entities. */
  EntityLevel[EntityLevel["XML"] = 0] = "XML";
  /** Support HTML entities, which are a superset of XML entities. */
  EntityLevel[EntityLevel["HTML"] = 1] = "HTML";
})(EntityLevel = exports.EntityLevel || (exports.EntityLevel = {}));
var EncodingMode;
(function (EncodingMode) {
  /**
   * The output is UTF-8 encoded. Only characters that need escaping within
   * XML will be escaped.
   */
  EncodingMode[EncodingMode["UTF8"] = 0] = "UTF8";
  /**
   * The output consists only of ASCII characters. Characters that need
   * escaping within HTML, and characters that aren't ASCII characters will
   * be escaped.
   */
  EncodingMode[EncodingMode["ASCII"] = 1] = "ASCII";
  /**
   * Encode all characters that have an equivalent entity, as well as all
   * characters that are not ASCII characters.
   */
  EncodingMode[EncodingMode["Extensive"] = 2] = "Extensive";
  /**
   * Encode all characters that have to be escaped in HTML attributes,
   * following {@link https://html.spec.whatwg.org/multipage/parsing.html#escapingString}.
   */
  EncodingMode[EncodingMode["Attribute"] = 3] = "Attribute";
  /**
   * Encode all characters that have to be escaped in HTML text,
   * following {@link https://html.spec.whatwg.org/multipage/parsing.html#escapingString}.
   */
  EncodingMode[EncodingMode["Text"] = 4] = "Text";
})(EncodingMode = exports.EncodingMode || (exports.EncodingMode = {}));
/**
 * Decodes a string with entities.
 *
 * @param data String to decode.
 * @param options Decoding options.
 */
function decode(data, options) {
  if (options === void 0) {
    options = EntityLevel.XML;
  }
  var level = typeof options === "number" ? options : options.level;
  if (level === EntityLevel.HTML) {
    var mode = typeof options === "object" ? options.mode : undefined;
    return (0, decode_js_1.decodeHTML)(data, mode);
  }
  return (0, decode_js_1.decodeXML)(data);
}
exports.decode = decode;
/**
 * Decodes a string with entities. Does not allow missing trailing semicolons for entities.
 *
 * @param data String to decode.
 * @param options Decoding options.
 * @deprecated Use `decode` with the `mode` set to `Strict`.
 */
function decodeStrict(data, options) {
  var _a;
  if (options === void 0) {
    options = EntityLevel.XML;
  }
  var opts = typeof options === "number" ? {
    level: options
  } : options;
  (_a = opts.mode) !== null && _a !== void 0 ? _a : opts.mode = decode_js_1.DecodingMode.Strict;
  return decode(data, opts);
}
exports.decodeStrict = decodeStrict;
/**
 * Encodes a string with entities.
 *
 * @param data String to encode.
 * @param options Encoding options.
 */
function encode(data, options) {
  if (options === void 0) {
    options = EntityLevel.XML;
  }
  var opts = typeof options === "number" ? {
    level: options
  } : options;
  // Mode `UTF8` just escapes XML entities
  if (opts.mode === EncodingMode.UTF8) return (0, escape_js_1.escapeUTF8)(data);
  if (opts.mode === EncodingMode.Attribute) return (0, escape_js_1.escapeAttribute)(data);
  if (opts.mode === EncodingMode.Text) return (0, escape_js_1.escapeText)(data);
  if (opts.level === EntityLevel.HTML) {
    if (opts.mode === EncodingMode.ASCII) {
      return (0, encode_js_1.encodeNonAsciiHTML)(data);
    }
    return (0, encode_js_1.encodeHTML)(data);
  }
  // ASCII and Extensive are equivalent
  return (0, escape_js_1.encodeXML)(data);
}
exports.encode = encode;
var escape_js_2 = require("./escape.js");
Object.defineProperty(exports, "encodeXML", {
  enumerable: true,
  get: function () {
    return escape_js_2.encodeXML;
  }
});
Object.defineProperty(exports, "escape", {
  enumerable: true,
  get: function () {
    return escape_js_2.escape;
  }
});
Object.defineProperty(exports, "escapeUTF8", {
  enumerable: true,
  get: function () {
    return escape_js_2.escapeUTF8;
  }
});
Object.defineProperty(exports, "escapeAttribute", {
  enumerable: true,
  get: function () {
    return escape_js_2.escapeAttribute;
  }
});
Object.defineProperty(exports, "escapeText", {
  enumerable: true,
  get: function () {
    return escape_js_2.escapeText;
  }
});
var encode_js_2 = require("./encode.js");
Object.defineProperty(exports, "encodeHTML", {
  enumerable: true,
  get: function () {
    return encode_js_2.encodeHTML;
  }
});
Object.defineProperty(exports, "encodeNonAsciiHTML", {
  enumerable: true,
  get: function () {
    return encode_js_2.encodeNonAsciiHTML;
  }
});
// Legacy aliases (deprecated)
Object.defineProperty(exports, "encodeHTML4", {
  enumerable: true,
  get: function () {
    return encode_js_2.encodeHTML;
  }
});
Object.defineProperty(exports, "encodeHTML5", {
  enumerable: true,
  get: function () {
    return encode_js_2.encodeHTML;
  }
});
var decode_js_2 = require("./decode.js");
Object.defineProperty(exports, "EntityDecoder", {
  enumerable: true,
  get: function () {
    return decode_js_2.EntityDecoder;
  }
});
Object.defineProperty(exports, "DecodingMode", {
  enumerable: true,
  get: function () {
    return decode_js_2.DecodingMode;
  }
});
Object.defineProperty(exports, "decodeXML", {
  enumerable: true,
  get: function () {
    return decode_js_2.decodeXML;
  }
});
Object.defineProperty(exports, "decodeHTML", {
  enumerable: true,
  get: function () {
    return decode_js_2.decodeHTML;
  }
});
Object.defineProperty(exports, "decodeHTMLStrict", {
  enumerable: true,
  get: function () {
    return decode_js_2.decodeHTMLStrict;
  }
});
Object.defineProperty(exports, "decodeHTMLAttribute", {
  enumerable: true,
  get: function () {
    return decode_js_2.decodeHTMLAttribute;
  }
});
// Legacy aliases (deprecated)
Object.defineProperty(exports, "decodeHTML4", {
  enumerable: true,
  get: function () {
    return decode_js_2.decodeHTML;
  }
});
Object.defineProperty(exports, "decodeHTML5", {
  enumerable: true,
  get: function () {
    return decode_js_2.decodeHTML;
  }
});
Object.defineProperty(exports, "decodeHTML4Strict", {
  enumerable: true,
  get: function () {
    return decode_js_2.decodeHTMLStrict;
  }
});
Object.defineProperty(exports, "decodeHTML5Strict", {
  enumerable: true,
  get: function () {
    return decode_js_2.decodeHTMLStrict;
  }
});
Object.defineProperty(exports, "decodeXMLStrict", {
  enumerable: true,
  get: function () {
    return decode_js_2.decodeXML;
  }
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkZWNvZGVfanNfMSIsInJlcXVpcmUiLCJlbmNvZGVfanNfMSIsImVzY2FwZV9qc18xIiwiRW50aXR5TGV2ZWwiLCJleHBvcnRzIiwiRW5jb2RpbmdNb2RlIiwiZGVjb2RlIiwiZGF0YSIsIm9wdGlvbnMiLCJYTUwiLCJsZXZlbCIsIkhUTUwiLCJtb2RlIiwidW5kZWZpbmVkIiwiZGVjb2RlSFRNTCIsImRlY29kZVhNTCIsImRlY29kZVN0cmljdCIsIm9wdHMiLCJfYSIsIkRlY29kaW5nTW9kZSIsIlN0cmljdCIsImVuY29kZSIsIlVURjgiLCJlc2NhcGVVVEY4IiwiQXR0cmlidXRlIiwiZXNjYXBlQXR0cmlidXRlIiwiVGV4dCIsImVzY2FwZVRleHQiLCJBU0NJSSIsImVuY29kZU5vbkFzY2lpSFRNTCIsImVuY29kZUhUTUwiLCJlbmNvZGVYTUwiLCJlc2NhcGVfanNfMiIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsImVzY2FwZSIsImVuY29kZV9qc18yIiwiZGVjb2RlX2pzXzIiLCJFbnRpdHlEZWNvZGVyIiwiZGVjb2RlSFRNTFN0cmljdCIsImRlY29kZUhUTUxBdHRyaWJ1dGUiXSwic291cmNlcyI6WyJodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vZmI1NS9lbnRpdGllcy82MWFmZDQ3MDFlYWE3MzY5NzhiMTNjNzM1MWNkM2RlOWE5NmIwNGJjL3NyYy9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6W251bGxdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsV0FBQSxHQUFBQyxPQUFBO0FBQ0EsSUFBQUMsV0FBQSxHQUFBRCxPQUFBO0FBQ0EsSUFBQUUsV0FBQSxHQUFBRixPQUFBO0FBT0E7QUFDQSxJQUFZRyxXQUtYO0FBTEQsV0FBWUEsV0FBVztFQUNuQjtFQUNBQSxXQUFBLENBQUFBLFdBQUEsb0JBQU87RUFDUDtFQUNBQSxXQUFBLENBQUFBLFdBQUEsc0JBQVE7QUFDWixDQUFDLEVBTFdBLFdBQVcsR0FBWEMsT0FBQSxDQUFBRCxXQUFXLEtBQVhDLE9BQUEsQ0FBQUQsV0FBVztBQU92QixJQUFZRSxZQTJCWDtBQTNCRCxXQUFZQSxZQUFZO0VBQ3BCOzs7O0VBSUFBLFlBQUEsQ0FBQUEsWUFBQSxzQkFBSTtFQUNKOzs7OztFQUtBQSxZQUFBLENBQUFBLFlBQUEsd0JBQUs7RUFDTDs7OztFQUlBQSxZQUFBLENBQUFBLFlBQUEsZ0NBQVM7RUFDVDs7OztFQUlBQSxZQUFBLENBQUFBLFlBQUEsZ0NBQVM7RUFDVDs7OztFQUlBQSxZQUFBLENBQUFBLFlBQUEsc0JBQUk7QUFDUixDQUFDLEVBM0JXQSxZQUFZLEdBQVpELE9BQUEsQ0FBQUMsWUFBWSxLQUFaRCxPQUFBLENBQUFDLFlBQVk7QUFpRHhCOzs7Ozs7QUFNQSxTQUFnQkMsTUFBTUEsQ0FDbEJDLElBQVksRUFDWkMsT0FBd0Q7RUFBeEQsSUFBQUEsT0FBQTtJQUFBQSxPQUFBLEdBQXlDTCxXQUFXLENBQUNNLEdBQUc7RUFBQTtFQUV4RCxJQUFNQyxLQUFLLEdBQUcsT0FBT0YsT0FBTyxLQUFLLFFBQVEsR0FBR0EsT0FBTyxHQUFHQSxPQUFPLENBQUNFLEtBQUs7RUFFbkUsSUFBSUEsS0FBSyxLQUFLUCxXQUFXLENBQUNRLElBQUksRUFBRTtJQUM1QixJQUFNQyxJQUFJLEdBQUcsT0FBT0osT0FBTyxLQUFLLFFBQVEsR0FBR0EsT0FBTyxDQUFDSSxJQUFJLEdBQUdDLFNBQVM7SUFDbkUsT0FBTyxJQUFBZCxXQUFBLENBQUFlLFVBQVUsRUFBQ1AsSUFBSSxFQUFFSyxJQUFJLENBQUM7O0VBR2pDLE9BQU8sSUFBQWIsV0FBQSxDQUFBZ0IsU0FBUyxFQUFDUixJQUFJLENBQUM7QUFDMUI7QUFaQUgsT0FBQSxDQUFBRSxNQUFBLEdBQUFBLE1BQUE7QUFjQTs7Ozs7OztBQU9BLFNBQWdCVSxZQUFZQSxDQUN4QlQsSUFBWSxFQUNaQyxPQUF3RDs7RUFBeEQsSUFBQUEsT0FBQTtJQUFBQSxPQUFBLEdBQXlDTCxXQUFXLENBQUNNLEdBQUc7RUFBQTtFQUV4RCxJQUFNUSxJQUFJLEdBQUcsT0FBT1QsT0FBTyxLQUFLLFFBQVEsR0FBRztJQUFFRSxLQUFLLEVBQUVGO0VBQU8sQ0FBRSxHQUFHQSxPQUFPO0VBQ3ZFLENBQUFVLEVBQUEsR0FBQUQsSUFBSSxDQUFDTCxJQUFJLGNBQUFNLEVBQUEsY0FBQUEsRUFBQSxHQUFURCxJQUFJLENBQUNMLElBQUksR0FBS2IsV0FBQSxDQUFBb0IsWUFBWSxDQUFDQyxNQUFNO0VBRWpDLE9BQU9kLE1BQU0sQ0FBQ0MsSUFBSSxFQUFFVSxJQUFJLENBQUM7QUFDN0I7QUFSQWIsT0FBQSxDQUFBWSxZQUFBLEdBQUFBLFlBQUE7QUEwQkE7Ozs7OztBQU1BLFNBQWdCSyxNQUFNQSxDQUNsQmQsSUFBWSxFQUNaQyxPQUF3RDtFQUF4RCxJQUFBQSxPQUFBO0lBQUFBLE9BQUEsR0FBeUNMLFdBQVcsQ0FBQ00sR0FBRztFQUFBO0VBRXhELElBQU1RLElBQUksR0FBRyxPQUFPVCxPQUFPLEtBQUssUUFBUSxHQUFHO0lBQUVFLEtBQUssRUFBRUY7RUFBTyxDQUFFLEdBQUdBLE9BQU87RUFFdkU7RUFDQSxJQUFJUyxJQUFJLENBQUNMLElBQUksS0FBS1AsWUFBWSxDQUFDaUIsSUFBSSxFQUFFLE9BQU8sSUFBQXBCLFdBQUEsQ0FBQXFCLFVBQVUsRUFBQ2hCLElBQUksQ0FBQztFQUM1RCxJQUFJVSxJQUFJLENBQUNMLElBQUksS0FBS1AsWUFBWSxDQUFDbUIsU0FBUyxFQUFFLE9BQU8sSUFBQXRCLFdBQUEsQ0FBQXVCLGVBQWUsRUFBQ2xCLElBQUksQ0FBQztFQUN0RSxJQUFJVSxJQUFJLENBQUNMLElBQUksS0FBS1AsWUFBWSxDQUFDcUIsSUFBSSxFQUFFLE9BQU8sSUFBQXhCLFdBQUEsQ0FBQXlCLFVBQVUsRUFBQ3BCLElBQUksQ0FBQztFQUU1RCxJQUFJVSxJQUFJLENBQUNQLEtBQUssS0FBS1AsV0FBVyxDQUFDUSxJQUFJLEVBQUU7SUFDakMsSUFBSU0sSUFBSSxDQUFDTCxJQUFJLEtBQUtQLFlBQVksQ0FBQ3VCLEtBQUssRUFBRTtNQUNsQyxPQUFPLElBQUEzQixXQUFBLENBQUE0QixrQkFBa0IsRUFBQ3RCLElBQUksQ0FBQzs7SUFHbkMsT0FBTyxJQUFBTixXQUFBLENBQUE2QixVQUFVLEVBQUN2QixJQUFJLENBQUM7O0VBRzNCO0VBQ0EsT0FBTyxJQUFBTCxXQUFBLENBQUE2QixTQUFTLEVBQUN4QixJQUFJLENBQUM7QUFDMUI7QUFyQkFILE9BQUEsQ0FBQWlCLE1BQUEsR0FBQUEsTUFBQTtBQXVCQSxJQUFBVyxXQUFBLEdBQUFoQyxPQUFBO0FBQ0lpQyxNQUFBLENBQUFDLGNBQUEsQ0FBQTlCLE9BQUE7RUFBQStCLFVBQUE7RUFBQUMsR0FBQSxXQUFBQSxDQUFBO0lBQUEsT0FBQUosV0FBQSxDQUFBRCxTQUFTO0VBQUE7QUFBQTtBQUNURSxNQUFBLENBQUFDLGNBQUEsQ0FBQTlCLE9BQUE7RUFBQStCLFVBQUE7RUFBQUMsR0FBQSxXQUFBQSxDQUFBO0lBQUEsT0FBQUosV0FBQSxDQUFBSyxNQUFNO0VBQUE7QUFBQTtBQUNOSixNQUFBLENBQUFDLGNBQUEsQ0FBQTlCLE9BQUE7RUFBQStCLFVBQUE7RUFBQUMsR0FBQSxXQUFBQSxDQUFBO0lBQUEsT0FBQUosV0FBQSxDQUFBVCxVQUFVO0VBQUE7QUFBQTtBQUNWVSxNQUFBLENBQUFDLGNBQUEsQ0FBQTlCLE9BQUE7RUFBQStCLFVBQUE7RUFBQUMsR0FBQSxXQUFBQSxDQUFBO0lBQUEsT0FBQUosV0FBQSxDQUFBUCxlQUFlO0VBQUE7QUFBQTtBQUNmUSxNQUFBLENBQUFDLGNBQUEsQ0FBQTlCLE9BQUE7RUFBQStCLFVBQUE7RUFBQUMsR0FBQSxXQUFBQSxDQUFBO0lBQUEsT0FBQUosV0FBQSxDQUFBTCxVQUFVO0VBQUE7QUFBQTtBQUdkLElBQUFXLFdBQUEsR0FBQXRDLE9BQUE7QUFDSWlDLE1BQUEsQ0FBQUMsY0FBQSxDQUFBOUIsT0FBQTtFQUFBK0IsVUFBQTtFQUFBQyxHQUFBLFdBQUFBLENBQUE7SUFBQSxPQUFBRSxXQUFBLENBQUFSLFVBQVU7RUFBQTtBQUFBO0FBQ1ZHLE1BQUEsQ0FBQUMsY0FBQSxDQUFBOUIsT0FBQTtFQUFBK0IsVUFBQTtFQUFBQyxHQUFBLFdBQUFBLENBQUE7SUFBQSxPQUFBRSxXQUFBLENBQUFULGtCQUFrQjtFQUFBO0FBQUE7QUFDbEI7QUFDQUksTUFBQSxDQUFBQyxjQUFBLENBQUE5QixPQUFBO0VBQUErQixVQUFBO0VBQUFDLEdBQUEsV0FBQUEsQ0FBQTtJQUFBLE9BQUFFLFdBQUEsQ0FBQVIsVUFBVTtFQUFBO0FBQUE7QUFDVkcsTUFBQSxDQUFBQyxjQUFBLENBQUE5QixPQUFBO0VBQUErQixVQUFBO0VBQUFDLEdBQUEsV0FBQUEsQ0FBQTtJQUFBLE9BQUFFLFdBQUEsQ0FBQVIsVUFBVTtFQUFBO0FBQUE7QUFHZCxJQUFBUyxXQUFBLEdBQUF2QyxPQUFBO0FBQ0lpQyxNQUFBLENBQUFDLGNBQUEsQ0FBQTlCLE9BQUE7RUFBQStCLFVBQUE7RUFBQUMsR0FBQSxXQUFBQSxDQUFBO0lBQUEsT0FBQUcsV0FBQSxDQUFBQyxhQUFhO0VBQUE7QUFBQTtBQUNiUCxNQUFBLENBQUFDLGNBQUEsQ0FBQTlCLE9BQUE7RUFBQStCLFVBQUE7RUFBQUMsR0FBQSxXQUFBQSxDQUFBO0lBQUEsT0FBQUcsV0FBQSxDQUFBcEIsWUFBWTtFQUFBO0FBQUE7QUFDWmMsTUFBQSxDQUFBQyxjQUFBLENBQUE5QixPQUFBO0VBQUErQixVQUFBO0VBQUFDLEdBQUEsV0FBQUEsQ0FBQTtJQUFBLE9BQUFHLFdBQUEsQ0FBQXhCLFNBQVM7RUFBQTtBQUFBO0FBQ1RrQixNQUFBLENBQUFDLGNBQUEsQ0FBQTlCLE9BQUE7RUFBQStCLFVBQUE7RUFBQUMsR0FBQSxXQUFBQSxDQUFBO0lBQUEsT0FBQUcsV0FBQSxDQUFBekIsVUFBVTtFQUFBO0FBQUE7QUFDVm1CLE1BQUEsQ0FBQUMsY0FBQSxDQUFBOUIsT0FBQTtFQUFBK0IsVUFBQTtFQUFBQyxHQUFBLFdBQUFBLENBQUE7SUFBQSxPQUFBRyxXQUFBLENBQUFFLGdCQUFnQjtFQUFBO0FBQUE7QUFDaEJSLE1BQUEsQ0FBQUMsY0FBQSxDQUFBOUIsT0FBQTtFQUFBK0IsVUFBQTtFQUFBQyxHQUFBLFdBQUFBLENBQUE7SUFBQSxPQUFBRyxXQUFBLENBQUFHLG1CQUFtQjtFQUFBO0FBQUE7QUFDbkI7QUFDQVQsTUFBQSxDQUFBQyxjQUFBLENBQUE5QixPQUFBO0VBQUErQixVQUFBO0VBQUFDLEdBQUEsV0FBQUEsQ0FBQTtJQUFBLE9BQUFHLFdBQUEsQ0FBQXpCLFVBQVU7RUFBQTtBQUFBO0FBQ1ZtQixNQUFBLENBQUFDLGNBQUEsQ0FBQTlCLE9BQUE7RUFBQStCLFVBQUE7RUFBQUMsR0FBQSxXQUFBQSxDQUFBO0lBQUEsT0FBQUcsV0FBQSxDQUFBekIsVUFBVTtFQUFBO0FBQUE7QUFDVm1CLE1BQUEsQ0FBQUMsY0FBQSxDQUFBOUIsT0FBQTtFQUFBK0IsVUFBQTtFQUFBQyxHQUFBLFdBQUFBLENBQUE7SUFBQSxPQUFBRyxXQUFBLENBQUFFLGdCQUFnQjtFQUFBO0FBQUE7QUFDaEJSLE1BQUEsQ0FBQUMsY0FBQSxDQUFBOUIsT0FBQTtFQUFBK0IsVUFBQTtFQUFBQyxHQUFBLFdBQUFBLENBQUE7SUFBQSxPQUFBRyxXQUFBLENBQUFFLGdCQUFnQjtFQUFBO0FBQUE7QUFDaEJSLE1BQUEsQ0FBQUMsY0FBQSxDQUFBOUIsT0FBQTtFQUFBK0IsVUFBQTtFQUFBQyxHQUFBLFdBQUFBLENBQUE7SUFBQSxPQUFBRyxXQUFBLENBQUF4QixTQUFTO0VBQUE7QUFBQSIsImlnbm9yZUxpc3QiOltdfQ==