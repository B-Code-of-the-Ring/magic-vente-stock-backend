{"version":3,"names":["cov_i9fq6j1az","actualCoverage","s","axios_1","tslib_1","__importDefault","require","toolkit_1","reducer_utils_1","initialState","loading","registrationSuccess","registrationFailure","errorMessage","successMessage","exports","handleRegister","createAsyncThunk","data","f","__awaiter","default","post","serializeError","serializeAxiosError","RegisterSlice","createSlice","name","reducers","reset","extraReducers","builder","addCase","pending","state","rejected","action","Object","assign","error","message","fulfilled","actions","reducer"],"sources":["/Users/pcco056/Documents/Cours ITU/ribouchon/magicventestock/src/main/webapp/app/modules/account/register/register.reducer.ts"],"sourcesContent":["import axios from 'axios';\nimport { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\n\nimport { serializeAxiosError } from 'app/shared/reducers/reducer.utils';\n\nconst initialState = {\n  loading: false,\n  registrationSuccess: false,\n  registrationFailure: false,\n  errorMessage: null,\n  successMessage: null,\n};\n\nexport type RegisterState = Readonly<typeof initialState>;\n\n// Actions\n\nexport const handleRegister = createAsyncThunk(\n  'register/create_account',\n  async (data: { login: string; email: string; password: string; langKey?: string }) => axios.post<any>('api/register', data),\n  { serializeError: serializeAxiosError },\n);\n\nexport const RegisterSlice = createSlice({\n  name: 'register',\n  initialState: initialState as RegisterState,\n  reducers: {\n    reset() {\n      return initialState;\n    },\n  },\n  extraReducers(builder) {\n    builder\n      .addCase(handleRegister.pending, state => {\n        state.loading = true;\n      })\n      .addCase(handleRegister.rejected, (state, action) => ({\n        ...initialState,\n        registrationFailure: true,\n        errorMessage: action.error.message,\n      }))\n      .addCase(handleRegister.fulfilled, () => ({\n        ...initialState,\n        registrationSuccess: true,\n        successMessage: 'Registration saved! Please check your email for confirmation.',\n      }));\n  },\n});\n\nexport const { reset } = RegisterSlice.actions;\n\n// Reducer\nexport default RegisterSlice.reducer;\n"],"mappings":"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","ignoreList":[]}