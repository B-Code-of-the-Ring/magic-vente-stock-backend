{"version":3,"names":["cov_21umjbocz8","actualCoverage","s","axios_1","tslib_1","__importDefault","require","react_jhipster_1","TIMEOUT","default","defaults","timeout","baseURL","SERVER_API_URL","setupAxiosInterceptors","onUnauthenticated","f","onRequestSuccess","config","token","b","Storage","local","get","session","headers","Authorization","onResponseSuccess","response","onResponseError","err","status","Promise","reject","interceptors","request","use","exports"],"sources":["/Users/pcco056/Documents/Cours ITU/ribouchon/magicventestock/src/main/webapp/app/config/axios-interceptor.ts"],"sourcesContent":["import axios from 'axios';\nimport { Storage } from 'react-jhipster';\n\nconst TIMEOUT = 1 * 60 * 1000;\naxios.defaults.timeout = TIMEOUT;\naxios.defaults.baseURL = SERVER_API_URL;\n\nconst setupAxiosInterceptors = onUnauthenticated => {\n  const onRequestSuccess = config => {\n    const token = Storage.local.get('jhi-authenticationToken') || Storage.session.get('jhi-authenticationToken');\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n    return config;\n  };\n  const onResponseSuccess = response => response;\n  const onResponseError = err => {\n    const status = err.status || (err.response ? err.response.status : 0);\n    if (status === 401) {\n      onUnauthenticated();\n    }\n    return Promise.reject(err);\n  };\n  axios.interceptors.request.use(onRequestSuccess);\n  axios.interceptors.response.use(onResponseSuccess, onResponseError);\n};\n\nexport default setupAxiosInterceptors;\n"],"mappings":"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","ignoreList":[]}