ed4f7efe3e4d3c838da601d0fb8bc707
"use strict";

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all) __defProp(target, name, {
    get: all[name],
    enumerable: true
  });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from)) if (!__hasOwnProp.call(to, key) && key !== except) __defProp(to, key, {
      get: () => from[key],
      enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable
    });
  }
  return to;
};
var __toCommonJS = mod => __copyProps(__defProp({}, "__esModule", {
  value: true
}), mod);

// src/index.ts
var src_exports = {};
__export(src_exports, {
  createSelector: () => createSelector,
  createSelectorCreator: () => createSelectorCreator,
  createStructuredSelector: () => createStructuredSelector,
  lruMemoize: () => lruMemoize,
  referenceEqualityCheck: () => referenceEqualityCheck,
  setGlobalDevModeChecks: () => setGlobalDevModeChecks,
  unstable_autotrackMemoize: () => autotrackMemoize,
  weakMapMemoize: () => weakMapMemoize
});
module.exports = __toCommonJS(src_exports);

// src/devModeChecks/identityFunctionCheck.ts
var runIdentityFunctionCheck = (resultFunc, inputSelectorsResults, outputSelectorResult) => {
  if (inputSelectorsResults.length === 1 && inputSelectorsResults[0] === outputSelectorResult) {
    let isInputSameAsOutput = false;
    try {
      const emptyObject = {};
      if (resultFunc(emptyObject) === emptyObject) isInputSameAsOutput = true;
    } catch {}
    if (isInputSameAsOutput) {
      let stack = void 0;
      try {
        throw new Error();
      } catch (e) {
        ;
        ({
          stack
        } = e);
      }
      console.warn("The result function returned its own inputs without modification. e.g\n`createSelector([state => state.todos], todos => todos)`\nThis could lead to inefficient memoization and unnecessary re-renders.\nEnsure transformation logic is in the result function, and extraction logic is in the input selectors.", {
        stack
      });
    }
  }
};

// src/devModeChecks/inputStabilityCheck.ts
var runInputStabilityCheck = (inputSelectorResultsObject, options, inputSelectorArgs) => {
  const {
    memoize,
    memoizeOptions
  } = options;
  const {
    inputSelectorResults,
    inputSelectorResultsCopy
  } = inputSelectorResultsObject;
  const createAnEmptyObject = memoize(() => ({}), ...memoizeOptions);
  const areInputSelectorResultsEqual = createAnEmptyObject.apply(null, inputSelectorResults) === createAnEmptyObject.apply(null, inputSelectorResultsCopy);
  if (!areInputSelectorResultsEqual) {
    let stack = void 0;
    try {
      throw new Error();
    } catch (e) {
      ;
      ({
        stack
      } = e);
    }
    console.warn("An input selector returned a different result when passed same arguments.\nThis means your output selector will likely run more frequently than intended.\nAvoid returning a new reference inside your input selector, e.g.\n`createSelector([state => state.todos.map(todo => todo.id)], todoIds => todoIds.length)`", {
      arguments: inputSelectorArgs,
      firstInputs: inputSelectorResults,
      secondInputs: inputSelectorResultsCopy,
      stack
    });
  }
};

// src/devModeChecks/setGlobalDevModeChecks.ts
var globalDevModeChecks = {
  inputStabilityCheck: "once",
  identityFunctionCheck: "once"
};
var setGlobalDevModeChecks = devModeChecks => {
  Object.assign(globalDevModeChecks, devModeChecks);
};

// src/utils.ts
var NOT_FOUND = /* @__PURE__ */Symbol("NOT_FOUND");
function assertIsFunction(func, errorMessage = `expected a function, instead received ${typeof func}`) {
  if (typeof func !== "function") {
    throw new TypeError(errorMessage);
  }
}
function assertIsObject(object, errorMessage = `expected an object, instead received ${typeof object}`) {
  if (typeof object !== "object") {
    throw new TypeError(errorMessage);
  }
}
function assertIsArrayOfFunctions(array, errorMessage = `expected all items to be functions, instead received the following types: `) {
  if (!array.every(item => typeof item === "function")) {
    const itemTypes = array.map(item => typeof item === "function" ? `function ${item.name || "unnamed"}()` : typeof item).join(", ");
    throw new TypeError(`${errorMessage}[${itemTypes}]`);
  }
}
var ensureIsArray = item => {
  return Array.isArray(item) ? item : [item];
};
function getDependencies(createSelectorArgs) {
  const dependencies = Array.isArray(createSelectorArgs[0]) ? createSelectorArgs[0] : createSelectorArgs;
  assertIsArrayOfFunctions(dependencies, `createSelector expects all input-selectors to be functions, but received the following types: `);
  return dependencies;
}
function collectInputSelectorResults(dependencies, inputSelectorArgs) {
  const inputSelectorResults = [];
  const {
    length
  } = dependencies;
  for (let i = 0; i < length; i++) {
    inputSelectorResults.push(dependencies[i].apply(null, inputSelectorArgs));
  }
  return inputSelectorResults;
}
var getDevModeChecksExecutionInfo = (firstRun, devModeChecks) => {
  const {
    identityFunctionCheck,
    inputStabilityCheck
  } = {
    ...globalDevModeChecks,
    ...devModeChecks
  };
  return {
    identityFunctionCheck: {
      shouldRun: identityFunctionCheck === "always" || identityFunctionCheck === "once" && firstRun,
      run: runIdentityFunctionCheck
    },
    inputStabilityCheck: {
      shouldRun: inputStabilityCheck === "always" || inputStabilityCheck === "once" && firstRun,
      run: runInputStabilityCheck
    }
  };
};

// src/autotrackMemoize/autotracking.ts
var $REVISION = 0;
var CURRENT_TRACKER = null;
var Cell = class {
  revision = $REVISION;
  _value;
  _lastValue;
  _isEqual = tripleEq;
  constructor(initialValue, isEqual = tripleEq) {
    this._value = this._lastValue = initialValue;
    this._isEqual = isEqual;
  }
  // Whenever a storage value is read, it'll add itself to the current tracker if
  // one exists, entangling its state with that cache.
  get value() {
    CURRENT_TRACKER?.add(this);
    return this._value;
  }
  // Whenever a storage value is updated, we bump the global revision clock,
  // assign the revision for this storage to the new value, _and_ we schedule a
  // rerender. This is important, and it's what makes autotracking  _pull_
  // based. We don't actively tell the caches which depend on the storage that
  // anything has happened. Instead, we recompute the caches when needed.
  set value(newValue) {
    if (this.value === newValue) return;
    this._value = newValue;
    this.revision = ++$REVISION;
  }
};
function tripleEq(a, b) {
  return a === b;
}
var TrackingCache = class {
  _cachedValue;
  _cachedRevision = -1;
  _deps = [];
  hits = 0;
  fn;
  constructor(fn) {
    this.fn = fn;
  }
  clear() {
    this._cachedValue = void 0;
    this._cachedRevision = -1;
    this._deps = [];
    this.hits = 0;
  }
  get value() {
    if (this.revision > this._cachedRevision) {
      const {
        fn
      } = this;
      const currentTracker = /* @__PURE__ */new Set();
      const prevTracker = CURRENT_TRACKER;
      CURRENT_TRACKER = currentTracker;
      this._cachedValue = fn();
      CURRENT_TRACKER = prevTracker;
      this.hits++;
      this._deps = Array.from(currentTracker);
      this._cachedRevision = this.revision;
    }
    CURRENT_TRACKER?.add(this);
    return this._cachedValue;
  }
  get revision() {
    return Math.max(...this._deps.map(d => d.revision), 0);
  }
};
function getValue(cell) {
  if (!(cell instanceof Cell)) {
    console.warn("Not a valid cell! ", cell);
  }
  return cell.value;
}
function setValue(storage, value) {
  if (!(storage instanceof Cell)) {
    throw new TypeError("setValue must be passed a tracked store created with `createStorage`.");
  }
  storage.value = storage._lastValue = value;
}
function createCell(initialValue, isEqual = tripleEq) {
  return new Cell(initialValue, isEqual);
}
function createCache(fn) {
  assertIsFunction(fn, "the first parameter to `createCache` must be a function");
  return new TrackingCache(fn);
}

// src/autotrackMemoize/tracking.ts
var neverEq = (a, b) => false;
function createTag() {
  return createCell(null, neverEq);
}
function dirtyTag(tag, value) {
  setValue(tag, value);
}
var consumeCollection = node => {
  let tag = node.collectionTag;
  if (tag === null) {
    tag = node.collectionTag = createTag();
  }
  getValue(tag);
};
var dirtyCollection = node => {
  const tag = node.collectionTag;
  if (tag !== null) {
    dirtyTag(tag, null);
  }
};

// src/autotrackMemoize/proxy.ts
var REDUX_PROXY_LABEL = Symbol();
var nextId = 0;
var proto = Object.getPrototypeOf({});
var ObjectTreeNode = class {
  constructor(value) {
    this.value = value;
    this.value = value;
    this.tag.value = value;
  }
  proxy = new Proxy(this, objectProxyHandler);
  tag = createTag();
  tags = {};
  children = {};
  collectionTag = null;
  id = nextId++;
};
var objectProxyHandler = {
  get(node, key) {
    function calculateResult() {
      const {
        value
      } = node;
      const childValue = Reflect.get(value, key);
      if (typeof key === "symbol") {
        return childValue;
      }
      if (key in proto) {
        return childValue;
      }
      if (typeof childValue === "object" && childValue !== null) {
        let childNode = node.children[key];
        if (childNode === void 0) {
          childNode = node.children[key] = createNode(childValue);
        }
        if (childNode.tag) {
          getValue(childNode.tag);
        }
        return childNode.proxy;
      } else {
        let tag = node.tags[key];
        if (tag === void 0) {
          tag = node.tags[key] = createTag();
          tag.value = childValue;
        }
        getValue(tag);
        return childValue;
      }
    }
    const res = calculateResult();
    return res;
  },
  ownKeys(node) {
    consumeCollection(node);
    return Reflect.ownKeys(node.value);
  },
  getOwnPropertyDescriptor(node, prop) {
    return Reflect.getOwnPropertyDescriptor(node.value, prop);
  },
  has(node, prop) {
    return Reflect.has(node.value, prop);
  }
};
var ArrayTreeNode = class {
  constructor(value) {
    this.value = value;
    this.value = value;
    this.tag.value = value;
  }
  proxy = new Proxy([this], arrayProxyHandler);
  tag = createTag();
  tags = {};
  children = {};
  collectionTag = null;
  id = nextId++;
};
var arrayProxyHandler = {
  get([node], key) {
    if (key === "length") {
      consumeCollection(node);
    }
    return objectProxyHandler.get(node, key);
  },
  ownKeys([node]) {
    return objectProxyHandler.ownKeys(node);
  },
  getOwnPropertyDescriptor([node], prop) {
    return objectProxyHandler.getOwnPropertyDescriptor(node, prop);
  },
  has([node], prop) {
    return objectProxyHandler.has(node, prop);
  }
};
function createNode(value) {
  if (Array.isArray(value)) {
    return new ArrayTreeNode(value);
  }
  return new ObjectTreeNode(value);
}
function updateNode(node, newValue) {
  const {
    value,
    tags,
    children
  } = node;
  node.value = newValue;
  if (Array.isArray(value) && Array.isArray(newValue) && value.length !== newValue.length) {
    dirtyCollection(node);
  } else {
    if (value !== newValue) {
      let oldKeysSize = 0;
      let newKeysSize = 0;
      let anyKeysAdded = false;
      for (const _key in value) {
        oldKeysSize++;
      }
      for (const key in newValue) {
        newKeysSize++;
        if (!(key in value)) {
          anyKeysAdded = true;
          break;
        }
      }
      const isDifferent = anyKeysAdded || oldKeysSize !== newKeysSize;
      if (isDifferent) {
        dirtyCollection(node);
      }
    }
  }
  for (const key in tags) {
    const childValue = value[key];
    const newChildValue = newValue[key];
    if (childValue !== newChildValue) {
      dirtyCollection(node);
      dirtyTag(tags[key], newChildValue);
    }
    if (typeof newChildValue === "object" && newChildValue !== null) {
      delete tags[key];
    }
  }
  for (const key in children) {
    const childNode = children[key];
    const newChildValue = newValue[key];
    const childValue = childNode.value;
    if (childValue === newChildValue) {
      continue;
    } else if (typeof newChildValue === "object" && newChildValue !== null) {
      updateNode(childNode, newChildValue);
    } else {
      deleteNode(childNode);
      delete children[key];
    }
  }
}
function deleteNode(node) {
  if (node.tag) {
    dirtyTag(node.tag, null);
  }
  dirtyCollection(node);
  for (const key in node.tags) {
    dirtyTag(node.tags[key], null);
  }
  for (const key in node.children) {
    deleteNode(node.children[key]);
  }
}

// src/lruMemoize.ts
function createSingletonCache(equals) {
  let entry;
  return {
    get(key) {
      if (entry && equals(entry.key, key)) {
        return entry.value;
      }
      return NOT_FOUND;
    },
    put(key, value) {
      entry = {
        key,
        value
      };
    },
    getEntries() {
      return entry ? [entry] : [];
    },
    clear() {
      entry = void 0;
    }
  };
}
function createLruCache(maxSize, equals) {
  let entries = [];
  function get(key) {
    const cacheIndex = entries.findIndex(entry => equals(key, entry.key));
    if (cacheIndex > -1) {
      const entry = entries[cacheIndex];
      if (cacheIndex > 0) {
        entries.splice(cacheIndex, 1);
        entries.unshift(entry);
      }
      return entry.value;
    }
    return NOT_FOUND;
  }
  function put(key, value) {
    if (get(key) === NOT_FOUND) {
      entries.unshift({
        key,
        value
      });
      if (entries.length > maxSize) {
        entries.pop();
      }
    }
  }
  function getEntries() {
    return entries;
  }
  function clear() {
    entries = [];
  }
  return {
    get,
    put,
    getEntries,
    clear
  };
}
var referenceEqualityCheck = (a, b) => a === b;
function createCacheKeyComparator(equalityCheck) {
  return function areArgumentsShallowlyEqual(prev, next) {
    if (prev === null || next === null || prev.length !== next.length) {
      return false;
    }
    const {
      length
    } = prev;
    for (let i = 0; i < length; i++) {
      if (!equalityCheck(prev[i], next[i])) {
        return false;
      }
    }
    return true;
  };
}
function lruMemoize(func, equalityCheckOrOptions) {
  const providedOptions = typeof equalityCheckOrOptions === "object" ? equalityCheckOrOptions : {
    equalityCheck: equalityCheckOrOptions
  };
  const {
    equalityCheck = referenceEqualityCheck,
    maxSize = 1,
    resultEqualityCheck
  } = providedOptions;
  const comparator = createCacheKeyComparator(equalityCheck);
  let resultsCount = 0;
  const cache = maxSize <= 1 ? createSingletonCache(comparator) : createLruCache(maxSize, comparator);
  function memoized() {
    let value = cache.get(arguments);
    if (value === NOT_FOUND) {
      value = func.apply(null, arguments);
      resultsCount++;
      if (resultEqualityCheck) {
        const entries = cache.getEntries();
        const matchingEntry = entries.find(entry => resultEqualityCheck(entry.value, value));
        if (matchingEntry) {
          value = matchingEntry.value;
          resultsCount !== 0 && resultsCount--;
        }
      }
      cache.put(arguments, value);
    }
    return value;
  }
  memoized.clearCache = () => {
    cache.clear();
    memoized.resetResultsCount();
  };
  memoized.resultsCount = () => resultsCount;
  memoized.resetResultsCount = () => {
    resultsCount = 0;
  };
  return memoized;
}

// src/autotrackMemoize/autotrackMemoize.ts
function autotrackMemoize(func) {
  const node = createNode([]);
  let lastArgs = null;
  const shallowEqual = createCacheKeyComparator(referenceEqualityCheck);
  const cache = createCache(() => {
    const res = func.apply(null, node.proxy);
    return res;
  });
  function memoized() {
    if (!shallowEqual(lastArgs, arguments)) {
      updateNode(node, arguments);
      lastArgs = arguments;
    }
    return cache.value;
  }
  memoized.clearCache = () => {
    return cache.clear();
  };
  return memoized;
}

// src/weakMapMemoize.ts
var StrongRef = class {
  constructor(value) {
    this.value = value;
  }
  deref() {
    return this.value;
  }
};
var Ref = typeof WeakRef !== "undefined" ? WeakRef : StrongRef;
var UNTERMINATED = 0;
var TERMINATED = 1;
function createCacheNode() {
  return {
    s: UNTERMINATED,
    v: void 0,
    o: null,
    p: null
  };
}
function weakMapMemoize(func, options = {}) {
  let fnNode = createCacheNode();
  const {
    resultEqualityCheck
  } = options;
  let lastResult;
  let resultsCount = 0;
  function memoized() {
    let cacheNode = fnNode;
    const {
      length
    } = arguments;
    for (let i = 0, l = length; i < l; i++) {
      const arg = arguments[i];
      if (typeof arg === "function" || typeof arg === "object" && arg !== null) {
        let objectCache = cacheNode.o;
        if (objectCache === null) {
          cacheNode.o = objectCache = /* @__PURE__ */new WeakMap();
        }
        const objectNode = objectCache.get(arg);
        if (objectNode === void 0) {
          cacheNode = createCacheNode();
          objectCache.set(arg, cacheNode);
        } else {
          cacheNode = objectNode;
        }
      } else {
        let primitiveCache = cacheNode.p;
        if (primitiveCache === null) {
          cacheNode.p = primitiveCache = /* @__PURE__ */new Map();
        }
        const primitiveNode = primitiveCache.get(arg);
        if (primitiveNode === void 0) {
          cacheNode = createCacheNode();
          primitiveCache.set(arg, cacheNode);
        } else {
          cacheNode = primitiveNode;
        }
      }
    }
    const terminatedNode = cacheNode;
    let result;
    if (cacheNode.s === TERMINATED) {
      result = cacheNode.v;
    } else {
      result = func.apply(null, arguments);
      resultsCount++;
      if (resultEqualityCheck) {
        const lastResultValue = lastResult?.deref?.() ?? lastResult;
        if (lastResultValue != null && resultEqualityCheck(lastResultValue, result)) {
          result = lastResultValue;
          resultsCount !== 0 && resultsCount--;
        }
        const needsWeakRef = typeof result === "object" && result !== null || typeof result === "function";
        lastResult = needsWeakRef ? new Ref(result) : result;
      }
    }
    terminatedNode.s = TERMINATED;
    terminatedNode.v = result;
    return result;
  }
  memoized.clearCache = () => {
    fnNode = createCacheNode();
    memoized.resetResultsCount();
  };
  memoized.resultsCount = () => resultsCount;
  memoized.resetResultsCount = () => {
    resultsCount = 0;
  };
  return memoized;
}

// src/createSelectorCreator.ts
function createSelectorCreator(memoizeOrOptions, ...memoizeOptionsFromArgs) {
  const createSelectorCreatorOptions = typeof memoizeOrOptions === "function" ? {
    memoize: memoizeOrOptions,
    memoizeOptions: memoizeOptionsFromArgs
  } : memoizeOrOptions;
  const createSelector2 = (...createSelectorArgs) => {
    let recomputations = 0;
    let dependencyRecomputations = 0;
    let lastResult;
    let directlyPassedOptions = {};
    let resultFunc = createSelectorArgs.pop();
    if (typeof resultFunc === "object") {
      directlyPassedOptions = resultFunc;
      resultFunc = createSelectorArgs.pop();
    }
    assertIsFunction(resultFunc, `createSelector expects an output function after the inputs, but received: [${typeof resultFunc}]`);
    const combinedOptions = {
      ...createSelectorCreatorOptions,
      ...directlyPassedOptions
    };
    const {
      memoize,
      memoizeOptions = [],
      argsMemoize = weakMapMemoize,
      argsMemoizeOptions = [],
      devModeChecks = {}
    } = combinedOptions;
    const finalMemoizeOptions = ensureIsArray(memoizeOptions);
    const finalArgsMemoizeOptions = ensureIsArray(argsMemoizeOptions);
    const dependencies = getDependencies(createSelectorArgs);
    const memoizedResultFunc = memoize(function recomputationWrapper() {
      recomputations++;
      return resultFunc.apply(null, arguments);
    }, ...finalMemoizeOptions);
    let firstRun = true;
    const selector = argsMemoize(function dependenciesChecker() {
      dependencyRecomputations++;
      const inputSelectorResults = collectInputSelectorResults(dependencies, arguments);
      lastResult = memoizedResultFunc.apply(null, inputSelectorResults);
      if (process.env.NODE_ENV !== "production") {
        const {
          identityFunctionCheck,
          inputStabilityCheck
        } = getDevModeChecksExecutionInfo(firstRun, devModeChecks);
        if (identityFunctionCheck.shouldRun) {
          identityFunctionCheck.run(resultFunc, inputSelectorResults, lastResult);
        }
        if (inputStabilityCheck.shouldRun) {
          const inputSelectorResultsCopy = collectInputSelectorResults(dependencies, arguments);
          inputStabilityCheck.run({
            inputSelectorResults,
            inputSelectorResultsCopy
          }, {
            memoize,
            memoizeOptions: finalMemoizeOptions
          }, arguments);
        }
        if (firstRun) firstRun = false;
      }
      return lastResult;
    }, ...finalArgsMemoizeOptions);
    return Object.assign(selector, {
      resultFunc,
      memoizedResultFunc,
      dependencies,
      dependencyRecomputations: () => dependencyRecomputations,
      resetDependencyRecomputations: () => {
        dependencyRecomputations = 0;
      },
      lastResult: () => lastResult,
      recomputations: () => recomputations,
      resetRecomputations: () => {
        recomputations = 0;
      },
      memoize,
      argsMemoize
    });
  };
  Object.assign(createSelector2, {
    withTypes: () => createSelector2
  });
  return createSelector2;
}
var createSelector = /* @__PURE__ */createSelectorCreator(weakMapMemoize);

// src/createStructuredSelector.ts
var createStructuredSelector = Object.assign((inputSelectorsObject, selectorCreator = createSelector) => {
  assertIsObject(inputSelectorsObject, `createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof inputSelectorsObject}`);
  const inputSelectorKeys = Object.keys(inputSelectorsObject);
  const dependencies = inputSelectorKeys.map(key => inputSelectorsObject[key]);
  const structuredSelector = selectorCreator(dependencies, (...inputSelectorResults) => {
    return inputSelectorResults.reduce((composition, value, index) => {
      composition[inputSelectorKeys[index]] = value;
      return composition;
    }, {});
  });
  return structuredSelector;
}, {
  withTypes: () => createStructuredSelector
});
// Annotate the CommonJS export names for ESM import in node:
0 && (module.exports = {
  createSelector,
  createSelectorCreator,
  createStructuredSelector,
  lruMemoize,
  referenceEqualityCheck,
  setGlobalDevModeChecks,
  unstable_autotrackMemoize,
  weakMapMemoize
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJzcmNfZXhwb3J0cyIsIl9fZXhwb3J0IiwiY3JlYXRlU2VsZWN0b3IiLCJjcmVhdGVTZWxlY3RvckNyZWF0b3IiLCJjcmVhdGVTdHJ1Y3R1cmVkU2VsZWN0b3IiLCJscnVNZW1vaXplIiwicmVmZXJlbmNlRXF1YWxpdHlDaGVjayIsInNldEdsb2JhbERldk1vZGVDaGVja3MiLCJ1bnN0YWJsZV9hdXRvdHJhY2tNZW1vaXplIiwiYXV0b3RyYWNrTWVtb2l6ZSIsIndlYWtNYXBNZW1vaXplIiwibW9kdWxlIiwiZXhwb3J0cyIsIl9fdG9Db21tb25KUyIsInJ1bklkZW50aXR5RnVuY3Rpb25DaGVjayIsInJlc3VsdEZ1bmMiLCJpbnB1dFNlbGVjdG9yc1Jlc3VsdHMiLCJvdXRwdXRTZWxlY3RvclJlc3VsdCIsImxlbmd0aCIsImlzSW5wdXRTYW1lQXNPdXRwdXQiLCJlbXB0eU9iamVjdCIsInN0YWNrIiwiRXJyb3IiLCJlIiwiY29uc29sZSIsIndhcm4iLCJydW5JbnB1dFN0YWJpbGl0eUNoZWNrIiwiaW5wdXRTZWxlY3RvclJlc3VsdHNPYmplY3QiLCJvcHRpb25zIiwiaW5wdXRTZWxlY3RvckFyZ3MiLCJtZW1vaXplIiwibWVtb2l6ZU9wdGlvbnMiLCJpbnB1dFNlbGVjdG9yUmVzdWx0cyIsImlucHV0U2VsZWN0b3JSZXN1bHRzQ29weSIsImNyZWF0ZUFuRW1wdHlPYmplY3QiLCJhcmVJbnB1dFNlbGVjdG9yUmVzdWx0c0VxdWFsIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJmaXJzdElucHV0cyIsInNlY29uZElucHV0cyIsImdsb2JhbERldk1vZGVDaGVja3MiLCJpbnB1dFN0YWJpbGl0eUNoZWNrIiwiaWRlbnRpdHlGdW5jdGlvbkNoZWNrIiwiZGV2TW9kZUNoZWNrcyIsIk9iamVjdCIsImFzc2lnbiIsIk5PVF9GT1VORCIsIlN5bWJvbCIsImFzc2VydElzRnVuY3Rpb24iLCJmdW5jIiwiZXJyb3JNZXNzYWdlIiwiVHlwZUVycm9yIiwiYXNzZXJ0SXNPYmplY3QiLCJvYmplY3QiLCJhc3NlcnRJc0FycmF5T2ZGdW5jdGlvbnMiLCJhcnJheSIsImV2ZXJ5IiwiaXRlbSIsIml0ZW1UeXBlcyIsIm1hcCIsIm5hbWUiLCJqb2luIiwiZW5zdXJlSXNBcnJheSIsIkFycmF5IiwiaXNBcnJheSIsImdldERlcGVuZGVuY2llcyIsImNyZWF0ZVNlbGVjdG9yQXJncyIsImRlcGVuZGVuY2llcyIsImNvbGxlY3RJbnB1dFNlbGVjdG9yUmVzdWx0cyIsImkiLCJwdXNoIiwiZ2V0RGV2TW9kZUNoZWNrc0V4ZWN1dGlvbkluZm8iLCJmaXJzdFJ1biIsInNob3VsZFJ1biIsInJ1biIsIiRSRVZJU0lPTiIsIkNVUlJFTlRfVFJBQ0tFUiIsIkNlbGwiLCJyZXZpc2lvbiIsIl92YWx1ZSIsIl9sYXN0VmFsdWUiLCJfaXNFcXVhbCIsInRyaXBsZUVxIiwiY29uc3RydWN0b3IiLCJpbml0aWFsVmFsdWUiLCJpc0VxdWFsIiwidmFsdWUiLCJhZGQiLCJuZXdWYWx1ZSIsImEiLCJiIiwiVHJhY2tpbmdDYWNoZSIsIl9jYWNoZWRWYWx1ZSIsIl9jYWNoZWRSZXZpc2lvbiIsIl9kZXBzIiwiaGl0cyIsImZuIiwiY2xlYXIiLCJjdXJyZW50VHJhY2tlciIsIlNldCIsInByZXZUcmFja2VyIiwiZnJvbSIsIk1hdGgiLCJtYXgiLCJkIiwiZ2V0VmFsdWUiLCJjZWxsIiwic2V0VmFsdWUiLCJzdG9yYWdlIiwiY3JlYXRlQ2VsbCIsImNyZWF0ZUNhY2hlIiwibmV2ZXJFcSIsImNyZWF0ZVRhZyIsImRpcnR5VGFnIiwidGFnIiwiY29uc3VtZUNvbGxlY3Rpb24iLCJub2RlIiwiY29sbGVjdGlvblRhZyIsImRpcnR5Q29sbGVjdGlvbiIsIlJFRFVYX1BST1hZX0xBQkVMIiwibmV4dElkIiwicHJvdG8iLCJnZXRQcm90b3R5cGVPZiIsIk9iamVjdFRyZWVOb2RlIiwicHJveHkiLCJQcm94eSIsIm9iamVjdFByb3h5SGFuZGxlciIsInRhZ3MiLCJjaGlsZHJlbiIsImlkIiwiZ2V0Iiwia2V5IiwiY2FsY3VsYXRlUmVzdWx0IiwiY2hpbGRWYWx1ZSIsIlJlZmxlY3QiLCJjaGlsZE5vZGUiLCJjcmVhdGVOb2RlIiwicmVzIiwib3duS2V5cyIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsInByb3AiLCJoYXMiLCJBcnJheVRyZWVOb2RlIiwiYXJyYXlQcm94eUhhbmRsZXIiLCJ1cGRhdGVOb2RlIiwib2xkS2V5c1NpemUiLCJuZXdLZXlzU2l6ZSIsImFueUtleXNBZGRlZCIsIl9rZXkiLCJpc0RpZmZlcmVudCIsIm5ld0NoaWxkVmFsdWUiLCJkZWxldGVOb2RlIiwiY3JlYXRlU2luZ2xldG9uQ2FjaGUiLCJlcXVhbHMiLCJlbnRyeSIsInB1dCIsImdldEVudHJpZXMiLCJjcmVhdGVMcnVDYWNoZSIsIm1heFNpemUiLCJlbnRyaWVzIiwiY2FjaGVJbmRleCIsImZpbmRJbmRleCIsInNwbGljZSIsInVuc2hpZnQiLCJwb3AiLCJjcmVhdGVDYWNoZUtleUNvbXBhcmF0b3IiLCJlcXVhbGl0eUNoZWNrIiwiYXJlQXJndW1lbnRzU2hhbGxvd2x5RXF1YWwiLCJwcmV2IiwibmV4dCIsImVxdWFsaXR5Q2hlY2tPck9wdGlvbnMiLCJwcm92aWRlZE9wdGlvbnMiLCJyZXN1bHRFcXVhbGl0eUNoZWNrIiwiY29tcGFyYXRvciIsInJlc3VsdHNDb3VudCIsImNhY2hlIiwibWVtb2l6ZWQiLCJtYXRjaGluZ0VudHJ5IiwiZmluZCIsImNsZWFyQ2FjaGUiLCJyZXNldFJlc3VsdHNDb3VudCIsImxhc3RBcmdzIiwic2hhbGxvd0VxdWFsIiwiU3Ryb25nUmVmIiwiZGVyZWYiLCJSZWYiLCJXZWFrUmVmIiwiVU5URVJNSU5BVEVEIiwiVEVSTUlOQVRFRCIsImNyZWF0ZUNhY2hlTm9kZSIsInMiLCJ2IiwibyIsInAiLCJmbk5vZGUiLCJsYXN0UmVzdWx0IiwiY2FjaGVOb2RlIiwibCIsImFyZyIsIm9iamVjdENhY2hlIiwiV2Vha01hcCIsIm9iamVjdE5vZGUiLCJzZXQiLCJwcmltaXRpdmVDYWNoZSIsIk1hcCIsInByaW1pdGl2ZU5vZGUiLCJ0ZXJtaW5hdGVkTm9kZSIsInJlc3VsdCIsImxhc3RSZXN1bHRWYWx1ZSIsIm5lZWRzV2Vha1JlZiIsIm1lbW9pemVPck9wdGlvbnMiLCJtZW1vaXplT3B0aW9uc0Zyb21BcmdzIiwiY3JlYXRlU2VsZWN0b3JDcmVhdG9yT3B0aW9ucyIsImNyZWF0ZVNlbGVjdG9yMiIsInJlY29tcHV0YXRpb25zIiwiZGVwZW5kZW5jeVJlY29tcHV0YXRpb25zIiwiZGlyZWN0bHlQYXNzZWRPcHRpb25zIiwiY29tYmluZWRPcHRpb25zIiwiYXJnc01lbW9pemUiLCJhcmdzTWVtb2l6ZU9wdGlvbnMiLCJmaW5hbE1lbW9pemVPcHRpb25zIiwiZmluYWxBcmdzTWVtb2l6ZU9wdGlvbnMiLCJtZW1vaXplZFJlc3VsdEZ1bmMiLCJyZWNvbXB1dGF0aW9uV3JhcHBlciIsInNlbGVjdG9yIiwiZGVwZW5kZW5jaWVzQ2hlY2tlciIsInByb2Nlc3MiLCJlbnYiLCJOT0RFX0VOViIsInJlc2V0RGVwZW5kZW5jeVJlY29tcHV0YXRpb25zIiwicmVzZXRSZWNvbXB1dGF0aW9ucyIsIndpdGhUeXBlcyIsImlucHV0U2VsZWN0b3JzT2JqZWN0Iiwic2VsZWN0b3JDcmVhdG9yIiwiaW5wdXRTZWxlY3RvcktleXMiLCJrZXlzIiwic3RydWN0dXJlZFNlbGVjdG9yIiwicmVkdWNlIiwiY29tcG9zaXRpb24iLCJpbmRleCJdLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9pbmRleC50cyIsIi4uLy4uL3NyYy9kZXZNb2RlQ2hlY2tzL2lkZW50aXR5RnVuY3Rpb25DaGVjay50cyIsIi4uLy4uL3NyYy9kZXZNb2RlQ2hlY2tzL2lucHV0U3RhYmlsaXR5Q2hlY2sudHMiLCIuLi8uLi9zcmMvZGV2TW9kZUNoZWNrcy9zZXRHbG9iYWxEZXZNb2RlQ2hlY2tzLnRzIiwiLi4vLi4vc3JjL3V0aWxzLnRzIiwiLi4vLi4vc3JjL2F1dG90cmFja01lbW9pemUvYXV0b3RyYWNraW5nLnRzIiwiLi4vLi4vc3JjL2F1dG90cmFja01lbW9pemUvdHJhY2tpbmcudHMiLCIuLi8uLi9zcmMvYXV0b3RyYWNrTWVtb2l6ZS9wcm94eS50cyIsIi4uLy4uL3NyYy9scnVNZW1vaXplLnRzIiwiLi4vLi4vc3JjL2F1dG90cmFja01lbW9pemUvYXV0b3RyYWNrTWVtb2l6ZS50cyIsIi4uLy4uL3NyYy93ZWFrTWFwTWVtb2l6ZS50cyIsIi4uLy4uL3NyYy9jcmVhdGVTZWxlY3RvckNyZWF0b3IudHMiLCIuLi8uLi9zcmMvY3JlYXRlU3RydWN0dXJlZFNlbGVjdG9yLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB7IGF1dG90cmFja01lbW9pemUgYXMgdW5zdGFibGVfYXV0b3RyYWNrTWVtb2l6ZSB9IGZyb20gJy4vYXV0b3RyYWNrTWVtb2l6ZS9hdXRvdHJhY2tNZW1vaXplJ1xyXG5leHBvcnQgeyBjcmVhdGVTZWxlY3RvciwgY3JlYXRlU2VsZWN0b3JDcmVhdG9yIH0gZnJvbSAnLi9jcmVhdGVTZWxlY3RvckNyZWF0b3InXHJcbmV4cG9ydCB0eXBlIHsgQ3JlYXRlU2VsZWN0b3JGdW5jdGlvbiB9IGZyb20gJy4vY3JlYXRlU2VsZWN0b3JDcmVhdG9yJ1xyXG5leHBvcnQgeyBjcmVhdGVTdHJ1Y3R1cmVkU2VsZWN0b3IgfSBmcm9tICcuL2NyZWF0ZVN0cnVjdHVyZWRTZWxlY3RvcidcclxuZXhwb3J0IHR5cGUge1xyXG4gIFJvb3RTdGF0ZVNlbGVjdG9ycyxcclxuICBTZWxlY3RvclJlc3VsdHNNYXAsXHJcbiAgU2VsZWN0b3JzT2JqZWN0LFxyXG4gIFN0cnVjdHVyZWRTZWxlY3RvckNyZWF0b3IsXHJcbiAgVHlwZWRTdHJ1Y3R1cmVkU2VsZWN0b3JDcmVhdG9yXHJcbn0gZnJvbSAnLi9jcmVhdGVTdHJ1Y3R1cmVkU2VsZWN0b3InXHJcbmV4cG9ydCB7IHNldEdsb2JhbERldk1vZGVDaGVja3MgfSBmcm9tICcuL2Rldk1vZGVDaGVja3Mvc2V0R2xvYmFsRGV2TW9kZUNoZWNrcydcclxuZXhwb3J0IHsgbHJ1TWVtb2l6ZSwgcmVmZXJlbmNlRXF1YWxpdHlDaGVjayB9IGZyb20gJy4vbHJ1TWVtb2l6ZSdcclxuZXhwb3J0IHR5cGUgeyBMcnVNZW1vaXplT3B0aW9ucyB9IGZyb20gJy4vbHJ1TWVtb2l6ZSdcclxuZXhwb3J0IHR5cGUge1xyXG4gIENvbWJpbmVyLFxyXG4gIENyZWF0ZVNlbGVjdG9yT3B0aW9ucyxcclxuICBEZWZhdWx0TWVtb2l6ZUZpZWxkcyxcclxuICBEZXZNb2RlQ2hlY2tGcmVxdWVuY3ksXHJcbiAgRGV2TW9kZUNoZWNrcyxcclxuICBEZXZNb2RlQ2hlY2tzRXhlY3V0aW9uSW5mbyxcclxuICBFcXVhbGl0eUZuLFxyXG4gIEV4dHJhY3RNZW1vaXplckZpZWxkcyxcclxuICBHZXRQYXJhbXNGcm9tU2VsZWN0b3JzLFxyXG4gIEdldFN0YXRlRnJvbVNlbGVjdG9ycyxcclxuICBNZW1vaXplT3B0aW9uc0Zyb21QYXJhbWV0ZXJzLFxyXG4gIE91dHB1dFNlbGVjdG9yLFxyXG4gIE91dHB1dFNlbGVjdG9yRmllbGRzLFxyXG4gIE92ZXJyaWRlTWVtb2l6ZU9wdGlvbnMsXHJcbiAgU2VsZWN0b3IsXHJcbiAgU2VsZWN0b3JBcnJheSxcclxuICBTZWxlY3RvclJlc3VsdEFycmF5LFxyXG4gIFVua25vd25NZW1vaXplclxyXG59IGZyb20gJy4vdHlwZXMnXHJcbmV4cG9ydCB7IHdlYWtNYXBNZW1vaXplIH0gZnJvbSAnLi93ZWFrTWFwTWVtb2l6ZSdcclxuZXhwb3J0IHR5cGUgeyBXZWFrTWFwTWVtb2l6ZU9wdGlvbnMgfSBmcm9tICcuL3dlYWtNYXBNZW1vaXplJ1xyXG4iLCJpbXBvcnQgdHlwZSB7IEFueUZ1bmN0aW9uIH0gZnJvbSAnLi4vdHlwZXMnXHJcblxyXG4vKipcclxuICogUnVucyBhIGNoZWNrIHRvIGRldGVybWluZSBpZiB0aGUgZ2l2ZW4gcmVzdWx0IGZ1bmN0aW9uIGJlaGF2ZXMgYXMgYW5cclxuICogaWRlbnRpdHkgZnVuY3Rpb24uIEFuIGlkZW50aXR5IGZ1bmN0aW9uIGlzIG9uZSB0aGF0IHJldHVybnMgaXRzXHJcbiAqIGlucHV0IHVuY2hhbmdlZCwgZm9yIGV4YW1wbGUsIGB4ID0+IHhgLiBUaGlzIGNoZWNrIGhlbHBzIGVuc3VyZVxyXG4gKiBlZmZpY2llbnQgbWVtb2l6YXRpb24gYW5kIHByZXZlbnQgdW5uZWNlc3NhcnkgcmUtcmVuZGVycyBieSBlbmNvdXJhZ2luZ1xyXG4gKiBwcm9wZXIgdXNlIG9mIHRyYW5zZm9ybWF0aW9uIGxvZ2ljIGluIHJlc3VsdCBmdW5jdGlvbnMgYW5kXHJcbiAqIGV4dHJhY3Rpb24gbG9naWMgaW4gaW5wdXQgc2VsZWN0b3JzLlxyXG4gKlxyXG4gKiBAcGFyYW0gcmVzdWx0RnVuYyAtIFRoZSByZXN1bHQgZnVuY3Rpb24gdG8gYmUgY2hlY2tlZC5cclxuICogQHBhcmFtIGlucHV0U2VsZWN0b3JzUmVzdWx0cyAtIFRoZSByZXN1bHRzIG9mIHRoZSBpbnB1dCBzZWxlY3RvcnMuXHJcbiAqIEBwYXJhbSBvdXRwdXRTZWxlY3RvclJlc3VsdCAtIFRoZSByZXN1bHQgb2YgdGhlIG91dHB1dCBzZWxlY3Rvci5cclxuICpcclxuICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9yZXNlbGVjdC5qcy5vcmcvYXBpL2RldmVsb3BtZW50LW9ubHktc3RhYmlsaXR5LWNoZWNrcyNpZGVudGl0eWZ1bmN0aW9uY2hlY2sgYGlkZW50aXR5RnVuY3Rpb25DaGVja2B9XHJcbiAqXHJcbiAqIEBzaW5jZSA1LjAuMFxyXG4gKiBAaW50ZXJuYWxcclxuICovXHJcbmV4cG9ydCBjb25zdCBydW5JZGVudGl0eUZ1bmN0aW9uQ2hlY2sgPSAoXHJcbiAgcmVzdWx0RnVuYzogQW55RnVuY3Rpb24sXHJcbiAgaW5wdXRTZWxlY3RvcnNSZXN1bHRzOiB1bmtub3duW10sXHJcbiAgb3V0cHV0U2VsZWN0b3JSZXN1bHQ6IHVua25vd25cclxuKSA9PiB7XHJcbiAgaWYgKFxyXG4gICAgaW5wdXRTZWxlY3RvcnNSZXN1bHRzLmxlbmd0aCA9PT0gMSAmJlxyXG4gICAgaW5wdXRTZWxlY3RvcnNSZXN1bHRzWzBdID09PSBvdXRwdXRTZWxlY3RvclJlc3VsdFxyXG4gICkge1xyXG4gICAgbGV0IGlzSW5wdXRTYW1lQXNPdXRwdXQgPSBmYWxzZVxyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgZW1wdHlPYmplY3QgPSB7fVxyXG4gICAgICBpZiAocmVzdWx0RnVuYyhlbXB0eU9iamVjdCkgPT09IGVtcHR5T2JqZWN0KSBpc0lucHV0U2FtZUFzT3V0cHV0ID0gdHJ1ZVxyXG4gICAgfSBjYXRjaCB7XHJcbiAgICAgIC8vIERvIG5vdGhpbmdcclxuICAgIH1cclxuICAgIGlmIChpc0lucHV0U2FtZUFzT3V0cHV0KSB7XHJcbiAgICAgIGxldCBzdGFjazogc3RyaW5nIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkXHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKClcclxuICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXh0cmEtc2VtaSwgbm8tZXh0cmEtc2VtaVxyXG4gICAgICAgIDsoeyBzdGFjayB9ID0gZSBhcyBFcnJvcilcclxuICAgICAgfVxyXG4gICAgICBjb25zb2xlLndhcm4oXHJcbiAgICAgICAgJ1RoZSByZXN1bHQgZnVuY3Rpb24gcmV0dXJuZWQgaXRzIG93biBpbnB1dHMgd2l0aG91dCBtb2RpZmljYXRpb24uIGUuZycgK1xyXG4gICAgICAgICAgJ1xcbmBjcmVhdGVTZWxlY3Rvcihbc3RhdGUgPT4gc3RhdGUudG9kb3NdLCB0b2RvcyA9PiB0b2RvcylgJyArXHJcbiAgICAgICAgICAnXFxuVGhpcyBjb3VsZCBsZWFkIHRvIGluZWZmaWNpZW50IG1lbW9pemF0aW9uIGFuZCB1bm5lY2Vzc2FyeSByZS1yZW5kZXJzLicgK1xyXG4gICAgICAgICAgJ1xcbkVuc3VyZSB0cmFuc2Zvcm1hdGlvbiBsb2dpYyBpcyBpbiB0aGUgcmVzdWx0IGZ1bmN0aW9uLCBhbmQgZXh0cmFjdGlvbiBsb2dpYyBpcyBpbiB0aGUgaW5wdXQgc2VsZWN0b3JzLicsXHJcbiAgICAgICAgeyBzdGFjayB9XHJcbiAgICAgIClcclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHR5cGUgeyBDcmVhdGVTZWxlY3Rvck9wdGlvbnMsIFVua25vd25NZW1vaXplciB9IGZyb20gJy4uL3R5cGVzJ1xyXG5cclxuLyoqXHJcbiAqIFJ1bnMgYSBzdGFiaWxpdHkgY2hlY2sgdG8gZW5zdXJlIHRoZSBpbnB1dCBzZWxlY3RvciByZXN1bHRzIHJlbWFpbiBzdGFibGVcclxuICogd2hlbiBwcm92aWRlZCB3aXRoIHRoZSBzYW1lIGFyZ3VtZW50cy4gVGhpcyBmdW5jdGlvbiBpcyBkZXNpZ25lZCB0byBkZXRlY3RcclxuICogY2hhbmdlcyBpbiB0aGUgb3V0cHV0IG9mIGlucHV0IHNlbGVjdG9ycywgd2hpY2ggY2FuIGltcGFjdCB0aGUgcGVyZm9ybWFuY2Ugb2YgbWVtb2l6ZWQgc2VsZWN0b3JzLlxyXG4gKlxyXG4gKiBAcGFyYW0gaW5wdXRTZWxlY3RvclJlc3VsdHNPYmplY3QgLSBBbiBvYmplY3QgY29udGFpbmluZyB0d28gYXJyYXlzOiBgaW5wdXRTZWxlY3RvclJlc3VsdHNgIGFuZCBgaW5wdXRTZWxlY3RvclJlc3VsdHNDb3B5YCwgcmVwcmVzZW50aW5nIHRoZSByZXN1bHRzIG9mIGlucHV0IHNlbGVjdG9ycy5cclxuICogQHBhcmFtIG9wdGlvbnMgLSBPcHRpb25zIG9iamVjdCBjb25zaXN0aW5nIG9mIGEgYG1lbW9pemVgIGZ1bmN0aW9uIGFuZCBhIGBtZW1vaXplT3B0aW9uc2Agb2JqZWN0LlxyXG4gKiBAcGFyYW0gaW5wdXRTZWxlY3RvckFyZ3MgLSBMaXN0IG9mIGFyZ3VtZW50cyBiZWluZyBwYXNzZWQgdG8gdGhlIGlucHV0IHNlbGVjdG9ycy5cclxuICpcclxuICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9yZXNlbGVjdC5qcy5vcmcvYXBpL2RldmVsb3BtZW50LW9ubHktc3RhYmlsaXR5LWNoZWNrcy8jaW5wdXRzdGFiaWxpdHljaGVjayBgaW5wdXRTdGFiaWxpdHlDaGVja2B9XHJcbiAqXHJcbiAqIEBzaW5jZSA1LjAuMFxyXG4gKiBAaW50ZXJuYWxcclxuICovXHJcbmV4cG9ydCBjb25zdCBydW5JbnB1dFN0YWJpbGl0eUNoZWNrID0gKFxyXG4gIGlucHV0U2VsZWN0b3JSZXN1bHRzT2JqZWN0OiB7XHJcbiAgICBpbnB1dFNlbGVjdG9yUmVzdWx0czogdW5rbm93bltdXHJcbiAgICBpbnB1dFNlbGVjdG9yUmVzdWx0c0NvcHk6IHVua25vd25bXVxyXG4gIH0sXHJcbiAgb3B0aW9uczogUmVxdWlyZWQ8XHJcbiAgICBQaWNrPFxyXG4gICAgICBDcmVhdGVTZWxlY3Rvck9wdGlvbnM8VW5rbm93bk1lbW9pemVyLCBVbmtub3duTWVtb2l6ZXI+LFxyXG4gICAgICAnbWVtb2l6ZScgfCAnbWVtb2l6ZU9wdGlvbnMnXHJcbiAgICA+XHJcbiAgPixcclxuICBpbnB1dFNlbGVjdG9yQXJnczogdW5rbm93bltdIHwgSUFyZ3VtZW50c1xyXG4pID0+IHtcclxuICBjb25zdCB7IG1lbW9pemUsIG1lbW9pemVPcHRpb25zIH0gPSBvcHRpb25zXHJcbiAgY29uc3QgeyBpbnB1dFNlbGVjdG9yUmVzdWx0cywgaW5wdXRTZWxlY3RvclJlc3VsdHNDb3B5IH0gPVxyXG4gICAgaW5wdXRTZWxlY3RvclJlc3VsdHNPYmplY3RcclxuICBjb25zdCBjcmVhdGVBbkVtcHR5T2JqZWN0ID0gbWVtb2l6ZSgoKSA9PiAoe30pLCAuLi5tZW1vaXplT3B0aW9ucylcclxuICAvLyBpZiB0aGUgbWVtb2l6ZSBtZXRob2QgdGhpbmtzIHRoZSBwYXJhbWV0ZXJzIGFyZSBlcXVhbCwgdGhlc2UgKnNob3VsZCogYmUgdGhlIHNhbWUgcmVmZXJlbmNlXHJcbiAgY29uc3QgYXJlSW5wdXRTZWxlY3RvclJlc3VsdHNFcXVhbCA9XHJcbiAgICBjcmVhdGVBbkVtcHR5T2JqZWN0LmFwcGx5KG51bGwsIGlucHV0U2VsZWN0b3JSZXN1bHRzKSA9PT1cclxuICAgIGNyZWF0ZUFuRW1wdHlPYmplY3QuYXBwbHkobnVsbCwgaW5wdXRTZWxlY3RvclJlc3VsdHNDb3B5KVxyXG4gIGlmICghYXJlSW5wdXRTZWxlY3RvclJlc3VsdHNFcXVhbCkge1xyXG4gICAgbGV0IHN0YWNrOiBzdHJpbmcgfCB1bmRlZmluZWQgPSB1bmRlZmluZWRcclxuICAgIHRyeSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcigpXHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXh0cmEtc2VtaSwgbm8tZXh0cmEtc2VtaVxyXG4gICAgICA7KHsgc3RhY2sgfSA9IGUgYXMgRXJyb3IpXHJcbiAgICB9XHJcbiAgICBjb25zb2xlLndhcm4oXHJcbiAgICAgICdBbiBpbnB1dCBzZWxlY3RvciByZXR1cm5lZCBhIGRpZmZlcmVudCByZXN1bHQgd2hlbiBwYXNzZWQgc2FtZSBhcmd1bWVudHMuJyArXHJcbiAgICAgICAgJ1xcblRoaXMgbWVhbnMgeW91ciBvdXRwdXQgc2VsZWN0b3Igd2lsbCBsaWtlbHkgcnVuIG1vcmUgZnJlcXVlbnRseSB0aGFuIGludGVuZGVkLicgK1xyXG4gICAgICAgICdcXG5Bdm9pZCByZXR1cm5pbmcgYSBuZXcgcmVmZXJlbmNlIGluc2lkZSB5b3VyIGlucHV0IHNlbGVjdG9yLCBlLmcuJyArXHJcbiAgICAgICAgJ1xcbmBjcmVhdGVTZWxlY3Rvcihbc3RhdGUgPT4gc3RhdGUudG9kb3MubWFwKHRvZG8gPT4gdG9kby5pZCldLCB0b2RvSWRzID0+IHRvZG9JZHMubGVuZ3RoKWAnLFxyXG4gICAgICB7XHJcbiAgICAgICAgYXJndW1lbnRzOiBpbnB1dFNlbGVjdG9yQXJncyxcclxuICAgICAgICBmaXJzdElucHV0czogaW5wdXRTZWxlY3RvclJlc3VsdHMsXHJcbiAgICAgICAgc2Vjb25kSW5wdXRzOiBpbnB1dFNlbGVjdG9yUmVzdWx0c0NvcHksXHJcbiAgICAgICAgc3RhY2tcclxuICAgICAgfVxyXG4gICAgKVxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgdHlwZSB7IERldk1vZGVDaGVja3MgfSBmcm9tICcuLi90eXBlcydcclxuXHJcbi8qKlxyXG4gKiBHbG9iYWwgY29uZmlndXJhdGlvbiBmb3IgZGV2ZWxvcG1lbnQgbW9kZSBjaGVja3MuIFRoaXMgc3BlY2lmaWVzIHRoZSBkZWZhdWx0XHJcbiAqIGZyZXF1ZW5jeSBhdCB3aGljaCBlYWNoIGRldmVsb3BtZW50IG1vZGUgY2hlY2sgc2hvdWxkIGJlIHBlcmZvcm1lZC5cclxuICpcclxuICogQHNpbmNlIDUuMC4wXHJcbiAqIEBpbnRlcm5hbFxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IGdsb2JhbERldk1vZGVDaGVja3M6IERldk1vZGVDaGVja3MgPSB7XHJcbiAgaW5wdXRTdGFiaWxpdHlDaGVjazogJ29uY2UnLFxyXG4gIGlkZW50aXR5RnVuY3Rpb25DaGVjazogJ29uY2UnXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBPdmVycmlkZXMgdGhlIGRldmVsb3BtZW50IG1vZGUgY2hlY2tzIHNldHRpbmdzIGZvciBhbGwgc2VsZWN0b3JzLlxyXG4gKlxyXG4gKiBSZXNlbGVjdCBwZXJmb3JtcyBhZGRpdGlvbmFsIGNoZWNrcyBpbiBkZXZlbG9wbWVudCBtb2RlIHRvIGhlbHAgaWRlbnRpZnkgYW5kXHJcbiAqIHdhcm4gYWJvdXQgcG90ZW50aWFsIGlzc3VlcyBpbiBzZWxlY3RvciBiZWhhdmlvci4gVGhpcyBmdW5jdGlvbiBhbGxvd3MgeW91IHRvXHJcbiAqIGN1c3RvbWl6ZSB0aGUgYmVoYXZpb3Igb2YgdGhlc2UgY2hlY2tzIGFjcm9zcyBhbGwgc2VsZWN0b3JzIGluIHlvdXIgYXBwbGljYXRpb24uXHJcbiAqXHJcbiAqICoqTm90ZSoqOiBUaGlzIHNldHRpbmcgY2FuIHN0aWxsIGJlIG92ZXJyaWRkZW4gcGVyIHNlbGVjdG9yIGluc2lkZSBgY3JlYXRlU2VsZWN0b3JgJ3MgYG9wdGlvbnNgIG9iamVjdC5cclxuICogU2VlIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vcmVkdXhqcy9yZXNlbGVjdCMyLXBlci1zZWxlY3Rvci1ieS1wYXNzaW5nLWFuLWlkZW50aXR5ZnVuY3Rpb25jaGVjay1vcHRpb24tZGlyZWN0bHktdG8tY3JlYXRlc2VsZWN0b3IgcGVyLXNlbGVjdG9yLWNvbmZpZ3VyYXRpb259XHJcbiAqIGFuZCB7QGxpbmtjb2RlIENyZWF0ZVNlbGVjdG9yT3B0aW9ucy5pZGVudGl0eUZ1bmN0aW9uQ2hlY2sgaWRlbnRpdHlGdW5jdGlvbkNoZWNrfSBmb3IgbW9yZSBkZXRhaWxzLlxyXG4gKlxyXG4gKiBfVGhlIGRldmVsb3BtZW50IG1vZGUgY2hlY2tzIGRvIG5vdCBydW4gaW4gcHJvZHVjdGlvbiBidWlsZHMuX1xyXG4gKlxyXG4gKiBAcGFyYW0gZGV2TW9kZUNoZWNrcyAtIEFuIG9iamVjdCBzcGVjaWZ5aW5nIHRoZSBkZXNpcmVkIHNldHRpbmdzIGZvciBkZXZlbG9wbWVudCBtb2RlIGNoZWNrcy4gWW91IGNhbiBwcm92aWRlIHBhcnRpYWwgb3ZlcnJpZGVzLiBVbnNwZWNpZmllZCBzZXR0aW5ncyB3aWxsIHJldGFpbiB0aGVpciBjdXJyZW50IHZhbHVlcy5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogYGBgdHNcclxuICogaW1wb3J0IHsgc2V0R2xvYmFsRGV2TW9kZUNoZWNrcyB9IGZyb20gJ3Jlc2VsZWN0J1xyXG4gKiBpbXBvcnQgeyBEZXZNb2RlQ2hlY2tzIH0gZnJvbSAnLi4vdHlwZXMnXHJcbiAqXHJcbiAqIC8vIFJ1biBvbmx5IHRoZSBmaXJzdCB0aW1lIHRoZSBzZWxlY3RvciBpcyBjYWxsZWQuIChkZWZhdWx0KVxyXG4gKiBzZXRHbG9iYWxEZXZNb2RlQ2hlY2tzKHsgaW5wdXRTdGFiaWxpdHlDaGVjazogJ29uY2UnIH0pXHJcbiAqXHJcbiAqIC8vIFJ1biBldmVyeSB0aW1lIHRoZSBzZWxlY3RvciBpcyBjYWxsZWQuXHJcbiAqIHNldEdsb2JhbERldk1vZGVDaGVja3MoeyBpbnB1dFN0YWJpbGl0eUNoZWNrOiAnYWx3YXlzJyB9KVxyXG4gKlxyXG4gKiAvLyBOZXZlciBydW4gdGhlIGlucHV0IHN0YWJpbGl0eSBjaGVjay5cclxuICogc2V0R2xvYmFsRGV2TW9kZUNoZWNrcyh7IGlucHV0U3RhYmlsaXR5Q2hlY2s6ICduZXZlcicgfSlcclxuICpcclxuICogLy8gUnVuIG9ubHkgdGhlIGZpcnN0IHRpbWUgdGhlIHNlbGVjdG9yIGlzIGNhbGxlZC4gKGRlZmF1bHQpXHJcbiAqIHNldEdsb2JhbERldk1vZGVDaGVja3MoeyBpZGVudGl0eUZ1bmN0aW9uQ2hlY2s6ICdvbmNlJyB9KVxyXG4gKlxyXG4gKiAvLyBSdW4gZXZlcnkgdGltZSB0aGUgc2VsZWN0b3IgaXMgY2FsbGVkLlxyXG4gKiBzZXRHbG9iYWxEZXZNb2RlQ2hlY2tzKHsgaWRlbnRpdHlGdW5jdGlvbkNoZWNrOiAnYWx3YXlzJyB9KVxyXG4gKlxyXG4gKiAvLyBOZXZlciBydW4gdGhlIGlkZW50aXR5IGZ1bmN0aW9uIGNoZWNrLlxyXG4gKiBzZXRHbG9iYWxEZXZNb2RlQ2hlY2tzKHsgaWRlbnRpdHlGdW5jdGlvbkNoZWNrOiAnbmV2ZXInIH0pXHJcbiAqIGBgYFxyXG4gKiBAc2VlIHtAbGluayBodHRwczovL3Jlc2VsZWN0LmpzLm9yZy9hcGkvZGV2ZWxvcG1lbnQtb25seS1zdGFiaWxpdHktY2hlY2tzIERldmVsb3BtZW50LU9ubHkgU3RhYmlsaXR5IENoZWNrc31cclxuICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9yZXNlbGVjdC5qcy5vcmcvYXBpL2RldmVsb3BtZW50LW9ubHktc3RhYmlsaXR5LWNoZWNrcyMxLWdsb2JhbGx5LXRocm91Z2gtc2V0Z2xvYmFsZGV2bW9kZWNoZWNrcyBnbG9iYWwtY29uZmlndXJhdGlvbn1cclxuICpcclxuICogQHNpbmNlIDUuMC4wXHJcbiAqIEBwdWJsaWNcclxuICovXHJcbmV4cG9ydCBjb25zdCBzZXRHbG9iYWxEZXZNb2RlQ2hlY2tzID0gKFxyXG4gIGRldk1vZGVDaGVja3M6IFBhcnRpYWw8RGV2TW9kZUNoZWNrcz5cclxuKSA9PiB7XHJcbiAgT2JqZWN0LmFzc2lnbihnbG9iYWxEZXZNb2RlQ2hlY2tzLCBkZXZNb2RlQ2hlY2tzKVxyXG59XHJcbiIsImltcG9ydCB7IHJ1bklkZW50aXR5RnVuY3Rpb25DaGVjayB9IGZyb20gJy4vZGV2TW9kZUNoZWNrcy9pZGVudGl0eUZ1bmN0aW9uQ2hlY2snXHJcbmltcG9ydCB7IHJ1bklucHV0U3RhYmlsaXR5Q2hlY2sgfSBmcm9tICcuL2Rldk1vZGVDaGVja3MvaW5wdXRTdGFiaWxpdHlDaGVjaydcclxuaW1wb3J0IHsgZ2xvYmFsRGV2TW9kZUNoZWNrcyB9IGZyb20gJy4vZGV2TW9kZUNoZWNrcy9zZXRHbG9iYWxEZXZNb2RlQ2hlY2tzJ1xyXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2NvbnNpc3RlbnQtdHlwZS1pbXBvcnRzXHJcbmltcG9ydCB0eXBlIHtcclxuICBEZXZNb2RlQ2hlY2tzLFxyXG4gIFNlbGVjdG9yLFxyXG4gIFNlbGVjdG9yQXJyYXksXHJcbiAgRGV2TW9kZUNoZWNrc0V4ZWN1dGlvbkluZm9cclxufSBmcm9tICcuL3R5cGVzJ1xyXG5cclxuZXhwb3J0IGNvbnN0IE5PVF9GT1VORCA9IC8qIEBfX1BVUkVfXyAqLyBTeW1ib2woJ05PVF9GT1VORCcpXHJcbmV4cG9ydCB0eXBlIE5PVF9GT1VORF9UWVBFID0gdHlwZW9mIE5PVF9GT1VORFxyXG5cclxuLyoqXHJcbiAqIEFzc2VydCB0aGF0IHRoZSBwcm92aWRlZCB2YWx1ZSBpcyBhIGZ1bmN0aW9uLiBJZiB0aGUgYXNzZXJ0aW9uIGZhaWxzLFxyXG4gKiBhIGBUeXBlRXJyb3JgIGlzIHRocm93biB3aXRoIGFuIG9wdGlvbmFsIGN1c3RvbSBlcnJvciBtZXNzYWdlLlxyXG4gKlxyXG4gKiBAcGFyYW0gZnVuYyAtIFRoZSB2YWx1ZSB0byBiZSBjaGVja2VkLlxyXG4gKiBAcGFyYW0gIGVycm9yTWVzc2FnZSAtIEFuIG9wdGlvbmFsIGN1c3RvbSBlcnJvciBtZXNzYWdlIHRvIHVzZSBpZiB0aGUgYXNzZXJ0aW9uIGZhaWxzLlxyXG4gKiBAdGhyb3dzIEEgYFR5cGVFcnJvcmAgaWYgdGhlIGFzc2VydGlvbiBmYWlscy5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRJc0Z1bmN0aW9uPEZ1bmN0aW9uVHlwZSBleHRlbmRzIEZ1bmN0aW9uPihcclxuICBmdW5jOiB1bmtub3duLFxyXG4gIGVycm9yTWVzc2FnZSA9IGBleHBlY3RlZCBhIGZ1bmN0aW9uLCBpbnN0ZWFkIHJlY2VpdmVkICR7dHlwZW9mIGZ1bmN9YFxyXG4pOiBhc3NlcnRzIGZ1bmMgaXMgRnVuY3Rpb25UeXBlIHtcclxuICBpZiAodHlwZW9mIGZ1bmMgIT09ICdmdW5jdGlvbicpIHtcclxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoZXJyb3JNZXNzYWdlKVxyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIEFzc2VydCB0aGF0IHRoZSBwcm92aWRlZCB2YWx1ZSBpcyBhbiBvYmplY3QuIElmIHRoZSBhc3NlcnRpb24gZmFpbHMsXHJcbiAqIGEgYFR5cGVFcnJvcmAgaXMgdGhyb3duIHdpdGggYW4gb3B0aW9uYWwgY3VzdG9tIGVycm9yIG1lc3NhZ2UuXHJcbiAqXHJcbiAqIEBwYXJhbSBvYmplY3QgLSBUaGUgdmFsdWUgdG8gYmUgY2hlY2tlZC5cclxuICogQHBhcmFtICBlcnJvck1lc3NhZ2UgLSBBbiBvcHRpb25hbCBjdXN0b20gZXJyb3IgbWVzc2FnZSB0byB1c2UgaWYgdGhlIGFzc2VydGlvbiBmYWlscy5cclxuICogQHRocm93cyBBIGBUeXBlRXJyb3JgIGlmIHRoZSBhc3NlcnRpb24gZmFpbHMuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0SXNPYmplY3Q8T2JqZWN0VHlwZSBleHRlbmRzIFJlY29yZDxzdHJpbmcsIHVua25vd24+PihcclxuICBvYmplY3Q6IHVua25vd24sXHJcbiAgZXJyb3JNZXNzYWdlID0gYGV4cGVjdGVkIGFuIG9iamVjdCwgaW5zdGVhZCByZWNlaXZlZCAke3R5cGVvZiBvYmplY3R9YFxyXG4pOiBhc3NlcnRzIG9iamVjdCBpcyBPYmplY3RUeXBlIHtcclxuICBpZiAodHlwZW9mIG9iamVjdCAhPT0gJ29iamVjdCcpIHtcclxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoZXJyb3JNZXNzYWdlKVxyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIEFzc2VydCB0aGF0IHRoZSBwcm92aWRlZCBhcnJheSBpcyBhbiBhcnJheSBvZiBmdW5jdGlvbnMuIElmIHRoZSBhc3NlcnRpb24gZmFpbHMsXHJcbiAqIGEgYFR5cGVFcnJvcmAgaXMgdGhyb3duIHdpdGggYW4gb3B0aW9uYWwgY3VzdG9tIGVycm9yIG1lc3NhZ2UuXHJcbiAqXHJcbiAqIEBwYXJhbSBhcnJheSAtIFRoZSBhcnJheSB0byBiZSBjaGVja2VkLlxyXG4gKiBAcGFyYW0gIGVycm9yTWVzc2FnZSAtIEFuIG9wdGlvbmFsIGN1c3RvbSBlcnJvciBtZXNzYWdlIHRvIHVzZSBpZiB0aGUgYXNzZXJ0aW9uIGZhaWxzLlxyXG4gKiBAdGhyb3dzIEEgYFR5cGVFcnJvcmAgaWYgdGhlIGFzc2VydGlvbiBmYWlscy5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRJc0FycmF5T2ZGdW5jdGlvbnM8RnVuY3Rpb25UeXBlIGV4dGVuZHMgRnVuY3Rpb24+KFxyXG4gIGFycmF5OiB1bmtub3duW10sXHJcbiAgZXJyb3JNZXNzYWdlID0gYGV4cGVjdGVkIGFsbCBpdGVtcyB0byBiZSBmdW5jdGlvbnMsIGluc3RlYWQgcmVjZWl2ZWQgdGhlIGZvbGxvd2luZyB0eXBlczogYFxyXG4pOiBhc3NlcnRzIGFycmF5IGlzIEZ1bmN0aW9uVHlwZVtdIHtcclxuICBpZiAoXHJcbiAgICAhYXJyYXkuZXZlcnkoKGl0ZW0pOiBpdGVtIGlzIEZ1bmN0aW9uVHlwZSA9PiB0eXBlb2YgaXRlbSA9PT0gJ2Z1bmN0aW9uJylcclxuICApIHtcclxuICAgIGNvbnN0IGl0ZW1UeXBlcyA9IGFycmF5XHJcbiAgICAgIC5tYXAoaXRlbSA9PlxyXG4gICAgICAgIHR5cGVvZiBpdGVtID09PSAnZnVuY3Rpb24nXHJcbiAgICAgICAgICA/IGBmdW5jdGlvbiAke2l0ZW0ubmFtZSB8fCAndW5uYW1lZCd9KClgXHJcbiAgICAgICAgICA6IHR5cGVvZiBpdGVtXHJcbiAgICAgIClcclxuICAgICAgLmpvaW4oJywgJylcclxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYCR7ZXJyb3JNZXNzYWdlfVske2l0ZW1UeXBlc31dYClcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBFbnN1cmUgdGhhdCB0aGUgaW5wdXQgaXMgYW4gYXJyYXkuIElmIGl0J3MgYWxyZWFkeSBhbiBhcnJheSwgaXQncyByZXR1cm5lZCBhcyBpcy5cclxuICogSWYgaXQncyBub3QgYW4gYXJyYXksIGl0IHdpbGwgYmUgd3JhcHBlZCBpbiBhIG5ldyBhcnJheS5cclxuICpcclxuICogQHBhcmFtIGl0ZW0gLSBUaGUgaXRlbSB0byBiZSBjaGVja2VkLlxyXG4gKiBAcmV0dXJucyBBbiBhcnJheSBjb250YWluaW5nIHRoZSBpbnB1dCBpdGVtLiBJZiB0aGUgaW5wdXQgaXMgYWxyZWFkeSBhbiBhcnJheSwgaXQncyByZXR1cm5lZCB3aXRob3V0IG1vZGlmaWNhdGlvbi5cclxuICovXHJcbmV4cG9ydCBjb25zdCBlbnN1cmVJc0FycmF5ID0gKGl0ZW06IHVua25vd24pID0+IHtcclxuICByZXR1cm4gQXJyYXkuaXNBcnJheShpdGVtKSA/IGl0ZW0gOiBbaXRlbV1cclxufVxyXG5cclxuLyoqXHJcbiAqIEV4dHJhY3RzIHRoZSBcImRlcGVuZGVuY2llc1wiIC8gXCJpbnB1dCBzZWxlY3RvcnNcIiBmcm9tIHRoZSBhcmd1bWVudHMgb2YgYGNyZWF0ZVNlbGVjdG9yYC5cclxuICpcclxuICogQHBhcmFtIGNyZWF0ZVNlbGVjdG9yQXJncyAtIEFyZ3VtZW50cyBwYXNzZWQgdG8gYGNyZWF0ZVNlbGVjdG9yYCBhcyBhbiBhcnJheS5cclxuICogQHJldHVybnMgQW4gYXJyYXkgb2YgXCJpbnB1dCBzZWxlY3RvcnNcIiAvIFwiZGVwZW5kZW5jaWVzXCIuXHJcbiAqIEB0aHJvd3MgQSBgVHlwZUVycm9yYCBpZiBhbnkgb2YgdGhlIGlucHV0IHNlbGVjdG9ycyBpcyBub3QgZnVuY3Rpb24uXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGVwZW5kZW5jaWVzKGNyZWF0ZVNlbGVjdG9yQXJnczogdW5rbm93bltdKSB7XHJcbiAgY29uc3QgZGVwZW5kZW5jaWVzID0gQXJyYXkuaXNBcnJheShjcmVhdGVTZWxlY3RvckFyZ3NbMF0pXHJcbiAgICA/IGNyZWF0ZVNlbGVjdG9yQXJnc1swXVxyXG4gICAgOiBjcmVhdGVTZWxlY3RvckFyZ3NcclxuXHJcbiAgYXNzZXJ0SXNBcnJheU9mRnVuY3Rpb25zPFNlbGVjdG9yPihcclxuICAgIGRlcGVuZGVuY2llcyxcclxuICAgIGBjcmVhdGVTZWxlY3RvciBleHBlY3RzIGFsbCBpbnB1dC1zZWxlY3RvcnMgdG8gYmUgZnVuY3Rpb25zLCBidXQgcmVjZWl2ZWQgdGhlIGZvbGxvd2luZyB0eXBlczogYFxyXG4gIClcclxuXHJcbiAgcmV0dXJuIGRlcGVuZGVuY2llcyBhcyBTZWxlY3RvckFycmF5XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSdW5zIGVhY2ggaW5wdXQgc2VsZWN0b3IgYW5kIHJldHVybnMgdGhlaXIgY29sbGVjdGl2ZSByZXN1bHRzIGFzIGFuIGFycmF5LlxyXG4gKlxyXG4gKiBAcGFyYW0gZGVwZW5kZW5jaWVzIC0gQW4gYXJyYXkgb2YgXCJkZXBlbmRlbmNpZXNcIiBvciBcImlucHV0IHNlbGVjdG9yc1wiLlxyXG4gKiBAcGFyYW0gaW5wdXRTZWxlY3RvckFyZ3MgLSBBbiBhcnJheSBvZiBhcmd1bWVudHMgYmVpbmcgcGFzc2VkIHRvIHRoZSBpbnB1dCBzZWxlY3RvcnMuXHJcbiAqIEByZXR1cm5zIEFuIGFycmF5IG9mIGlucHV0IHNlbGVjdG9yIHJlc3VsdHMuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gY29sbGVjdElucHV0U2VsZWN0b3JSZXN1bHRzKFxyXG4gIGRlcGVuZGVuY2llczogU2VsZWN0b3JBcnJheSxcclxuICBpbnB1dFNlbGVjdG9yQXJnczogdW5rbm93bltdIHwgSUFyZ3VtZW50c1xyXG4pIHtcclxuICBjb25zdCBpbnB1dFNlbGVjdG9yUmVzdWx0cyA9IFtdXHJcbiAgY29uc3QgeyBsZW5ndGggfSA9IGRlcGVuZGVuY2llc1xyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuICAgIC8vIEB0cy1pZ25vcmVcclxuICAgIC8vIGFwcGx5IGFyZ3VtZW50cyBpbnN0ZWFkIG9mIHNwcmVhZGluZyBhbmQgbXV0YXRlIGEgbG9jYWwgbGlzdCBvZiBwYXJhbXMgZm9yIHBlcmZvcm1hbmNlLlxyXG4gICAgaW5wdXRTZWxlY3RvclJlc3VsdHMucHVzaChkZXBlbmRlbmNpZXNbaV0uYXBwbHkobnVsbCwgaW5wdXRTZWxlY3RvckFyZ3MpKVxyXG4gIH1cclxuICByZXR1cm4gaW5wdXRTZWxlY3RvclJlc3VsdHNcclxufVxyXG5cclxuLyoqXHJcbiAqIFJldHJpZXZlcyBleGVjdXRpb24gaW5mb3JtYXRpb24gZm9yIGRldmVsb3BtZW50IG1vZGUgY2hlY2tzLlxyXG4gKlxyXG4gKiBAcGFyYW0gZGV2TW9kZUNoZWNrcyAtIEN1c3RvbSBTZXR0aW5ncyBmb3IgZGV2ZWxvcG1lbnQgbW9kZSBjaGVja3MuIFRoZXNlIHNldHRpbmdzIHdpbGwgb3ZlcnJpZGUgdGhlIGdsb2JhbCBkZWZhdWx0cy5cclxuICogQHBhcmFtIGZpcnN0UnVuIC0gSW5kaWNhdGVzIHdoZXRoZXIgaXQgaXMgdGhlIGZpcnN0IHRpbWUgdGhlIHNlbGVjdG9yIGhhcyBydW4uXHJcbiAqIEByZXR1cm5zICBBbiBvYmplY3QgY29udGFpbmluZyB0aGUgZXhlY3V0aW9uIGluZm9ybWF0aW9uIGZvciBlYWNoIGRldmVsb3BtZW50IG1vZGUgY2hlY2suXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgZ2V0RGV2TW9kZUNoZWNrc0V4ZWN1dGlvbkluZm8gPSAoXHJcbiAgZmlyc3RSdW46IGJvb2xlYW4sXHJcbiAgZGV2TW9kZUNoZWNrczogUGFydGlhbDxEZXZNb2RlQ2hlY2tzPlxyXG4pID0+IHtcclxuICBjb25zdCB7IGlkZW50aXR5RnVuY3Rpb25DaGVjaywgaW5wdXRTdGFiaWxpdHlDaGVjayB9ID0ge1xyXG4gICAgLi4uZ2xvYmFsRGV2TW9kZUNoZWNrcyxcclxuICAgIC4uLmRldk1vZGVDaGVja3NcclxuICB9XHJcbiAgcmV0dXJuIHtcclxuICAgIGlkZW50aXR5RnVuY3Rpb25DaGVjazoge1xyXG4gICAgICBzaG91bGRSdW46XHJcbiAgICAgICAgaWRlbnRpdHlGdW5jdGlvbkNoZWNrID09PSAnYWx3YXlzJyB8fFxyXG4gICAgICAgIChpZGVudGl0eUZ1bmN0aW9uQ2hlY2sgPT09ICdvbmNlJyAmJiBmaXJzdFJ1biksXHJcbiAgICAgIHJ1bjogcnVuSWRlbnRpdHlGdW5jdGlvbkNoZWNrXHJcbiAgICB9LFxyXG4gICAgaW5wdXRTdGFiaWxpdHlDaGVjazoge1xyXG4gICAgICBzaG91bGRSdW46XHJcbiAgICAgICAgaW5wdXRTdGFiaWxpdHlDaGVjayA9PT0gJ2Fsd2F5cycgfHxcclxuICAgICAgICAoaW5wdXRTdGFiaWxpdHlDaGVjayA9PT0gJ29uY2UnICYmIGZpcnN0UnVuKSxcclxuICAgICAgcnVuOiBydW5JbnB1dFN0YWJpbGl0eUNoZWNrXHJcbiAgICB9XHJcbiAgfSBzYXRpc2ZpZXMgRGV2TW9kZUNoZWNrc0V4ZWN1dGlvbkluZm9cclxufVxyXG4iLCIvLyBPcmlnaW5hbCBhdXRvdHJhY2tpbmcgaW1wbGVtZW50YXRpb24gc291cmNlOlxyXG4vLyAtIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL3B6dXJhcS83OWJmODYyZTBmOGNkOTUyMWI3OWM0YjZlY2NkYzRmOVxyXG4vLyBBZGRpdGlvbmFsIHJlZmVyZW5jZXM6XHJcbi8vIC0gaHR0cHM6Ly93d3cucHp1cmFxLmNvbS9ibG9nL2hvdy1hdXRvdHJhY2tpbmctd29ya3NcclxuLy8gLSBodHRwczovL3Y1LmNocmlza3J5Y2hvLmNvbS9qb3VybmFsL2F1dG90cmFja2luZy1lbGVnYW50LWR4LXZpYS1jdXR0aW5nLWVkZ2UtY3MvXHJcbmltcG9ydCB0eXBlIHsgRXF1YWxpdHlGbiB9IGZyb20gJy4uL3R5cGVzJ1xyXG5pbXBvcnQgeyBhc3NlcnRJc0Z1bmN0aW9uIH0gZnJvbSAnLi4vdXRpbHMnXHJcblxyXG4vLyBUaGUgZ2xvYmFsIHJldmlzaW9uIGNsb2NrLiBFdmVyeSB0aW1lIHN0YXRlIGNoYW5nZXMsIHRoZSBjbG9jayBpbmNyZW1lbnRzLlxyXG5leHBvcnQgbGV0ICRSRVZJU0lPTiA9IDBcclxuXHJcbi8vIFRoZSBjdXJyZW50IGRlcGVuZGVuY3kgdHJhY2tlci4gV2hlbmV2ZXIgd2UgY29tcHV0ZSBhIGNhY2hlLCB3ZSBjcmVhdGUgYSBTZXRcclxuLy8gdG8gdHJhY2sgYW55IGRlcGVuZGVuY2llcyB0aGF0IGFyZSB1c2VkIHdoaWxlIGNvbXB1dGluZy4gSWYgbm8gY2FjaGUgaXNcclxuLy8gY29tcHV0aW5nLCB0aGVuIHRoZSB0cmFja2VyIGlzIG51bGwuXHJcbmxldCBDVVJSRU5UX1RSQUNLRVI6IFNldDxDZWxsPGFueT4gfCBUcmFja2luZ0NhY2hlPiB8IG51bGwgPSBudWxsXHJcblxyXG4vLyBTdG9yYWdlIHJlcHJlc2VudHMgYSByb290IHZhbHVlIGluIHRoZSBzeXN0ZW0gLSB0aGUgYWN0dWFsIHN0YXRlIG9mIG91ciBhcHAuXHJcbmV4cG9ydCBjbGFzcyBDZWxsPFQ+IHtcclxuICByZXZpc2lvbiA9ICRSRVZJU0lPTlxyXG5cclxuICBfdmFsdWU6IFRcclxuICBfbGFzdFZhbHVlOiBUXHJcbiAgX2lzRXF1YWw6IEVxdWFsaXR5Rm4gPSB0cmlwbGVFcVxyXG5cclxuICBjb25zdHJ1Y3Rvcihpbml0aWFsVmFsdWU6IFQsIGlzRXF1YWw6IEVxdWFsaXR5Rm4gPSB0cmlwbGVFcSkge1xyXG4gICAgdGhpcy5fdmFsdWUgPSB0aGlzLl9sYXN0VmFsdWUgPSBpbml0aWFsVmFsdWVcclxuICAgIHRoaXMuX2lzRXF1YWwgPSBpc0VxdWFsXHJcbiAgfVxyXG5cclxuICAvLyBXaGVuZXZlciBhIHN0b3JhZ2UgdmFsdWUgaXMgcmVhZCwgaXQnbGwgYWRkIGl0c2VsZiB0byB0aGUgY3VycmVudCB0cmFja2VyIGlmXHJcbiAgLy8gb25lIGV4aXN0cywgZW50YW5nbGluZyBpdHMgc3RhdGUgd2l0aCB0aGF0IGNhY2hlLlxyXG4gIGdldCB2YWx1ZSgpIHtcclxuICAgIENVUlJFTlRfVFJBQ0tFUj8uYWRkKHRoaXMpXHJcblxyXG4gICAgcmV0dXJuIHRoaXMuX3ZhbHVlXHJcbiAgfVxyXG5cclxuICAvLyBXaGVuZXZlciBhIHN0b3JhZ2UgdmFsdWUgaXMgdXBkYXRlZCwgd2UgYnVtcCB0aGUgZ2xvYmFsIHJldmlzaW9uIGNsb2NrLFxyXG4gIC8vIGFzc2lnbiB0aGUgcmV2aXNpb24gZm9yIHRoaXMgc3RvcmFnZSB0byB0aGUgbmV3IHZhbHVlLCBfYW5kXyB3ZSBzY2hlZHVsZSBhXHJcbiAgLy8gcmVyZW5kZXIuIFRoaXMgaXMgaW1wb3J0YW50LCBhbmQgaXQncyB3aGF0IG1ha2VzIGF1dG90cmFja2luZyAgX3B1bGxfXHJcbiAgLy8gYmFzZWQuIFdlIGRvbid0IGFjdGl2ZWx5IHRlbGwgdGhlIGNhY2hlcyB3aGljaCBkZXBlbmQgb24gdGhlIHN0b3JhZ2UgdGhhdFxyXG4gIC8vIGFueXRoaW5nIGhhcyBoYXBwZW5lZC4gSW5zdGVhZCwgd2UgcmVjb21wdXRlIHRoZSBjYWNoZXMgd2hlbiBuZWVkZWQuXHJcbiAgc2V0IHZhbHVlKG5ld1ZhbHVlKSB7XHJcbiAgICBpZiAodGhpcy52YWx1ZSA9PT0gbmV3VmFsdWUpIHJldHVyblxyXG5cclxuICAgIHRoaXMuX3ZhbHVlID0gbmV3VmFsdWVcclxuICAgIHRoaXMucmV2aXNpb24gPSArKyRSRVZJU0lPTlxyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gdHJpcGxlRXEoYTogdW5rbm93biwgYjogdW5rbm93bikge1xyXG4gIHJldHVybiBhID09PSBiXHJcbn1cclxuXHJcbi8vIENhY2hlcyByZXByZXNlbnQgZGVyaXZlZCBzdGF0ZSBpbiB0aGUgc3lzdGVtLiBUaGV5IGFyZSB1bHRpbWF0ZWx5IGZ1bmN0aW9uc1xyXG4vLyB0aGF0IGFyZSBtZW1vaXplZCBiYXNlZCBvbiB3aGF0IHN0YXRlIHRoZXkgdXNlIHRvIHByb2R1Y2UgdGhlaXIgb3V0cHV0LFxyXG4vLyBtZWFuaW5nIHRoZXkgd2lsbCBvbmx5IHJlcnVuIElGRiBhIHN0b3JhZ2UgdmFsdWUgdGhhdCBjb3VsZCBhZmZlY3QgdGhlIG91dHB1dFxyXG4vLyBoYXMgY2hhbmdlZC4gT3RoZXJ3aXNlLCB0aGV5J2xsIHJldHVybiB0aGUgY2FjaGVkIHZhbHVlLlxyXG5leHBvcnQgY2xhc3MgVHJhY2tpbmdDYWNoZSB7XHJcbiAgX2NhY2hlZFZhbHVlOiBhbnlcclxuICBfY2FjaGVkUmV2aXNpb24gPSAtMVxyXG4gIF9kZXBzOiBhbnlbXSA9IFtdXHJcbiAgaGl0cyA9IDBcclxuXHJcbiAgZm46ICgpID0+IGFueVxyXG5cclxuICBjb25zdHJ1Y3RvcihmbjogKCkgPT4gYW55KSB7XHJcbiAgICB0aGlzLmZuID0gZm5cclxuICB9XHJcblxyXG4gIGNsZWFyKCkge1xyXG4gICAgdGhpcy5fY2FjaGVkVmFsdWUgPSB1bmRlZmluZWRcclxuICAgIHRoaXMuX2NhY2hlZFJldmlzaW9uID0gLTFcclxuICAgIHRoaXMuX2RlcHMgPSBbXVxyXG4gICAgdGhpcy5oaXRzID0gMFxyXG4gIH1cclxuXHJcbiAgZ2V0IHZhbHVlKCkge1xyXG4gICAgLy8gV2hlbiBnZXR0aW5nIHRoZSB2YWx1ZSBmb3IgYSBDYWNoZSwgZmlyc3Qgd2UgY2hlY2sgYWxsIHRoZSBkZXBlbmRlbmNpZXMgb2ZcclxuICAgIC8vIHRoZSBjYWNoZSB0byBzZWUgd2hhdCB0aGVpciBjdXJyZW50IHJldmlzaW9uIGlzLiBJZiB0aGUgY3VycmVudCByZXZpc2lvbiBpc1xyXG4gICAgLy8gZ3JlYXRlciB0aGFuIHRoZSBjYWNoZWQgcmV2aXNpb24sIHRoZW4gc29tZXRoaW5nIGhhcyBjaGFuZ2VkLlxyXG4gICAgaWYgKHRoaXMucmV2aXNpb24gPiB0aGlzLl9jYWNoZWRSZXZpc2lvbikge1xyXG4gICAgICBjb25zdCB7IGZuIH0gPSB0aGlzXHJcblxyXG4gICAgICAvLyBXZSBjcmVhdGUgYSBuZXcgZGVwZW5kZW5jeSB0cmFja2VyIGZvciB0aGlzIGNhY2hlLiBBcyB0aGUgY2FjaGUgcnVuc1xyXG4gICAgICAvLyBpdHMgZnVuY3Rpb24sIGFueSBTdG9yYWdlIG9yIENhY2hlIGluc3RhbmNlcyB3aGljaCBhcmUgdXNlZCB3aGlsZVxyXG4gICAgICAvLyBjb21wdXRpbmcgd2lsbCBiZSBhZGRlZCB0byB0aGlzIHRyYWNrZXIuIEluIHRoZSBlbmQsIGl0IHdpbGwgYmUgdGhlXHJcbiAgICAgIC8vIGZ1bGwgbGlzdCBvZiBkZXBlbmRlbmNpZXMgdGhhdCB0aGlzIENhY2hlIGRlcGVuZHMgb24uXHJcbiAgICAgIGNvbnN0IGN1cnJlbnRUcmFja2VyID0gbmV3IFNldDxDZWxsPGFueT4+KClcclxuICAgICAgY29uc3QgcHJldlRyYWNrZXIgPSBDVVJSRU5UX1RSQUNLRVJcclxuXHJcbiAgICAgIENVUlJFTlRfVFJBQ0tFUiA9IGN1cnJlbnRUcmFja2VyXHJcblxyXG4gICAgICAvLyB0cnkge1xyXG4gICAgICB0aGlzLl9jYWNoZWRWYWx1ZSA9IGZuKClcclxuICAgICAgLy8gfSBmaW5hbGx5IHtcclxuICAgICAgQ1VSUkVOVF9UUkFDS0VSID0gcHJldlRyYWNrZXJcclxuICAgICAgdGhpcy5oaXRzKytcclxuICAgICAgdGhpcy5fZGVwcyA9IEFycmF5LmZyb20oY3VycmVudFRyYWNrZXIpXHJcblxyXG4gICAgICAvLyBTZXQgdGhlIGNhY2hlZCByZXZpc2lvbi4gVGhpcyBpcyB0aGUgY3VycmVudCBjbG9jayBjb3VudCBvZiBhbGwgdGhlXHJcbiAgICAgIC8vIGRlcGVuZGVuY2llcy4gSWYgYW55IGRlcGVuZGVuY3kgY2hhbmdlcywgdGhpcyBudW1iZXIgd2lsbCBiZSBsZXNzXHJcbiAgICAgIC8vIHRoYW4gdGhlIG5ldyByZXZpc2lvbi5cclxuICAgICAgdGhpcy5fY2FjaGVkUmV2aXNpb24gPSB0aGlzLnJldmlzaW9uXHJcbiAgICAgIC8vIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBJZiB0aGVyZSBpcyBhIGN1cnJlbnQgdHJhY2tlciwgaXQgbWVhbnMgYW5vdGhlciBDYWNoZSBpcyBjb21wdXRpbmcgYW5kXHJcbiAgICAvLyB1c2luZyB0aGlzIG9uZSwgc28gd2UgYWRkIHRoaXMgb25lIHRvIHRoZSB0cmFja2VyLlxyXG4gICAgQ1VSUkVOVF9UUkFDS0VSPy5hZGQodGhpcylcclxuXHJcbiAgICAvLyBBbHdheXMgcmV0dXJuIHRoZSBjYWNoZWQgdmFsdWUuXHJcbiAgICByZXR1cm4gdGhpcy5fY2FjaGVkVmFsdWVcclxuICB9XHJcblxyXG4gIGdldCByZXZpc2lvbigpIHtcclxuICAgIC8vIFRoZSBjdXJyZW50IHJldmlzaW9uIGlzIHRoZSBtYXggb2YgYWxsIHRoZSBkZXBlbmRlbmNpZXMnIHJldmlzaW9ucy5cclxuICAgIHJldHVybiBNYXRoLm1heCguLi50aGlzLl9kZXBzLm1hcChkID0+IGQucmV2aXNpb24pLCAwKVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFZhbHVlPFQ+KGNlbGw6IENlbGw8VD4pOiBUIHtcclxuICBpZiAoIShjZWxsIGluc3RhbmNlb2YgQ2VsbCkpIHtcclxuICAgIGNvbnNvbGUud2FybignTm90IGEgdmFsaWQgY2VsbCEgJywgY2VsbClcclxuICB9XHJcblxyXG4gIHJldHVybiBjZWxsLnZhbHVlXHJcbn1cclxuXHJcbnR5cGUgQ2VsbFZhbHVlPFQgZXh0ZW5kcyBDZWxsPHVua25vd24+PiA9IFQgZXh0ZW5kcyBDZWxsPGluZmVyIFU+ID8gVSA6IG5ldmVyXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2V0VmFsdWU8VCBleHRlbmRzIENlbGw8dW5rbm93bj4+KFxyXG4gIHN0b3JhZ2U6IFQsXHJcbiAgdmFsdWU6IENlbGxWYWx1ZTxUPlxyXG4pOiB2b2lkIHtcclxuICBpZiAoIShzdG9yYWdlIGluc3RhbmNlb2YgQ2VsbCkpIHtcclxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXHJcbiAgICAgICdzZXRWYWx1ZSBtdXN0IGJlIHBhc3NlZCBhIHRyYWNrZWQgc3RvcmUgY3JlYXRlZCB3aXRoIGBjcmVhdGVTdG9yYWdlYC4nXHJcbiAgICApXHJcbiAgfVxyXG5cclxuICBzdG9yYWdlLnZhbHVlID0gc3RvcmFnZS5fbGFzdFZhbHVlID0gdmFsdWVcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUNlbGw8VCA9IHVua25vd24+KFxyXG4gIGluaXRpYWxWYWx1ZTogVCxcclxuICBpc0VxdWFsOiBFcXVhbGl0eUZuID0gdHJpcGxlRXFcclxuKTogQ2VsbDxUPiB7XHJcbiAgcmV0dXJuIG5ldyBDZWxsKGluaXRpYWxWYWx1ZSwgaXNFcXVhbClcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUNhY2hlPFQgPSB1bmtub3duPihmbjogKCkgPT4gVCk6IFRyYWNraW5nQ2FjaGUge1xyXG4gIGFzc2VydElzRnVuY3Rpb24oXHJcbiAgICBmbixcclxuICAgICd0aGUgZmlyc3QgcGFyYW1ldGVyIHRvIGBjcmVhdGVDYWNoZWAgbXVzdCBiZSBhIGZ1bmN0aW9uJ1xyXG4gIClcclxuXHJcbiAgcmV0dXJuIG5ldyBUcmFja2luZ0NhY2hlKGZuKVxyXG59XHJcbiIsImltcG9ydCB0eXBlIHsgQ2VsbCB9IGZyb20gJy4vYXV0b3RyYWNraW5nJ1xyXG5pbXBvcnQge1xyXG4gIGdldFZhbHVlIGFzIGNvbnN1bWVUYWcsXHJcbiAgY3JlYXRlQ2VsbCBhcyBjcmVhdGVTdG9yYWdlLFxyXG4gIHNldFZhbHVlXHJcbn0gZnJvbSAnLi9hdXRvdHJhY2tpbmcnXHJcblxyXG5leHBvcnQgdHlwZSBUYWcgPSBDZWxsPHVua25vd24+XHJcblxyXG5jb25zdCBuZXZlckVxID0gKGE6IGFueSwgYjogYW55KTogYm9vbGVhbiA9PiBmYWxzZVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVRhZygpOiBUYWcge1xyXG4gIHJldHVybiBjcmVhdGVTdG9yYWdlKG51bGwsIG5ldmVyRXEpXHJcbn1cclxuZXhwb3J0IHsgY29uc3VtZVRhZyB9XHJcbmV4cG9ydCBmdW5jdGlvbiBkaXJ0eVRhZyh0YWc6IFRhZywgdmFsdWU6IGFueSk6IHZvaWQge1xyXG4gIHNldFZhbHVlKHRhZywgdmFsdWUpXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgTm9kZTxcclxuICBUIGV4dGVuZHMgQXJyYXk8dW5rbm93bj4gfCBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9XHJcbiAgICB8IEFycmF5PHVua25vd24+XHJcbiAgICB8IFJlY29yZDxzdHJpbmcsIHVua25vd24+XHJcbj4ge1xyXG4gIGNvbGxlY3Rpb25UYWc6IFRhZyB8IG51bGxcclxuICB0YWc6IFRhZyB8IG51bGxcclxuICB0YWdzOiBSZWNvcmQ8c3RyaW5nLCBUYWc+XHJcbiAgY2hpbGRyZW46IFJlY29yZDxzdHJpbmcsIE5vZGU+XHJcbiAgcHJveHk6IFRcclxuICB2YWx1ZTogVFxyXG4gIGlkOiBudW1iZXJcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGNvbnN1bWVDb2xsZWN0aW9uID0gKG5vZGU6IE5vZGUpOiB2b2lkID0+IHtcclxuICBsZXQgdGFnID0gbm9kZS5jb2xsZWN0aW9uVGFnXHJcblxyXG4gIGlmICh0YWcgPT09IG51bGwpIHtcclxuICAgIHRhZyA9IG5vZGUuY29sbGVjdGlvblRhZyA9IGNyZWF0ZVRhZygpXHJcbiAgfVxyXG5cclxuICBjb25zdW1lVGFnKHRhZylcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGRpcnR5Q29sbGVjdGlvbiA9IChub2RlOiBOb2RlKTogdm9pZCA9PiB7XHJcbiAgY29uc3QgdGFnID0gbm9kZS5jb2xsZWN0aW9uVGFnXHJcblxyXG4gIGlmICh0YWcgIT09IG51bGwpIHtcclxuICAgIGRpcnR5VGFnKHRhZywgbnVsbClcclxuICB9XHJcbn1cclxuIiwiLy8gT3JpZ2luYWwgc291cmNlOlxyXG4vLyAtIGh0dHBzOi8vZ2l0aHViLmNvbS9zaW1vbmlobWlnL3RyYWNrZWQtcmVkdXgvYmxvYi9tYXN0ZXIvcGFja2FnZXMvdHJhY2tlZC1yZWR1eC9zcmMvLXByaXZhdGUvcHJveHkudHNcclxuXHJcbmltcG9ydCB0eXBlIHsgTm9kZSwgVGFnIH0gZnJvbSAnLi90cmFja2luZydcclxuaW1wb3J0IHtcclxuICBjb25zdW1lQ29sbGVjdGlvbixcclxuICBjb25zdW1lVGFnLFxyXG4gIGNyZWF0ZVRhZyxcclxuICBkaXJ0eUNvbGxlY3Rpb24sXHJcbiAgZGlydHlUYWdcclxufSBmcm9tICcuL3RyYWNraW5nJ1xyXG5cclxuZXhwb3J0IGNvbnN0IFJFRFVYX1BST1hZX0xBQkVMID0gU3ltYm9sKClcclxuXHJcbmxldCBuZXh0SWQgPSAwXHJcblxyXG5jb25zdCBwcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZih7fSlcclxuXHJcbmNsYXNzIE9iamVjdFRyZWVOb2RlPFQgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPj4gaW1wbGVtZW50cyBOb2RlPFQ+IHtcclxuICBwcm94eTogVCA9IG5ldyBQcm94eSh0aGlzLCBvYmplY3RQcm94eUhhbmRsZXIpIGFzIHVua25vd24gYXMgVFxyXG4gIHRhZyA9IGNyZWF0ZVRhZygpXHJcbiAgdGFncyA9IHt9IGFzIFJlY29yZDxzdHJpbmcsIFRhZz5cclxuICBjaGlsZHJlbiA9IHt9IGFzIFJlY29yZDxzdHJpbmcsIE5vZGU+XHJcbiAgY29sbGVjdGlvblRhZyA9IG51bGxcclxuICBpZCA9IG5leHRJZCsrXHJcblxyXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyB2YWx1ZTogVCkge1xyXG4gICAgdGhpcy52YWx1ZSA9IHZhbHVlXHJcbiAgICB0aGlzLnRhZy52YWx1ZSA9IHZhbHVlXHJcbiAgfVxyXG59XHJcblxyXG5jb25zdCBvYmplY3RQcm94eUhhbmRsZXIgPSB7XHJcbiAgZ2V0KG5vZGU6IE5vZGUsIGtleTogc3RyaW5nIHwgc3ltYm9sKTogdW5rbm93biB7XHJcbiAgICBmdW5jdGlvbiBjYWxjdWxhdGVSZXN1bHQoKSB7XHJcbiAgICAgIGNvbnN0IHsgdmFsdWUgfSA9IG5vZGVcclxuXHJcbiAgICAgIGNvbnN0IGNoaWxkVmFsdWUgPSBSZWZsZWN0LmdldCh2YWx1ZSwga2V5KVxyXG5cclxuICAgICAgaWYgKHR5cGVvZiBrZXkgPT09ICdzeW1ib2wnKSB7XHJcbiAgICAgICAgcmV0dXJuIGNoaWxkVmFsdWVcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGtleSBpbiBwcm90bykge1xyXG4gICAgICAgIHJldHVybiBjaGlsZFZhbHVlXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICh0eXBlb2YgY2hpbGRWYWx1ZSA9PT0gJ29iamVjdCcgJiYgY2hpbGRWYWx1ZSAhPT0gbnVsbCkge1xyXG4gICAgICAgIGxldCBjaGlsZE5vZGUgPSBub2RlLmNoaWxkcmVuW2tleV1cclxuXHJcbiAgICAgICAgaWYgKGNoaWxkTm9kZSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICBjaGlsZE5vZGUgPSBub2RlLmNoaWxkcmVuW2tleV0gPSBjcmVhdGVOb2RlKGNoaWxkVmFsdWUpXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoY2hpbGROb2RlLnRhZykge1xyXG4gICAgICAgICAgY29uc3VtZVRhZyhjaGlsZE5vZGUudGFnKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGNoaWxkTm9kZS5wcm94eVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGxldCB0YWcgPSBub2RlLnRhZ3Nba2V5XVxyXG5cclxuICAgICAgICBpZiAodGFnID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgIHRhZyA9IG5vZGUudGFnc1trZXldID0gY3JlYXRlVGFnKClcclxuICAgICAgICAgIHRhZy52YWx1ZSA9IGNoaWxkVmFsdWVcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN1bWVUYWcodGFnKVxyXG5cclxuICAgICAgICByZXR1cm4gY2hpbGRWYWx1ZVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBjb25zdCByZXMgPSBjYWxjdWxhdGVSZXN1bHQoKVxyXG4gICAgcmV0dXJuIHJlc1xyXG4gIH0sXHJcblxyXG4gIG93bktleXMobm9kZTogTm9kZSk6IEFycmF5TGlrZTxzdHJpbmcgfCBzeW1ib2w+IHtcclxuICAgIGNvbnN1bWVDb2xsZWN0aW9uKG5vZGUpXHJcbiAgICByZXR1cm4gUmVmbGVjdC5vd25LZXlzKG5vZGUudmFsdWUpXHJcbiAgfSxcclxuXHJcbiAgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFxyXG4gICAgbm9kZTogTm9kZSxcclxuICAgIHByb3A6IHN0cmluZyB8IHN5bWJvbFxyXG4gICk6IFByb3BlcnR5RGVzY3JpcHRvciB8IHVuZGVmaW5lZCB7XHJcbiAgICByZXR1cm4gUmVmbGVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iobm9kZS52YWx1ZSwgcHJvcClcclxuICB9LFxyXG5cclxuICBoYXMobm9kZTogTm9kZSwgcHJvcDogc3RyaW5nIHwgc3ltYm9sKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gUmVmbGVjdC5oYXMobm9kZS52YWx1ZSwgcHJvcClcclxuICB9XHJcbn1cclxuXHJcbmNsYXNzIEFycmF5VHJlZU5vZGU8VCBleHRlbmRzIEFycmF5PHVua25vd24+PiBpbXBsZW1lbnRzIE5vZGU8VD4ge1xyXG4gIHByb3h5OiBUID0gbmV3IFByb3h5KFt0aGlzXSwgYXJyYXlQcm94eUhhbmRsZXIpIGFzIHVua25vd24gYXMgVFxyXG4gIHRhZyA9IGNyZWF0ZVRhZygpXHJcbiAgdGFncyA9IHt9XHJcbiAgY2hpbGRyZW4gPSB7fVxyXG4gIGNvbGxlY3Rpb25UYWcgPSBudWxsXHJcbiAgaWQgPSBuZXh0SWQrK1xyXG5cclxuICBjb25zdHJ1Y3RvcihwdWJsaWMgdmFsdWU6IFQpIHtcclxuICAgIHRoaXMudmFsdWUgPSB2YWx1ZVxyXG4gICAgdGhpcy50YWcudmFsdWUgPSB2YWx1ZVxyXG4gIH1cclxufVxyXG5cclxuY29uc3QgYXJyYXlQcm94eUhhbmRsZXIgPSB7XHJcbiAgZ2V0KFtub2RlXTogW05vZGVdLCBrZXk6IHN0cmluZyB8IHN5bWJvbCk6IHVua25vd24ge1xyXG4gICAgaWYgKGtleSA9PT0gJ2xlbmd0aCcpIHtcclxuICAgICAgY29uc3VtZUNvbGxlY3Rpb24obm9kZSlcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gb2JqZWN0UHJveHlIYW5kbGVyLmdldChub2RlLCBrZXkpXHJcbiAgfSxcclxuXHJcbiAgb3duS2V5cyhbbm9kZV06IFtOb2RlXSk6IEFycmF5TGlrZTxzdHJpbmcgfCBzeW1ib2w+IHtcclxuICAgIHJldHVybiBvYmplY3RQcm94eUhhbmRsZXIub3duS2V5cyhub2RlKVxyXG4gIH0sXHJcblxyXG4gIGdldE93blByb3BlcnR5RGVzY3JpcHRvcihcclxuICAgIFtub2RlXTogW05vZGVdLFxyXG4gICAgcHJvcDogc3RyaW5nIHwgc3ltYm9sXHJcbiAgKTogUHJvcGVydHlEZXNjcmlwdG9yIHwgdW5kZWZpbmVkIHtcclxuICAgIHJldHVybiBvYmplY3RQcm94eUhhbmRsZXIuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG5vZGUsIHByb3ApXHJcbiAgfSxcclxuXHJcbiAgaGFzKFtub2RlXTogW05vZGVdLCBwcm9wOiBzdHJpbmcgfCBzeW1ib2wpOiBib29sZWFuIHtcclxuICAgIHJldHVybiBvYmplY3RQcm94eUhhbmRsZXIuaGFzKG5vZGUsIHByb3ApXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTm9kZTxUIGV4dGVuZHMgQXJyYXk8dW5rbm93bj4gfCBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPj4oXHJcbiAgdmFsdWU6IFRcclxuKTogTm9kZTxUPiB7XHJcbiAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XHJcbiAgICByZXR1cm4gbmV3IEFycmF5VHJlZU5vZGUodmFsdWUpXHJcbiAgfVxyXG5cclxuICByZXR1cm4gbmV3IE9iamVjdFRyZWVOb2RlKHZhbHVlKSBhcyBOb2RlPFQ+XHJcbn1cclxuXHJcbmNvbnN0IGtleXNNYXAgPSBuZXcgV2Vha01hcDxcclxuICBBcnJheTx1bmtub3duPiB8IFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxyXG4gIFNldDxzdHJpbmc+XHJcbj4oKVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZU5vZGU8VCBleHRlbmRzIEFycmF5PHVua25vd24+IHwgUmVjb3JkPHN0cmluZywgdW5rbm93bj4+KFxyXG4gIG5vZGU6IE5vZGU8VD4sXHJcbiAgbmV3VmFsdWU6IFRcclxuKTogdm9pZCB7XHJcbiAgY29uc3QgeyB2YWx1ZSwgdGFncywgY2hpbGRyZW4gfSA9IG5vZGVcclxuXHJcbiAgbm9kZS52YWx1ZSA9IG5ld1ZhbHVlXHJcblxyXG4gIGlmIChcclxuICAgIEFycmF5LmlzQXJyYXkodmFsdWUpICYmXHJcbiAgICBBcnJheS5pc0FycmF5KG5ld1ZhbHVlKSAmJlxyXG4gICAgdmFsdWUubGVuZ3RoICE9PSBuZXdWYWx1ZS5sZW5ndGhcclxuICApIHtcclxuICAgIGRpcnR5Q29sbGVjdGlvbihub2RlKVxyXG4gIH0gZWxzZSB7XHJcbiAgICBpZiAodmFsdWUgIT09IG5ld1ZhbHVlKSB7XHJcbiAgICAgIGxldCBvbGRLZXlzU2l6ZSA9IDBcclxuICAgICAgbGV0IG5ld0tleXNTaXplID0gMFxyXG4gICAgICBsZXQgYW55S2V5c0FkZGVkID0gZmFsc2VcclxuXHJcbiAgICAgIGZvciAoY29uc3QgX2tleSBpbiB2YWx1ZSkge1xyXG4gICAgICAgIG9sZEtleXNTaXplKytcclxuICAgICAgfVxyXG5cclxuICAgICAgZm9yIChjb25zdCBrZXkgaW4gbmV3VmFsdWUpIHtcclxuICAgICAgICBuZXdLZXlzU2l6ZSsrXHJcbiAgICAgICAgaWYgKCEoa2V5IGluIHZhbHVlKSkge1xyXG4gICAgICAgICAgYW55S2V5c0FkZGVkID0gdHJ1ZVxyXG4gICAgICAgICAgYnJlYWtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IGlzRGlmZmVyZW50ID0gYW55S2V5c0FkZGVkIHx8IG9sZEtleXNTaXplICE9PSBuZXdLZXlzU2l6ZVxyXG5cclxuICAgICAgaWYgKGlzRGlmZmVyZW50KSB7XHJcbiAgICAgICAgZGlydHlDb2xsZWN0aW9uKG5vZGUpXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZvciAoY29uc3Qga2V5IGluIHRhZ3MpIHtcclxuICAgIGNvbnN0IGNoaWxkVmFsdWUgPSAodmFsdWUgYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4pW2tleV1cclxuICAgIGNvbnN0IG5ld0NoaWxkVmFsdWUgPSAobmV3VmFsdWUgYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4pW2tleV1cclxuXHJcbiAgICBpZiAoY2hpbGRWYWx1ZSAhPT0gbmV3Q2hpbGRWYWx1ZSkge1xyXG4gICAgICBkaXJ0eUNvbGxlY3Rpb24obm9kZSlcclxuICAgICAgZGlydHlUYWcodGFnc1trZXldLCBuZXdDaGlsZFZhbHVlKVxyXG4gICAgfVxyXG5cclxuICAgIGlmICh0eXBlb2YgbmV3Q2hpbGRWYWx1ZSA9PT0gJ29iamVjdCcgJiYgbmV3Q2hpbGRWYWx1ZSAhPT0gbnVsbCkge1xyXG4gICAgICBkZWxldGUgdGFnc1trZXldXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBmb3IgKGNvbnN0IGtleSBpbiBjaGlsZHJlbikge1xyXG4gICAgY29uc3QgY2hpbGROb2RlID0gY2hpbGRyZW5ba2V5XVxyXG4gICAgY29uc3QgbmV3Q2hpbGRWYWx1ZSA9IChuZXdWYWx1ZSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPilba2V5XVxyXG5cclxuICAgIGNvbnN0IGNoaWxkVmFsdWUgPSBjaGlsZE5vZGUudmFsdWVcclxuXHJcbiAgICBpZiAoY2hpbGRWYWx1ZSA9PT0gbmV3Q2hpbGRWYWx1ZSkge1xyXG4gICAgICBjb250aW51ZVxyXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgbmV3Q2hpbGRWYWx1ZSA9PT0gJ29iamVjdCcgJiYgbmV3Q2hpbGRWYWx1ZSAhPT0gbnVsbCkge1xyXG4gICAgICB1cGRhdGVOb2RlKGNoaWxkTm9kZSwgbmV3Q2hpbGRWYWx1ZSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPilcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGRlbGV0ZU5vZGUoY2hpbGROb2RlKVxyXG4gICAgICBkZWxldGUgY2hpbGRyZW5ba2V5XVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gZGVsZXRlTm9kZShub2RlOiBOb2RlKTogdm9pZCB7XHJcbiAgaWYgKG5vZGUudGFnKSB7XHJcbiAgICBkaXJ0eVRhZyhub2RlLnRhZywgbnVsbClcclxuICB9XHJcbiAgZGlydHlDb2xsZWN0aW9uKG5vZGUpXHJcbiAgZm9yIChjb25zdCBrZXkgaW4gbm9kZS50YWdzKSB7XHJcbiAgICBkaXJ0eVRhZyhub2RlLnRhZ3Nba2V5XSwgbnVsbClcclxuICB9XHJcbiAgZm9yIChjb25zdCBrZXkgaW4gbm9kZS5jaGlsZHJlbikge1xyXG4gICAgZGVsZXRlTm9kZShub2RlLmNoaWxkcmVuW2tleV0pXHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB0eXBlIHtcclxuICBBbnlGdW5jdGlvbixcclxuICBEZWZhdWx0TWVtb2l6ZUZpZWxkcyxcclxuICBFcXVhbGl0eUZuLFxyXG4gIFNpbXBsaWZ5XHJcbn0gZnJvbSAnLi90eXBlcydcclxuXHJcbmltcG9ydCB0eXBlIHsgTk9UX0ZPVU5EX1RZUEUgfSBmcm9tICcuL3V0aWxzJ1xyXG5pbXBvcnQgeyBOT1RfRk9VTkQgfSBmcm9tICcuL3V0aWxzJ1xyXG5cclxuLy8gQ2FjaGUgaW1wbGVtZW50YXRpb24gYmFzZWQgb24gRXJpayBSYXNtdXNzZW4ncyBgbHJ1LW1lbW9pemVgOlxyXG4vLyBodHRwczovL2dpdGh1Yi5jb20vZXJpa3Jhcy9scnUtbWVtb2l6ZVxyXG5cclxuaW50ZXJmYWNlIEVudHJ5IHtcclxuICBrZXk6IHVua25vd25cclxuICB2YWx1ZTogdW5rbm93blxyXG59XHJcblxyXG5pbnRlcmZhY2UgQ2FjaGUge1xyXG4gIGdldChrZXk6IHVua25vd24pOiB1bmtub3duIHwgTk9UX0ZPVU5EX1RZUEVcclxuICBwdXQoa2V5OiB1bmtub3duLCB2YWx1ZTogdW5rbm93bik6IHZvaWRcclxuICBnZXRFbnRyaWVzKCk6IEVudHJ5W11cclxuICBjbGVhcigpOiB2b2lkXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZVNpbmdsZXRvbkNhY2hlKGVxdWFsczogRXF1YWxpdHlGbik6IENhY2hlIHtcclxuICBsZXQgZW50cnk6IEVudHJ5IHwgdW5kZWZpbmVkXHJcbiAgcmV0dXJuIHtcclxuICAgIGdldChrZXk6IHVua25vd24pIHtcclxuICAgICAgaWYgKGVudHJ5ICYmIGVxdWFscyhlbnRyeS5rZXksIGtleSkpIHtcclxuICAgICAgICByZXR1cm4gZW50cnkudmFsdWVcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIE5PVF9GT1VORFxyXG4gICAgfSxcclxuXHJcbiAgICBwdXQoa2V5OiB1bmtub3duLCB2YWx1ZTogdW5rbm93bikge1xyXG4gICAgICBlbnRyeSA9IHsga2V5LCB2YWx1ZSB9XHJcbiAgICB9LFxyXG5cclxuICAgIGdldEVudHJpZXMoKSB7XHJcbiAgICAgIHJldHVybiBlbnRyeSA/IFtlbnRyeV0gOiBbXVxyXG4gICAgfSxcclxuXHJcbiAgICBjbGVhcigpIHtcclxuICAgICAgZW50cnkgPSB1bmRlZmluZWRcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUxydUNhY2hlKG1heFNpemU6IG51bWJlciwgZXF1YWxzOiBFcXVhbGl0eUZuKTogQ2FjaGUge1xyXG4gIGxldCBlbnRyaWVzOiBFbnRyeVtdID0gW11cclxuXHJcbiAgZnVuY3Rpb24gZ2V0KGtleTogdW5rbm93bikge1xyXG4gICAgY29uc3QgY2FjaGVJbmRleCA9IGVudHJpZXMuZmluZEluZGV4KGVudHJ5ID0+IGVxdWFscyhrZXksIGVudHJ5LmtleSkpXHJcblxyXG4gICAgLy8gV2UgZm91bmQgYSBjYWNoZWQgZW50cnlcclxuICAgIGlmIChjYWNoZUluZGV4ID4gLTEpIHtcclxuICAgICAgY29uc3QgZW50cnkgPSBlbnRyaWVzW2NhY2hlSW5kZXhdXHJcblxyXG4gICAgICAvLyBDYWNoZWQgZW50cnkgbm90IGF0IHRvcCBvZiBjYWNoZSwgbW92ZSBpdCB0byB0aGUgdG9wXHJcbiAgICAgIGlmIChjYWNoZUluZGV4ID4gMCkge1xyXG4gICAgICAgIGVudHJpZXMuc3BsaWNlKGNhY2hlSW5kZXgsIDEpXHJcbiAgICAgICAgZW50cmllcy51bnNoaWZ0KGVudHJ5KVxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gZW50cnkudmFsdWVcclxuICAgIH1cclxuXHJcbiAgICAvLyBObyBlbnRyeSBmb3VuZCBpbiBjYWNoZSwgcmV0dXJuIHNlbnRpbmVsXHJcbiAgICByZXR1cm4gTk9UX0ZPVU5EXHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBwdXQoa2V5OiB1bmtub3duLCB2YWx1ZTogdW5rbm93bikge1xyXG4gICAgaWYgKGdldChrZXkpID09PSBOT1RfRk9VTkQpIHtcclxuICAgICAgLy8gVE9ETyBJcyB1bnNoaWZ0IHNsb3c/XHJcbiAgICAgIGVudHJpZXMudW5zaGlmdCh7IGtleSwgdmFsdWUgfSlcclxuICAgICAgaWYgKGVudHJpZXMubGVuZ3RoID4gbWF4U2l6ZSkge1xyXG4gICAgICAgIGVudHJpZXMucG9wKClcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gZ2V0RW50cmllcygpIHtcclxuICAgIHJldHVybiBlbnRyaWVzXHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBjbGVhcigpIHtcclxuICAgIGVudHJpZXMgPSBbXVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHsgZ2V0LCBwdXQsIGdldEVudHJpZXMsIGNsZWFyIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIFJ1bnMgYSBzaW1wbGUgcmVmZXJlbmNlIGVxdWFsaXR5IGNoZWNrLlxyXG4gKiBXaGF0IHtAbGlua2NvZGUgbHJ1TWVtb2l6ZSBscnVNZW1vaXplfSB1c2VzIGJ5IGRlZmF1bHQuXHJcbiAqXHJcbiAqICoqTm90ZSoqOiBUaGlzIGZ1bmN0aW9uIHdhcyBwcmV2aW91c2x5IGtub3duIGFzIGBkZWZhdWx0RXF1YWxpdHlDaGVja2AuXHJcbiAqXHJcbiAqIEBwdWJsaWNcclxuICovXHJcbmV4cG9ydCBjb25zdCByZWZlcmVuY2VFcXVhbGl0eUNoZWNrOiBFcXVhbGl0eUZuID0gKGEsIGIpID0+IGEgPT09IGJcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDYWNoZUtleUNvbXBhcmF0b3IoZXF1YWxpdHlDaGVjazogRXF1YWxpdHlGbikge1xyXG4gIHJldHVybiBmdW5jdGlvbiBhcmVBcmd1bWVudHNTaGFsbG93bHlFcXVhbChcclxuICAgIHByZXY6IHVua25vd25bXSB8IElBcmd1bWVudHMgfCBudWxsLFxyXG4gICAgbmV4dDogdW5rbm93bltdIHwgSUFyZ3VtZW50cyB8IG51bGxcclxuICApOiBib29sZWFuIHtcclxuICAgIGlmIChwcmV2ID09PSBudWxsIHx8IG5leHQgPT09IG51bGwgfHwgcHJldi5sZW5ndGggIT09IG5leHQubGVuZ3RoKSB7XHJcbiAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgfVxyXG5cclxuICAgIC8vIERvIHRoaXMgaW4gYSBmb3IgbG9vcCAoYW5kIG5vdCBhIGBmb3JFYWNoYCBvciBhbiBgZXZlcnlgKSBzbyB3ZSBjYW4gZGV0ZXJtaW5lIGVxdWFsaXR5IGFzIGZhc3QgYXMgcG9zc2libGUuXHJcbiAgICBjb25zdCB7IGxlbmd0aCB9ID0gcHJldlxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xyXG4gICAgICBpZiAoIWVxdWFsaXR5Q2hlY2socHJldltpXSwgbmV4dFtpXSkpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2VcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0cnVlXHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICogT3B0aW9ucyBmb3IgY29uZmlndXJpbmcgdGhlIGJlaGF2aW9yIG9mIGEgZnVuY3Rpb24gbWVtb2l6ZWQgd2l0aFxyXG4gKiBMUlUgKExlYXN0IFJlY2VudGx5IFVzZWQpIGNhY2hpbmcuXHJcbiAqXHJcbiAqIEB0ZW1wbGF0ZSBSZXN1bHQgLSBUaGUgdHlwZSBvZiB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBtZW1vaXplZCBmdW5jdGlvbi5cclxuICpcclxuICogQHB1YmxpY1xyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBMcnVNZW1vaXplT3B0aW9uczxSZXN1bHQgPSBhbnk+IHtcclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB1c2VkIHRvIGNvbXBhcmUgdGhlIGluZGl2aWR1YWwgYXJndW1lbnRzIG9mIHRoZVxyXG4gICAqIHByb3ZpZGVkIGNhbGN1bGF0aW9uIGZ1bmN0aW9uLlxyXG4gICAqXHJcbiAgICogQGRlZmF1bHQgcmVmZXJlbmNlRXF1YWxpdHlDaGVja1xyXG4gICAqL1xyXG4gIGVxdWFsaXR5Q2hlY2s/OiBFcXVhbGl0eUZuXHJcblxyXG4gIC8qKlxyXG4gICAqIElmIHByb3ZpZGVkLCB1c2VkIHRvIGNvbXBhcmUgYSBuZXdseSBnZW5lcmF0ZWQgb3V0cHV0IHZhbHVlIGFnYWluc3RcclxuICAgKiBwcmV2aW91cyB2YWx1ZXMgaW4gdGhlIGNhY2hlLiBJZiBhIG1hdGNoIGlzIGZvdW5kLFxyXG4gICAqIHRoZSBvbGQgdmFsdWUgaXMgcmV0dXJuZWQuIFRoaXMgYWRkcmVzc2VzIHRoZSBjb21tb25cclxuICAgKiBgYGB0c1xyXG4gICAqIHRvZG9zLm1hcCh0b2RvID0+IHRvZG8uaWQpXHJcbiAgICogYGBgXHJcbiAgICogdXNlIGNhc2UsIHdoZXJlIGFuIHVwZGF0ZSB0byBhbm90aGVyIGZpZWxkIGluIHRoZSBvcmlnaW5hbCBkYXRhIGNhdXNlc1xyXG4gICAqIGEgcmVjYWxjdWxhdGlvbiBkdWUgdG8gY2hhbmdlZCByZWZlcmVuY2VzLCBidXQgdGhlIG91dHB1dCBpcyBzdGlsbFxyXG4gICAqIGVmZmVjdGl2ZWx5IHRoZSBzYW1lLlxyXG4gICAqXHJcbiAgICogQHNpbmNlIDQuMS4wXHJcbiAgICovXHJcbiAgcmVzdWx0RXF1YWxpdHlDaGVjaz86IEVxdWFsaXR5Rm48UmVzdWx0PlxyXG5cclxuICAvKipcclxuICAgKiBUaGUgbWF4aW11bSBzaXplIG9mIHRoZSBjYWNoZSB1c2VkIGJ5IHRoZSBzZWxlY3Rvci5cclxuICAgKiBBIHNpemUgZ3JlYXRlciB0aGFuIDEgbWVhbnMgdGhlIHNlbGVjdG9yIHdpbGwgdXNlIGFuXHJcbiAgICogTFJVIChMZWFzdCBSZWNlbnRseSBVc2VkKSBjYWNoZSwgYWxsb3dpbmcgZm9yIHRoZSBjYWNoaW5nIG9mIG11bHRpcGxlXHJcbiAgICogcmVzdWx0cyBiYXNlZCBvbiBkaWZmZXJlbnQgc2V0cyBvZiBhcmd1bWVudHMuXHJcbiAgICpcclxuICAgKiBAZGVmYXVsdCAxXHJcbiAgICovXHJcbiAgbWF4U2l6ZT86IG51bWJlclxyXG59XHJcblxyXG4vKipcclxuICogQ3JlYXRlcyBhIG1lbW9pemVkIHZlcnNpb24gb2YgYSBmdW5jdGlvbiB3aXRoIGFuIG9wdGlvbmFsXHJcbiAqIExSVSAoTGVhc3QgUmVjZW50bHkgVXNlZCkgY2FjaGUuIFRoZSBtZW1vaXplZCBmdW5jdGlvbiB1c2VzIGEgY2FjaGUgdG9cclxuICogc3RvcmUgY29tcHV0ZWQgdmFsdWVzLiBEZXBlbmRpbmcgb24gdGhlIGBtYXhTaXplYCBvcHRpb24sIGl0IHdpbGwgdXNlXHJcbiAqIGVpdGhlciBhIHNpbmdsZXRvbiBjYWNoZSAoZm9yIGEgc2luZ2xlIGVudHJ5KSBvciBhblxyXG4gKiBMUlUgY2FjaGUgKGZvciBtdWx0aXBsZSBlbnRyaWVzKS5cclxuICpcclxuICogKipOb3RlKio6IFRoaXMgZnVuY3Rpb24gd2FzIHByZXZpb3VzbHkga25vd24gYXMgYGRlZmF1bHRNZW1vaXplYC5cclxuICpcclxuICogQHBhcmFtIGZ1bmMgLSBUaGUgZnVuY3Rpb24gdG8gYmUgbWVtb2l6ZWQuXHJcbiAqIEBwYXJhbSBlcXVhbGl0eUNoZWNrT3JPcHRpb25zIC0gRWl0aGVyIGFuIGVxdWFsaXR5IGNoZWNrIGZ1bmN0aW9uIG9yIGFuIG9wdGlvbnMgb2JqZWN0LlxyXG4gKiBAcmV0dXJucyBBIG1lbW9pemVkIGZ1bmN0aW9uIHdpdGggYSBgLmNsZWFyQ2FjaGUoKWAgbWV0aG9kIGF0dGFjaGVkLlxyXG4gKlxyXG4gKiBAdGVtcGxhdGUgRnVuYyAtIFRoZSB0eXBlIG9mIHRoZSBmdW5jdGlvbiB0aGF0IGlzIG1lbW9pemVkLlxyXG4gKlxyXG4gKiBAc2VlIHtAbGluayBodHRwczovL3Jlc2VsZWN0LmpzLm9yZy9hcGkvbHJ1TWVtb2l6ZSBgbHJ1TWVtb2l6ZWB9XHJcbiAqXHJcbiAqIEBwdWJsaWNcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBscnVNZW1vaXplPEZ1bmMgZXh0ZW5kcyBBbnlGdW5jdGlvbj4oXHJcbiAgZnVuYzogRnVuYyxcclxuICBlcXVhbGl0eUNoZWNrT3JPcHRpb25zPzogRXF1YWxpdHlGbiB8IExydU1lbW9pemVPcHRpb25zPFJldHVyblR5cGU8RnVuYz4+XHJcbikge1xyXG4gIGNvbnN0IHByb3ZpZGVkT3B0aW9ucyA9XHJcbiAgICB0eXBlb2YgZXF1YWxpdHlDaGVja09yT3B0aW9ucyA9PT0gJ29iamVjdCdcclxuICAgICAgPyBlcXVhbGl0eUNoZWNrT3JPcHRpb25zXHJcbiAgICAgIDogeyBlcXVhbGl0eUNoZWNrOiBlcXVhbGl0eUNoZWNrT3JPcHRpb25zIH1cclxuXHJcbiAgY29uc3Qge1xyXG4gICAgZXF1YWxpdHlDaGVjayA9IHJlZmVyZW5jZUVxdWFsaXR5Q2hlY2ssXHJcbiAgICBtYXhTaXplID0gMSxcclxuICAgIHJlc3VsdEVxdWFsaXR5Q2hlY2tcclxuICB9ID0gcHJvdmlkZWRPcHRpb25zXHJcblxyXG4gIGNvbnN0IGNvbXBhcmF0b3IgPSBjcmVhdGVDYWNoZUtleUNvbXBhcmF0b3IoZXF1YWxpdHlDaGVjaylcclxuXHJcbiAgbGV0IHJlc3VsdHNDb3VudCA9IDBcclxuXHJcbiAgY29uc3QgY2FjaGUgPVxyXG4gICAgbWF4U2l6ZSA8PSAxXHJcbiAgICAgID8gY3JlYXRlU2luZ2xldG9uQ2FjaGUoY29tcGFyYXRvcilcclxuICAgICAgOiBjcmVhdGVMcnVDYWNoZShtYXhTaXplLCBjb21wYXJhdG9yKVxyXG5cclxuICBmdW5jdGlvbiBtZW1vaXplZCgpIHtcclxuICAgIGxldCB2YWx1ZSA9IGNhY2hlLmdldChhcmd1bWVudHMpIGFzIFJldHVyblR5cGU8RnVuYz5cclxuICAgIGlmICh2YWx1ZSA9PT0gTk9UX0ZPVU5EKSB7XHJcbiAgICAgIC8vIGFwcGx5IGFyZ3VtZW50cyBpbnN0ZWFkIG9mIHNwcmVhZGluZyBmb3IgcGVyZm9ybWFuY2UuXHJcbiAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgdmFsdWUgPSBmdW5jLmFwcGx5KG51bGwsIGFyZ3VtZW50cykgYXMgUmV0dXJuVHlwZTxGdW5jPlxyXG4gICAgICByZXN1bHRzQ291bnQrK1xyXG5cclxuICAgICAgaWYgKHJlc3VsdEVxdWFsaXR5Q2hlY2spIHtcclxuICAgICAgICBjb25zdCBlbnRyaWVzID0gY2FjaGUuZ2V0RW50cmllcygpXHJcbiAgICAgICAgY29uc3QgbWF0Y2hpbmdFbnRyeSA9IGVudHJpZXMuZmluZChlbnRyeSA9PlxyXG4gICAgICAgICAgcmVzdWx0RXF1YWxpdHlDaGVjayhlbnRyeS52YWx1ZSBhcyBSZXR1cm5UeXBlPEZ1bmM+LCB2YWx1ZSlcclxuICAgICAgICApXHJcblxyXG4gICAgICAgIGlmIChtYXRjaGluZ0VudHJ5KSB7XHJcbiAgICAgICAgICB2YWx1ZSA9IG1hdGNoaW5nRW50cnkudmFsdWUgYXMgUmV0dXJuVHlwZTxGdW5jPlxyXG4gICAgICAgICAgcmVzdWx0c0NvdW50ICE9PSAwICYmIHJlc3VsdHNDb3VudC0tXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBjYWNoZS5wdXQoYXJndW1lbnRzLCB2YWx1ZSlcclxuICAgIH1cclxuICAgIHJldHVybiB2YWx1ZVxyXG4gIH1cclxuXHJcbiAgbWVtb2l6ZWQuY2xlYXJDYWNoZSA9ICgpID0+IHtcclxuICAgIGNhY2hlLmNsZWFyKClcclxuICAgIG1lbW9pemVkLnJlc2V0UmVzdWx0c0NvdW50KClcclxuICB9XHJcblxyXG4gIG1lbW9pemVkLnJlc3VsdHNDb3VudCA9ICgpID0+IHJlc3VsdHNDb3VudFxyXG5cclxuICBtZW1vaXplZC5yZXNldFJlc3VsdHNDb3VudCA9ICgpID0+IHtcclxuICAgIHJlc3VsdHNDb3VudCA9IDBcclxuICB9XHJcblxyXG4gIHJldHVybiBtZW1vaXplZCBhcyBGdW5jICYgU2ltcGxpZnk8RGVmYXVsdE1lbW9pemVGaWVsZHM+XHJcbn1cclxuIiwiaW1wb3J0IHsgY3JlYXRlTm9kZSwgdXBkYXRlTm9kZSB9IGZyb20gJy4vcHJveHknXHJcbmltcG9ydCB0eXBlIHsgTm9kZSB9IGZyb20gJy4vdHJhY2tpbmcnXHJcblxyXG5pbXBvcnQgeyBjcmVhdGVDYWNoZUtleUNvbXBhcmF0b3IsIHJlZmVyZW5jZUVxdWFsaXR5Q2hlY2sgfSBmcm9tICcuLi9scnVNZW1vaXplJ1xyXG5pbXBvcnQgdHlwZSB7IEFueUZ1bmN0aW9uLCBEZWZhdWx0TWVtb2l6ZUZpZWxkcywgU2ltcGxpZnkgfSBmcm9tICcuLi90eXBlcydcclxuaW1wb3J0IHsgY3JlYXRlQ2FjaGUgfSBmcm9tICcuL2F1dG90cmFja2luZydcclxuXHJcbi8qKlxyXG4gKiBVc2VzIGFuIFwiYXV0by10cmFja2luZ1wiIGFwcHJvYWNoIGluc3BpcmVkIGJ5IHRoZSB3b3JrIG9mIHRoZSBFbWJlciBHbGltbWVyIHRlYW0uXHJcbiAqIEl0IHVzZXMgYSBQcm94eSB0byB3cmFwIGFyZ3VtZW50cyBhbmQgdHJhY2sgYWNjZXNzZXMgdG8gbmVzdGVkIGZpZWxkc1xyXG4gKiBpbiB5b3VyIHNlbGVjdG9yIG9uIGZpcnN0IHJlYWQuIExhdGVyLCB3aGVuIHRoZSBzZWxlY3RvciBpcyBjYWxsZWQgd2l0aFxyXG4gKiBuZXcgYXJndW1lbnRzLCBpdCBpZGVudGlmaWVzIHdoaWNoIGFjY2Vzc2VkIGZpZWxkcyBoYXZlIGNoYW5nZWQgYW5kXHJcbiAqIG9ubHkgcmVjYWxjdWxhdGVzIHRoZSByZXN1bHQgaWYgb25lIG9yIG1vcmUgb2YgdGhvc2UgYWNjZXNzZWQgZmllbGRzIGhhdmUgY2hhbmdlZC5cclxuICogVGhpcyBhbGxvd3MgaXQgdG8gYmUgbW9yZSBwcmVjaXNlIHRoYW4gdGhlIHNoYWxsb3cgZXF1YWxpdHkgY2hlY2tzIGluIGBscnVNZW1vaXplYC5cclxuICpcclxuICogX19EZXNpZ24gVHJhZGVvZmZzIGZvciBgYXV0b3RyYWNrTWVtb2l6ZWA6X19cclxuICogLSBQcm9zOlxyXG4gKiAgICAtIEl0IGlzIGxpa2VseSB0byBhdm9pZCBleGNlc3MgY2FsY3VsYXRpb25zIGFuZCByZWNhbGN1bGF0ZSBmZXdlciB0aW1lcyB0aGFuIGBscnVNZW1vaXplYCB3aWxsLFxyXG4gKiAgICB3aGljaCBtYXkgYWxzbyByZXN1bHQgaW4gZmV3ZXIgY29tcG9uZW50IHJlLXJlbmRlcnMuXHJcbiAqIC0gQ29uczpcclxuICogICAgLSBJdCBvbmx5IGhhcyBhIGNhY2hlIHNpemUgb2YgMS5cclxuICogICAgLSBJdCBpcyBzbG93ZXIgdGhhbiBgbHJ1TWVtb2l6ZWAsIGJlY2F1c2UgaXQgaGFzIHRvIGRvIG1vcmUgd29yay4gKEhvdyBtdWNoIHNsb3dlciBpcyBkZXBlbmRlbnQgb24gdGhlIG51bWJlciBvZiBhY2Nlc3NlZCBmaWVsZHMgaW4gYSBzZWxlY3RvciwgbnVtYmVyIG9mIGNhbGxzLCBmcmVxdWVuY3kgb2YgaW5wdXQgY2hhbmdlcywgZXRjKVxyXG4gKiAgICAtIEl0IGNhbiBoYXZlIHNvbWUgdW5leHBlY3RlZCBiZWhhdmlvci4gQmVjYXVzZSBpdCB0cmFja3MgbmVzdGVkIGZpZWxkIGFjY2Vzc2VzLFxyXG4gKiAgICBjYXNlcyB3aGVyZSB5b3UgZG9uJ3QgYWNjZXNzIGEgZmllbGQgd2lsbCBub3QgcmVjYWxjdWxhdGUgcHJvcGVybHkuXHJcbiAqICAgIEZvciBleGFtcGxlLCBhIGJhZGx5LXdyaXR0ZW4gc2VsZWN0b3IgbGlrZTpcclxuICogICAgICBgYGB0c1xyXG4gKiAgICAgIGNyZWF0ZVNlbGVjdG9yKFtzdGF0ZSA9PiBzdGF0ZS50b2Rvc10sIHRvZG9zID0+IHRvZG9zKVxyXG4gKiAgICAgIGBgYFxyXG4gKiAgICAgIHRoYXQganVzdCBpbW1lZGlhdGVseSByZXR1cm5zIHRoZSBleHRyYWN0ZWQgdmFsdWUgd2lsbCBuZXZlciB1cGRhdGUsIGJlY2F1c2UgaXQgZG9lc24ndCBzZWUgYW55IGZpZWxkIGFjY2Vzc2VzIHRvIGNoZWNrLlxyXG4gKlxyXG4gKiBfX1VzZSBDYXNlcyBmb3IgYGF1dG90cmFja01lbW9pemVgOl9fXHJcbiAqIC0gSXQgaXMgbGlrZWx5IGJlc3QgdXNlZCBmb3IgY2FzZXMgd2hlcmUgeW91IG5lZWQgdG8gYWNjZXNzIHNwZWNpZmljIG5lc3RlZCBmaWVsZHNcclxuICogaW4gZGF0YSwgYW5kIGF2b2lkIHJlY2FsY3VsYXRpbmcgaWYgb3RoZXIgZmllbGRzIGluIHRoZSBzYW1lIGRhdGEgb2JqZWN0cyBhcmUgaW1tdXRhYmx5IHVwZGF0ZWQuXHJcbiAqXHJcbiAqIEBwYXJhbSBmdW5jIC0gVGhlIGZ1bmN0aW9uIHRvIGJlIG1lbW9pemVkLlxyXG4gKiBAcmV0dXJucyBBIG1lbW9pemVkIGZ1bmN0aW9uIHdpdGggYSBgLmNsZWFyQ2FjaGUoKWAgbWV0aG9kIGF0dGFjaGVkLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiA8Y2FwdGlvbj5Vc2luZyBgY3JlYXRlU2VsZWN0b3JgPC9jYXB0aW9uPlxyXG4gKiBgYGB0c1xyXG4gKiBpbXBvcnQgeyB1bnN0YWJsZV9hdXRvdHJhY2tNZW1vaXplIGFzIGF1dG90cmFja01lbW9pemUsIGNyZWF0ZVNlbGVjdG9yIH0gZnJvbSAncmVzZWxlY3QnXHJcbiAqXHJcbiAqIGNvbnN0IHNlbGVjdFRvZG9JZHMgPSBjcmVhdGVTZWxlY3RvcihcclxuICogICBbKHN0YXRlOiBSb290U3RhdGUpID0+IHN0YXRlLnRvZG9zXSxcclxuICogICAodG9kb3MpID0+IHRvZG9zLm1hcCh0b2RvID0+IHRvZG8uaWQpLFxyXG4gKiAgIHsgbWVtb2l6ZTogYXV0b3RyYWNrTWVtb2l6ZSB9XHJcbiAqIClcclxuICogYGBgXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIDxjYXB0aW9uPlVzaW5nIGBjcmVhdGVTZWxlY3RvckNyZWF0b3JgPC9jYXB0aW9uPlxyXG4gKiBgYGB0c1xyXG4gKiBpbXBvcnQgeyB1bnN0YWJsZV9hdXRvdHJhY2tNZW1vaXplIGFzIGF1dG90cmFja01lbW9pemUsIGNyZWF0ZVNlbGVjdG9yQ3JlYXRvciB9IGZyb20gJ3Jlc2VsZWN0J1xyXG4gKlxyXG4gKiBjb25zdCBjcmVhdGVTZWxlY3RvckF1dG90cmFjayA9IGNyZWF0ZVNlbGVjdG9yQ3JlYXRvcih7IG1lbW9pemU6IGF1dG90cmFja01lbW9pemUgfSlcclxuICpcclxuICogY29uc3Qgc2VsZWN0VG9kb0lkcyA9IGNyZWF0ZVNlbGVjdG9yQXV0b3RyYWNrKFxyXG4gKiAgIFsoc3RhdGU6IFJvb3RTdGF0ZSkgPT4gc3RhdGUudG9kb3NdLFxyXG4gKiAgICh0b2RvcykgPT4gdG9kb3MubWFwKHRvZG8gPT4gdG9kby5pZClcclxuICogKVxyXG4gKiBgYGBcclxuICpcclxuICogQHRlbXBsYXRlIEZ1bmMgLSBUaGUgdHlwZSBvZiB0aGUgZnVuY3Rpb24gdGhhdCBpcyBtZW1vaXplZC5cclxuICpcclxuICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9yZXNlbGVjdC5qcy5vcmcvYXBpL3Vuc3RhYmxlX2F1dG90cmFja01lbW9pemUgYXV0b3RyYWNrTWVtb2l6ZX1cclxuICpcclxuICogQHNpbmNlIDUuMC4wXHJcbiAqIEBwdWJsaWNcclxuICogQGV4cGVyaW1lbnRhbFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGF1dG90cmFja01lbW9pemU8RnVuYyBleHRlbmRzIEFueUZ1bmN0aW9uPihmdW5jOiBGdW5jKSB7XHJcbiAgLy8gd2UgcmVmZXJlbmNlIGFyZ3VtZW50cyBpbnN0ZWFkIG9mIHNwcmVhZGluZyB0aGVtIGZvciBwZXJmb3JtYW5jZSByZWFzb25zXHJcblxyXG4gIGNvbnN0IG5vZGU6IE5vZGU8UmVjb3JkPHN0cmluZywgdW5rbm93bj4+ID0gY3JlYXRlTm9kZShcclxuICAgIFtdIGFzIHVua25vd24gYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj5cclxuICApXHJcblxyXG4gIGxldCBsYXN0QXJnczogSUFyZ3VtZW50cyB8IG51bGwgPSBudWxsXHJcblxyXG4gIGNvbnN0IHNoYWxsb3dFcXVhbCA9IGNyZWF0ZUNhY2hlS2V5Q29tcGFyYXRvcihyZWZlcmVuY2VFcXVhbGl0eUNoZWNrKVxyXG5cclxuICBjb25zdCBjYWNoZSA9IGNyZWF0ZUNhY2hlKCgpID0+IHtcclxuICAgIGNvbnN0IHJlcyA9IGZ1bmMuYXBwbHkobnVsbCwgbm9kZS5wcm94eSBhcyB1bmtub3duIGFzIGFueVtdKVxyXG4gICAgcmV0dXJuIHJlc1xyXG4gIH0pXHJcblxyXG4gIGZ1bmN0aW9uIG1lbW9pemVkKCkge1xyXG4gICAgaWYgKCFzaGFsbG93RXF1YWwobGFzdEFyZ3MsIGFyZ3VtZW50cykpIHtcclxuICAgICAgdXBkYXRlTm9kZShub2RlLCBhcmd1bWVudHMgYXMgdW5rbm93biBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPilcclxuICAgICAgbGFzdEFyZ3MgPSBhcmd1bWVudHNcclxuICAgIH1cclxuICAgIHJldHVybiBjYWNoZS52YWx1ZVxyXG4gIH1cclxuXHJcbiAgbWVtb2l6ZWQuY2xlYXJDYWNoZSA9ICgpID0+IHtcclxuICAgIHJldHVybiBjYWNoZS5jbGVhcigpXHJcbiAgfVxyXG5cclxuICByZXR1cm4gbWVtb2l6ZWQgYXMgRnVuYyAmIFNpbXBsaWZ5PERlZmF1bHRNZW1vaXplRmllbGRzPlxyXG59XHJcbiIsIi8vIE9yaWdpbmFsIHNvdXJjZTpcclxuLy8gLSBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvYmxvYi8wYjk3NDQxOGM5YTU2ZjZjNTYwMjk4NTYwMjY1ZGNmNGI2NTc4NGJjL3BhY2thZ2VzL3JlYWN0L3NyYy9SZWFjdENhY2hlLmpzXHJcblxyXG5pbXBvcnQgdHlwZSB7XHJcbiAgQW55RnVuY3Rpb24sXHJcbiAgRGVmYXVsdE1lbW9pemVGaWVsZHMsXHJcbiAgRXF1YWxpdHlGbixcclxuICBTaW1wbGlmeVxyXG59IGZyb20gJy4vdHlwZXMnXHJcblxyXG5jbGFzcyBTdHJvbmdSZWY8VD4ge1xyXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgdmFsdWU6IFQpIHt9XHJcbiAgZGVyZWYoKSB7XHJcbiAgICByZXR1cm4gdGhpcy52YWx1ZVxyXG4gIH1cclxufVxyXG5cclxuY29uc3QgUmVmID1cclxuICB0eXBlb2YgV2Vha1JlZiAhPT0gJ3VuZGVmaW5lZCdcclxuICAgID8gV2Vha1JlZlxyXG4gICAgOiAoU3Ryb25nUmVmIGFzIHVua25vd24gYXMgdHlwZW9mIFdlYWtSZWYpXHJcblxyXG5jb25zdCBVTlRFUk1JTkFURUQgPSAwXHJcbmNvbnN0IFRFUk1JTkFURUQgPSAxXHJcblxyXG5pbnRlcmZhY2UgVW50ZXJtaW5hdGVkQ2FjaGVOb2RlPFQ+IHtcclxuICAvKipcclxuICAgKiBTdGF0dXMsIHJlcHJlc2VudHMgd2hldGhlciB0aGUgY2FjaGVkIGNvbXB1dGF0aW9uIHJldHVybmVkIGEgdmFsdWUgb3IgdGhyZXcgYW4gZXJyb3IuXHJcbiAgICovXHJcbiAgczogMFxyXG4gIC8qKlxyXG4gICAqIFZhbHVlLCBlaXRoZXIgdGhlIGNhY2hlZCByZXN1bHQgb3IgYW4gZXJyb3IsIGRlcGVuZGluZyBvbiBzdGF0dXMuXHJcbiAgICovXHJcbiAgdjogdm9pZFxyXG4gIC8qKlxyXG4gICAqIE9iamVjdCBjYWNoZSwgYSBgV2Vha01hcGAgd2hlcmUgbm9uLXByaW1pdGl2ZSBhcmd1bWVudHMgYXJlIHN0b3JlZC5cclxuICAgKi9cclxuICBvOiBudWxsIHwgV2Vha01hcDxGdW5jdGlvbiB8IE9iamVjdCwgQ2FjaGVOb2RlPFQ+PlxyXG4gIC8qKlxyXG4gICAqIFByaW1pdGl2ZSBjYWNoZSwgYSByZWd1bGFyIE1hcCB3aGVyZSBwcmltaXRpdmUgYXJndW1lbnRzIGFyZSBzdG9yZWQuXHJcbiAgICovXHJcbiAgcDogbnVsbCB8IE1hcDxzdHJpbmcgfCBudW1iZXIgfCBudWxsIHwgdm9pZCB8IHN5bWJvbCB8IGJvb2xlYW4sIENhY2hlTm9kZTxUPj5cclxufVxyXG5cclxuaW50ZXJmYWNlIFRlcm1pbmF0ZWRDYWNoZU5vZGU8VD4ge1xyXG4gIC8qKlxyXG4gICAqIFN0YXR1cywgcmVwcmVzZW50cyB3aGV0aGVyIHRoZSBjYWNoZWQgY29tcHV0YXRpb24gcmV0dXJuZWQgYSB2YWx1ZSBvciB0aHJldyBhbiBlcnJvci5cclxuICAgKi9cclxuICBzOiAxXHJcbiAgLyoqXHJcbiAgICogVmFsdWUsIGVpdGhlciB0aGUgY2FjaGVkIHJlc3VsdCBvciBhbiBlcnJvciwgZGVwZW5kaW5nIG9uIHN0YXR1cy5cclxuICAgKi9cclxuICB2OiBUXHJcbiAgLyoqXHJcbiAgICogT2JqZWN0IGNhY2hlLCBhIGBXZWFrTWFwYCB3aGVyZSBub24tcHJpbWl0aXZlIGFyZ3VtZW50cyBhcmUgc3RvcmVkLlxyXG4gICAqL1xyXG4gIG86IG51bGwgfCBXZWFrTWFwPEZ1bmN0aW9uIHwgT2JqZWN0LCBDYWNoZU5vZGU8VD4+XHJcbiAgLyoqXHJcbiAgICogUHJpbWl0aXZlIGNhY2hlLCBhIHJlZ3VsYXIgYE1hcGAgd2hlcmUgcHJpbWl0aXZlIGFyZ3VtZW50cyBhcmUgc3RvcmVkLlxyXG4gICAqL1xyXG4gIHA6IG51bGwgfCBNYXA8c3RyaW5nIHwgbnVtYmVyIHwgbnVsbCB8IHZvaWQgfCBzeW1ib2wgfCBib29sZWFuLCBDYWNoZU5vZGU8VD4+XHJcbn1cclxuXHJcbnR5cGUgQ2FjaGVOb2RlPFQ+ID0gVGVybWluYXRlZENhY2hlTm9kZTxUPiB8IFVudGVybWluYXRlZENhY2hlTm9kZTxUPlxyXG5cclxuZnVuY3Rpb24gY3JlYXRlQ2FjaGVOb2RlPFQ+KCk6IENhY2hlTm9kZTxUPiB7XHJcbiAgcmV0dXJuIHtcclxuICAgIHM6IFVOVEVSTUlOQVRFRCxcclxuICAgIHY6IHVuZGVmaW5lZCxcclxuICAgIG86IG51bGwsXHJcbiAgICBwOiBudWxsXHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICogQ29uZmlndXJhdGlvbiBvcHRpb25zIGZvciBhIG1lbW9pemF0aW9uIGZ1bmN0aW9uIHV0aWxpemluZyBgV2Vha01hcGAgZm9yXHJcbiAqIGl0cyBjYWNoaW5nIG1lY2hhbmlzbS5cclxuICpcclxuICogQHRlbXBsYXRlIFJlc3VsdCAtIFRoZSB0eXBlIG9mIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIG1lbW9pemVkIGZ1bmN0aW9uLlxyXG4gKlxyXG4gKiBAc2luY2UgNS4wLjBcclxuICogQHB1YmxpY1xyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBXZWFrTWFwTWVtb2l6ZU9wdGlvbnM8UmVzdWx0ID0gYW55PiB7XHJcbiAgLyoqXHJcbiAgICogSWYgcHJvdmlkZWQsIHVzZWQgdG8gY29tcGFyZSBhIG5ld2x5IGdlbmVyYXRlZCBvdXRwdXQgdmFsdWUgYWdhaW5zdCBwcmV2aW91cyB2YWx1ZXMgaW4gdGhlIGNhY2hlLlxyXG4gICAqIElmIGEgbWF0Y2ggaXMgZm91bmQsIHRoZSBvbGQgdmFsdWUgaXMgcmV0dXJuZWQuIFRoaXMgYWRkcmVzc2VzIHRoZSBjb21tb25cclxuICAgKiBgYGB0c1xyXG4gICAqIHRvZG9zLm1hcCh0b2RvID0+IHRvZG8uaWQpXHJcbiAgICogYGBgXHJcbiAgICogdXNlIGNhc2UsIHdoZXJlIGFuIHVwZGF0ZSB0byBhbm90aGVyIGZpZWxkIGluIHRoZSBvcmlnaW5hbCBkYXRhIGNhdXNlcyBhIHJlY2FsY3VsYXRpb25cclxuICAgKiBkdWUgdG8gY2hhbmdlZCByZWZlcmVuY2VzLCBidXQgdGhlIG91dHB1dCBpcyBzdGlsbCBlZmZlY3RpdmVseSB0aGUgc2FtZS5cclxuICAgKlxyXG4gICAqIEBzaW5jZSA1LjAuMFxyXG4gICAqL1xyXG4gIHJlc3VsdEVxdWFsaXR5Q2hlY2s/OiBFcXVhbGl0eUZuPFJlc3VsdD5cclxufVxyXG5cclxuLyoqXHJcbiAqIENyZWF0ZXMgYSB0cmVlIG9mIGBXZWFrTWFwYC1iYXNlZCBjYWNoZSBub2RlcyBiYXNlZCBvbiB0aGUgaWRlbnRpdHkgb2YgdGhlXHJcbiAqIGFyZ3VtZW50cyBpdCdzIGJlZW4gY2FsbGVkIHdpdGggKGluIHRoaXMgY2FzZSwgdGhlIGV4dHJhY3RlZCB2YWx1ZXMgZnJvbSB5b3VyIGlucHV0IHNlbGVjdG9ycykuXHJcbiAqIFRoaXMgYWxsb3dzIGB3ZWFrTWFwTWVtb2l6ZWAgdG8gaGF2ZSBhbiBlZmZlY3RpdmVseSBpbmZpbml0ZSBjYWNoZSBzaXplLlxyXG4gKiBDYWNoZSByZXN1bHRzIHdpbGwgYmUga2VwdCBpbiBtZW1vcnkgYXMgbG9uZyBhcyByZWZlcmVuY2VzIHRvIHRoZSBhcmd1bWVudHMgc3RpbGwgZXhpc3QsXHJcbiAqIGFuZCB0aGVuIGNsZWFyZWQgb3V0IGFzIHRoZSBhcmd1bWVudHMgYXJlIGdhcmJhZ2UtY29sbGVjdGVkLlxyXG4gKlxyXG4gKiBfX0Rlc2lnbiBUcmFkZW9mZnMgZm9yIGB3ZWFrTWFwTWVtb2l6ZWA6X19cclxuICogLSBQcm9zOlxyXG4gKiAgIC0gSXQgaGFzIGFuIGVmZmVjdGl2ZWx5IGluZmluaXRlIGNhY2hlIHNpemUsIGJ1dCB5b3UgaGF2ZSBubyBjb250cm9sIG92ZXJcclxuICogICBob3cgbG9uZyB2YWx1ZXMgYXJlIGtlcHQgaW4gY2FjaGUgYXMgaXQncyBiYXNlZCBvbiBnYXJiYWdlIGNvbGxlY3Rpb24gYW5kIGBXZWFrTWFwYHMuXHJcbiAqIC0gQ29uczpcclxuICogICAtIFRoZXJlJ3MgY3VycmVudGx5IG5vIHdheSB0byBhbHRlciB0aGUgYXJndW1lbnQgY29tcGFyaXNvbnMuXHJcbiAqICAgVGhleSdyZSBiYXNlZCBvbiBzdHJpY3QgcmVmZXJlbmNlIGVxdWFsaXR5LlxyXG4gKiAgIC0gSXQncyByb3VnaGx5IHRoZSBzYW1lIHNwZWVkIGFzIGBscnVNZW1vaXplYCwgYWx0aG91Z2ggbGlrZWx5IGEgZnJhY3Rpb24gc2xvd2VyLlxyXG4gKlxyXG4gKiBfX1VzZSBDYXNlcyBmb3IgYHdlYWtNYXBNZW1vaXplYDpfX1xyXG4gKiAtIFRoaXMgbWVtb2l6ZXIgaXMgbGlrZWx5IGJlc3QgdXNlZCBmb3IgY2FzZXMgd2hlcmUgeW91IG5lZWQgdG8gY2FsbCB0aGVcclxuICogc2FtZSBzZWxlY3RvciBpbnN0YW5jZSB3aXRoIG1hbnkgZGlmZmVyZW50IGFyZ3VtZW50cywgc3VjaCBhcyBhIHNpbmdsZVxyXG4gKiBzZWxlY3RvciBpbnN0YW5jZSB0aGF0IGlzIHVzZWQgaW4gYSBsaXN0IGl0ZW0gY29tcG9uZW50IGFuZCBjYWxsZWQgd2l0aFxyXG4gKiBpdGVtIElEcyBsaWtlOlxyXG4gKiAgIGBgYHRzXHJcbiAqICAgdXNlU2VsZWN0b3Ioc3RhdGUgPT4gc2VsZWN0U29tZURhdGEoc3RhdGUsIHByb3BzLmNhdGVnb3J5KSlcclxuICogICBgYGBcclxuICogQHBhcmFtIGZ1bmMgLSBUaGUgZnVuY3Rpb24gdG8gYmUgbWVtb2l6ZWQuXHJcbiAqIEByZXR1cm5zIEEgbWVtb2l6ZWQgZnVuY3Rpb24gd2l0aCBhIGAuY2xlYXJDYWNoZSgpYCBtZXRob2QgYXR0YWNoZWQuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIDxjYXB0aW9uPlVzaW5nIGBjcmVhdGVTZWxlY3RvcmA8L2NhcHRpb24+XHJcbiAqIGBgYHRzXHJcbiAqIGltcG9ydCB7IGNyZWF0ZVNlbGVjdG9yLCB3ZWFrTWFwTWVtb2l6ZSB9IGZyb20gJ3Jlc2VsZWN0J1xyXG4gKlxyXG4gKiBpbnRlcmZhY2UgUm9vdFN0YXRlIHtcclxuICogICBpdGVtczogeyBpZDogbnVtYmVyOyBjYXRlZ29yeTogc3RyaW5nOyBuYW1lOiBzdHJpbmcgfVtdXHJcbiAqIH1cclxuICpcclxuICogY29uc3Qgc2VsZWN0SXRlbXNCeUNhdGVnb3J5ID0gY3JlYXRlU2VsZWN0b3IoXHJcbiAqICAgW1xyXG4gKiAgICAgKHN0YXRlOiBSb290U3RhdGUpID0+IHN0YXRlLml0ZW1zLFxyXG4gKiAgICAgKHN0YXRlOiBSb290U3RhdGUsIGNhdGVnb3J5OiBzdHJpbmcpID0+IGNhdGVnb3J5XHJcbiAqICAgXSxcclxuICogICAoaXRlbXMsIGNhdGVnb3J5KSA9PiBpdGVtcy5maWx0ZXIoaXRlbSA9PiBpdGVtLmNhdGVnb3J5ID09PSBjYXRlZ29yeSksXHJcbiAqICAge1xyXG4gKiAgICAgbWVtb2l6ZTogd2Vha01hcE1lbW9pemUsXHJcbiAqICAgICBhcmdzTWVtb2l6ZTogd2Vha01hcE1lbW9pemVcclxuICogICB9XHJcbiAqIClcclxuICogYGBgXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIDxjYXB0aW9uPlVzaW5nIGBjcmVhdGVTZWxlY3RvckNyZWF0b3JgPC9jYXB0aW9uPlxyXG4gKiBgYGB0c1xyXG4gKiBpbXBvcnQgeyBjcmVhdGVTZWxlY3RvckNyZWF0b3IsIHdlYWtNYXBNZW1vaXplIH0gZnJvbSAncmVzZWxlY3QnXHJcbiAqXHJcbiAqIGNvbnN0IGNyZWF0ZVNlbGVjdG9yV2Vha01hcCA9IGNyZWF0ZVNlbGVjdG9yQ3JlYXRvcih7IG1lbW9pemU6IHdlYWtNYXBNZW1vaXplLCBhcmdzTWVtb2l6ZTogd2Vha01hcE1lbW9pemUgfSlcclxuICpcclxuICogY29uc3Qgc2VsZWN0SXRlbXNCeUNhdGVnb3J5ID0gY3JlYXRlU2VsZWN0b3JXZWFrTWFwKFxyXG4gKiAgIFtcclxuICogICAgIChzdGF0ZTogUm9vdFN0YXRlKSA9PiBzdGF0ZS5pdGVtcyxcclxuICogICAgIChzdGF0ZTogUm9vdFN0YXRlLCBjYXRlZ29yeTogc3RyaW5nKSA9PiBjYXRlZ29yeVxyXG4gKiAgIF0sXHJcbiAqICAgKGl0ZW1zLCBjYXRlZ29yeSkgPT4gaXRlbXMuZmlsdGVyKGl0ZW0gPT4gaXRlbS5jYXRlZ29yeSA9PT0gY2F0ZWdvcnkpXHJcbiAqIClcclxuICogYGBgXHJcbiAqXHJcbiAqIEB0ZW1wbGF0ZSBGdW5jIC0gVGhlIHR5cGUgb2YgdGhlIGZ1bmN0aW9uIHRoYXQgaXMgbWVtb2l6ZWQuXHJcbiAqXHJcbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vcmVzZWxlY3QuanMub3JnL2FwaS93ZWFrTWFwTWVtb2l6ZSBgd2Vha01hcE1lbW9pemVgfVxyXG4gKlxyXG4gKiBAc2luY2UgNS4wLjBcclxuICogQHB1YmxpY1xyXG4gKiBAZXhwZXJpbWVudGFsXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gd2Vha01hcE1lbW9pemU8RnVuYyBleHRlbmRzIEFueUZ1bmN0aW9uPihcclxuICBmdW5jOiBGdW5jLFxyXG4gIG9wdGlvbnM6IFdlYWtNYXBNZW1vaXplT3B0aW9uczxSZXR1cm5UeXBlPEZ1bmM+PiA9IHt9XHJcbikge1xyXG4gIGxldCBmbk5vZGUgPSBjcmVhdGVDYWNoZU5vZGUoKVxyXG4gIGNvbnN0IHsgcmVzdWx0RXF1YWxpdHlDaGVjayB9ID0gb3B0aW9uc1xyXG5cclxuICBsZXQgbGFzdFJlc3VsdDogV2Vha1JlZjxvYmplY3Q+IHwgdW5kZWZpbmVkXHJcblxyXG4gIGxldCByZXN1bHRzQ291bnQgPSAwXHJcblxyXG4gIGZ1bmN0aW9uIG1lbW9pemVkKCkge1xyXG4gICAgbGV0IGNhY2hlTm9kZSA9IGZuTm9kZVxyXG4gICAgY29uc3QgeyBsZW5ndGggfSA9IGFyZ3VtZW50c1xyXG4gICAgZm9yIChsZXQgaSA9IDAsIGwgPSBsZW5ndGg7IGkgPCBsOyBpKyspIHtcclxuICAgICAgY29uc3QgYXJnID0gYXJndW1lbnRzW2ldXHJcbiAgICAgIGlmIChcclxuICAgICAgICB0eXBlb2YgYXJnID09PSAnZnVuY3Rpb24nIHx8XHJcbiAgICAgICAgKHR5cGVvZiBhcmcgPT09ICdvYmplY3QnICYmIGFyZyAhPT0gbnVsbClcclxuICAgICAgKSB7XHJcbiAgICAgICAgLy8gT2JqZWN0cyBnbyBpbnRvIGEgV2Vha01hcFxyXG4gICAgICAgIGxldCBvYmplY3RDYWNoZSA9IGNhY2hlTm9kZS5vXHJcbiAgICAgICAgaWYgKG9iamVjdENhY2hlID09PSBudWxsKSB7XHJcbiAgICAgICAgICBjYWNoZU5vZGUubyA9IG9iamVjdENhY2hlID0gbmV3IFdlYWtNYXAoKVxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBvYmplY3ROb2RlID0gb2JqZWN0Q2FjaGUuZ2V0KGFyZylcclxuICAgICAgICBpZiAob2JqZWN0Tm9kZSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICBjYWNoZU5vZGUgPSBjcmVhdGVDYWNoZU5vZGUoKVxyXG4gICAgICAgICAgb2JqZWN0Q2FjaGUuc2V0KGFyZywgY2FjaGVOb2RlKVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBjYWNoZU5vZGUgPSBvYmplY3ROb2RlXHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIFByaW1pdGl2ZXMgZ28gaW50byBhIHJlZ3VsYXIgTWFwXHJcbiAgICAgICAgbGV0IHByaW1pdGl2ZUNhY2hlID0gY2FjaGVOb2RlLnBcclxuICAgICAgICBpZiAocHJpbWl0aXZlQ2FjaGUgPT09IG51bGwpIHtcclxuICAgICAgICAgIGNhY2hlTm9kZS5wID0gcHJpbWl0aXZlQ2FjaGUgPSBuZXcgTWFwKClcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgcHJpbWl0aXZlTm9kZSA9IHByaW1pdGl2ZUNhY2hlLmdldChhcmcpXHJcbiAgICAgICAgaWYgKHByaW1pdGl2ZU5vZGUgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgY2FjaGVOb2RlID0gY3JlYXRlQ2FjaGVOb2RlKClcclxuICAgICAgICAgIHByaW1pdGl2ZUNhY2hlLnNldChhcmcsIGNhY2hlTm9kZSlcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgY2FjaGVOb2RlID0gcHJpbWl0aXZlTm9kZVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHRlcm1pbmF0ZWROb2RlID0gY2FjaGVOb2RlIGFzIHVua25vd24gYXMgVGVybWluYXRlZENhY2hlTm9kZTxhbnk+XHJcblxyXG4gICAgbGV0IHJlc3VsdFxyXG5cclxuICAgIGlmIChjYWNoZU5vZGUucyA9PT0gVEVSTUlOQVRFRCkge1xyXG4gICAgICByZXN1bHQgPSBjYWNoZU5vZGUudlxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gQWxsb3cgZXJyb3JzIHRvIHByb3BhZ2F0ZVxyXG4gICAgICByZXN1bHQgPSBmdW5jLmFwcGx5KG51bGwsIGFyZ3VtZW50cyBhcyB1bmtub3duIGFzIGFueVtdKVxyXG4gICAgICByZXN1bHRzQ291bnQrK1xyXG5cclxuICAgICAgaWYgKHJlc3VsdEVxdWFsaXR5Q2hlY2spIHtcclxuICAgICAgICBjb25zdCBsYXN0UmVzdWx0VmFsdWUgPSBsYXN0UmVzdWx0Py5kZXJlZj8uKCkgPz8gbGFzdFJlc3VsdFxyXG5cclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICBsYXN0UmVzdWx0VmFsdWUgIT0gbnVsbCAmJlxyXG4gICAgICAgICAgcmVzdWx0RXF1YWxpdHlDaGVjayhsYXN0UmVzdWx0VmFsdWUgYXMgUmV0dXJuVHlwZTxGdW5jPiwgcmVzdWx0KVxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgcmVzdWx0ID0gbGFzdFJlc3VsdFZhbHVlXHJcblxyXG4gICAgICAgICAgcmVzdWx0c0NvdW50ICE9PSAwICYmIHJlc3VsdHNDb3VudC0tXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBuZWVkc1dlYWtSZWYgPVxyXG4gICAgICAgICAgKHR5cGVvZiByZXN1bHQgPT09ICdvYmplY3QnICYmIHJlc3VsdCAhPT0gbnVsbCkgfHxcclxuICAgICAgICAgIHR5cGVvZiByZXN1bHQgPT09ICdmdW5jdGlvbidcclxuXHJcbiAgICAgICAgbGFzdFJlc3VsdCA9IG5lZWRzV2Vha1JlZiA/IG5ldyBSZWYocmVzdWx0KSA6IHJlc3VsdFxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdGVybWluYXRlZE5vZGUucyA9IFRFUk1JTkFURURcclxuXHJcbiAgICB0ZXJtaW5hdGVkTm9kZS52ID0gcmVzdWx0XHJcbiAgICByZXR1cm4gcmVzdWx0XHJcbiAgfVxyXG5cclxuICBtZW1vaXplZC5jbGVhckNhY2hlID0gKCkgPT4ge1xyXG4gICAgZm5Ob2RlID0gY3JlYXRlQ2FjaGVOb2RlKClcclxuICAgIG1lbW9pemVkLnJlc2V0UmVzdWx0c0NvdW50KClcclxuICB9XHJcblxyXG4gIG1lbW9pemVkLnJlc3VsdHNDb3VudCA9ICgpID0+IHJlc3VsdHNDb3VudFxyXG5cclxuICBtZW1vaXplZC5yZXNldFJlc3VsdHNDb3VudCA9ICgpID0+IHtcclxuICAgIHJlc3VsdHNDb3VudCA9IDBcclxuICB9XHJcblxyXG4gIHJldHVybiBtZW1vaXplZCBhcyBGdW5jICYgU2ltcGxpZnk8RGVmYXVsdE1lbW9pemVGaWVsZHM+XHJcbn1cclxuIiwiaW1wb3J0IHsgd2Vha01hcE1lbW9pemUgfSBmcm9tICcuL3dlYWtNYXBNZW1vaXplJ1xyXG5cclxuaW1wb3J0IHR5cGUge1xyXG4gIENvbWJpbmVyLFxyXG4gIENyZWF0ZVNlbGVjdG9yT3B0aW9ucyxcclxuICBEcm9wRmlyc3RQYXJhbWV0ZXIsXHJcbiAgRXh0cmFjdE1lbW9pemVyRmllbGRzLFxyXG4gIEdldFBhcmFtc0Zyb21TZWxlY3RvcnMsXHJcbiAgR2V0U3RhdGVGcm9tU2VsZWN0b3JzLFxyXG4gIEludGVycnVwdFJlY3Vyc2lvbixcclxuICBPdXRwdXRTZWxlY3RvcixcclxuICBTZWxlY3RvcixcclxuICBTZWxlY3RvckFycmF5LFxyXG4gIFNldFJlcXVpcmVkLFxyXG4gIFNpbXBsaWZ5LFxyXG4gIFVua25vd25NZW1vaXplclxyXG59IGZyb20gJy4vdHlwZXMnXHJcblxyXG5pbXBvcnQge1xyXG4gIGFzc2VydElzRnVuY3Rpb24sXHJcbiAgY29sbGVjdElucHV0U2VsZWN0b3JSZXN1bHRzLFxyXG4gIGVuc3VyZUlzQXJyYXksXHJcbiAgZ2V0RGVwZW5kZW5jaWVzLFxyXG4gIGdldERldk1vZGVDaGVja3NFeGVjdXRpb25JbmZvXHJcbn0gZnJvbSAnLi91dGlscydcclxuXHJcbi8qKlxyXG4gKiBBbiBpbnN0YW5jZSBvZiBgY3JlYXRlU2VsZWN0b3JgLCBjdXN0b21pemVkIHdpdGggYSBnaXZlbiBtZW1vaXplIGltcGxlbWVudGF0aW9uLlxyXG4gKlxyXG4gKiBAdGVtcGxhdGUgTWVtb2l6ZUZ1bmN0aW9uIC0gVGhlIHR5cGUgb2YgdGhlIG1lbW9pemUgZnVuY3Rpb24gdGhhdCBpcyB1c2VkIHRvIG1lbW9pemUgdGhlIGByZXN1bHRGdW5jYCBpbnNpZGUgYGNyZWF0ZVNlbGVjdG9yYCAoZS5nLiwgYGxydU1lbW9pemVgIG9yIGB3ZWFrTWFwTWVtb2l6ZWApLlxyXG4gKiBAdGVtcGxhdGUgQXJnc01lbW9pemVGdW5jdGlvbiAtIFRoZSB0eXBlIG9mIHRoZSBvcHRpb25hbCBtZW1vaXplIGZ1bmN0aW9uIHRoYXQgaXMgdXNlZCB0byBtZW1vaXplIHRoZSBhcmd1bWVudHMgcGFzc2VkIGludG8gdGhlIG91dHB1dCBzZWxlY3RvciBnZW5lcmF0ZWQgYnkgYGNyZWF0ZVNlbGVjdG9yYCAoZS5nLiwgYGxydU1lbW9pemVgIG9yIGB3ZWFrTWFwTWVtb2l6ZWApLiBJZiBub25lIGlzIGV4cGxpY2l0bHkgcHJvdmlkZWQsIGB3ZWFrTWFwTWVtb2l6ZWAgd2lsbCBiZSB1c2VkLlxyXG4gKiBAdGVtcGxhdGUgU3RhdGVUeXBlIC0gVGhlIHR5cGUgb2Ygc3RhdGUgdGhhdCB0aGUgc2VsZWN0b3JzIGNyZWF0ZWQgd2l0aCB0aGlzIHNlbGVjdG9yIGNyZWF0b3Igd2lsbCBvcGVyYXRlIG9uLlxyXG4gKlxyXG4gKiBAcHVibGljXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIENyZWF0ZVNlbGVjdG9yRnVuY3Rpb248XHJcbiAgTWVtb2l6ZUZ1bmN0aW9uIGV4dGVuZHMgVW5rbm93bk1lbW9pemVyID0gdHlwZW9mIHdlYWtNYXBNZW1vaXplLFxyXG4gIEFyZ3NNZW1vaXplRnVuY3Rpb24gZXh0ZW5kcyBVbmtub3duTWVtb2l6ZXIgPSB0eXBlb2Ygd2Vha01hcE1lbW9pemUsXHJcbiAgU3RhdGVUeXBlID0gYW55XHJcbj4ge1xyXG4gIC8qKlxyXG4gICAqIENyZWF0ZXMgYSBtZW1vaXplZCBzZWxlY3RvciBmdW5jdGlvbi5cclxuICAgKlxyXG4gICAqIEBwYXJhbSBjcmVhdGVTZWxlY3RvckFyZ3MgLSBBbiBhcmJpdHJhcnkgbnVtYmVyIG9mIGlucHV0IHNlbGVjdG9ycyBhcyBzZXBhcmF0ZSBpbmxpbmUgYXJndW1lbnRzIGFuZCBhIGBjb21iaW5lcmAgZnVuY3Rpb24uXHJcbiAgICogQHJldHVybnMgQSBtZW1vaXplZCBvdXRwdXQgc2VsZWN0b3IuXHJcbiAgICpcclxuICAgKiBAdGVtcGxhdGUgSW5wdXRTZWxlY3RvcnMgLSBUaGUgdHlwZSBvZiB0aGUgaW5wdXQgc2VsZWN0b3JzIGFzIGFuIGFycmF5LlxyXG4gICAqIEB0ZW1wbGF0ZSBSZXN1bHQgLSBUaGUgcmV0dXJuIHR5cGUgb2YgdGhlIGBjb21iaW5lcmAgYXMgd2VsbCBhcyB0aGUgb3V0cHV0IHNlbGVjdG9yLlxyXG4gICAqIEB0ZW1wbGF0ZSBPdmVycmlkZU1lbW9pemVGdW5jdGlvbiAtIFRoZSB0eXBlIG9mIHRoZSBvcHRpb25hbCBgbWVtb2l6ZWAgZnVuY3Rpb24gdGhhdCBjb3VsZCBiZSBwYXNzZWQgaW50byB0aGUgb3B0aW9ucyBvYmplY3QgdG8gb3ZlcnJpZGUgdGhlIG9yaWdpbmFsIGBtZW1vaXplYCBmdW5jdGlvbiB0aGF0IHdhcyBpbml0aWFsbHkgcGFzc2VkIGludG8gYGNyZWF0ZVNlbGVjdG9yQ3JlYXRvcmAuXHJcbiAgICogQHRlbXBsYXRlIE92ZXJyaWRlQXJnc01lbW9pemVGdW5jdGlvbiAtIFRoZSB0eXBlIG9mIHRoZSBvcHRpb25hbCBgYXJnc01lbW9pemVgIGZ1bmN0aW9uIHRoYXQgY291bGQgYmUgcGFzc2VkIGludG8gdGhlIG9wdGlvbnMgb2JqZWN0IHRvIG92ZXJyaWRlIHRoZSBvcmlnaW5hbCBgYXJnc01lbW9pemVgIGZ1bmN0aW9uIHRoYXQgd2FzIGluaXRpYWxseSBwYXNzZWQgaW50byBgY3JlYXRlU2VsZWN0b3JDcmVhdG9yYC5cclxuICAgKlxyXG4gICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vcmVzZWxlY3QuanMub3JnL2FwaS9jcmVhdGVzZWxlY3RvciBgY3JlYXRlU2VsZWN0b3JgfVxyXG4gICAqL1xyXG4gIDxJbnB1dFNlbGVjdG9ycyBleHRlbmRzIFNlbGVjdG9yQXJyYXk8U3RhdGVUeXBlPiwgUmVzdWx0PihcclxuICAgIC4uLmNyZWF0ZVNlbGVjdG9yQXJnczogW1xyXG4gICAgICAuLi5pbnB1dFNlbGVjdG9yczogSW5wdXRTZWxlY3RvcnMsXHJcbiAgICAgIGNvbWJpbmVyOiBDb21iaW5lcjxJbnB1dFNlbGVjdG9ycywgUmVzdWx0PlxyXG4gICAgXVxyXG4gICk6IE91dHB1dFNlbGVjdG9yPFxyXG4gICAgSW5wdXRTZWxlY3RvcnMsXHJcbiAgICBSZXN1bHQsXHJcbiAgICBNZW1vaXplRnVuY3Rpb24sXHJcbiAgICBBcmdzTWVtb2l6ZUZ1bmN0aW9uXHJcbiAgPiAmXHJcbiAgICBJbnRlcnJ1cHRSZWN1cnNpb25cclxuXHJcbiAgLyoqXHJcbiAgICogQ3JlYXRlcyBhIG1lbW9pemVkIHNlbGVjdG9yIGZ1bmN0aW9uLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIGNyZWF0ZVNlbGVjdG9yQXJncyAtIEFuIGFyYml0cmFyeSBudW1iZXIgb2YgaW5wdXQgc2VsZWN0b3JzIGFzIHNlcGFyYXRlIGlubGluZSBhcmd1bWVudHMsIGEgYGNvbWJpbmVyYCBmdW5jdGlvbiBhbmQgYW4gYG9wdGlvbnNgIG9iamVjdC5cclxuICAgKiBAcmV0dXJucyBBIG1lbW9pemVkIG91dHB1dCBzZWxlY3Rvci5cclxuICAgKlxyXG4gICAqIEB0ZW1wbGF0ZSBJbnB1dFNlbGVjdG9ycyAtIFRoZSB0eXBlIG9mIHRoZSBpbnB1dCBzZWxlY3RvcnMgYXMgYW4gYXJyYXkuXHJcbiAgICogQHRlbXBsYXRlIFJlc3VsdCAtIFRoZSByZXR1cm4gdHlwZSBvZiB0aGUgYGNvbWJpbmVyYCBhcyB3ZWxsIGFzIHRoZSBvdXRwdXQgc2VsZWN0b3IuXHJcbiAgICogQHRlbXBsYXRlIE92ZXJyaWRlTWVtb2l6ZUZ1bmN0aW9uIC0gVGhlIHR5cGUgb2YgdGhlIG9wdGlvbmFsIGBtZW1vaXplYCBmdW5jdGlvbiB0aGF0IGNvdWxkIGJlIHBhc3NlZCBpbnRvIHRoZSBvcHRpb25zIG9iamVjdCB0byBvdmVycmlkZSB0aGUgb3JpZ2luYWwgYG1lbW9pemVgIGZ1bmN0aW9uIHRoYXQgd2FzIGluaXRpYWxseSBwYXNzZWQgaW50byBgY3JlYXRlU2VsZWN0b3JDcmVhdG9yYC5cclxuICAgKiBAdGVtcGxhdGUgT3ZlcnJpZGVBcmdzTWVtb2l6ZUZ1bmN0aW9uIC0gVGhlIHR5cGUgb2YgdGhlIG9wdGlvbmFsIGBhcmdzTWVtb2l6ZWAgZnVuY3Rpb24gdGhhdCBjb3VsZCBiZSBwYXNzZWQgaW50byB0aGUgb3B0aW9ucyBvYmplY3QgdG8gb3ZlcnJpZGUgdGhlIG9yaWdpbmFsIGBhcmdzTWVtb2l6ZWAgZnVuY3Rpb24gdGhhdCB3YXMgaW5pdGlhbGx5IHBhc3NlZCBpbnRvIGBjcmVhdGVTZWxlY3RvckNyZWF0b3JgLlxyXG4gICAqXHJcbiAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9yZXNlbGVjdC5qcy5vcmcvYXBpL2NyZWF0ZXNlbGVjdG9yIGBjcmVhdGVTZWxlY3RvcmB9XHJcbiAgICovXHJcbiAgPFxyXG4gICAgSW5wdXRTZWxlY3RvcnMgZXh0ZW5kcyBTZWxlY3RvckFycmF5PFN0YXRlVHlwZT4sXHJcbiAgICBSZXN1bHQsXHJcbiAgICBPdmVycmlkZU1lbW9pemVGdW5jdGlvbiBleHRlbmRzIFVua25vd25NZW1vaXplciA9IE1lbW9pemVGdW5jdGlvbixcclxuICAgIE92ZXJyaWRlQXJnc01lbW9pemVGdW5jdGlvbiBleHRlbmRzIFVua25vd25NZW1vaXplciA9IEFyZ3NNZW1vaXplRnVuY3Rpb25cclxuICA+KFxyXG4gICAgLi4uY3JlYXRlU2VsZWN0b3JBcmdzOiBbXHJcbiAgICAgIC4uLmlucHV0U2VsZWN0b3JzOiBJbnB1dFNlbGVjdG9ycyxcclxuICAgICAgY29tYmluZXI6IENvbWJpbmVyPElucHV0U2VsZWN0b3JzLCBSZXN1bHQ+LFxyXG4gICAgICBjcmVhdGVTZWxlY3Rvck9wdGlvbnM6IFNpbXBsaWZ5PFxyXG4gICAgICAgIENyZWF0ZVNlbGVjdG9yT3B0aW9uczxcclxuICAgICAgICAgIE1lbW9pemVGdW5jdGlvbixcclxuICAgICAgICAgIEFyZ3NNZW1vaXplRnVuY3Rpb24sXHJcbiAgICAgICAgICBPdmVycmlkZU1lbW9pemVGdW5jdGlvbixcclxuICAgICAgICAgIE92ZXJyaWRlQXJnc01lbW9pemVGdW5jdGlvblxyXG4gICAgICAgID5cclxuICAgICAgPlxyXG4gICAgXVxyXG4gICk6IE91dHB1dFNlbGVjdG9yPFxyXG4gICAgSW5wdXRTZWxlY3RvcnMsXHJcbiAgICBSZXN1bHQsXHJcbiAgICBPdmVycmlkZU1lbW9pemVGdW5jdGlvbixcclxuICAgIE92ZXJyaWRlQXJnc01lbW9pemVGdW5jdGlvblxyXG4gID4gJlxyXG4gICAgSW50ZXJydXB0UmVjdXJzaW9uXHJcblxyXG4gIC8qKlxyXG4gICAqIENyZWF0ZXMgYSBtZW1vaXplZCBzZWxlY3RvciBmdW5jdGlvbi5cclxuICAgKlxyXG4gICAqIEBwYXJhbSBpbnB1dFNlbGVjdG9ycyAtIEFuIGFycmF5IG9mIGlucHV0IHNlbGVjdG9ycy5cclxuICAgKiBAcGFyYW0gY29tYmluZXIgLSBBIGZ1bmN0aW9uIHRoYXQgQ29tYmluZXMgdGhlIGlucHV0IHNlbGVjdG9ycyBhbmQgcmV0dXJucyBhbiBvdXRwdXQgc2VsZWN0b3IuIE90aGVyd2lzZSBrbm93biBhcyB0aGUgcmVzdWx0IGZ1bmN0aW9uLlxyXG4gICAqIEBwYXJhbSBjcmVhdGVTZWxlY3Rvck9wdGlvbnMgLSBBbiBvcHRpb25hbCBvcHRpb25zIG9iamVjdCB0aGF0IGFsbG93cyBmb3IgZnVydGhlciBjdXN0b21pemF0aW9uIHBlciBzZWxlY3Rvci5cclxuICAgKiBAcmV0dXJucyBBIG1lbW9pemVkIG91dHB1dCBzZWxlY3Rvci5cclxuICAgKlxyXG4gICAqIEB0ZW1wbGF0ZSBJbnB1dFNlbGVjdG9ycyAtIFRoZSB0eXBlIG9mIHRoZSBpbnB1dCBzZWxlY3RvcnMgYXJyYXkuXHJcbiAgICogQHRlbXBsYXRlIFJlc3VsdCAtIFRoZSByZXR1cm4gdHlwZSBvZiB0aGUgYGNvbWJpbmVyYCBhcyB3ZWxsIGFzIHRoZSBvdXRwdXQgc2VsZWN0b3IuXHJcbiAgICogQHRlbXBsYXRlIE92ZXJyaWRlTWVtb2l6ZUZ1bmN0aW9uIC0gVGhlIHR5cGUgb2YgdGhlIG9wdGlvbmFsIGBtZW1vaXplYCBmdW5jdGlvbiB0aGF0IGNvdWxkIGJlIHBhc3NlZCBpbnRvIHRoZSBvcHRpb25zIG9iamVjdCB0byBvdmVycmlkZSB0aGUgb3JpZ2luYWwgYG1lbW9pemVgIGZ1bmN0aW9uIHRoYXQgd2FzIGluaXRpYWxseSBwYXNzZWQgaW50byBgY3JlYXRlU2VsZWN0b3JDcmVhdG9yYC5cclxuICAgKiBAdGVtcGxhdGUgT3ZlcnJpZGVBcmdzTWVtb2l6ZUZ1bmN0aW9uIC0gVGhlIHR5cGUgb2YgdGhlIG9wdGlvbmFsIGBhcmdzTWVtb2l6ZWAgZnVuY3Rpb24gdGhhdCBjb3VsZCBiZSBwYXNzZWQgaW50byB0aGUgb3B0aW9ucyBvYmplY3QgdG8gb3ZlcnJpZGUgdGhlIG9yaWdpbmFsIGBhcmdzTWVtb2l6ZWAgZnVuY3Rpb24gdGhhdCB3YXMgaW5pdGlhbGx5IHBhc3NlZCBpbnRvIGBjcmVhdGVTZWxlY3RvckNyZWF0b3JgLlxyXG4gICAqXHJcbiAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9yZXNlbGVjdC5qcy5vcmcvYXBpL2NyZWF0ZXNlbGVjdG9yIGBjcmVhdGVTZWxlY3RvcmB9XHJcbiAgICovXHJcbiAgPFxyXG4gICAgSW5wdXRTZWxlY3RvcnMgZXh0ZW5kcyBTZWxlY3RvckFycmF5PFN0YXRlVHlwZT4sXHJcbiAgICBSZXN1bHQsXHJcbiAgICBPdmVycmlkZU1lbW9pemVGdW5jdGlvbiBleHRlbmRzIFVua25vd25NZW1vaXplciA9IE1lbW9pemVGdW5jdGlvbixcclxuICAgIE92ZXJyaWRlQXJnc01lbW9pemVGdW5jdGlvbiBleHRlbmRzIFVua25vd25NZW1vaXplciA9IEFyZ3NNZW1vaXplRnVuY3Rpb25cclxuICA+KFxyXG4gICAgaW5wdXRTZWxlY3RvcnM6IFsuLi5JbnB1dFNlbGVjdG9yc10sXHJcbiAgICBjb21iaW5lcjogQ29tYmluZXI8SW5wdXRTZWxlY3RvcnMsIFJlc3VsdD4sXHJcbiAgICBjcmVhdGVTZWxlY3Rvck9wdGlvbnM/OiBTaW1wbGlmeTxcclxuICAgICAgQ3JlYXRlU2VsZWN0b3JPcHRpb25zPFxyXG4gICAgICAgIE1lbW9pemVGdW5jdGlvbixcclxuICAgICAgICBBcmdzTWVtb2l6ZUZ1bmN0aW9uLFxyXG4gICAgICAgIE92ZXJyaWRlTWVtb2l6ZUZ1bmN0aW9uLFxyXG4gICAgICAgIE92ZXJyaWRlQXJnc01lbW9pemVGdW5jdGlvblxyXG4gICAgICA+XHJcbiAgICA+XHJcbiAgKTogT3V0cHV0U2VsZWN0b3I8XHJcbiAgICBJbnB1dFNlbGVjdG9ycyxcclxuICAgIFJlc3VsdCxcclxuICAgIE92ZXJyaWRlTWVtb2l6ZUZ1bmN0aW9uLFxyXG4gICAgT3ZlcnJpZGVBcmdzTWVtb2l6ZUZ1bmN0aW9uXHJcbiAgPiAmXHJcbiAgICBJbnRlcnJ1cHRSZWN1cnNpb25cclxuXHJcbiAgLyoqXHJcbiAgICogQ3JlYXRlcyBhIFwicHJlLXR5cGVkXCIgdmVyc2lvbiBvZiB7QGxpbmtjb2RlIGNyZWF0ZVNlbGVjdG9yIGNyZWF0ZVNlbGVjdG9yfVxyXG4gICAqIHdoZXJlIHRoZSBgc3RhdGVgIHR5cGUgaXMgcHJlZGVmaW5lZC5cclxuICAgKlxyXG4gICAqIFRoaXMgYWxsb3dzIHlvdSB0byBzZXQgdGhlIGBzdGF0ZWAgdHlwZSBvbmNlLCBlbGltaW5hdGluZyB0aGUgbmVlZCB0b1xyXG4gICAqIHNwZWNpZnkgaXQgd2l0aCBldmVyeSB7QGxpbmtjb2RlIGNyZWF0ZVNlbGVjdG9yIGNyZWF0ZVNlbGVjdG9yfSBjYWxsLlxyXG4gICAqXHJcbiAgICogQHJldHVybnMgQSBwcmUtdHlwZWQgYGNyZWF0ZVNlbGVjdG9yYCB3aXRoIHRoZSBzdGF0ZSB0eXBlIGFscmVhZHkgZGVmaW5lZC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogYGBgdHNcclxuICAgKiBpbXBvcnQgeyBjcmVhdGVTZWxlY3RvciB9IGZyb20gJ3Jlc2VsZWN0J1xyXG4gICAqXHJcbiAgICogZXhwb3J0IGludGVyZmFjZSBSb290U3RhdGUge1xyXG4gICAqICAgdG9kb3M6IHsgaWQ6IG51bWJlcjsgY29tcGxldGVkOiBib29sZWFuIH1bXVxyXG4gICAqICAgYWxlcnRzOiB7IGlkOiBudW1iZXI7IHJlYWQ6IGJvb2xlYW4gfVtdXHJcbiAgICogfVxyXG4gICAqXHJcbiAgICogZXhwb3J0IGNvbnN0IGNyZWF0ZUFwcFNlbGVjdG9yID0gY3JlYXRlU2VsZWN0b3Iud2l0aFR5cGVzPFJvb3RTdGF0ZT4oKVxyXG4gICAqXHJcbiAgICogY29uc3Qgc2VsZWN0VG9kb0lkcyA9IGNyZWF0ZUFwcFNlbGVjdG9yKFxyXG4gICAqICAgW1xyXG4gICAqICAgICAvLyBUeXBlIG9mIGBzdGF0ZWAgaXMgc2V0IHRvIGBSb290U3RhdGVgLCBubyBuZWVkIHRvIG1hbnVhbGx5IHNldCB0aGUgdHlwZVxyXG4gICAqICAgICBzdGF0ZSA9PiBzdGF0ZS50b2Rvc1xyXG4gICAqICAgXSxcclxuICAgKiAgIHRvZG9zID0+IHRvZG9zLm1hcCgoeyBpZCB9KSA9PiBpZClcclxuICAgKiApXHJcbiAgICogYGBgXHJcbiAgICogQHRlbXBsYXRlIE92ZXJyaWRlU3RhdGVUeXBlIC0gVGhlIHNwZWNpZmljIHR5cGUgb2Ygc3RhdGUgdXNlZCBieSBhbGwgc2VsZWN0b3JzIGNyZWF0ZWQgd2l0aCB0aGlzIHNlbGVjdG9yIGNyZWF0b3IuXHJcbiAgICpcclxuICAgKiBAc2VlIHtAbGluayBodHRwczovL3Jlc2VsZWN0LmpzLm9yZy9hcGkvY3JlYXRlc2VsZWN0b3IjZGVmaW5pbmctYS1wcmUtdHlwZWQtY3JlYXRlc2VsZWN0b3IgYGNyZWF0ZVNlbGVjdG9yLndpdGhUeXBlc2B9XHJcbiAgICpcclxuICAgKiBAc2luY2UgNS4xLjBcclxuICAgKi9cclxuICB3aXRoVHlwZXM6IDxPdmVycmlkZVN0YXRlVHlwZSBleHRlbmRzIFN0YXRlVHlwZT4oKSA9PiBDcmVhdGVTZWxlY3RvckZ1bmN0aW9uPFxyXG4gICAgTWVtb2l6ZUZ1bmN0aW9uLFxyXG4gICAgQXJnc01lbW9pemVGdW5jdGlvbixcclxuICAgIE92ZXJyaWRlU3RhdGVUeXBlXHJcbiAgPlxyXG59XHJcblxyXG4vKipcclxuICogQ3JlYXRlcyBhIHNlbGVjdG9yIGNyZWF0b3IgZnVuY3Rpb24gd2l0aCB0aGUgc3BlY2lmaWVkIG1lbW9pemF0aW9uIGZ1bmN0aW9uXHJcbiAqIGFuZCBvcHRpb25zIGZvciBjdXN0b21pemluZyBtZW1vaXphdGlvbiBiZWhhdmlvci5cclxuICpcclxuICogQHBhcmFtIG9wdGlvbnMgLSBBbiBvcHRpb25zIG9iamVjdCBjb250YWluaW5nIHRoZSBgbWVtb2l6ZWAgZnVuY3Rpb24gcmVzcG9uc2libGUgZm9yIG1lbW9pemluZyB0aGUgYHJlc3VsdEZ1bmNgIGluc2lkZSBgY3JlYXRlU2VsZWN0b3JgIChlLmcuLCBgbHJ1TWVtb2l6ZWAgb3IgYHdlYWtNYXBNZW1vaXplYCkuIEl0IGFsc28gcHJvdmlkZXMgYWRkaXRpb25hbCBvcHRpb25zIGZvciBjdXN0b21pemluZyBtZW1vaXphdGlvbi4gV2hpbGUgdGhlIGBtZW1vaXplYCBwcm9wZXJ0eSBpcyBtYW5kYXRvcnksIHRoZSByZXN0IGFyZSBvcHRpb25hbC5cclxuICogQHJldHVybnMgQSBjdXN0b21pemVkIGBjcmVhdGVTZWxlY3RvcmAgZnVuY3Rpb24uXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYHRzXHJcbiAqIGNvbnN0IGN1c3RvbUNyZWF0ZVNlbGVjdG9yID0gY3JlYXRlU2VsZWN0b3JDcmVhdG9yKHtcclxuICogICBtZW1vaXplOiBjdXN0b21NZW1vaXplLCAvLyBGdW5jdGlvbiB0byBiZSB1c2VkIHRvIG1lbW9pemUgYHJlc3VsdEZ1bmNgXHJcbiAqICAgbWVtb2l6ZU9wdGlvbnM6IFttZW1vaXplT3B0aW9uMSwgbWVtb2l6ZU9wdGlvbjJdLCAvLyBPcHRpb25zIHBhc3NlZCB0byBgY3VzdG9tTWVtb2l6ZWAgYXMgdGhlIHNlY29uZCBhcmd1bWVudCBvbndhcmRzXHJcbiAqICAgYXJnc01lbW9pemU6IGN1c3RvbUFyZ3NNZW1vaXplLCAvLyBGdW5jdGlvbiB0byBiZSB1c2VkIHRvIG1lbW9pemUgdGhlIHNlbGVjdG9yJ3MgYXJndW1lbnRzXHJcbiAqICAgYXJnc01lbW9pemVPcHRpb25zOiBbYXJnc01lbW9pemVPcHRpb24xLCBhcmdzTWVtb2l6ZU9wdGlvbjJdIC8vIE9wdGlvbnMgcGFzc2VkIHRvIGBjdXN0b21BcmdzTWVtb2l6ZWAgYXMgdGhlIHNlY29uZCBhcmd1bWVudCBvbndhcmRzXHJcbiAqIH0pXHJcbiAqXHJcbiAqIGNvbnN0IGN1c3RvbVNlbGVjdG9yID0gY3VzdG9tQ3JlYXRlU2VsZWN0b3IoXHJcbiAqICAgW2lucHV0U2VsZWN0b3IxLCBpbnB1dFNlbGVjdG9yMl0sXHJcbiAqICAgcmVzdWx0RnVuYyAvLyBgcmVzdWx0RnVuY2Agd2lsbCBiZSBwYXNzZWQgYXMgdGhlIGZpcnN0IGFyZ3VtZW50IHRvIGBjdXN0b21NZW1vaXplYFxyXG4gKiApXHJcbiAqXHJcbiAqIGN1c3RvbVNlbGVjdG9yKFxyXG4gKiAgIC4uLnNlbGVjdG9yQXJncyAvLyBXaWxsIGJlIG1lbW9pemVkIGJ5IGBjdXN0b21BcmdzTWVtb2l6ZWBcclxuICogKVxyXG4gKiBgYGBcclxuICpcclxuICogQHRlbXBsYXRlIE1lbW9pemVGdW5jdGlvbiAtIFRoZSB0eXBlIG9mIHRoZSBtZW1vaXplIGZ1bmN0aW9uIHRoYXQgaXMgdXNlZCB0byBtZW1vaXplIHRoZSBgcmVzdWx0RnVuY2AgaW5zaWRlIGBjcmVhdGVTZWxlY3RvcmAgKGUuZy4sIGBscnVNZW1vaXplYCBvciBgd2Vha01hcE1lbW9pemVgKS5cclxuICogQHRlbXBsYXRlIEFyZ3NNZW1vaXplRnVuY3Rpb24gLSBUaGUgdHlwZSBvZiB0aGUgb3B0aW9uYWwgbWVtb2l6ZSBmdW5jdGlvbiB0aGF0IGlzIHVzZWQgdG8gbWVtb2l6ZSB0aGUgYXJndW1lbnRzIHBhc3NlZCBpbnRvIHRoZSBvdXRwdXQgc2VsZWN0b3IgZ2VuZXJhdGVkIGJ5IGBjcmVhdGVTZWxlY3RvcmAgKGUuZy4sIGBscnVNZW1vaXplYCBvciBgd2Vha01hcE1lbW9pemVgKS4gSWYgbm9uZSBpcyBleHBsaWNpdGx5IHByb3ZpZGVkLCBgd2Vha01hcE1lbW9pemVgIHdpbGwgYmUgdXNlZC5cclxuICpcclxuICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9yZXNlbGVjdC5qcy5vcmcvYXBpL2NyZWF0ZVNlbGVjdG9yQ3JlYXRvciN1c2luZy1vcHRpb25zLXNpbmNlLTUwMCBgY3JlYXRlU2VsZWN0b3JDcmVhdG9yYH1cclxuICpcclxuICogQHNpbmNlIDUuMC4wXHJcbiAqIEBwdWJsaWNcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTZWxlY3RvckNyZWF0b3I8XHJcbiAgTWVtb2l6ZUZ1bmN0aW9uIGV4dGVuZHMgVW5rbm93bk1lbW9pemVyLFxyXG4gIEFyZ3NNZW1vaXplRnVuY3Rpb24gZXh0ZW5kcyBVbmtub3duTWVtb2l6ZXIgPSB0eXBlb2Ygd2Vha01hcE1lbW9pemVcclxuPihcclxuICBvcHRpb25zOiBTaW1wbGlmeTxcclxuICAgIFNldFJlcXVpcmVkPFxyXG4gICAgICBDcmVhdGVTZWxlY3Rvck9wdGlvbnM8XHJcbiAgICAgICAgdHlwZW9mIHdlYWtNYXBNZW1vaXplLFxyXG4gICAgICAgIHR5cGVvZiB3ZWFrTWFwTWVtb2l6ZSxcclxuICAgICAgICBNZW1vaXplRnVuY3Rpb24sXHJcbiAgICAgICAgQXJnc01lbW9pemVGdW5jdGlvblxyXG4gICAgICA+LFxyXG4gICAgICAnbWVtb2l6ZSdcclxuICAgID5cclxuICA+XHJcbik6IENyZWF0ZVNlbGVjdG9yRnVuY3Rpb248TWVtb2l6ZUZ1bmN0aW9uLCBBcmdzTWVtb2l6ZUZ1bmN0aW9uPlxyXG5cclxuLyoqXHJcbiAqIENyZWF0ZXMgYSBzZWxlY3RvciBjcmVhdG9yIGZ1bmN0aW9uIHdpdGggdGhlIHNwZWNpZmllZCBtZW1vaXphdGlvbiBmdW5jdGlvblxyXG4gKiBhbmQgb3B0aW9ucyBmb3IgY3VzdG9taXppbmcgbWVtb2l6YXRpb24gYmVoYXZpb3IuXHJcbiAqXHJcbiAqIEBwYXJhbSBtZW1vaXplIC0gVGhlIGBtZW1vaXplYCBmdW5jdGlvbiByZXNwb25zaWJsZSBmb3IgbWVtb2l6aW5nIHRoZSBgcmVzdWx0RnVuY2AgaW5zaWRlIGBjcmVhdGVTZWxlY3RvcmAgKGUuZy4sIGBscnVNZW1vaXplYCBvciBgd2Vha01hcE1lbW9pemVgKS5cclxuICogQHBhcmFtIG1lbW9pemVPcHRpb25zRnJvbUFyZ3MgLSBPcHRpb25hbCBjb25maWd1cmF0aW9uIG9wdGlvbnMgZm9yIHRoZSBtZW1vaXphdGlvbiBmdW5jdGlvbi4gVGhlc2Ugb3B0aW9ucyBhcmUgdGhlbiBwYXNzZWQgdG8gdGhlIG1lbW9pemUgZnVuY3Rpb24gYXMgdGhlIHNlY29uZCBhcmd1bWVudCBvbndhcmRzLlxyXG4gKiBAcmV0dXJucyBBIGN1c3RvbWl6ZWQgYGNyZWF0ZVNlbGVjdG9yYCBmdW5jdGlvbi5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogYGBgdHNcclxuICogY29uc3QgY3VzdG9tQ3JlYXRlU2VsZWN0b3IgPSBjcmVhdGVTZWxlY3RvckNyZWF0b3IoY3VzdG9tTWVtb2l6ZSwgLy8gRnVuY3Rpb24gdG8gYmUgdXNlZCB0byBtZW1vaXplIGByZXN1bHRGdW5jYFxyXG4gKiAgIG9wdGlvbjEsIC8vIFdpbGwgYmUgcGFzc2VkIGFzIHNlY29uZCBhcmd1bWVudCB0byBgY3VzdG9tTWVtb2l6ZWBcclxuICogICBvcHRpb24yLCAvLyBXaWxsIGJlIHBhc3NlZCBhcyB0aGlyZCBhcmd1bWVudCB0byBgY3VzdG9tTWVtb2l6ZWBcclxuICogICBvcHRpb24zIC8vIFdpbGwgYmUgcGFzc2VkIGFzIGZvdXJ0aCBhcmd1bWVudCB0byBgY3VzdG9tTWVtb2l6ZWBcclxuICogKVxyXG4gKlxyXG4gKiBjb25zdCBjdXN0b21TZWxlY3RvciA9IGN1c3RvbUNyZWF0ZVNlbGVjdG9yKFxyXG4gKiAgIFtpbnB1dFNlbGVjdG9yMSwgaW5wdXRTZWxlY3RvcjJdLFxyXG4gKiAgIHJlc3VsdEZ1bmMgLy8gYHJlc3VsdEZ1bmNgIHdpbGwgYmUgcGFzc2VkIGFzIHRoZSBmaXJzdCBhcmd1bWVudCB0byBgY3VzdG9tTWVtb2l6ZWBcclxuICogKVxyXG4gKiBgYGBcclxuICpcclxuICogQHRlbXBsYXRlIE1lbW9pemVGdW5jdGlvbiAtIFRoZSB0eXBlIG9mIHRoZSBtZW1vaXplIGZ1bmN0aW9uIHRoYXQgaXMgdXNlZCB0byBtZW1vaXplIHRoZSBgcmVzdWx0RnVuY2AgaW5zaWRlIGBjcmVhdGVTZWxlY3RvcmAgKGUuZy4sIGBscnVNZW1vaXplYCBvciBgd2Vha01hcE1lbW9pemVgKS5cclxuICpcclxuICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9yZXNlbGVjdC5qcy5vcmcvYXBpL2NyZWF0ZVNlbGVjdG9yQ3JlYXRvciN1c2luZy1tZW1vaXplLWFuZC1tZW1vaXplb3B0aW9ucyBgY3JlYXRlU2VsZWN0b3JDcmVhdG9yYH1cclxuICpcclxuICogQHB1YmxpY1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVNlbGVjdG9yQ3JlYXRvcjxNZW1vaXplRnVuY3Rpb24gZXh0ZW5kcyBVbmtub3duTWVtb2l6ZXI+KFxyXG4gIG1lbW9pemU6IE1lbW9pemVGdW5jdGlvbixcclxuICAuLi5tZW1vaXplT3B0aW9uc0Zyb21BcmdzOiBEcm9wRmlyc3RQYXJhbWV0ZXI8TWVtb2l6ZUZ1bmN0aW9uPlxyXG4pOiBDcmVhdGVTZWxlY3RvckZ1bmN0aW9uPE1lbW9pemVGdW5jdGlvbj5cclxuXHJcbi8qKlxyXG4gKiBDcmVhdGVzIGEgc2VsZWN0b3IgY3JlYXRvciBmdW5jdGlvbiB3aXRoIHRoZSBzcGVjaWZpZWQgbWVtb2l6YXRpb25cclxuICogZnVuY3Rpb24gYW5kIG9wdGlvbnMgZm9yIGN1c3RvbWl6aW5nIG1lbW9pemF0aW9uIGJlaGF2aW9yLlxyXG4gKlxyXG4gKiBAcGFyYW0gbWVtb2l6ZU9yT3B0aW9ucyAtIEVpdGhlciBBIGBtZW1vaXplYCBmdW5jdGlvbiBvciBhbiBgb3B0aW9uc2Agb2JqZWN0IGNvbnRhaW5pbmcgdGhlIGBtZW1vaXplYCBmdW5jdGlvbi5cclxuICogQHBhcmFtIG1lbW9pemVPcHRpb25zRnJvbUFyZ3MgLSBPcHRpb25hbCBjb25maWd1cmF0aW9uIG9wdGlvbnMgZm9yIHRoZSBtZW1vaXphdGlvbiBmdW5jdGlvbi4gVGhlc2Ugb3B0aW9ucyBhcmUgdGhlbiBwYXNzZWQgdG8gdGhlIG1lbW9pemUgZnVuY3Rpb24gYXMgdGhlIHNlY29uZCBhcmd1bWVudCBvbndhcmRzLlxyXG4gKiBAcmV0dXJucyBBIGN1c3RvbWl6ZWQgYGNyZWF0ZVNlbGVjdG9yYCBmdW5jdGlvbi5cclxuICpcclxuICogQHRlbXBsYXRlIE1lbW9pemVGdW5jdGlvbiAtIFRoZSB0eXBlIG9mIHRoZSBtZW1vaXplIGZ1bmN0aW9uIHRoYXQgaXMgdXNlZCB0byBtZW1vaXplIHRoZSBgcmVzdWx0RnVuY2AgaW5zaWRlIGBjcmVhdGVTZWxlY3RvcmAgKGUuZy4sIGBscnVNZW1vaXplYCBvciBgd2Vha01hcE1lbW9pemVgKS5cclxuICogQHRlbXBsYXRlIEFyZ3NNZW1vaXplRnVuY3Rpb24gLSBUaGUgdHlwZSBvZiB0aGUgb3B0aW9uYWwgbWVtb2l6ZSBmdW5jdGlvbiB0aGF0IGlzIHVzZWQgdG8gbWVtb2l6ZSB0aGUgYXJndW1lbnRzIHBhc3NlZCBpbnRvIHRoZSBvdXRwdXQgc2VsZWN0b3IgZ2VuZXJhdGVkIGJ5IGBjcmVhdGVTZWxlY3RvcmAgKGUuZy4sIGBscnVNZW1vaXplYCBvciBgd2Vha01hcE1lbW9pemVgKS4gSWYgbm9uZSBpcyBleHBsaWNpdGx5IHByb3ZpZGVkLCBgd2Vha01hcE1lbW9pemVgIHdpbGwgYmUgdXNlZC5cclxuICogQHRlbXBsYXRlIE1lbW9pemVPck9wdGlvbnMgLSBUaGUgdHlwZSBvZiB0aGUgZmlyc3QgYXJndW1lbnQuIEl0IGNhbiBlaXRoZXIgYmUgYSBgbWVtb2l6ZWAgZnVuY3Rpb24gb3IgYW4gYG9wdGlvbnNgIG9iamVjdCBjb250YWluaW5nIHRoZSBgbWVtb2l6ZWAgZnVuY3Rpb24uXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU2VsZWN0b3JDcmVhdG9yPFxyXG4gIE1lbW9pemVGdW5jdGlvbiBleHRlbmRzIFVua25vd25NZW1vaXplcixcclxuICBBcmdzTWVtb2l6ZUZ1bmN0aW9uIGV4dGVuZHMgVW5rbm93bk1lbW9pemVyLFxyXG4gIE1lbW9pemVPck9wdGlvbnMgZXh0ZW5kc1xyXG4gICAgfCBNZW1vaXplRnVuY3Rpb25cclxuICAgIHwgU2V0UmVxdWlyZWQ8XHJcbiAgICAgICAgQ3JlYXRlU2VsZWN0b3JPcHRpb25zPE1lbW9pemVGdW5jdGlvbiwgQXJnc01lbW9pemVGdW5jdGlvbj4sXHJcbiAgICAgICAgJ21lbW9pemUnXHJcbiAgICAgID5cclxuPihcclxuICBtZW1vaXplT3JPcHRpb25zOiBNZW1vaXplT3JPcHRpb25zLFxyXG4gIC4uLm1lbW9pemVPcHRpb25zRnJvbUFyZ3M6IE1lbW9pemVPck9wdGlvbnMgZXh0ZW5kcyBTZXRSZXF1aXJlZDxcclxuICAgIENyZWF0ZVNlbGVjdG9yT3B0aW9uczxNZW1vaXplRnVuY3Rpb24sIEFyZ3NNZW1vaXplRnVuY3Rpb24+LFxyXG4gICAgJ21lbW9pemUnXHJcbiAgPlxyXG4gICAgPyBuZXZlclxyXG4gICAgOiBEcm9wRmlyc3RQYXJhbWV0ZXI8TWVtb2l6ZUZ1bmN0aW9uPlxyXG4pIHtcclxuICAvKiogb3B0aW9ucyBpbml0aWFsbHkgcGFzc2VkIGludG8gYGNyZWF0ZVNlbGVjdG9yQ3JlYXRvcmAuICovXHJcbiAgY29uc3QgY3JlYXRlU2VsZWN0b3JDcmVhdG9yT3B0aW9uczogU2V0UmVxdWlyZWQ8XHJcbiAgICBDcmVhdGVTZWxlY3Rvck9wdGlvbnM8TWVtb2l6ZUZ1bmN0aW9uLCBBcmdzTWVtb2l6ZUZ1bmN0aW9uPixcclxuICAgICdtZW1vaXplJ1xyXG4gID4gPSB0eXBlb2YgbWVtb2l6ZU9yT3B0aW9ucyA9PT0gJ2Z1bmN0aW9uJ1xyXG4gICAgPyB7XHJcbiAgICAgICAgbWVtb2l6ZTogbWVtb2l6ZU9yT3B0aW9ucyBhcyBNZW1vaXplRnVuY3Rpb24sXHJcbiAgICAgICAgbWVtb2l6ZU9wdGlvbnM6IG1lbW9pemVPcHRpb25zRnJvbUFyZ3NcclxuICAgICAgfVxyXG4gICAgOiBtZW1vaXplT3JPcHRpb25zXHJcblxyXG4gIGNvbnN0IGNyZWF0ZVNlbGVjdG9yID0gPFxyXG4gICAgSW5wdXRTZWxlY3RvcnMgZXh0ZW5kcyBTZWxlY3RvckFycmF5LFxyXG4gICAgUmVzdWx0LFxyXG4gICAgT3ZlcnJpZGVNZW1vaXplRnVuY3Rpb24gZXh0ZW5kcyBVbmtub3duTWVtb2l6ZXIgPSBNZW1vaXplRnVuY3Rpb24sXHJcbiAgICBPdmVycmlkZUFyZ3NNZW1vaXplRnVuY3Rpb24gZXh0ZW5kcyBVbmtub3duTWVtb2l6ZXIgPSBBcmdzTWVtb2l6ZUZ1bmN0aW9uXHJcbiAgPihcclxuICAgIC4uLmNyZWF0ZVNlbGVjdG9yQXJnczogW1xyXG4gICAgICAuLi5pbnB1dFNlbGVjdG9yczogWy4uLklucHV0U2VsZWN0b3JzXSxcclxuICAgICAgY29tYmluZXI6IENvbWJpbmVyPElucHV0U2VsZWN0b3JzLCBSZXN1bHQ+LFxyXG4gICAgICBjcmVhdGVTZWxlY3Rvck9wdGlvbnM/OiBDcmVhdGVTZWxlY3Rvck9wdGlvbnM8XHJcbiAgICAgICAgTWVtb2l6ZUZ1bmN0aW9uLFxyXG4gICAgICAgIEFyZ3NNZW1vaXplRnVuY3Rpb24sXHJcbiAgICAgICAgT3ZlcnJpZGVNZW1vaXplRnVuY3Rpb24sXHJcbiAgICAgICAgT3ZlcnJpZGVBcmdzTWVtb2l6ZUZ1bmN0aW9uXHJcbiAgICAgID5cclxuICAgIF1cclxuICApID0+IHtcclxuICAgIGxldCByZWNvbXB1dGF0aW9ucyA9IDBcclxuICAgIGxldCBkZXBlbmRlbmN5UmVjb21wdXRhdGlvbnMgPSAwXHJcbiAgICBsZXQgbGFzdFJlc3VsdDogUmVzdWx0XHJcblxyXG4gICAgLy8gRHVlIHRvIHRoZSBpbnRyaWNhY2llcyBvZiByZXN0IHBhcmFtcywgd2UgY2FuJ3QgZG8gYW4gb3B0aW9uYWwgYXJnIGFmdGVyIGAuLi5jcmVhdGVTZWxlY3RvckFyZ3NgLlxyXG4gICAgLy8gU28sIHN0YXJ0IGJ5IGRlY2xhcmluZyB0aGUgZGVmYXVsdCB2YWx1ZSBoZXJlLlxyXG4gICAgLy8gKEFuZCB5ZXMsIHRoZSB3b3JkcyAnbWVtb2l6ZScgYW5kICdvcHRpb25zJyBhcHBlYXIgdG9vIG1hbnkgdGltZXMgaW4gdGhpcyBuZXh0IHNlcXVlbmNlLilcclxuICAgIGxldCBkaXJlY3RseVBhc3NlZE9wdGlvbnM6IENyZWF0ZVNlbGVjdG9yT3B0aW9uczxcclxuICAgICAgTWVtb2l6ZUZ1bmN0aW9uLFxyXG4gICAgICBBcmdzTWVtb2l6ZUZ1bmN0aW9uLFxyXG4gICAgICBPdmVycmlkZU1lbW9pemVGdW5jdGlvbixcclxuICAgICAgT3ZlcnJpZGVBcmdzTWVtb2l6ZUZ1bmN0aW9uXHJcbiAgICA+ID0ge31cclxuXHJcbiAgICAvLyBOb3JtYWxseSwgdGhlIHJlc3VsdCBmdW5jIG9yIFwiY29tYmluZXJcIiBpcyB0aGUgbGFzdCBhcmdcclxuICAgIGxldCByZXN1bHRGdW5jID0gY3JlYXRlU2VsZWN0b3JBcmdzLnBvcCgpIGFzXHJcbiAgICAgIHwgQ29tYmluZXI8SW5wdXRTZWxlY3RvcnMsIFJlc3VsdD5cclxuICAgICAgfCBDcmVhdGVTZWxlY3Rvck9wdGlvbnM8XHJcbiAgICAgICAgICBNZW1vaXplRnVuY3Rpb24sXHJcbiAgICAgICAgICBBcmdzTWVtb2l6ZUZ1bmN0aW9uLFxyXG4gICAgICAgICAgT3ZlcnJpZGVNZW1vaXplRnVuY3Rpb24sXHJcbiAgICAgICAgICBPdmVycmlkZUFyZ3NNZW1vaXplRnVuY3Rpb25cclxuICAgICAgICA+XHJcblxyXG4gICAgLy8gSWYgdGhlIHJlc3VsdCBmdW5jIGlzIGFjdHVhbGx5IGFuIF9vYmplY3RfLCBhc3N1bWUgaXQncyBvdXIgb3B0aW9ucyBvYmplY3RcclxuICAgIGlmICh0eXBlb2YgcmVzdWx0RnVuYyA9PT0gJ29iamVjdCcpIHtcclxuICAgICAgZGlyZWN0bHlQYXNzZWRPcHRpb25zID0gcmVzdWx0RnVuY1xyXG4gICAgICAvLyBhbmQgcG9wIHRoZSByZWFsIHJlc3VsdCBmdW5jIG9mZlxyXG4gICAgICByZXN1bHRGdW5jID0gY3JlYXRlU2VsZWN0b3JBcmdzLnBvcCgpIGFzIENvbWJpbmVyPElucHV0U2VsZWN0b3JzLCBSZXN1bHQ+XHJcbiAgICB9XHJcblxyXG4gICAgYXNzZXJ0SXNGdW5jdGlvbihcclxuICAgICAgcmVzdWx0RnVuYyxcclxuICAgICAgYGNyZWF0ZVNlbGVjdG9yIGV4cGVjdHMgYW4gb3V0cHV0IGZ1bmN0aW9uIGFmdGVyIHRoZSBpbnB1dHMsIGJ1dCByZWNlaXZlZDogWyR7dHlwZW9mIHJlc3VsdEZ1bmN9XWBcclxuICAgIClcclxuXHJcbiAgICAvLyBEZXRlcm1pbmUgd2hpY2ggc2V0IG9mIG9wdGlvbnMgd2UncmUgdXNpbmcuIFByZWZlciBvcHRpb25zIHBhc3NlZCBkaXJlY3RseSxcclxuICAgIC8vIGJ1dCBmYWxsIGJhY2sgdG8gb3B0aW9ucyBnaXZlbiB0byBgY3JlYXRlU2VsZWN0b3JDcmVhdG9yYC5cclxuICAgIGNvbnN0IGNvbWJpbmVkT3B0aW9ucyA9IHtcclxuICAgICAgLi4uY3JlYXRlU2VsZWN0b3JDcmVhdG9yT3B0aW9ucyxcclxuICAgICAgLi4uZGlyZWN0bHlQYXNzZWRPcHRpb25zXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qge1xyXG4gICAgICBtZW1vaXplLFxyXG4gICAgICBtZW1vaXplT3B0aW9ucyA9IFtdLFxyXG4gICAgICBhcmdzTWVtb2l6ZSA9IHdlYWtNYXBNZW1vaXplLFxyXG4gICAgICBhcmdzTWVtb2l6ZU9wdGlvbnMgPSBbXSxcclxuICAgICAgZGV2TW9kZUNoZWNrcyA9IHt9XHJcbiAgICB9ID0gY29tYmluZWRPcHRpb25zXHJcblxyXG4gICAgLy8gU2ltcGxpZnlpbmcgYXNzdW1wdGlvbjogaXQncyB1bmxpa2VseSB0aGF0IHRoZSBmaXJzdCBvcHRpb25zIGFyZyBvZiB0aGUgcHJvdmlkZWQgbWVtb2l6ZXJcclxuICAgIC8vIGlzIGFuIGFycmF5LiBJbiBtb3N0IGxpYnMgSSd2ZSBsb29rZWQgYXQsIGl0J3MgYW4gZXF1YWxpdHkgZnVuY3Rpb24gb3Igb3B0aW9ucyBvYmplY3QuXHJcbiAgICAvLyBCYXNlZCBvbiB0aGF0LCBpZiBgbWVtb2l6ZU9wdGlvbnNgIF9pc18gYW4gYXJyYXksIHdlIGFzc3VtZSBpdCdzIGEgZnVsbFxyXG4gICAgLy8gdXNlci1wcm92aWRlZCBhcnJheSBvZiBvcHRpb25zLiBPdGhlcndpc2UsIGl0IG11c3QgYmUganVzdCB0aGUgX2ZpcnN0XyBhcmcsIGFuZCBzb1xyXG4gICAgLy8gd2Ugd3JhcCBpdCBpbiBhbiBhcnJheSBzbyB3ZSBjYW4gYXBwbHkgaXQuXHJcbiAgICBjb25zdCBmaW5hbE1lbW9pemVPcHRpb25zID0gZW5zdXJlSXNBcnJheShtZW1vaXplT3B0aW9ucylcclxuICAgIGNvbnN0IGZpbmFsQXJnc01lbW9pemVPcHRpb25zID0gZW5zdXJlSXNBcnJheShhcmdzTWVtb2l6ZU9wdGlvbnMpXHJcbiAgICBjb25zdCBkZXBlbmRlbmNpZXMgPSBnZXREZXBlbmRlbmNpZXMoY3JlYXRlU2VsZWN0b3JBcmdzKSBhcyBJbnB1dFNlbGVjdG9yc1xyXG5cclxuICAgIGNvbnN0IG1lbW9pemVkUmVzdWx0RnVuYyA9IG1lbW9pemUoZnVuY3Rpb24gcmVjb21wdXRhdGlvbldyYXBwZXIoKSB7XHJcbiAgICAgIHJlY29tcHV0YXRpb25zKytcclxuICAgICAgLy8gYXBwbHkgYXJndW1lbnRzIGluc3RlYWQgb2Ygc3ByZWFkaW5nIGZvciBwZXJmb3JtYW5jZS5cclxuICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICByZXR1cm4gKHJlc3VsdEZ1bmMgYXMgQ29tYmluZXI8SW5wdXRTZWxlY3RvcnMsIFJlc3VsdD4pLmFwcGx5KFxyXG4gICAgICAgIG51bGwsXHJcbiAgICAgICAgYXJndW1lbnRzIGFzIHVua25vd24gYXMgUGFyYW1ldGVyczxDb21iaW5lcjxJbnB1dFNlbGVjdG9ycywgUmVzdWx0Pj5cclxuICAgICAgKVxyXG4gICAgfSwgLi4uZmluYWxNZW1vaXplT3B0aW9ucykgYXMgQ29tYmluZXI8SW5wdXRTZWxlY3RvcnMsIFJlc3VsdD4gJlxyXG4gICAgICBFeHRyYWN0TWVtb2l6ZXJGaWVsZHM8T3ZlcnJpZGVNZW1vaXplRnVuY3Rpb24+XHJcblxyXG4gICAgbGV0IGZpcnN0UnVuID0gdHJ1ZVxyXG5cclxuICAgIC8vIElmIGEgc2VsZWN0b3IgaXMgY2FsbGVkIHdpdGggdGhlIGV4YWN0IHNhbWUgYXJndW1lbnRzIHdlIGRvbid0IG5lZWQgdG8gdHJhdmVyc2Ugb3VyIGRlcGVuZGVuY2llcyBhZ2Fpbi5cclxuICAgIGNvbnN0IHNlbGVjdG9yID0gYXJnc01lbW9pemUoZnVuY3Rpb24gZGVwZW5kZW5jaWVzQ2hlY2tlcigpIHtcclxuICAgICAgZGVwZW5kZW5jeVJlY29tcHV0YXRpb25zKytcclxuICAgICAgLyoqIFJldHVybiB2YWx1ZXMgb2YgaW5wdXQgc2VsZWN0b3JzIHdoaWNoIHRoZSBgcmVzdWx0RnVuY2AgdGFrZXMgYXMgYXJndW1lbnRzLiAqL1xyXG4gICAgICBjb25zdCBpbnB1dFNlbGVjdG9yUmVzdWx0cyA9IGNvbGxlY3RJbnB1dFNlbGVjdG9yUmVzdWx0cyhcclxuICAgICAgICBkZXBlbmRlbmNpZXMsXHJcbiAgICAgICAgYXJndW1lbnRzXHJcbiAgICAgIClcclxuXHJcbiAgICAgIC8vIGFwcGx5IGFyZ3VtZW50cyBpbnN0ZWFkIG9mIHNwcmVhZGluZyBmb3IgcGVyZm9ybWFuY2UuXHJcbiAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgbGFzdFJlc3VsdCA9IG1lbW9pemVkUmVzdWx0RnVuYy5hcHBseShudWxsLCBpbnB1dFNlbGVjdG9yUmVzdWx0cylcclxuXHJcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgY29uc3QgeyBpZGVudGl0eUZ1bmN0aW9uQ2hlY2ssIGlucHV0U3RhYmlsaXR5Q2hlY2sgfSA9XHJcbiAgICAgICAgICBnZXREZXZNb2RlQ2hlY2tzRXhlY3V0aW9uSW5mbyhmaXJzdFJ1biwgZGV2TW9kZUNoZWNrcylcclxuICAgICAgICBpZiAoaWRlbnRpdHlGdW5jdGlvbkNoZWNrLnNob3VsZFJ1bikge1xyXG4gICAgICAgICAgaWRlbnRpdHlGdW5jdGlvbkNoZWNrLnJ1bihcclxuICAgICAgICAgICAgcmVzdWx0RnVuYyBhcyBDb21iaW5lcjxJbnB1dFNlbGVjdG9ycywgUmVzdWx0PixcclxuICAgICAgICAgICAgaW5wdXRTZWxlY3RvclJlc3VsdHMsXHJcbiAgICAgICAgICAgIGxhc3RSZXN1bHRcclxuICAgICAgICAgIClcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChpbnB1dFN0YWJpbGl0eUNoZWNrLnNob3VsZFJ1bikge1xyXG4gICAgICAgICAgLy8gbWFrZSBhIHNlY29uZCBjb3B5IG9mIHRoZSBwYXJhbXMsIHRvIGNoZWNrIGlmIHdlIGdvdCB0aGUgc2FtZSByZXN1bHRzXHJcbiAgICAgICAgICBjb25zdCBpbnB1dFNlbGVjdG9yUmVzdWx0c0NvcHkgPSBjb2xsZWN0SW5wdXRTZWxlY3RvclJlc3VsdHMoXHJcbiAgICAgICAgICAgIGRlcGVuZGVuY2llcyxcclxuICAgICAgICAgICAgYXJndW1lbnRzXHJcbiAgICAgICAgICApXHJcblxyXG4gICAgICAgICAgaW5wdXRTdGFiaWxpdHlDaGVjay5ydW4oXHJcbiAgICAgICAgICAgIHsgaW5wdXRTZWxlY3RvclJlc3VsdHMsIGlucHV0U2VsZWN0b3JSZXN1bHRzQ29weSB9LFxyXG4gICAgICAgICAgICB7IG1lbW9pemUsIG1lbW9pemVPcHRpb25zOiBmaW5hbE1lbW9pemVPcHRpb25zIH0sXHJcbiAgICAgICAgICAgIGFyZ3VtZW50c1xyXG4gICAgICAgICAgKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGZpcnN0UnVuKSBmaXJzdFJ1biA9IGZhbHNlXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBsYXN0UmVzdWx0XHJcbiAgICB9LCAuLi5maW5hbEFyZ3NNZW1vaXplT3B0aW9ucykgYXMgdW5rbm93biBhcyBTZWxlY3RvcjxcclxuICAgICAgR2V0U3RhdGVGcm9tU2VsZWN0b3JzPElucHV0U2VsZWN0b3JzPixcclxuICAgICAgUmVzdWx0LFxyXG4gICAgICBHZXRQYXJhbXNGcm9tU2VsZWN0b3JzPElucHV0U2VsZWN0b3JzPlxyXG4gICAgPiAmXHJcbiAgICAgIEV4dHJhY3RNZW1vaXplckZpZWxkczxPdmVycmlkZUFyZ3NNZW1vaXplRnVuY3Rpb24+XHJcblxyXG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oc2VsZWN0b3IsIHtcclxuICAgICAgcmVzdWx0RnVuYyxcclxuICAgICAgbWVtb2l6ZWRSZXN1bHRGdW5jLFxyXG4gICAgICBkZXBlbmRlbmNpZXMsXHJcbiAgICAgIGRlcGVuZGVuY3lSZWNvbXB1dGF0aW9uczogKCkgPT4gZGVwZW5kZW5jeVJlY29tcHV0YXRpb25zLFxyXG4gICAgICByZXNldERlcGVuZGVuY3lSZWNvbXB1dGF0aW9uczogKCkgPT4ge1xyXG4gICAgICAgIGRlcGVuZGVuY3lSZWNvbXB1dGF0aW9ucyA9IDBcclxuICAgICAgfSxcclxuICAgICAgbGFzdFJlc3VsdDogKCkgPT4gbGFzdFJlc3VsdCxcclxuICAgICAgcmVjb21wdXRhdGlvbnM6ICgpID0+IHJlY29tcHV0YXRpb25zLFxyXG4gICAgICByZXNldFJlY29tcHV0YXRpb25zOiAoKSA9PiB7XHJcbiAgICAgICAgcmVjb21wdXRhdGlvbnMgPSAwXHJcbiAgICAgIH0sXHJcbiAgICAgIG1lbW9pemUsXHJcbiAgICAgIGFyZ3NNZW1vaXplXHJcbiAgICB9KSBhcyBPdXRwdXRTZWxlY3RvcjxcclxuICAgICAgSW5wdXRTZWxlY3RvcnMsXHJcbiAgICAgIFJlc3VsdCxcclxuICAgICAgT3ZlcnJpZGVNZW1vaXplRnVuY3Rpb24sXHJcbiAgICAgIE92ZXJyaWRlQXJnc01lbW9pemVGdW5jdGlvblxyXG4gICAgPlxyXG4gIH1cclxuXHJcbiAgT2JqZWN0LmFzc2lnbihjcmVhdGVTZWxlY3Rvciwge1xyXG4gICAgd2l0aFR5cGVzOiAoKSA9PiBjcmVhdGVTZWxlY3RvclxyXG4gIH0pXHJcblxyXG4gIHJldHVybiBjcmVhdGVTZWxlY3RvciBhcyBDcmVhdGVTZWxlY3RvckZ1bmN0aW9uPFxyXG4gICAgTWVtb2l6ZUZ1bmN0aW9uLFxyXG4gICAgQXJnc01lbW9pemVGdW5jdGlvblxyXG4gID5cclxufVxyXG5cclxuLyoqXHJcbiAqIEFjY2VwdHMgb25lIG9yIG1vcmUgXCJpbnB1dCBzZWxlY3RvcnNcIiAoZWl0aGVyIGFzIHNlcGFyYXRlIGFyZ3VtZW50cyBvciBhIHNpbmdsZSBhcnJheSksXHJcbiAqIGEgc2luZ2xlIFwicmVzdWx0IGZ1bmN0aW9uXCIgLyBcImNvbWJpbmVyXCIsIGFuZCBhbiBvcHRpb25hbCBvcHRpb25zIG9iamVjdCwgYW5kXHJcbiAqIGdlbmVyYXRlcyBhIG1lbW9pemVkIHNlbGVjdG9yIGZ1bmN0aW9uLlxyXG4gKlxyXG4gKiBAc2VlIHtAbGluayBodHRwczovL3Jlc2VsZWN0LmpzLm9yZy9hcGkvY3JlYXRlU2VsZWN0b3IgYGNyZWF0ZVNlbGVjdG9yYH1cclxuICpcclxuICogQHB1YmxpY1xyXG4gKi9cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZVNlbGVjdG9yID1cclxuICAvKiAjX19QVVJFX18gKi8gY3JlYXRlU2VsZWN0b3JDcmVhdG9yKHdlYWtNYXBNZW1vaXplKVxyXG4iLCJpbXBvcnQgeyBjcmVhdGVTZWxlY3RvciB9IGZyb20gJy4vY3JlYXRlU2VsZWN0b3JDcmVhdG9yJ1xyXG5cclxuaW1wb3J0IHR5cGUgeyBDcmVhdGVTZWxlY3RvckZ1bmN0aW9uIH0gZnJvbSAnLi9jcmVhdGVTZWxlY3RvckNyZWF0b3InXHJcbmltcG9ydCB0eXBlIHtcclxuICBJbnRlcnJ1cHRSZWN1cnNpb24sXHJcbiAgT2JqZWN0VmFsdWVzVG9UdXBsZSxcclxuICBPdXRwdXRTZWxlY3RvcixcclxuICBTZWxlY3RvcixcclxuICBTaW1wbGlmeSxcclxuICBVbmtub3duTWVtb2l6ZXJcclxufSBmcm9tICcuL3R5cGVzJ1xyXG5pbXBvcnQgeyBhc3NlcnRJc09iamVjdCB9IGZyb20gJy4vdXRpbHMnXHJcbmltcG9ydCB0eXBlIHsgd2Vha01hcE1lbW9pemUgfSBmcm9tICcuL3dlYWtNYXBNZW1vaXplJ1xyXG5cclxuLyoqXHJcbiAqIFJlcHJlc2VudHMgYSBtYXBwaW5nIG9mIHNlbGVjdG9ycyB0byB0aGVpciByZXR1cm4gdHlwZXMuXHJcbiAqXHJcbiAqIEB0ZW1wbGF0ZSBUT2JqZWN0IC0gQW4gb2JqZWN0IHR5cGUgd2hlcmUgZWFjaCBwcm9wZXJ0eSBpcyBhIHNlbGVjdG9yIGZ1bmN0aW9uLlxyXG4gKlxyXG4gKiBAcHVibGljXHJcbiAqL1xyXG5leHBvcnQgdHlwZSBTZWxlY3RvclJlc3VsdHNNYXA8VE9iamVjdCBleHRlbmRzIFNlbGVjdG9yc09iamVjdD4gPSB7XHJcbiAgW0tleSBpbiBrZXlvZiBUT2JqZWN0XTogUmV0dXJuVHlwZTxUT2JqZWN0W0tleV0+XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZXByZXNlbnRzIGEgbWFwcGluZyBvZiBzZWxlY3RvcnMgZm9yIGVhY2gga2V5IGluIGEgZ2l2ZW4gcm9vdCBzdGF0ZS5cclxuICpcclxuICogVGhpcyB0eXBlIGlzIGEgdXRpbGl0eSB0aGF0IHRha2VzIGEgcm9vdCBzdGF0ZSBvYmplY3QgdHlwZSBhbmRcclxuICogZ2VuZXJhdGVzIGEgY29ycmVzcG9uZGluZyBzZXQgb2Ygc2VsZWN0b3JzLiBFYWNoIHNlbGVjdG9yIGlzIGFzc29jaWF0ZWRcclxuICogd2l0aCBhIGtleSBpbiB0aGUgcm9vdCBzdGF0ZSwgYWxsb3dpbmcgZm9yIHRoZSBzZWxlY3Rpb25cclxuICogb2Ygc3BlY2lmaWMgcGFydHMgb2YgdGhlIHN0YXRlLlxyXG4gKlxyXG4gKiBAdGVtcGxhdGUgUm9vdFN0YXRlIC0gVGhlIHR5cGUgb2YgdGhlIHJvb3Qgc3RhdGUgb2JqZWN0LlxyXG4gKlxyXG4gKiBAc2luY2UgNS4wLjBcclxuICogQHB1YmxpY1xyXG4gKi9cclxuZXhwb3J0IHR5cGUgUm9vdFN0YXRlU2VsZWN0b3JzPFJvb3RTdGF0ZSA9IGFueT4gPSB7XHJcbiAgW0tleSBpbiBrZXlvZiBSb290U3RhdGVdOiBTZWxlY3RvcjxSb290U3RhdGUsIFJvb3RTdGF0ZVtLZXldLCBbXT5cclxufVxyXG5cclxuLyoqXHJcbiAqIEBkZXByZWNhdGVkIFBsZWFzZSB1c2Uge0BsaW5rY29kZSBTdHJ1Y3R1cmVkU2VsZWN0b3JDcmVhdG9yLndpdGhUeXBlcyBjcmVhdGVTdHJ1Y3R1cmVkU2VsZWN0b3Iud2l0aFR5cGVzPFJvb3RTdGF0ZT4oKX0gaW5zdGVhZC4gVGhpcyB0eXBlIHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgZnV0dXJlLlxyXG4gKiBAdGVtcGxhdGUgUm9vdFN0YXRlIC0gVGhlIHR5cGUgb2YgdGhlIHJvb3Qgc3RhdGUgb2JqZWN0LlxyXG4gKlxyXG4gKiBAc2luY2UgNS4wLjBcclxuICogQHB1YmxpY1xyXG4gKi9cclxuZXhwb3J0IHR5cGUgVHlwZWRTdHJ1Y3R1cmVkU2VsZWN0b3JDcmVhdG9yPFJvb3RTdGF0ZSA9IGFueT4gPVxyXG4gIC8qKlxyXG4gICAqIEEgY29udmVuaWVuY2UgZnVuY3Rpb24gdGhhdCBzaW1wbGlmaWVzIHJldHVybmluZyBhbiBvYmplY3RcclxuICAgKiBtYWRlIHVwIG9mIHNlbGVjdG9yIHJlc3VsdHMuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gaW5wdXRTZWxlY3RvcnNPYmplY3QgLSBBIGtleSB2YWx1ZSBwYWlyIGNvbnNpc3Rpbmcgb2YgaW5wdXQgc2VsZWN0b3JzLlxyXG4gICAqIEBwYXJhbSBzZWxlY3RvckNyZWF0b3IgLSBBIGN1c3RvbSBzZWxlY3RvciBjcmVhdG9yIGZ1bmN0aW9uLiBJdCBkZWZhdWx0cyB0byBgY3JlYXRlU2VsZWN0b3JgLlxyXG4gICAqIEByZXR1cm5zIEEgbWVtb2l6ZWQgc3RydWN0dXJlZCBzZWxlY3Rvci5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogPGNhcHRpb24+TW9kZXJuIFVzZSBDYXNlPC9jYXB0aW9uPlxyXG4gICAqIGBgYHRzXHJcbiAgICogaW1wb3J0IHsgY3JlYXRlU2VsZWN0b3IsIGNyZWF0ZVN0cnVjdHVyZWRTZWxlY3RvciB9IGZyb20gJ3Jlc2VsZWN0J1xyXG4gICAqXHJcbiAgICogaW50ZXJmYWNlIFJvb3RTdGF0ZSB7XHJcbiAgICogICB0b2Rvczoge1xyXG4gICAqICAgICBpZDogbnVtYmVyXHJcbiAgICogICAgIGNvbXBsZXRlZDogYm9vbGVhblxyXG4gICAqICAgICB0aXRsZTogc3RyaW5nXHJcbiAgICogICAgIGRlc2NyaXB0aW9uOiBzdHJpbmdcclxuICAgKiAgIH1bXVxyXG4gICAqICAgYWxlcnRzOiB7IGlkOiBudW1iZXI7IHJlYWQ6IGJvb2xlYW4gfVtdXHJcbiAgICogfVxyXG4gICAqXHJcbiAgICogLy8gVGhpczpcclxuICAgKiBjb25zdCBzdHJ1Y3R1cmVkU2VsZWN0b3IgPSBjcmVhdGVTdHJ1Y3R1cmVkU2VsZWN0b3IoXHJcbiAgICogICB7XHJcbiAgICogICAgIHRvZG9zOiAoc3RhdGU6IFJvb3RTdGF0ZSkgPT4gc3RhdGUudG9kb3MsXHJcbiAgICogICAgIGFsZXJ0czogKHN0YXRlOiBSb290U3RhdGUpID0+IHN0YXRlLmFsZXJ0cyxcclxuICAgKiAgICAgdG9kb0J5SWQ6IChzdGF0ZTogUm9vdFN0YXRlLCBpZDogbnVtYmVyKSA9PiBzdGF0ZS50b2Rvc1tpZF1cclxuICAgKiAgIH0sXHJcbiAgICogICBjcmVhdGVTZWxlY3RvclxyXG4gICAqIClcclxuICAgKlxyXG4gICAqIC8vIElzIGVzc2VudGlhbGx5IHRoZSBzYW1lIGFzIHRoaXM6XHJcbiAgICogY29uc3Qgc2VsZWN0b3IgPSBjcmVhdGVTZWxlY3RvcihcclxuICAgKiAgIFtcclxuICAgKiAgICAgKHN0YXRlOiBSb290U3RhdGUpID0+IHN0YXRlLnRvZG9zLFxyXG4gICAqICAgICAoc3RhdGU6IFJvb3RTdGF0ZSkgPT4gc3RhdGUuYWxlcnRzLFxyXG4gICAqICAgICAoc3RhdGU6IFJvb3RTdGF0ZSwgaWQ6IG51bWJlcikgPT4gc3RhdGUudG9kb3NbaWRdXHJcbiAgICogICBdLFxyXG4gICAqICAgKHRvZG9zLCBhbGVydHMsIHRvZG9CeUlkKSA9PiB7XHJcbiAgICogICAgIHJldHVybiB7XHJcbiAgICogICAgICAgdG9kb3MsXHJcbiAgICogICAgICAgYWxlcnRzLFxyXG4gICAqICAgICAgIHRvZG9CeUlkXHJcbiAgICogICAgIH1cclxuICAgKiAgIH1cclxuICAgKiApXHJcbiAgICogYGBgXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIDxjYXB0aW9uPkluIHlvdXIgY29tcG9uZW50OjwvY2FwdGlvbj5cclxuICAgKiBgYGB0c3hcclxuICAgKiBpbXBvcnQgdHlwZSB7IFJvb3RTdGF0ZSB9IGZyb20gJ2NyZWF0ZVN0cnVjdHVyZWRTZWxlY3Rvci9tb2Rlcm5Vc2VDYXNlJ1xyXG4gICAqIGltcG9ydCB7IHN0cnVjdHVyZWRTZWxlY3RvciB9IGZyb20gJ2NyZWF0ZVN0cnVjdHVyZWRTZWxlY3Rvci9tb2Rlcm5Vc2VDYXNlJ1xyXG4gICAqIGltcG9ydCB0eXBlIHsgRkMgfSBmcm9tICdyZWFjdCdcclxuICAgKiBpbXBvcnQgeyB1c2VTZWxlY3RvciB9IGZyb20gJ3JlYWN0LXJlZHV4J1xyXG4gICAqXHJcbiAgICogaW50ZXJmYWNlIFByb3BzIHtcclxuICAgKiAgIGlkOiBudW1iZXJcclxuICAgKiB9XHJcbiAgICpcclxuICAgKiBjb25zdCBNeUNvbXBvbmVudDogRkM8UHJvcHM+ID0gKHsgaWQgfSkgPT4ge1xyXG4gICAqICAgY29uc3QgeyB0b2RvcywgYWxlcnRzLCB0b2RvQnlJZCB9ID0gdXNlU2VsZWN0b3IoKHN0YXRlOiBSb290U3RhdGUpID0+XHJcbiAgICogICAgIHN0cnVjdHVyZWRTZWxlY3RvcihzdGF0ZSwgaWQpXHJcbiAgICogICApXHJcbiAgICpcclxuICAgKiAgIHJldHVybiAoXHJcbiAgICogICAgIDxkaXY+XHJcbiAgICogICAgICAgTmV4dCB0byBkbyBpczpcclxuICAgKiAgICAgICA8aDI+e3RvZG9CeUlkLnRpdGxlfTwvaDI+XHJcbiAgICogICAgICAgPHA+RGVzY3JpcHRpb246IHt0b2RvQnlJZC5kZXNjcmlwdGlvbn08L3A+XHJcbiAgICogICAgICAgPHVsPlxyXG4gICAqICAgICAgICAgPGgzPkFsbCBvdGhlciB0byBkb3M6PC9oMz5cclxuICAgKiAgICAgICAgIHt0b2Rvcy5tYXAodG9kbyA9PiAoXHJcbiAgICogICAgICAgICAgIDxsaSBrZXk9e3RvZG8uaWR9Pnt0b2RvLnRpdGxlfTwvbGk+XHJcbiAgICogICAgICAgICApKX1cclxuICAgKiAgICAgICA8L3VsPlxyXG4gICAqICAgICA8L2Rpdj5cclxuICAgKiAgIClcclxuICAgKiB9XHJcbiAgICogYGBgXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIDxjYXB0aW9uPlNpbXBsZSBVc2UgQ2FzZTwvY2FwdGlvbj5cclxuICAgKiBgYGB0c1xyXG4gICAqIGNvbnN0IHNlbGVjdEEgPSBzdGF0ZSA9PiBzdGF0ZS5hXHJcbiAgICogY29uc3Qgc2VsZWN0QiA9IHN0YXRlID0+IHN0YXRlLmJcclxuICAgKlxyXG4gICAqIC8vIFRoZSByZXN1bHQgZnVuY3Rpb24gaW4gdGhlIGZvbGxvd2luZyBzZWxlY3RvclxyXG4gICAqIC8vIGlzIHNpbXBseSBidWlsZGluZyBhbiBvYmplY3QgZnJvbSB0aGUgaW5wdXQgc2VsZWN0b3JzXHJcbiAgICogY29uc3Qgc3RydWN0dXJlZFNlbGVjdG9yID0gY3JlYXRlU2VsZWN0b3Ioc2VsZWN0QSwgc2VsZWN0QiwgKGEsIGIpID0+ICh7XHJcbiAgICogICBhLFxyXG4gICAqICAgYlxyXG4gICAqIH0pKVxyXG4gICAqXHJcbiAgICogY29uc3QgcmVzdWx0ID0gc3RydWN0dXJlZFNlbGVjdG9yKHsgYTogMSwgYjogMiB9KSAvLyB3aWxsIHByb2R1Y2UgeyB4OiAxLCB5OiAyIH1cclxuICAgKiBgYGBcclxuICAgKlxyXG4gICAqIEB0ZW1wbGF0ZSBJbnB1dFNlbGVjdG9yc09iamVjdCAtIFRoZSBzaGFwZSBvZiB0aGUgaW5wdXQgc2VsZWN0b3JzIG9iamVjdC5cclxuICAgKiBAdGVtcGxhdGUgTWVtb2l6ZUZ1bmN0aW9uIC0gVGhlIHR5cGUgb2YgdGhlIG1lbW9pemUgZnVuY3Rpb24gdGhhdCBpcyB1c2VkIHRvIGNyZWF0ZSB0aGUgc3RydWN0dXJlZCBzZWxlY3Rvci4gSXQgZGVmYXVsdHMgdG8gYHdlYWtNYXBNZW1vaXplYC5cclxuICAgKiBAdGVtcGxhdGUgQXJnc01lbW9pemVGdW5jdGlvbiAtIFRoZSB0eXBlIG9mIHRoZSBvZiB0aGUgbWVtb2l6ZSBmdW5jdGlvbiB0aGF0IGlzIHVzZWQgdG8gbWVtb2l6ZSB0aGUgYXJndW1lbnRzIHBhc3NlZCBpbnRvIHRoZSBnZW5lcmF0ZWQgc3RydWN0dXJlZCBzZWxlY3Rvci4gSXQgZGVmYXVsdHMgdG8gYHdlYWtNYXBNZW1vaXplYC5cclxuICAgKlxyXG4gICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vcmVzZWxlY3QuanMub3JnL2FwaS9jcmVhdGVTdHJ1Y3R1cmVkU2VsZWN0b3IgYGNyZWF0ZVN0cnVjdHVyZWRTZWxlY3RvcmB9XHJcbiAgICovXHJcbiAgPFxyXG4gICAgSW5wdXRTZWxlY3RvcnNPYmplY3QgZXh0ZW5kcyBSb290U3RhdGVTZWxlY3RvcnM8Um9vdFN0YXRlPiA9IFJvb3RTdGF0ZVNlbGVjdG9yczxSb290U3RhdGU+LFxyXG4gICAgTWVtb2l6ZUZ1bmN0aW9uIGV4dGVuZHMgVW5rbm93bk1lbW9pemVyID0gdHlwZW9mIHdlYWtNYXBNZW1vaXplLFxyXG4gICAgQXJnc01lbW9pemVGdW5jdGlvbiBleHRlbmRzIFVua25vd25NZW1vaXplciA9IHR5cGVvZiB3ZWFrTWFwTWVtb2l6ZVxyXG4gID4oXHJcbiAgICBpbnB1dFNlbGVjdG9yc09iamVjdDogSW5wdXRTZWxlY3RvcnNPYmplY3QsXHJcbiAgICBzZWxlY3RvckNyZWF0b3I/OiBDcmVhdGVTZWxlY3RvckZ1bmN0aW9uPFxyXG4gICAgICBNZW1vaXplRnVuY3Rpb24sXHJcbiAgICAgIEFyZ3NNZW1vaXplRnVuY3Rpb25cclxuICAgID5cclxuICApID0+IE91dHB1dFNlbGVjdG9yPFxyXG4gICAgT2JqZWN0VmFsdWVzVG9UdXBsZTxJbnB1dFNlbGVjdG9yc09iamVjdD4sXHJcbiAgICBTaW1wbGlmeTxTZWxlY3RvclJlc3VsdHNNYXA8SW5wdXRTZWxlY3RvcnNPYmplY3Q+PixcclxuICAgIE1lbW9pemVGdW5jdGlvbixcclxuICAgIEFyZ3NNZW1vaXplRnVuY3Rpb25cclxuICA+ICZcclxuICAgIEludGVycnVwdFJlY3Vyc2lvblxyXG5cclxuLyoqXHJcbiAqIFJlcHJlc2VudHMgYW4gb2JqZWN0IHdoZXJlIGVhY2ggcHJvcGVydHkgaXMgYSBzZWxlY3RvciBmdW5jdGlvbi5cclxuICpcclxuICogQHRlbXBsYXRlIFN0YXRlVHlwZSAtIFRoZSB0eXBlIG9mIHN0YXRlIHRoYXQgYWxsIHRoZSBzZWxlY3RvcnMgb3BlcmF0ZSBvbi5cclxuICpcclxuICogQHB1YmxpY1xyXG4gKi9cclxuZXhwb3J0IHR5cGUgU2VsZWN0b3JzT2JqZWN0PFN0YXRlVHlwZSA9IGFueT4gPSBSZWNvcmQ8XHJcbiAgc3RyaW5nLFxyXG4gIFNlbGVjdG9yPFN0YXRlVHlwZT5cclxuPlxyXG5cclxuLyoqXHJcbiAqIEl0IHByb3ZpZGVzIGEgd2F5IHRvIGNyZWF0ZSBzdHJ1Y3R1cmVkIHNlbGVjdG9ycy5cclxuICogVGhlIHN0cnVjdHVyZWQgc2VsZWN0b3IgY2FuIHRha2UgbXVsdGlwbGUgaW5wdXQgc2VsZWN0b3JzXHJcbiAqIGFuZCBtYXAgdGhlaXIgb3V0cHV0IHRvIGFuIG9iamVjdCB3aXRoIHNwZWNpZmljIGtleXMuXHJcbiAqXHJcbiAqIEB0ZW1wbGF0ZSBTdGF0ZVR5cGUgLSBUaGUgdHlwZSBvZiBzdGF0ZSB0aGF0IHRoZSBzdHJ1Y3R1cmVkIHNlbGVjdG9ycyBjcmVhdGVkIHdpdGggdGhpcyBzdHJ1Y3R1cmVkIHNlbGVjdG9yIGNyZWF0b3Igd2lsbCBvcGVyYXRlIG9uLlxyXG4gKlxyXG4gKiBAc2VlIHtAbGluayBodHRwczovL3Jlc2VsZWN0LmpzLm9yZy9hcGkvY3JlYXRlU3RydWN0dXJlZFNlbGVjdG9yIGBjcmVhdGVTdHJ1Y3R1cmVkU2VsZWN0b3JgfVxyXG4gKlxyXG4gKiBAcHVibGljXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIFN0cnVjdHVyZWRTZWxlY3RvckNyZWF0b3I8U3RhdGVUeXBlID0gYW55PiB7XHJcbiAgLyoqXHJcbiAgICogQSBjb252ZW5pZW5jZSBmdW5jdGlvbiB0aGF0IHNpbXBsaWZpZXMgcmV0dXJuaW5nIGFuIG9iamVjdFxyXG4gICAqIG1hZGUgdXAgb2Ygc2VsZWN0b3IgcmVzdWx0cy5cclxuICAgKlxyXG4gICAqIEBwYXJhbSBpbnB1dFNlbGVjdG9yc09iamVjdCAtIEEga2V5IHZhbHVlIHBhaXIgY29uc2lzdGluZyBvZiBpbnB1dCBzZWxlY3RvcnMuXHJcbiAgICogQHBhcmFtIHNlbGVjdG9yQ3JlYXRvciAtIEEgY3VzdG9tIHNlbGVjdG9yIGNyZWF0b3IgZnVuY3Rpb24uIEl0IGRlZmF1bHRzIHRvIGBjcmVhdGVTZWxlY3RvcmAuXHJcbiAgICogQHJldHVybnMgQSBtZW1vaXplZCBzdHJ1Y3R1cmVkIHNlbGVjdG9yLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiA8Y2FwdGlvbj5Nb2Rlcm4gVXNlIENhc2U8L2NhcHRpb24+XHJcbiAgICogYGBgdHNcclxuICAgKiBpbXBvcnQgeyBjcmVhdGVTZWxlY3RvciwgY3JlYXRlU3RydWN0dXJlZFNlbGVjdG9yIH0gZnJvbSAncmVzZWxlY3QnXHJcbiAgICpcclxuICAgKiBpbnRlcmZhY2UgUm9vdFN0YXRlIHtcclxuICAgKiAgIHRvZG9zOiB7XHJcbiAgICogICAgIGlkOiBudW1iZXJcclxuICAgKiAgICAgY29tcGxldGVkOiBib29sZWFuXHJcbiAgICogICAgIHRpdGxlOiBzdHJpbmdcclxuICAgKiAgICAgZGVzY3JpcHRpb246IHN0cmluZ1xyXG4gICAqICAgfVtdXHJcbiAgICogICBhbGVydHM6IHsgaWQ6IG51bWJlcjsgcmVhZDogYm9vbGVhbiB9W11cclxuICAgKiB9XHJcbiAgICpcclxuICAgKiAvLyBUaGlzOlxyXG4gICAqIGNvbnN0IHN0cnVjdHVyZWRTZWxlY3RvciA9IGNyZWF0ZVN0cnVjdHVyZWRTZWxlY3RvcihcclxuICAgKiAgIHtcclxuICAgKiAgICAgdG9kb3M6IChzdGF0ZTogUm9vdFN0YXRlKSA9PiBzdGF0ZS50b2RvcyxcclxuICAgKiAgICAgYWxlcnRzOiAoc3RhdGU6IFJvb3RTdGF0ZSkgPT4gc3RhdGUuYWxlcnRzLFxyXG4gICAqICAgICB0b2RvQnlJZDogKHN0YXRlOiBSb290U3RhdGUsIGlkOiBudW1iZXIpID0+IHN0YXRlLnRvZG9zW2lkXVxyXG4gICAqICAgfSxcclxuICAgKiAgIGNyZWF0ZVNlbGVjdG9yXHJcbiAgICogKVxyXG4gICAqXHJcbiAgICogLy8gSXMgZXNzZW50aWFsbHkgdGhlIHNhbWUgYXMgdGhpczpcclxuICAgKiBjb25zdCBzZWxlY3RvciA9IGNyZWF0ZVNlbGVjdG9yKFxyXG4gICAqICAgW1xyXG4gICAqICAgICAoc3RhdGU6IFJvb3RTdGF0ZSkgPT4gc3RhdGUudG9kb3MsXHJcbiAgICogICAgIChzdGF0ZTogUm9vdFN0YXRlKSA9PiBzdGF0ZS5hbGVydHMsXHJcbiAgICogICAgIChzdGF0ZTogUm9vdFN0YXRlLCBpZDogbnVtYmVyKSA9PiBzdGF0ZS50b2Rvc1tpZF1cclxuICAgKiAgIF0sXHJcbiAgICogICAodG9kb3MsIGFsZXJ0cywgdG9kb0J5SWQpID0+IHtcclxuICAgKiAgICAgcmV0dXJuIHtcclxuICAgKiAgICAgICB0b2RvcyxcclxuICAgKiAgICAgICBhbGVydHMsXHJcbiAgICogICAgICAgdG9kb0J5SWRcclxuICAgKiAgICAgfVxyXG4gICAqICAgfVxyXG4gICAqIClcclxuICAgKiBgYGBcclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogPGNhcHRpb24+SW4geW91ciBjb21wb25lbnQ6PC9jYXB0aW9uPlxyXG4gICAqIGBgYHRzeFxyXG4gICAqIGltcG9ydCB0eXBlIHsgUm9vdFN0YXRlIH0gZnJvbSAnY3JlYXRlU3RydWN0dXJlZFNlbGVjdG9yL21vZGVyblVzZUNhc2UnXHJcbiAgICogaW1wb3J0IHsgc3RydWN0dXJlZFNlbGVjdG9yIH0gZnJvbSAnY3JlYXRlU3RydWN0dXJlZFNlbGVjdG9yL21vZGVyblVzZUNhc2UnXHJcbiAgICogaW1wb3J0IHR5cGUgeyBGQyB9IGZyb20gJ3JlYWN0J1xyXG4gICAqIGltcG9ydCB7IHVzZVNlbGVjdG9yIH0gZnJvbSAncmVhY3QtcmVkdXgnXHJcbiAgICpcclxuICAgKiBpbnRlcmZhY2UgUHJvcHMge1xyXG4gICAqICAgaWQ6IG51bWJlclxyXG4gICAqIH1cclxuICAgKlxyXG4gICAqIGNvbnN0IE15Q29tcG9uZW50OiBGQzxQcm9wcz4gPSAoeyBpZCB9KSA9PiB7XHJcbiAgICogICBjb25zdCB7IHRvZG9zLCBhbGVydHMsIHRvZG9CeUlkIH0gPSB1c2VTZWxlY3Rvcigoc3RhdGU6IFJvb3RTdGF0ZSkgPT5cclxuICAgKiAgICAgc3RydWN0dXJlZFNlbGVjdG9yKHN0YXRlLCBpZClcclxuICAgKiAgIClcclxuICAgKlxyXG4gICAqICAgcmV0dXJuIChcclxuICAgKiAgICAgPGRpdj5cclxuICAgKiAgICAgICBOZXh0IHRvIGRvIGlzOlxyXG4gICAqICAgICAgIDxoMj57dG9kb0J5SWQudGl0bGV9PC9oMj5cclxuICAgKiAgICAgICA8cD5EZXNjcmlwdGlvbjoge3RvZG9CeUlkLmRlc2NyaXB0aW9ufTwvcD5cclxuICAgKiAgICAgICA8dWw+XHJcbiAgICogICAgICAgICA8aDM+QWxsIG90aGVyIHRvIGRvczo8L2gzPlxyXG4gICAqICAgICAgICAge3RvZG9zLm1hcCh0b2RvID0+IChcclxuICAgKiAgICAgICAgICAgPGxpIGtleT17dG9kby5pZH0+e3RvZG8udGl0bGV9PC9saT5cclxuICAgKiAgICAgICAgICkpfVxyXG4gICAqICAgICAgIDwvdWw+XHJcbiAgICogICAgIDwvZGl2PlxyXG4gICAqICAgKVxyXG4gICAqIH1cclxuICAgKiBgYGBcclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogPGNhcHRpb24+U2ltcGxlIFVzZSBDYXNlPC9jYXB0aW9uPlxyXG4gICAqIGBgYHRzXHJcbiAgICogY29uc3Qgc2VsZWN0QSA9IHN0YXRlID0+IHN0YXRlLmFcclxuICAgKiBjb25zdCBzZWxlY3RCID0gc3RhdGUgPT4gc3RhdGUuYlxyXG4gICAqXHJcbiAgICogLy8gVGhlIHJlc3VsdCBmdW5jdGlvbiBpbiB0aGUgZm9sbG93aW5nIHNlbGVjdG9yXHJcbiAgICogLy8gaXMgc2ltcGx5IGJ1aWxkaW5nIGFuIG9iamVjdCBmcm9tIHRoZSBpbnB1dCBzZWxlY3RvcnNcclxuICAgKiBjb25zdCBzdHJ1Y3R1cmVkU2VsZWN0b3IgPSBjcmVhdGVTZWxlY3RvcihzZWxlY3RBLCBzZWxlY3RCLCAoYSwgYikgPT4gKHtcclxuICAgKiAgIGEsXHJcbiAgICogICBiXHJcbiAgICogfSkpXHJcbiAgICpcclxuICAgKiBjb25zdCByZXN1bHQgPSBzdHJ1Y3R1cmVkU2VsZWN0b3IoeyBhOiAxLCBiOiAyIH0pIC8vIHdpbGwgcHJvZHVjZSB7IHg6IDEsIHk6IDIgfVxyXG4gICAqIGBgYFxyXG4gICAqXHJcbiAgICogQHRlbXBsYXRlIElucHV0U2VsZWN0b3JzT2JqZWN0IC0gVGhlIHNoYXBlIG9mIHRoZSBpbnB1dCBzZWxlY3RvcnMgb2JqZWN0LlxyXG4gICAqIEB0ZW1wbGF0ZSBNZW1vaXplRnVuY3Rpb24gLSBUaGUgdHlwZSBvZiB0aGUgbWVtb2l6ZSBmdW5jdGlvbiB0aGF0IGlzIHVzZWQgdG8gY3JlYXRlIHRoZSBzdHJ1Y3R1cmVkIHNlbGVjdG9yLiBJdCBkZWZhdWx0cyB0byBgd2Vha01hcE1lbW9pemVgLlxyXG4gICAqIEB0ZW1wbGF0ZSBBcmdzTWVtb2l6ZUZ1bmN0aW9uIC0gVGhlIHR5cGUgb2YgdGhlIG9mIHRoZSBtZW1vaXplIGZ1bmN0aW9uIHRoYXQgaXMgdXNlZCB0byBtZW1vaXplIHRoZSBhcmd1bWVudHMgcGFzc2VkIGludG8gdGhlIGdlbmVyYXRlZCBzdHJ1Y3R1cmVkIHNlbGVjdG9yLiBJdCBkZWZhdWx0cyB0byBgd2Vha01hcE1lbW9pemVgLlxyXG4gICAqXHJcbiAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9yZXNlbGVjdC5qcy5vcmcvYXBpL2NyZWF0ZVN0cnVjdHVyZWRTZWxlY3RvciBgY3JlYXRlU3RydWN0dXJlZFNlbGVjdG9yYH1cclxuICAgKi9cclxuICA8XHJcbiAgICBJbnB1dFNlbGVjdG9yc09iamVjdCBleHRlbmRzIFNlbGVjdG9yc09iamVjdDxTdGF0ZVR5cGU+LFxyXG4gICAgTWVtb2l6ZUZ1bmN0aW9uIGV4dGVuZHMgVW5rbm93bk1lbW9pemVyID0gdHlwZW9mIHdlYWtNYXBNZW1vaXplLFxyXG4gICAgQXJnc01lbW9pemVGdW5jdGlvbiBleHRlbmRzIFVua25vd25NZW1vaXplciA9IHR5cGVvZiB3ZWFrTWFwTWVtb2l6ZVxyXG4gID4oXHJcbiAgICBpbnB1dFNlbGVjdG9yc09iamVjdDogSW5wdXRTZWxlY3RvcnNPYmplY3QsXHJcbiAgICBzZWxlY3RvckNyZWF0b3I/OiBDcmVhdGVTZWxlY3RvckZ1bmN0aW9uPFxyXG4gICAgICBNZW1vaXplRnVuY3Rpb24sXHJcbiAgICAgIEFyZ3NNZW1vaXplRnVuY3Rpb25cclxuICAgID5cclxuICApOiBPdXRwdXRTZWxlY3RvcjxcclxuICAgIE9iamVjdFZhbHVlc1RvVHVwbGU8SW5wdXRTZWxlY3RvcnNPYmplY3Q+LFxyXG4gICAgU2ltcGxpZnk8U2VsZWN0b3JSZXN1bHRzTWFwPElucHV0U2VsZWN0b3JzT2JqZWN0Pj4sXHJcbiAgICBNZW1vaXplRnVuY3Rpb24sXHJcbiAgICBBcmdzTWVtb2l6ZUZ1bmN0aW9uXHJcbiAgPiAmXHJcbiAgICBJbnRlcnJ1cHRSZWN1cnNpb25cclxuXHJcbiAgLyoqXHJcbiAgICogQ3JlYXRlcyBhIFwicHJlLXR5cGVkXCIgdmVyc2lvbiBvZlxyXG4gICAqIHtAbGlua2NvZGUgY3JlYXRlU3RydWN0dXJlZFNlbGVjdG9yIGNyZWF0ZVN0cnVjdHVyZWRTZWxlY3Rvcn1cclxuICAgKiB3aGVyZSB0aGUgYHN0YXRlYCB0eXBlIGlzIHByZWRlZmluZWQuXHJcbiAgICpcclxuICAgKiBUaGlzIGFsbG93cyB5b3UgdG8gc2V0IHRoZSBgc3RhdGVgIHR5cGUgb25jZSwgZWxpbWluYXRpbmcgdGhlIG5lZWQgdG9cclxuICAgKiBzcGVjaWZ5IGl0IHdpdGggZXZlcnlcclxuICAgKiB7QGxpbmtjb2RlIGNyZWF0ZVN0cnVjdHVyZWRTZWxlY3RvciBjcmVhdGVTdHJ1Y3R1cmVkU2VsZWN0b3J9IGNhbGwuXHJcbiAgICpcclxuICAgKiBAcmV0dXJucyBBIHByZS10eXBlZCBgY3JlYXRlU3RydWN0dXJlZFNlbGVjdG9yYCB3aXRoIHRoZSBzdGF0ZSB0eXBlIGFscmVhZHkgZGVmaW5lZC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogYGBgdHNcclxuICAgKiBpbXBvcnQgeyBjcmVhdGVTdHJ1Y3R1cmVkU2VsZWN0b3IgfSBmcm9tICdyZXNlbGVjdCdcclxuICAgKlxyXG4gICAqIGV4cG9ydCBpbnRlcmZhY2UgUm9vdFN0YXRlIHtcclxuICAgKiAgIHRvZG9zOiB7IGlkOiBudW1iZXI7IGNvbXBsZXRlZDogYm9vbGVhbiB9W11cclxuICAgKiAgIGFsZXJ0czogeyBpZDogbnVtYmVyOyByZWFkOiBib29sZWFuIH1bXVxyXG4gICAqIH1cclxuICAgKlxyXG4gICAqIGV4cG9ydCBjb25zdCBjcmVhdGVTdHJ1Y3R1cmVkQXBwU2VsZWN0b3IgPVxyXG4gICAqICAgY3JlYXRlU3RydWN0dXJlZFNlbGVjdG9yLndpdGhUeXBlczxSb290U3RhdGU+KClcclxuICAgKlxyXG4gICAqIGNvbnN0IHN0cnVjdHVyZWRBcHBTZWxlY3RvciA9IGNyZWF0ZVN0cnVjdHVyZWRBcHBTZWxlY3Rvcih7XHJcbiAgICogICAvLyBUeXBlIG9mIGBzdGF0ZWAgaXMgc2V0IHRvIGBSb290U3RhdGVgLCBubyBuZWVkIHRvIG1hbnVhbGx5IHNldCB0aGUgdHlwZVxyXG4gICAqICAgdG9kb3M6IHN0YXRlID0+IHN0YXRlLnRvZG9zLFxyXG4gICAqICAgYWxlcnRzOiBzdGF0ZSA9PiBzdGF0ZS5hbGVydHMsXHJcbiAgICogICB0b2RvQnlJZDogKHN0YXRlLCBpZDogbnVtYmVyKSA9PiBzdGF0ZS50b2Rvc1tpZF1cclxuICAgKiB9KVxyXG4gICAqXHJcbiAgICogYGBgXHJcbiAgICogQHRlbXBsYXRlIE92ZXJyaWRlU3RhdGVUeXBlIC0gVGhlIHNwZWNpZmljIHR5cGUgb2Ygc3RhdGUgdXNlZCBieSBhbGwgc3RydWN0dXJlZCBzZWxlY3RvcnMgY3JlYXRlZCB3aXRoIHRoaXMgc3RydWN0dXJlZCBzZWxlY3RvciBjcmVhdG9yLlxyXG4gICAqXHJcbiAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9yZXNlbGVjdC5qcy5vcmcvYXBpL2NyZWF0ZXN0cnVjdHVyZWRzZWxlY3RvciNkZWZpbmluZy1hLXByZS10eXBlZC1jcmVhdGVzdHJ1Y3R1cmVkc2VsZWN0b3IgYGNyZWF0ZVNlbGVjdG9yLndpdGhUeXBlc2B9XHJcbiAgICpcclxuICAgKiBAc2luY2UgNS4xLjBcclxuICAgKi9cclxuICB3aXRoVHlwZXM6IDxcclxuICAgIE92ZXJyaWRlU3RhdGVUeXBlIGV4dGVuZHMgU3RhdGVUeXBlXHJcbiAgPigpID0+IFN0cnVjdHVyZWRTZWxlY3RvckNyZWF0b3I8T3ZlcnJpZGVTdGF0ZVR5cGU+XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBIGNvbnZlbmllbmNlIGZ1bmN0aW9uIHRoYXQgc2ltcGxpZmllcyByZXR1cm5pbmcgYW4gb2JqZWN0XHJcbiAqIG1hZGUgdXAgb2Ygc2VsZWN0b3IgcmVzdWx0cy5cclxuICpcclxuICogQHBhcmFtIGlucHV0U2VsZWN0b3JzT2JqZWN0IC0gQSBrZXkgdmFsdWUgcGFpciBjb25zaXN0aW5nIG9mIGlucHV0IHNlbGVjdG9ycy5cclxuICogQHBhcmFtIHNlbGVjdG9yQ3JlYXRvciAtIEEgY3VzdG9tIHNlbGVjdG9yIGNyZWF0b3IgZnVuY3Rpb24uIEl0IGRlZmF1bHRzIHRvIGBjcmVhdGVTZWxlY3RvcmAuXHJcbiAqIEByZXR1cm5zIEEgbWVtb2l6ZWQgc3RydWN0dXJlZCBzZWxlY3Rvci5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogPGNhcHRpb24+TW9kZXJuIFVzZSBDYXNlPC9jYXB0aW9uPlxyXG4gKiBgYGB0c1xyXG4gKiBpbXBvcnQgeyBjcmVhdGVTZWxlY3RvciwgY3JlYXRlU3RydWN0dXJlZFNlbGVjdG9yIH0gZnJvbSAncmVzZWxlY3QnXHJcbiAqXHJcbiAqIGludGVyZmFjZSBSb290U3RhdGUge1xyXG4gKiAgIHRvZG9zOiB7XHJcbiAqICAgICBpZDogbnVtYmVyXHJcbiAqICAgICBjb21wbGV0ZWQ6IGJvb2xlYW5cclxuICogICAgIHRpdGxlOiBzdHJpbmdcclxuICogICAgIGRlc2NyaXB0aW9uOiBzdHJpbmdcclxuICogICB9W11cclxuICogICBhbGVydHM6IHsgaWQ6IG51bWJlcjsgcmVhZDogYm9vbGVhbiB9W11cclxuICogfVxyXG4gKlxyXG4gKiAvLyBUaGlzOlxyXG4gKiBjb25zdCBzdHJ1Y3R1cmVkU2VsZWN0b3IgPSBjcmVhdGVTdHJ1Y3R1cmVkU2VsZWN0b3IoXHJcbiAqICAge1xyXG4gKiAgICAgdG9kb3M6IChzdGF0ZTogUm9vdFN0YXRlKSA9PiBzdGF0ZS50b2RvcyxcclxuICogICAgIGFsZXJ0czogKHN0YXRlOiBSb290U3RhdGUpID0+IHN0YXRlLmFsZXJ0cyxcclxuICogICAgIHRvZG9CeUlkOiAoc3RhdGU6IFJvb3RTdGF0ZSwgaWQ6IG51bWJlcikgPT4gc3RhdGUudG9kb3NbaWRdXHJcbiAqICAgfSxcclxuICogICBjcmVhdGVTZWxlY3RvclxyXG4gKiApXHJcbiAqXHJcbiAqIC8vIElzIGVzc2VudGlhbGx5IHRoZSBzYW1lIGFzIHRoaXM6XHJcbiAqIGNvbnN0IHNlbGVjdG9yID0gY3JlYXRlU2VsZWN0b3IoXHJcbiAqICAgW1xyXG4gKiAgICAgKHN0YXRlOiBSb290U3RhdGUpID0+IHN0YXRlLnRvZG9zLFxyXG4gKiAgICAgKHN0YXRlOiBSb290U3RhdGUpID0+IHN0YXRlLmFsZXJ0cyxcclxuICogICAgIChzdGF0ZTogUm9vdFN0YXRlLCBpZDogbnVtYmVyKSA9PiBzdGF0ZS50b2Rvc1tpZF1cclxuICogICBdLFxyXG4gKiAgICh0b2RvcywgYWxlcnRzLCB0b2RvQnlJZCkgPT4ge1xyXG4gKiAgICAgcmV0dXJuIHtcclxuICogICAgICAgdG9kb3MsXHJcbiAqICAgICAgIGFsZXJ0cyxcclxuICogICAgICAgdG9kb0J5SWRcclxuICogICAgIH1cclxuICogICB9XHJcbiAqIClcclxuICogYGBgXHJcbiAqXHJcbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vcmVzZWxlY3QuanMub3JnL2FwaS9jcmVhdGVTdHJ1Y3R1cmVkU2VsZWN0b3IgYGNyZWF0ZVN0cnVjdHVyZWRTZWxlY3RvcmB9XHJcbiAqXHJcbiAqIEBwdWJsaWNcclxuICovXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVTdHJ1Y3R1cmVkU2VsZWN0b3I6IFN0cnVjdHVyZWRTZWxlY3RvckNyZWF0b3IgPVxyXG4gIE9iamVjdC5hc3NpZ24oXHJcbiAgICA8XHJcbiAgICAgIElucHV0U2VsZWN0b3JzT2JqZWN0IGV4dGVuZHMgU2VsZWN0b3JzT2JqZWN0LFxyXG4gICAgICBNZW1vaXplRnVuY3Rpb24gZXh0ZW5kcyBVbmtub3duTWVtb2l6ZXIgPSB0eXBlb2Ygd2Vha01hcE1lbW9pemUsXHJcbiAgICAgIEFyZ3NNZW1vaXplRnVuY3Rpb24gZXh0ZW5kcyBVbmtub3duTWVtb2l6ZXIgPSB0eXBlb2Ygd2Vha01hcE1lbW9pemVcclxuICAgID4oXHJcbiAgICAgIGlucHV0U2VsZWN0b3JzT2JqZWN0OiBJbnB1dFNlbGVjdG9yc09iamVjdCxcclxuICAgICAgc2VsZWN0b3JDcmVhdG9yOiBDcmVhdGVTZWxlY3RvckZ1bmN0aW9uPFxyXG4gICAgICAgIE1lbW9pemVGdW5jdGlvbixcclxuICAgICAgICBBcmdzTWVtb2l6ZUZ1bmN0aW9uXHJcbiAgICAgID4gPSBjcmVhdGVTZWxlY3RvciBhcyBDcmVhdGVTZWxlY3RvckZ1bmN0aW9uPFxyXG4gICAgICAgIE1lbW9pemVGdW5jdGlvbixcclxuICAgICAgICBBcmdzTWVtb2l6ZUZ1bmN0aW9uXHJcbiAgICAgID5cclxuICAgICkgPT4ge1xyXG4gICAgICBhc3NlcnRJc09iamVjdChcclxuICAgICAgICBpbnB1dFNlbGVjdG9yc09iamVjdCxcclxuICAgICAgICAnY3JlYXRlU3RydWN0dXJlZFNlbGVjdG9yIGV4cGVjdHMgZmlyc3QgYXJndW1lbnQgdG8gYmUgYW4gb2JqZWN0ICcgK1xyXG4gICAgICAgICAgYHdoZXJlIGVhY2ggcHJvcGVydHkgaXMgYSBzZWxlY3RvciwgaW5zdGVhZCByZWNlaXZlZCBhICR7dHlwZW9mIGlucHV0U2VsZWN0b3JzT2JqZWN0fWBcclxuICAgICAgKVxyXG4gICAgICBjb25zdCBpbnB1dFNlbGVjdG9yS2V5cyA9IE9iamVjdC5rZXlzKGlucHV0U2VsZWN0b3JzT2JqZWN0KVxyXG4gICAgICBjb25zdCBkZXBlbmRlbmNpZXMgPSBpbnB1dFNlbGVjdG9yS2V5cy5tYXAoXHJcbiAgICAgICAga2V5ID0+IGlucHV0U2VsZWN0b3JzT2JqZWN0W2tleV1cclxuICAgICAgKVxyXG4gICAgICBjb25zdCBzdHJ1Y3R1cmVkU2VsZWN0b3IgPSBzZWxlY3RvckNyZWF0b3IoXHJcbiAgICAgICAgZGVwZW5kZW5jaWVzLFxyXG4gICAgICAgICguLi5pbnB1dFNlbGVjdG9yUmVzdWx0czogYW55W10pID0+IHtcclxuICAgICAgICAgIHJldHVybiBpbnB1dFNlbGVjdG9yUmVzdWx0cy5yZWR1Y2UoKGNvbXBvc2l0aW9uLCB2YWx1ZSwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgY29tcG9zaXRpb25baW5wdXRTZWxlY3RvcktleXNbaW5kZXhdXSA9IHZhbHVlXHJcbiAgICAgICAgICAgIHJldHVybiBjb21wb3NpdGlvblxyXG4gICAgICAgICAgfSwge30pXHJcbiAgICAgICAgfVxyXG4gICAgICApXHJcbiAgICAgIHJldHVybiBzdHJ1Y3R1cmVkU2VsZWN0b3JcclxuICAgIH0sXHJcbiAgICB7IHdpdGhUeXBlczogKCkgPT4gY3JlYXRlU3RydWN0dXJlZFNlbGVjdG9yIH1cclxuICApIGFzIFN0cnVjdHVyZWRTZWxlY3RvckNyZWF0b3JcclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLElBQUFBLFdBQUE7QUFBQUMsUUFBQSxDQUFBRCxXQUFBO0VBQUFFLGNBQUEsRUFBQUEsQ0FBQSxLQUFBQSxjQUFBO0VBQUFDLHFCQUFBLEVBQUFBLENBQUEsS0FBQUEscUJBQUE7RUFBQUMsd0JBQUEsRUFBQUEsQ0FBQSxLQUFBQSx3QkFBQTtFQUFBQyxVQUFBLEVBQUFBLENBQUEsS0FBQUEsVUFBQTtFQUFBQyxzQkFBQSxFQUFBQSxDQUFBLEtBQUFBLHNCQUFBO0VBQUFDLHNCQUFBLEVBQUFBLENBQUEsS0FBQUEsc0JBQUE7RUFBQUMseUJBQUEsRUFBQUEsQ0FBQSxLQUFBQyxnQkFBQTtFQUFBQyxjQUFBLEVB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