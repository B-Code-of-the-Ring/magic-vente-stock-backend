f56cdd4badeefde890fdabb66f3bdd7c
'use strict';

let {
  SourceMapConsumer,
  SourceMapGenerator
} = require('source-map-js');
let {
  fileURLToPath,
  pathToFileURL
} = require('url');
let {
  isAbsolute,
  resolve
} = require('path');
let {
  nanoid
} = require('nanoid/non-secure');
let terminalHighlight = require('./terminal-highlight');
let CssSyntaxError = require('./css-syntax-error');
let PreviousMap = require('./previous-map');
let fromOffsetCache = Symbol('fromOffsetCache');
let sourceMapAvailable = Boolean(SourceMapConsumer && SourceMapGenerator);
let pathAvailable = Boolean(resolve && isAbsolute);
class Input {
  constructor(css, opts = {}) {
    if (css === null || typeof css === 'undefined' || typeof css === 'object' && !css.toString) {
      throw new Error(`PostCSS received ${css} instead of CSS string`);
    }
    this.css = css.toString();
    if (this.css[0] === '\uFEFF' || this.css[0] === '\uFFFE') {
      this.hasBOM = true;
      this.css = this.css.slice(1);
    } else {
      this.hasBOM = false;
    }
    if (opts.from) {
      if (!pathAvailable || /^\w+:\/\//.test(opts.from) || isAbsolute(opts.from)) {
        this.file = opts.from;
      } else {
        this.file = resolve(opts.from);
      }
    }
    if (pathAvailable && sourceMapAvailable) {
      let map = new PreviousMap(this.css, opts);
      if (map.text) {
        this.map = map;
        let file = map.consumer().file;
        if (!this.file && file) this.file = this.mapResolve(file);
      }
    }
    if (!this.file) {
      this.id = '<input css ' + nanoid(6) + '>';
    }
    if (this.map) this.map.file = this.from;
  }
  error(message, line, column, opts = {}) {
    let result, endLine, endColumn;
    if (line && typeof line === 'object') {
      let start = line;
      let end = column;
      if (typeof start.offset === 'number') {
        let pos = this.fromOffset(start.offset);
        line = pos.line;
        column = pos.col;
      } else {
        line = start.line;
        column = start.column;
      }
      if (typeof end.offset === 'number') {
        let pos = this.fromOffset(end.offset);
        endLine = pos.line;
        endColumn = pos.col;
      } else {
        endLine = end.line;
        endColumn = end.column;
      }
    } else if (!column) {
      let pos = this.fromOffset(line);
      line = pos.line;
      column = pos.col;
    }
    let origin = this.origin(line, column, endLine, endColumn);
    if (origin) {
      result = new CssSyntaxError(message, origin.endLine === undefined ? origin.line : {
        column: origin.column,
        line: origin.line
      }, origin.endLine === undefined ? origin.column : {
        column: origin.endColumn,
        line: origin.endLine
      }, origin.source, origin.file, opts.plugin);
    } else {
      result = new CssSyntaxError(message, endLine === undefined ? line : {
        column,
        line
      }, endLine === undefined ? column : {
        column: endColumn,
        line: endLine
      }, this.css, this.file, opts.plugin);
    }
    result.input = {
      column,
      endColumn,
      endLine,
      line,
      source: this.css
    };
    if (this.file) {
      if (pathToFileURL) {
        result.input.url = pathToFileURL(this.file).toString();
      }
      result.input.file = this.file;
    }
    return result;
  }
  fromOffset(offset) {
    let lastLine, lineToIndex;
    if (!this[fromOffsetCache]) {
      let lines = this.css.split('\n');
      lineToIndex = new Array(lines.length);
      let prevIndex = 0;
      for (let i = 0, l = lines.length; i < l; i++) {
        lineToIndex[i] = prevIndex;
        prevIndex += lines[i].length + 1;
      }
      this[fromOffsetCache] = lineToIndex;
    } else {
      lineToIndex = this[fromOffsetCache];
    }
    lastLine = lineToIndex[lineToIndex.length - 1];
    let min = 0;
    if (offset >= lastLine) {
      min = lineToIndex.length - 1;
    } else {
      let max = lineToIndex.length - 2;
      let mid;
      while (min < max) {
        mid = min + (max - min >> 1);
        if (offset < lineToIndex[mid]) {
          max = mid - 1;
        } else if (offset >= lineToIndex[mid + 1]) {
          min = mid + 1;
        } else {
          min = mid;
          break;
        }
      }
    }
    return {
      col: offset - lineToIndex[min] + 1,
      line: min + 1
    };
  }
  mapResolve(file) {
    if (/^\w+:\/\//.test(file)) {
      return file;
    }
    return resolve(this.map.consumer().sourceRoot || this.map.root || '.', file);
  }
  origin(line, column, endLine, endColumn) {
    if (!this.map) return false;
    let consumer = this.map.consumer();
    let from = consumer.originalPositionFor({
      column,
      line
    });
    if (!from.source) return false;
    let to;
    if (typeof endLine === 'number') {
      to = consumer.originalPositionFor({
        column: endColumn,
        line: endLine
      });
    }
    let fromUrl;
    if (isAbsolute(from.source)) {
      fromUrl = pathToFileURL(from.source);
    } else {
      fromUrl = new URL(from.source, this.map.consumer().sourceRoot || pathToFileURL(this.map.mapFile));
    }
    let result = {
      column: from.column,
      endColumn: to && to.column,
      endLine: to && to.line,
      line: from.line,
      url: fromUrl.toString()
    };
    if (fromUrl.protocol === 'file:') {
      if (fileURLToPath) {
        result.file = fileURLToPath(fromUrl);
      } else {
        /* c8 ignore next 2 */
        throw new Error(`file: protocol is not available in this PostCSS build`);
      }
    }
    let source = consumer.sourceContentFor(from.source);
    if (source) result.source = source;
    return result;
  }
  toJSON() {
    let json = {};
    for (let name of ['hasBOM', 'css', 'file', 'id']) {
      if (this[name] != null) {
        json[name] = this[name];
      }
    }
    if (this.map) {
      json.map = {
        ...this.map
      };
      if (json.map.consumerCache) {
        json.map.consumerCache = undefined;
      }
    }
    return json;
  }
  get from() {
    return this.file || this.id;
  }
}
module.exports = Input;
Input.default = Input;
if (terminalHighlight && terminalHighlight.registerInput) {
  terminalHighlight.registerInput(Input);
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJTb3VyY2VNYXBDb25zdW1lciIsIlNvdXJjZU1hcEdlbmVyYXRvciIsInJlcXVpcmUiLCJmaWxlVVJMVG9QYXRoIiwicGF0aFRvRmlsZVVSTCIsImlzQWJzb2x1dGUiLCJyZXNvbHZlIiwibmFub2lkIiwidGVybWluYWxIaWdobGlnaHQiLCJDc3NTeW50YXhFcnJvciIsIlByZXZpb3VzTWFwIiwiZnJvbU9mZnNldENhY2hlIiwiU3ltYm9sIiwic291cmNlTWFwQXZhaWxhYmxlIiwiQm9vbGVhbiIsInBhdGhBdmFpbGFibGUiLCJJbnB1dCIsImNvbnN0cnVjdG9yIiwiY3NzIiwib3B0cyIsInRvU3RyaW5nIiwiRXJyb3IiLCJoYXNCT00iLCJzbGljZSIsImZyb20iLCJ0ZXN0IiwiZmlsZSIsIm1hcCIsInRleHQiLCJjb25zdW1lciIsIm1hcFJlc29sdmUiLCJpZCIsImVycm9yIiwibWVzc2FnZSIsImxpbmUiLCJjb2x1bW4iLCJyZXN1bHQiLCJlbmRMaW5lIiwiZW5kQ29sdW1uIiwic3RhcnQiLCJlbmQiLCJvZmZzZXQiLCJwb3MiLCJmcm9tT2Zmc2V0IiwiY29sIiwib3JpZ2luIiwidW5kZWZpbmVkIiwic291cmNlIiwicGx1Z2luIiwiaW5wdXQiLCJ1cmwiLCJsYXN0TGluZSIsImxpbmVUb0luZGV4IiwibGluZXMiLCJzcGxpdCIsIkFycmF5IiwibGVuZ3RoIiwicHJldkluZGV4IiwiaSIsImwiLCJtaW4iLCJtYXgiLCJtaWQiLCJzb3VyY2VSb290Iiwicm9vdCIsIm9yaWdpbmFsUG9zaXRpb25Gb3IiLCJ0byIsImZyb21VcmwiLCJVUkwiLCJtYXBGaWxlIiwicHJvdG9jb2wiLCJzb3VyY2VDb250ZW50Rm9yIiwidG9KU09OIiwianNvbiIsIm5hbWUiLCJjb25zdW1lckNhY2hlIiwibW9kdWxlIiwiZXhwb3J0cyIsImRlZmF1bHQiLCJyZWdpc3RlcklucHV0Il0sInNvdXJjZXMiOlsiaW5wdXQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnXG5cbmxldCB7IFNvdXJjZU1hcENvbnN1bWVyLCBTb3VyY2VNYXBHZW5lcmF0b3IgfSA9IHJlcXVpcmUoJ3NvdXJjZS1tYXAtanMnKVxubGV0IHsgZmlsZVVSTFRvUGF0aCwgcGF0aFRvRmlsZVVSTCB9ID0gcmVxdWlyZSgndXJsJylcbmxldCB7IGlzQWJzb2x1dGUsIHJlc29sdmUgfSA9IHJlcXVpcmUoJ3BhdGgnKVxubGV0IHsgbmFub2lkIH0gPSByZXF1aXJlKCduYW5vaWQvbm9uLXNlY3VyZScpXG5cbmxldCB0ZXJtaW5hbEhpZ2hsaWdodCA9IHJlcXVpcmUoJy4vdGVybWluYWwtaGlnaGxpZ2h0JylcbmxldCBDc3NTeW50YXhFcnJvciA9IHJlcXVpcmUoJy4vY3NzLXN5bnRheC1lcnJvcicpXG5sZXQgUHJldmlvdXNNYXAgPSByZXF1aXJlKCcuL3ByZXZpb3VzLW1hcCcpXG5cbmxldCBmcm9tT2Zmc2V0Q2FjaGUgPSBTeW1ib2woJ2Zyb21PZmZzZXRDYWNoZScpXG5cbmxldCBzb3VyY2VNYXBBdmFpbGFibGUgPSBCb29sZWFuKFNvdXJjZU1hcENvbnN1bWVyICYmIFNvdXJjZU1hcEdlbmVyYXRvcilcbmxldCBwYXRoQXZhaWxhYmxlID0gQm9vbGVhbihyZXNvbHZlICYmIGlzQWJzb2x1dGUpXG5cbmNsYXNzIElucHV0IHtcbiAgY29uc3RydWN0b3IoY3NzLCBvcHRzID0ge30pIHtcbiAgICBpZiAoXG4gICAgICBjc3MgPT09IG51bGwgfHxcbiAgICAgIHR5cGVvZiBjc3MgPT09ICd1bmRlZmluZWQnIHx8XG4gICAgICAodHlwZW9mIGNzcyA9PT0gJ29iamVjdCcgJiYgIWNzcy50b1N0cmluZylcbiAgICApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgUG9zdENTUyByZWNlaXZlZCAke2Nzc30gaW5zdGVhZCBvZiBDU1Mgc3RyaW5nYClcbiAgICB9XG5cbiAgICB0aGlzLmNzcyA9IGNzcy50b1N0cmluZygpXG5cbiAgICBpZiAodGhpcy5jc3NbMF0gPT09ICdcXHVGRUZGJyB8fCB0aGlzLmNzc1swXSA9PT0gJ1xcdUZGRkUnKSB7XG4gICAgICB0aGlzLmhhc0JPTSA9IHRydWVcbiAgICAgIHRoaXMuY3NzID0gdGhpcy5jc3Muc2xpY2UoMSlcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5oYXNCT00gPSBmYWxzZVxuICAgIH1cblxuICAgIGlmIChvcHRzLmZyb20pIHtcbiAgICAgIGlmIChcbiAgICAgICAgIXBhdGhBdmFpbGFibGUgfHxcbiAgICAgICAgL15cXHcrOlxcL1xcLy8udGVzdChvcHRzLmZyb20pIHx8XG4gICAgICAgIGlzQWJzb2x1dGUob3B0cy5mcm9tKVxuICAgICAgKSB7XG4gICAgICAgIHRoaXMuZmlsZSA9IG9wdHMuZnJvbVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5maWxlID0gcmVzb2x2ZShvcHRzLmZyb20pXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHBhdGhBdmFpbGFibGUgJiYgc291cmNlTWFwQXZhaWxhYmxlKSB7XG4gICAgICBsZXQgbWFwID0gbmV3IFByZXZpb3VzTWFwKHRoaXMuY3NzLCBvcHRzKVxuICAgICAgaWYgKG1hcC50ZXh0KSB7XG4gICAgICAgIHRoaXMubWFwID0gbWFwXG4gICAgICAgIGxldCBmaWxlID0gbWFwLmNvbnN1bWVyKCkuZmlsZVxuICAgICAgICBpZiAoIXRoaXMuZmlsZSAmJiBmaWxlKSB0aGlzLmZpbGUgPSB0aGlzLm1hcFJlc29sdmUoZmlsZSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuZmlsZSkge1xuICAgICAgdGhpcy5pZCA9ICc8aW5wdXQgY3NzICcgKyBuYW5vaWQoNikgKyAnPidcbiAgICB9XG4gICAgaWYgKHRoaXMubWFwKSB0aGlzLm1hcC5maWxlID0gdGhpcy5mcm9tXG4gIH1cblxuICBlcnJvcihtZXNzYWdlLCBsaW5lLCBjb2x1bW4sIG9wdHMgPSB7fSkge1xuICAgIGxldCByZXN1bHQsIGVuZExpbmUsIGVuZENvbHVtblxuXG4gICAgaWYgKGxpbmUgJiYgdHlwZW9mIGxpbmUgPT09ICdvYmplY3QnKSB7XG4gICAgICBsZXQgc3RhcnQgPSBsaW5lXG4gICAgICBsZXQgZW5kID0gY29sdW1uXG4gICAgICBpZiAodHlwZW9mIHN0YXJ0Lm9mZnNldCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgbGV0IHBvcyA9IHRoaXMuZnJvbU9mZnNldChzdGFydC5vZmZzZXQpXG4gICAgICAgIGxpbmUgPSBwb3MubGluZVxuICAgICAgICBjb2x1bW4gPSBwb3MuY29sXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsaW5lID0gc3RhcnQubGluZVxuICAgICAgICBjb2x1bW4gPSBzdGFydC5jb2x1bW5cbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgZW5kLm9mZnNldCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgbGV0IHBvcyA9IHRoaXMuZnJvbU9mZnNldChlbmQub2Zmc2V0KVxuICAgICAgICBlbmRMaW5lID0gcG9zLmxpbmVcbiAgICAgICAgZW5kQ29sdW1uID0gcG9zLmNvbFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZW5kTGluZSA9IGVuZC5saW5lXG4gICAgICAgIGVuZENvbHVtbiA9IGVuZC5jb2x1bW5cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCFjb2x1bW4pIHtcbiAgICAgIGxldCBwb3MgPSB0aGlzLmZyb21PZmZzZXQobGluZSlcbiAgICAgIGxpbmUgPSBwb3MubGluZVxuICAgICAgY29sdW1uID0gcG9zLmNvbFxuICAgIH1cblxuICAgIGxldCBvcmlnaW4gPSB0aGlzLm9yaWdpbihsaW5lLCBjb2x1bW4sIGVuZExpbmUsIGVuZENvbHVtbilcbiAgICBpZiAob3JpZ2luKSB7XG4gICAgICByZXN1bHQgPSBuZXcgQ3NzU3ludGF4RXJyb3IoXG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIG9yaWdpbi5lbmRMaW5lID09PSB1bmRlZmluZWRcbiAgICAgICAgICA/IG9yaWdpbi5saW5lXG4gICAgICAgICAgOiB7IGNvbHVtbjogb3JpZ2luLmNvbHVtbiwgbGluZTogb3JpZ2luLmxpbmUgfSxcbiAgICAgICAgb3JpZ2luLmVuZExpbmUgPT09IHVuZGVmaW5lZFxuICAgICAgICAgID8gb3JpZ2luLmNvbHVtblxuICAgICAgICAgIDogeyBjb2x1bW46IG9yaWdpbi5lbmRDb2x1bW4sIGxpbmU6IG9yaWdpbi5lbmRMaW5lIH0sXG4gICAgICAgIG9yaWdpbi5zb3VyY2UsXG4gICAgICAgIG9yaWdpbi5maWxlLFxuICAgICAgICBvcHRzLnBsdWdpblxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQgPSBuZXcgQ3NzU3ludGF4RXJyb3IoXG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIGVuZExpbmUgPT09IHVuZGVmaW5lZCA/IGxpbmUgOiB7IGNvbHVtbiwgbGluZSB9LFxuICAgICAgICBlbmRMaW5lID09PSB1bmRlZmluZWQgPyBjb2x1bW4gOiB7IGNvbHVtbjogZW5kQ29sdW1uLCBsaW5lOiBlbmRMaW5lIH0sXG4gICAgICAgIHRoaXMuY3NzLFxuICAgICAgICB0aGlzLmZpbGUsXG4gICAgICAgIG9wdHMucGx1Z2luXG4gICAgICApXG4gICAgfVxuXG4gICAgcmVzdWx0LmlucHV0ID0geyBjb2x1bW4sIGVuZENvbHVtbiwgZW5kTGluZSwgbGluZSwgc291cmNlOiB0aGlzLmNzcyB9XG4gICAgaWYgKHRoaXMuZmlsZSkge1xuICAgICAgaWYgKHBhdGhUb0ZpbGVVUkwpIHtcbiAgICAgICAgcmVzdWx0LmlucHV0LnVybCA9IHBhdGhUb0ZpbGVVUkwodGhpcy5maWxlKS50b1N0cmluZygpXG4gICAgICB9XG4gICAgICByZXN1bHQuaW5wdXQuZmlsZSA9IHRoaXMuZmlsZVxuICAgIH1cblxuICAgIHJldHVybiByZXN1bHRcbiAgfVxuXG4gIGZyb21PZmZzZXQob2Zmc2V0KSB7XG4gICAgbGV0IGxhc3RMaW5lLCBsaW5lVG9JbmRleFxuICAgIGlmICghdGhpc1tmcm9tT2Zmc2V0Q2FjaGVdKSB7XG4gICAgICBsZXQgbGluZXMgPSB0aGlzLmNzcy5zcGxpdCgnXFxuJylcbiAgICAgIGxpbmVUb0luZGV4ID0gbmV3IEFycmF5KGxpbmVzLmxlbmd0aClcbiAgICAgIGxldCBwcmV2SW5kZXggPSAwXG5cbiAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gbGluZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIGxpbmVUb0luZGV4W2ldID0gcHJldkluZGV4XG4gICAgICAgIHByZXZJbmRleCArPSBsaW5lc1tpXS5sZW5ndGggKyAxXG4gICAgICB9XG5cbiAgICAgIHRoaXNbZnJvbU9mZnNldENhY2hlXSA9IGxpbmVUb0luZGV4XG4gICAgfSBlbHNlIHtcbiAgICAgIGxpbmVUb0luZGV4ID0gdGhpc1tmcm9tT2Zmc2V0Q2FjaGVdXG4gICAgfVxuICAgIGxhc3RMaW5lID0gbGluZVRvSW5kZXhbbGluZVRvSW5kZXgubGVuZ3RoIC0gMV1cblxuICAgIGxldCBtaW4gPSAwXG4gICAgaWYgKG9mZnNldCA+PSBsYXN0TGluZSkge1xuICAgICAgbWluID0gbGluZVRvSW5kZXgubGVuZ3RoIC0gMVxuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgbWF4ID0gbGluZVRvSW5kZXgubGVuZ3RoIC0gMlxuICAgICAgbGV0IG1pZFxuICAgICAgd2hpbGUgKG1pbiA8IG1heCkge1xuICAgICAgICBtaWQgPSBtaW4gKyAoKG1heCAtIG1pbikgPj4gMSlcbiAgICAgICAgaWYgKG9mZnNldCA8IGxpbmVUb0luZGV4W21pZF0pIHtcbiAgICAgICAgICBtYXggPSBtaWQgLSAxXG4gICAgICAgIH0gZWxzZSBpZiAob2Zmc2V0ID49IGxpbmVUb0luZGV4W21pZCArIDFdKSB7XG4gICAgICAgICAgbWluID0gbWlkICsgMVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG1pbiA9IG1pZFxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIGNvbDogb2Zmc2V0IC0gbGluZVRvSW5kZXhbbWluXSArIDEsXG4gICAgICBsaW5lOiBtaW4gKyAxXG4gICAgfVxuICB9XG5cbiAgbWFwUmVzb2x2ZShmaWxlKSB7XG4gICAgaWYgKC9eXFx3KzpcXC9cXC8vLnRlc3QoZmlsZSkpIHtcbiAgICAgIHJldHVybiBmaWxlXG4gICAgfVxuICAgIHJldHVybiByZXNvbHZlKHRoaXMubWFwLmNvbnN1bWVyKCkuc291cmNlUm9vdCB8fCB0aGlzLm1hcC5yb290IHx8ICcuJywgZmlsZSlcbiAgfVxuXG4gIG9yaWdpbihsaW5lLCBjb2x1bW4sIGVuZExpbmUsIGVuZENvbHVtbikge1xuICAgIGlmICghdGhpcy5tYXApIHJldHVybiBmYWxzZVxuICAgIGxldCBjb25zdW1lciA9IHRoaXMubWFwLmNvbnN1bWVyKClcblxuICAgIGxldCBmcm9tID0gY29uc3VtZXIub3JpZ2luYWxQb3NpdGlvbkZvcih7IGNvbHVtbiwgbGluZSB9KVxuICAgIGlmICghZnJvbS5zb3VyY2UpIHJldHVybiBmYWxzZVxuXG4gICAgbGV0IHRvXG4gICAgaWYgKHR5cGVvZiBlbmRMaW5lID09PSAnbnVtYmVyJykge1xuICAgICAgdG8gPSBjb25zdW1lci5vcmlnaW5hbFBvc2l0aW9uRm9yKHsgY29sdW1uOiBlbmRDb2x1bW4sIGxpbmU6IGVuZExpbmUgfSlcbiAgICB9XG5cbiAgICBsZXQgZnJvbVVybFxuXG4gICAgaWYgKGlzQWJzb2x1dGUoZnJvbS5zb3VyY2UpKSB7XG4gICAgICBmcm9tVXJsID0gcGF0aFRvRmlsZVVSTChmcm9tLnNvdXJjZSlcbiAgICB9IGVsc2Uge1xuICAgICAgZnJvbVVybCA9IG5ldyBVUkwoXG4gICAgICAgIGZyb20uc291cmNlLFxuICAgICAgICB0aGlzLm1hcC5jb25zdW1lcigpLnNvdXJjZVJvb3QgfHwgcGF0aFRvRmlsZVVSTCh0aGlzLm1hcC5tYXBGaWxlKVxuICAgICAgKVxuICAgIH1cblxuICAgIGxldCByZXN1bHQgPSB7XG4gICAgICBjb2x1bW46IGZyb20uY29sdW1uLFxuICAgICAgZW5kQ29sdW1uOiB0byAmJiB0by5jb2x1bW4sXG4gICAgICBlbmRMaW5lOiB0byAmJiB0by5saW5lLFxuICAgICAgbGluZTogZnJvbS5saW5lLFxuICAgICAgdXJsOiBmcm9tVXJsLnRvU3RyaW5nKClcbiAgICB9XG5cbiAgICBpZiAoZnJvbVVybC5wcm90b2NvbCA9PT0gJ2ZpbGU6Jykge1xuICAgICAgaWYgKGZpbGVVUkxUb1BhdGgpIHtcbiAgICAgICAgcmVzdWx0LmZpbGUgPSBmaWxlVVJMVG9QYXRoKGZyb21VcmwpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvKiBjOCBpZ25vcmUgbmV4dCAyICovXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgZmlsZTogcHJvdG9jb2wgaXMgbm90IGF2YWlsYWJsZSBpbiB0aGlzIFBvc3RDU1MgYnVpbGRgKVxuICAgICAgfVxuICAgIH1cblxuICAgIGxldCBzb3VyY2UgPSBjb25zdW1lci5zb3VyY2VDb250ZW50Rm9yKGZyb20uc291cmNlKVxuICAgIGlmIChzb3VyY2UpIHJlc3VsdC5zb3VyY2UgPSBzb3VyY2VcblxuICAgIHJldHVybiByZXN1bHRcbiAgfVxuXG4gIHRvSlNPTigpIHtcbiAgICBsZXQganNvbiA9IHt9XG4gICAgZm9yIChsZXQgbmFtZSBvZiBbJ2hhc0JPTScsICdjc3MnLCAnZmlsZScsICdpZCddKSB7XG4gICAgICBpZiAodGhpc1tuYW1lXSAhPSBudWxsKSB7XG4gICAgICAgIGpzb25bbmFtZV0gPSB0aGlzW25hbWVdXG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0aGlzLm1hcCkge1xuICAgICAganNvbi5tYXAgPSB7IC4uLnRoaXMubWFwIH1cbiAgICAgIGlmIChqc29uLm1hcC5jb25zdW1lckNhY2hlKSB7XG4gICAgICAgIGpzb24ubWFwLmNvbnN1bWVyQ2FjaGUgPSB1bmRlZmluZWRcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGpzb25cbiAgfVxuXG4gIGdldCBmcm9tKCkge1xuICAgIHJldHVybiB0aGlzLmZpbGUgfHwgdGhpcy5pZFxuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gSW5wdXRcbklucHV0LmRlZmF1bHQgPSBJbnB1dFxuXG5pZiAodGVybWluYWxIaWdobGlnaHQgJiYgdGVybWluYWxIaWdobGlnaHQucmVnaXN0ZXJJbnB1dCkge1xuICB0ZXJtaW5hbEhpZ2hsaWdodC5yZWdpc3RlcklucHV0KElucHV0KVxufVxuIl0sIm1hcHBpbmdzIjoiQUFBQSxZQUFZOztBQUVaLElBQUk7RUFBRUEsaUJBQWlCO0VBQUVDO0FBQW1CLENBQUMsR0FBR0MsT0FBTyxDQUFDLGVBQWUsQ0FBQztBQUN4RSxJQUFJO0VBQUVDLGFBQWE7RUFBRUM7QUFBYyxDQUFDLEdBQUdGLE9BQU8sQ0FBQyxLQUFLLENBQUM7QUFDckQsSUFBSTtFQUFFRyxVQUFVO0VBQUVDO0FBQVEsQ0FBQyxHQUFHSixPQUFPLENBQUMsTUFBTSxDQUFDO0FBQzdDLElBQUk7RUFBRUs7QUFBTyxDQUFDLEdBQUdMLE9BQU8sQ0FBQyxtQkFBbUIsQ0FBQztBQUU3QyxJQUFJTSxpQkFBaUIsR0FBR04sT0FBTyxDQUFDLHNCQUFzQixDQUFDO0FBQ3ZELElBQUlPLGNBQWMsR0FBR1AsT0FBTyxDQUFDLG9CQUFvQixDQUFDO0FBQ2xELElBQUlRLFdBQVcsR0FBR1IsT0FBTyxDQUFDLGdCQUFnQixDQUFDO0FBRTNDLElBQUlTLGVBQWUsR0FBR0MsTUFBTSxDQUFDLGlCQUFpQixDQUFDO0FBRS9DLElBQUlDLGtCQUFrQixHQUFHQyxPQUFPLENBQUNkLGlCQUFpQixJQUFJQyxrQkFBa0IsQ0FBQztBQUN6RSxJQUFJYyxhQUFhLEdBQUdELE9BQU8sQ0FBQ1IsT0FBTyxJQUFJRCxVQUFVLENBQUM7QUFFbEQsTUFBTVcsS0FBSyxDQUFDO0VBQ1ZDLFdBQVdBLENBQUNDLEdBQUcsRUFBRUMsSUFBSSxHQUFHLENBQUMsQ0FBQyxFQUFFO0lBQzFCLElBQ0VELEdBQUcsS0FBSyxJQUFJLElBQ1osT0FBT0EsR0FBRyxLQUFLLFdBQVcsSUFDekIsT0FBT0EsR0FBRyxLQUFLLFFBQVEsSUFBSSxDQUFDQSxHQUFHLENBQUNFLFFBQVMsRUFDMUM7TUFD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